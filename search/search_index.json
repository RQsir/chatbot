{
    "docs": [
        {
            "location": "/", 
            "text": "\u6982\u8ff0\n\n\n\u5173\u4e8e\u4f5c\u8005\n\n\n\u672c\u6587\u6574\u7406\u81ea\nWelcome Big Data ITors!\n\n\n\u76ee\u5f55\n\n\n\n\n\u4e00-\u6d89\u53ca\u77e5\u8bc6\n\n\n\u4e8c-\u521d\u8bc6 NLTK \u5e93\n\n\n\u4e09-\u8bed\u6599\u4e0e\u8bcd\u6c47\u8d44\u6e90\n\n\n\u56db-\u4f55\u987b\u52a8\u624b\uff1f\u5b8c\u5168\u81ea\u52a8\u5316\u5bf9\u8bed\u6599\u505a\u8bcd\u6027\u6807\u6ce8\n\n\n\u4e94-\u81ea\u7136\u8bed\u8a00\u5904\u7406\u4e2d\u7684\u6587\u672c\u5206\u7c7b\n\n\n\u516d-\u6559\u4f60\u600e\u4e48\u4ece\u4e00\u53e5\u8bdd\u91cc\u63d0\u53d6\u51fa\u5341\u53e5\u8bdd\u7684\u4fe1\u606f\n\n\n\u4e03-\u6587\u6cd5\u5206\u6790\u8fd8\u662f\u57fa\u4e8e\u7279\u5f81\u597d\u554a\n\n\n\u516b-\u91cd\u6e29\u81ea\u7136\u8bed\u8a00\u5904\u7406\n\n\n\u4e5d-\u804a\u5929\u673a\u5668\u4eba\u5e94\u8be5\u600e\u4e48\u505a\n\n\n\u5341-\u534a\u4e2a\u5c0f\u65f6\u641e\u5b9a\u8bcd\u6027\u6807\u6ce8\u4e0e\u5173\u952e\u8bcd\u63d0\u53d6\n\n\n\u5341\u4e00-0\u5b57\u8282\u5b58\u50a8\u6d77\u91cf\u8bed\u6599\u8d44\u6e90\n\n\n\u5341\u4e8c-\u6559\u4f60\u5982\u4f55\u5229\u7528\u5f3a\u5927\u7684\u4e2d\u6587\u8bed\u8a00\u6280\u672f\u5e73\u53f0\u505a\u4f9d\u5b58\u53e5\u6cd5\u548c\u8bed\u4e49\u4f9d\u5b58\u5206\u6790\n\n\n\u5341\u4e09-\u628a\u8bed\u8a00\u6a21\u578b\u63a2\u7a76\u5230\u5e95\n\n\n\u5341\u56db-\u63a2\u7a76\u4e2d\u6587\u5206\u8bcd\u7684\u827a\u672f\n\n\n\u5341\u4e94-\u4e00\u7bc7\u6587\u7ae0\u8bfb\u61c2\u62ff\u4e86\u56fe\u7075\u5956\u548c\u8bfa\u8d1d\u5c14\u5956\u7684\u6982\u7387\u56fe\u6a21\u578b\n\n\n\u5341\u516d-\u5927\u8bdd\u81ea\u7136\u8bed\u8a00\u5904\u7406\u4e2d\u7684\u56ca\u4e2d\u53d6\u7269\n\n\n\u5341\u4e03-\u8ba9\u673a\u5668\u505a\u8bcd\u6027\u81ea\u52a8\u6807\u6ce8\u7684\u5177\u4f53\u65b9\u6cd5\n\n\n\u5341\u516b-\u795e\u5947\u7b97\u6cd5\u4e4b\u53e5\u6cd5\u5206\u6790\u6811\u7684\u751f\u6210\n\n\n\u5341\u4e5d-\u673a\u5668\u4eba\u662f\u600e\u4e48\u7406\u89e3\u201c\u65e5\u540e\u518d\u8bf4\u201d\u7684\n\n\n\u4e8c\u5341-\u8bed\u4e49\u89d2\u8272\u6807\u6ce8\u7684\u57fa\u672c\u65b9\u6cd5\n\n\n\u4e8c\u5341\u4e00-\u6bd4TF-IDF\u66f4\u597d\u7684\u9690\u542b\u8bed\u4e49\u7d22\u5f15\u6a21\u578b\u662f\u4e2a\u4ec0\u4e48\u9b3c\n\n\n\u4e8c\u5341\u4e8c-\u795e\u5947\u7b97\u6cd5\u4e4b\u4eba\u5de5\u795e\u7ecf\u7f51\u7edc\n\n\n\u4e8c\u5341\u4e09-\u7528CNN\u505a\u6df1\u5ea6\u5b66\u4e60\n\n\n\u4e8c\u5341\u56db-\u5c06\u6df1\u5ea6\u5b66\u4e60\u5e94\u7528\u5230NLP\n\n\n\u4e8c\u5341\u4e94- google \u7684\u6587\u672c\u6316\u6398\u6df1\u5ea6\u5b66\u4e60\u5de5\u5177 word2vec \u7684\u5b9e\u73b0\u539f\u7406\n\n\n\u4e8c\u5341\u516d-\u56fe\u89e3\u9012\u5f52\u795e\u7ecf\u7f51\u7edc(RNN)\n\n\n\u4e8c\u5341\u4e03-\u7528\u6df1\u5ea6\u5b66\u4e60\u6765\u505a\u81ea\u52a8\u95ee\u7b54\u7684\u4e00\u822c\u65b9\u6cd5\n\n\n\u4e8c\u5341\u516b-\u8111\u6d1e\u5927\u5f00\uff1a\u57fa\u4e8e\u7f8e\u5267\u5b57\u5e55\u7684\u804a\u5929\u8bed\u6599\u5e93\u5efa\u8bbe\u65b9\u6848\n\n\n\u4e8c\u5341\u4e5d-\u91cd\u78c5\uff1a\u8fd11GB\u7684\u4e09\u5343\u4e07\u804a\u5929\u8bed\u6599\u4f9b\u51fa\n\n\n\u4e09\u5341-\u7b2c\u4e00\u7248\u804a\u5929\u673a\u5668\u4eba\u8bde\u751f\u2014\u2014\u5403\u4e86\u5b57\u5e55\u957f\u5927\u7684\u5c0f\u4e8c\u5154\n\n\n\u4e09\u5341\u4e00-\u5982\u4f55\u628a\u7f51\u7ad9\u6d41\u91cf\u5bfc\u5411\u5c0f\u4e8c\u5154\u673a\u5668\u4eba\n\n\n\u4e09\u5341\u4e8c-\u7528\u4e09\u5343\u4e07\u5f71\u89c6\u5267\u5b57\u5e55\u8bed\u6599\u5e93\u751f\u6210\u8bcd\u5411\u91cf\n\n\n\u4e09\u5341\u4e09-\u4e24\u5957\u4ee3\u7801\u8be6\u89e3 LSTM-RNN \u2014\u2014\u6709\u8bb0\u5fc6\u7684\u795e\u7ecf\u7f51\u7edc\n\n\n\u4e09\u5341\u56db-\u6700\u5feb\u7684\u6df1\u5ea6\u5b66\u4e60\u6846\u67b6torch\n\n\n\u4e09\u5341\u4e94-\u4e00\u4e2a lstm \u5355\u5143\u8ba9\u804a\u5929\u673a\u5668\u4eba\u5b66\u4f1a\u7504\u5b1b\u4f53\n\n\n\u4e09\u5341\u516d-\u6df1\u5165\u7406\u89e3 tensorflow \u7684session \u548c graph\n\n\n\u4e09\u5341\u4e03-\u4e00\u5f20\u56fe\u4e86\u89e3 tensorflow \u4e2d\u7684\u7ebf\u6027\u56de\u5f52\u5de5\u4f5c\u539f\u7406\n\n\n\u4e09\u5341\u516b-\u539f\u6765\u804a\u5929\u673a\u5668\u4eba\u662f\u8fd9\u4e48\u505a\u51fa\u6765\u7684\n\n\n\u4e09\u5341\u4e5d-\u6ee1\u8154\u70ed\u8840\uff1a\u5728\u5bb6\u91cc\u642d\u5efa\u4e00\u53f0GPU\u4e91\u670d\u52a1\u5171\u4eab\u7ed9\u4eba\u5de5\u667a\u80fd\u548c\u5927\u6570\u636e\u7231\u597d\u8005\n\n\n\u56db\u5341-\u89c6\u9891\u6559\u7a0b\u4e4b\u5f00\u7bc7\u5ba3\u8a00\u4e0e\u77e5\u8bc6\u70b9\u68b3\u7406\n\n\n\u56db\u5341\u4e00-\u89c6\u9891\u6559\u7a0b\u4e4b\u73af\u5883\u642d\u5efa\u4e0epython\u57fa\u7840\n\n\n\u56db\u5341\u4e8c-(\u91cd\u91cf\u7ea7\u957f\u6587)\u4ece\u7406\u8bba\u5230\u5b9e\u8df5\u5f00\u53d1\u81ea\u5df1\u7684\u804a\u5929\u673a\u5668\u4eba\n\n\n\u56db\u5341\u4e09-\u7ee7\u7eed\u4ece\u7406\u8bba\u5230\u5b9e\u8df5\u5f00\u53d1\u81ea\u5df1\u7684\u804a\u5929\u673a\u5668\u4eba", 
            "title": "\u6982\u8ff0"
        }, 
        {
            "location": "/#_1", 
            "text": "", 
            "title": "\u6982\u8ff0"
        }, 
        {
            "location": "/#_2", 
            "text": "\u672c\u6587\u6574\u7406\u81ea Welcome Big Data ITors!", 
            "title": "\u5173\u4e8e\u4f5c\u8005"
        }, 
        {
            "location": "/#_3", 
            "text": "\u4e00-\u6d89\u53ca\u77e5\u8bc6  \u4e8c-\u521d\u8bc6 NLTK \u5e93  \u4e09-\u8bed\u6599\u4e0e\u8bcd\u6c47\u8d44\u6e90  \u56db-\u4f55\u987b\u52a8\u624b\uff1f\u5b8c\u5168\u81ea\u52a8\u5316\u5bf9\u8bed\u6599\u505a\u8bcd\u6027\u6807\u6ce8  \u4e94-\u81ea\u7136\u8bed\u8a00\u5904\u7406\u4e2d\u7684\u6587\u672c\u5206\u7c7b  \u516d-\u6559\u4f60\u600e\u4e48\u4ece\u4e00\u53e5\u8bdd\u91cc\u63d0\u53d6\u51fa\u5341\u53e5\u8bdd\u7684\u4fe1\u606f  \u4e03-\u6587\u6cd5\u5206\u6790\u8fd8\u662f\u57fa\u4e8e\u7279\u5f81\u597d\u554a  \u516b-\u91cd\u6e29\u81ea\u7136\u8bed\u8a00\u5904\u7406  \u4e5d-\u804a\u5929\u673a\u5668\u4eba\u5e94\u8be5\u600e\u4e48\u505a  \u5341-\u534a\u4e2a\u5c0f\u65f6\u641e\u5b9a\u8bcd\u6027\u6807\u6ce8\u4e0e\u5173\u952e\u8bcd\u63d0\u53d6  \u5341\u4e00-0\u5b57\u8282\u5b58\u50a8\u6d77\u91cf\u8bed\u6599\u8d44\u6e90  \u5341\u4e8c-\u6559\u4f60\u5982\u4f55\u5229\u7528\u5f3a\u5927\u7684\u4e2d\u6587\u8bed\u8a00\u6280\u672f\u5e73\u53f0\u505a\u4f9d\u5b58\u53e5\u6cd5\u548c\u8bed\u4e49\u4f9d\u5b58\u5206\u6790  \u5341\u4e09-\u628a\u8bed\u8a00\u6a21\u578b\u63a2\u7a76\u5230\u5e95  \u5341\u56db-\u63a2\u7a76\u4e2d\u6587\u5206\u8bcd\u7684\u827a\u672f  \u5341\u4e94-\u4e00\u7bc7\u6587\u7ae0\u8bfb\u61c2\u62ff\u4e86\u56fe\u7075\u5956\u548c\u8bfa\u8d1d\u5c14\u5956\u7684\u6982\u7387\u56fe\u6a21\u578b  \u5341\u516d-\u5927\u8bdd\u81ea\u7136\u8bed\u8a00\u5904\u7406\u4e2d\u7684\u56ca\u4e2d\u53d6\u7269  \u5341\u4e03-\u8ba9\u673a\u5668\u505a\u8bcd\u6027\u81ea\u52a8\u6807\u6ce8\u7684\u5177\u4f53\u65b9\u6cd5  \u5341\u516b-\u795e\u5947\u7b97\u6cd5\u4e4b\u53e5\u6cd5\u5206\u6790\u6811\u7684\u751f\u6210  \u5341\u4e5d-\u673a\u5668\u4eba\u662f\u600e\u4e48\u7406\u89e3\u201c\u65e5\u540e\u518d\u8bf4\u201d\u7684  \u4e8c\u5341-\u8bed\u4e49\u89d2\u8272\u6807\u6ce8\u7684\u57fa\u672c\u65b9\u6cd5  \u4e8c\u5341\u4e00-\u6bd4TF-IDF\u66f4\u597d\u7684\u9690\u542b\u8bed\u4e49\u7d22\u5f15\u6a21\u578b\u662f\u4e2a\u4ec0\u4e48\u9b3c  \u4e8c\u5341\u4e8c-\u795e\u5947\u7b97\u6cd5\u4e4b\u4eba\u5de5\u795e\u7ecf\u7f51\u7edc  \u4e8c\u5341\u4e09-\u7528CNN\u505a\u6df1\u5ea6\u5b66\u4e60  \u4e8c\u5341\u56db-\u5c06\u6df1\u5ea6\u5b66\u4e60\u5e94\u7528\u5230NLP  \u4e8c\u5341\u4e94- google \u7684\u6587\u672c\u6316\u6398\u6df1\u5ea6\u5b66\u4e60\u5de5\u5177 word2vec \u7684\u5b9e\u73b0\u539f\u7406  \u4e8c\u5341\u516d-\u56fe\u89e3\u9012\u5f52\u795e\u7ecf\u7f51\u7edc(RNN)  \u4e8c\u5341\u4e03-\u7528\u6df1\u5ea6\u5b66\u4e60\u6765\u505a\u81ea\u52a8\u95ee\u7b54\u7684\u4e00\u822c\u65b9\u6cd5  \u4e8c\u5341\u516b-\u8111\u6d1e\u5927\u5f00\uff1a\u57fa\u4e8e\u7f8e\u5267\u5b57\u5e55\u7684\u804a\u5929\u8bed\u6599\u5e93\u5efa\u8bbe\u65b9\u6848  \u4e8c\u5341\u4e5d-\u91cd\u78c5\uff1a\u8fd11GB\u7684\u4e09\u5343\u4e07\u804a\u5929\u8bed\u6599\u4f9b\u51fa  \u4e09\u5341-\u7b2c\u4e00\u7248\u804a\u5929\u673a\u5668\u4eba\u8bde\u751f\u2014\u2014\u5403\u4e86\u5b57\u5e55\u957f\u5927\u7684\u5c0f\u4e8c\u5154  \u4e09\u5341\u4e00-\u5982\u4f55\u628a\u7f51\u7ad9\u6d41\u91cf\u5bfc\u5411\u5c0f\u4e8c\u5154\u673a\u5668\u4eba  \u4e09\u5341\u4e8c-\u7528\u4e09\u5343\u4e07\u5f71\u89c6\u5267\u5b57\u5e55\u8bed\u6599\u5e93\u751f\u6210\u8bcd\u5411\u91cf  \u4e09\u5341\u4e09-\u4e24\u5957\u4ee3\u7801\u8be6\u89e3 LSTM-RNN \u2014\u2014\u6709\u8bb0\u5fc6\u7684\u795e\u7ecf\u7f51\u7edc  \u4e09\u5341\u56db-\u6700\u5feb\u7684\u6df1\u5ea6\u5b66\u4e60\u6846\u67b6torch  \u4e09\u5341\u4e94-\u4e00\u4e2a lstm \u5355\u5143\u8ba9\u804a\u5929\u673a\u5668\u4eba\u5b66\u4f1a\u7504\u5b1b\u4f53  \u4e09\u5341\u516d-\u6df1\u5165\u7406\u89e3 tensorflow \u7684session \u548c graph  \u4e09\u5341\u4e03-\u4e00\u5f20\u56fe\u4e86\u89e3 tensorflow \u4e2d\u7684\u7ebf\u6027\u56de\u5f52\u5de5\u4f5c\u539f\u7406  \u4e09\u5341\u516b-\u539f\u6765\u804a\u5929\u673a\u5668\u4eba\u662f\u8fd9\u4e48\u505a\u51fa\u6765\u7684  \u4e09\u5341\u4e5d-\u6ee1\u8154\u70ed\u8840\uff1a\u5728\u5bb6\u91cc\u642d\u5efa\u4e00\u53f0GPU\u4e91\u670d\u52a1\u5171\u4eab\u7ed9\u4eba\u5de5\u667a\u80fd\u548c\u5927\u6570\u636e\u7231\u597d\u8005  \u56db\u5341-\u89c6\u9891\u6559\u7a0b\u4e4b\u5f00\u7bc7\u5ba3\u8a00\u4e0e\u77e5\u8bc6\u70b9\u68b3\u7406  \u56db\u5341\u4e00-\u89c6\u9891\u6559\u7a0b\u4e4b\u73af\u5883\u642d\u5efa\u4e0epython\u57fa\u7840  \u56db\u5341\u4e8c-(\u91cd\u91cf\u7ea7\u957f\u6587)\u4ece\u7406\u8bba\u5230\u5b9e\u8df5\u5f00\u53d1\u81ea\u5df1\u7684\u804a\u5929\u673a\u5668\u4eba  \u56db\u5341\u4e09-\u7ee7\u7eed\u4ece\u7406\u8bba\u5230\u5b9e\u8df5\u5f00\u53d1\u81ea\u5df1\u7684\u804a\u5929\u673a\u5668\u4eba", 
            "title": "\u76ee\u5f55"
        }, 
        {
            "location": "/1.knowledge/", 
            "text": "\u4eba\u5de5\u667a\u80fd\u4e00\u76f4\u4ee5\u6765\u662f\u4eba\u7c7b\u7684\u68a6\u60f3\uff0c\u9020\u4e00\u53f0\u53ef\u4ee5\u4e3a\u4f60\u505a\u4e00\u5207\u4e8b\u60c5\u5e76\u4e14\u6709\u60c5\u611f\u7684\u673a\u5668\u4eba\uff0c\u50cf\u54c6\u5566A\u68a6\u4e00\u6837\uff0c\u73b0\u5728\u8fd9\u5df2\u7ecf\u4e0d\u662f\u4e00\u4e2a\u68a6\u4e86\uff1aiPhone \u91cc\u4f1a\u8bf4\u8bdd\u7684 siri\u3001\u4f1a\u4e0b\u68cb\u7684\u963f\u6cd5\u72d7\u3001\u5c0f\u5ea6\u673a\u5668\u4eba\u3001\u5927\u767d......\uff0c\u4ed6\u4eec\u90fd\u80fd\u591f\u5177\u6709\u667a\u80fd\uff0c\u548c\u4eba\u7c7b\u4ea4\u4e92\uff0c\u5e2e\u4eba\u7c7b\u89e3\u51b3\u95ee\u9898\uff0c\u8fd9\u542c\u8d77\u6765\u975e\u5e38\u795e\u5947\uff0c\u5b9e\u9645\u4e0a\u6211\u4eec\u81ea\u5df1\u4e5f\u53ef\u4ee5\u505a\u4e00\u4e2a\u8fd9\u6837\u7684\u673a\u5668\u4eba\uff0c\u4ece\u4eca\u5929\u5f00\u59cb\u5206\u4eab\u6211\u5c06\u6211\u5b66\u4e60\u548c\u5236\u4f5c\u7684\u8fc7\u7a0b \n\n\n\u667a\u80fd\u673a\u5668\u4eba\u53ef\u4ee5\u505a\u5230\u7684\u4e8b\u60c5\u53ef\u4ee5\u5f88\u590d\u6742\uff1a\u6587\u5b57\u3001\u8bed\u97f3\u3001\u89c6\u9891\u8bc6\u522b\u4e0e\u5408\u6210\uff1b\u81ea\u7136\u8bed\u8a00\u7406\u89e3\u3001\u4eba\u673a\u5bf9\u8bdd\uff1b\u4ee5\u53ca\u9a71\u52a8\u786c\u4ef6\u8bbe\u5907\u5f62\u6210\u7684\u201c\u673a\u5668\u201d\u4eba\u3002\u4f5c\u4e3a\u4e00\u4e2a\u53ea\u6709\u6280\u672f\u548c\u65f6\u95f4\u800c\u6ca1\u6709\u91d1\u94b1\u7684IT\u4eba\u58eb\uff0c\u6211\u4ec5\u505a\u81ea\u7136\u8bed\u8a00\u548c\u4eba\u5de5\u667a\u80fd\u76f8\u5173\u7684\u5185\u5bb9\uff0c\u4e0d\u6d89\u53ca\u786c\u4ef6\uff0c\u4e5f\u4e0d\u6d89\u53ca\u4e0d\u64c5\u957f\u7684\u591a\u5a92\u4f53\u8bc6\u522b\u548c\u5408\u6210\u3002\u6240\u4ee5\u7d22\u6027\u5c31\u505a\u4e00\u4e2a\u53ef\u4ee5\u548c\u4f60\u8bf4\u8bdd\uff0c\u5e2e\u4f60\u89e3\u51b3\u95ee\u9898\u7684\u804a\u5929\u673a\u5668\u4eba\u5427\u3002\n\n\n\u804a\u5929\u673a\u5668\u4eba\u6d89\u53ca\u5230\u7684\u77e5\u8bc6\u4e3b\u8981\u662f\u81ea\u7136\u8bed\u8a00\u5904\u7406\uff0c\u5f53\u7136\u8fd9\u5305\u62ec\u4e86\uff1a\u8bed\u8a00\u5206\u6790\u548c\u7406\u89e3\u3001\u8bed\u8a00\u751f\u6210\u3001\u673a\u5668\u5b66\u4e60\u3001\u4eba\u673a\u5bf9\u8bdd\u3001\u4fe1\u606f\u68c0\u7d22\u3001\u4fe1\u606f\u4f20\u8f93\u4e0e\u4fe1\u606f\u5b58\u50a8\u3001\u6587\u672c\u5206\u7c7b\u3001\u81ea\u52a8\u6587\u6458\u3001\u6570\u5b66\u65b9\u6cd5\u3001\u8bed\u8a00\u8d44\u6e90\u3001\u7cfb\u7edf\u8bc4\u6d4b\u7b49\u5185\u5bb9\uff0c\u540c\u65f6\u5c11\u4e0d\u4e86\u7684\u662f\u652f\u6491\u7740\u4e00\u5207\u7684\u7f16\u7a0b\u6280\u672f\n\n\n\u5728\u6211\u7684\u684c\u4e0a\u6446\u4e86\u5f88\u591a\u6709\u5173\u81ea\u7136\u8bed\u8a00\u5904\u7406\u3001\u673a\u5668\u5b66\u4e60\u3001\u6df1\u5ea6\u5b66\u4e60\u3001\u6570\u5b66\u7b49\u65b9\u9762\u7684\u4e66\u7c4d\uff0c\u4e3a\u4e86\u548c\u5927\u5bb6\u5206\u4eab\u6211\u7684\u7ecf\u5386\u3001\u5b66\u5230\u7684\u77e5\u8bc6\u548c\u6bcf\u4e00\u9636\u6bb5\u7684\u6210\u679c\uff0c\u6211\u6bcf\u5929\u4f1a\u82b1\u4e24\u4e2a\u5c0f\u65f6\u4ee5\u4e0a\u65f6\u95f4\u6216\u7ffb\u4e66\u6216\u603b\u7ed3\u6216\u7f16\u7801\u6216\u6574\u7406\u6216\u5199\u6587\u7ae0\uff0c\u6216\u8bb8\u6587\u7ae0\u51e0\u5929\u624d\u80fd\u66f4\u65b0\u4e00\u7bc7\uff0c\u4f46\u6211\u5e0c\u671b\u6bcf\u4e00\u7bc7\u90fd\u662f\u6709\u4ef7\u503c\u7684\uff0c\u6216\u8bb8\u6587\u7ae0\u91cc\u7684\u77e5\u8bc6\u8bb2\u89e3\u7684\u4e0d\u662f\u975e\u5e38\u6df1\u5165\uff0c\u4f46\u6211\u5e0c\u671b\u53ef\u4ee5\u4e3a\u4f60\u6307\u660e\u65b9\u5411\uff0c\u5bf9\u4e8e\u6666\u6da9\u96be\u61c2\u7684\u5185\u5bb9\uff0c\u6211\u5c3d\u91cf\u7528\u7b80\u6734\u5e7d\u9ed8\u7684\u65b9\u5f0f\u8bf4\u51fa\u6765\uff0c\u76ee\u7684\u5c31\u662f\u8ba9\u6bcf\u4e00\u4f4d\u8bfb\u8005\u90fd\u80fd\u6709\u6536\u83b7\uff0c\u5e76\u671d\u7740\u6211\u4eec\u7684\u76ee\u6807\u4e00\u8d77\u524d\u8fdb\u3002\n\n\n\u4e3a\u4e86\u8ba9\u6587\u7ae0\u80fd\u591f\u6210\u4f53\u7cfb\uff0c\u90e8\u5206\u77e5\u8bc6\u6211\u4f1a\u6574\u7406\u5230\u6211\u7684\u53e6\u5916\u4e24\u5957\u7cfb\u5217\u4e2d\uff1a\n\u300a\u673a\u5668\u5b66\u4e60\u6559\u7a0b\u300b\n\u548c\n\u300a\u6559\u4f60\u6210\u4e3a\u5168\u6808\u5de5\u7a0b\u5e08\u300b\n\uff0c\u4e5f\u5e0c\u671b\u5927\u5bb6\u591a\u5173\u6ce8\u8fd9\u4e24\u5957\u7cfb\u5217\u6587\u7ae0\u3002\n\u300a\u673a\u5668\u5b66\u4e60\u6559\u7a0b\u300b\n\u4e2d\u5305\u62ec\u4e86\u57fa\u7840\u7684\u673a\u5668\u5b66\u4e60\u5165\u95e8\u4ee5\u53ca\u795e\u7ecf\u7f51\u7edc\u3001\u6df1\u5ea6\u5b66\u4e60\u7b49\u65b9\u9762\u7684\u5185\u5bb9\uff0c\u5747\u662f\u7406\u8bba\u52a0\u5b9e\u6218\uff0c\u5f53\u7136\u4e5f\u662f\u505a\u804a\u5929\u673a\u5668\u4eba\u5fc5\u987b\u638c\u63e1\u7684\u91cd\u8981\u77e5\u8bc6\u548c\u6280\u672f\u3002\n\u300a\u6559\u4f60\u6210\u4e3a\u5168\u6808\u5de5\u7a0b\u5e08\u300b\n\u8bb0\u5f55\u4e86\u6211\u6784\u5efa\u6574\u4e2a\u7f51\u7ad9\u4ee5\u53ca\u4f5c\u4e3a\u4e00\u4e2a\u5168\u6808\u5de5\u7a0b\u5e08\u9700\u8981\u638c\u63e1\u7684\u6709\u5173\u641c\u7d22\u6280\u672f\u3001\u5927\u6570\u636e\u67b6\u6784\u3001\u5f00\u6e90\u7cfb\u7edf\u7b49\u5185\u5bb9\u3002\n\n\n\u53e6\u5916\uff0c\u4e3a\u4e86\u5927\u5bb6\u53ca\u65f6\u770b\u5230\u6211\u7684\u66f4\u65b0\u6587\u7ae0\uff0c\u6211\u5f00\u901a\u4e86\u5fae\u4fe1\u516c\u4f17\u53f7(SharEDITor)\uff0c\u5927\u5bb6\u53ef\u4ee5\u626b\u63cf\u672c\u9875\u4e2d\u7684\u4e8c\u7ef4\u7801\u5173\u6ce8\n\n\n\n\n\u6211\u8fd8\u7279\u5730\u62c9\u4e86\u5fae\u4fe1\u7fa4\uff0c\u91cc\u9762\u6709\u5f88\u591a\u804a\u5929\u673a\u5668\u4eba\u6280\u672f\u7684\u7231\u597d\u8005\u5728\u91cc\u9762\u8ba8\u8bba\u548c\u5206\u4eab\uff0c\u60f3\u52a0\u5165\u7684\u53ef\u4ee5\u626b\u4e0b\u65b9\u4e8c\u7ef4\u7801\u52a0\u5165\n\n\n\u5982\u679c\u4eba\u6570\u592a\u591a\u65e0\u6cd5\u52a0\u5165\uff0c\u8bf7\u52a0\u6211\u5fae\u4fe1 warmheartli \u5e76\u8bf4\u660e\u201c\u52a0\u804a\u5929\u673a\u5668\u4eba\u7fa4\u201d\n\n\n\u6211\u6bcf\u7bc7\u66f4\u65b0\u7684\u6587\u7ae0\u94fe\u63a5\u4e5f\u4f1a\u540c\u6b65\u53d1\u5e03\u5230\u5fae\u535a\u8d26\u53f7\uff1a\nhttp://weibo.com/chuangwanglaile\n\uff0c\u6b22\u8fce\u5173\u6ce8\u6211\u7684\u5fae\u535a\n\n\n\u6211\u79ef\u7d2f\u4e0b\u6765\u7684\u5168\u90e8\u6e90\u4ee3\u7801\u90fd\u4f1a\u5728github\u4e0a\u5f00\u6e90\uff1a\nhttps://github.com/warmheartli\n\uff0c\u6b22\u8fcefollow\u6211\n\n\n\u5e0c\u671b\u5927\u5bb6\u591a\u591a\u5173\u6ce8\uff0c\u5982\u679c\u6709\u4efb\u4f55\u95ee\u9898\u6216\u8005\u611f\u5174\u8da3\u7684\u8bdd\u9898\uff0c\u6b22\u8fce\u5927\u5bb6\u5728\u7f51\u7ad9\u6587\u7ae0\u4e2d\u7559\u8a00\uff0c\u6211\u90fd\u4f1a\u4e00\u4e00\u7b54\u590d\u3002\n\n\n\u53e6\u5916\uff0c\u5728\u6b64\u975e\u5e38\u611f\u8c22\u51e0\u4f4d\u670b\u53cb\u7684\u70ed\u60c5\u5e2e\u52a9\u548c\u53cb\u60c5\u8f6c\u53d1\uff0c\u611f\u8c22\u8457\u540d\u81ea\u5a92\u4f53\u201c\n\u7231\u53ef\u53ef\u7231\u751f\u6d3b\n\u201d\u8001\u5e08\u7684\u70ed\u60c5\u8f6c\u53d1\uff0c\u611f\u8c22\u8457\u540dnlp\u4e13\u5bb6\n52nlp\n\u8001\u5e08\u7684\u70ed\u60c5\u8f6c\u53d1\uff0c\u611f\u8c22\n\u5f00\u53d1\u8005\u5934\u6761\u5fae\u535a\u5b98\u65b9\u8d26\u53f7\n\u7684\n\u70ed\u60c5\u8f6c\u53d1\n\uff0c\u6709\u4e86\u4f60\u4eec\u7684\u80af\u5b9a\u548c\u652f\u6301\uff0c\u6211\u52a8\u529b\u66f4\u52a0\u5341\u8db3\uff01", 
            "title": "\u4e00-\u6d89\u53ca\u77e5\u8bc6"
        }, 
        {
            "location": "/2.nltk/", 
            "text": "NLTK\u662f\u4e00\u4e2a\u6bd4\u8f83\u4f18\u79c0\u7684\u81ea\u7136\u8bed\u8a00\u5904\u7406\u5de5\u5177\u5305\uff0c\u662f\u6211\u4eec\u804a\u5929\u673a\u5668\u4eba\u9700\u8981\u7684\u6bd4\u8f83\u91cd\u8981\u7684\u4e00\u4e2a\u5de5\u5177\uff0c\u672c\u8282\u4ecb\u7ecd\u5b83\u7684\u5b89\u88c5\u548c\u57fa\u672c\u4f7f\u7528 \n\n\nNLTK\u5e93\u5b89\u88c5\n\n\n1\npip install nltk\n\n\n\n\n\n\n\u6267\u884cpython\u5e76\u4e0b\u8f7d\u4e66\u7c4d\uff1a\n\n\n1\n2\n3\n4\n5\n6\n[\nroot@centos \n#] python\n\nPython \n2\n.7.11 \n(\ndefault, Jan \n22\n \n2016\n, \n08\n:29:18\n)\n\n\n[\nGCC \n4\n.2.1 Compatible Apple LLVM \n7\n.0.2 \n(\nclang-700.1.81\n)]\n on darwin\nType \nhelp\n, \ncopyright\n, \ncredits\n or \nlicense\n \nfor\n more information.\n\n import nltk\n\n nltk.download\n()\n\n\n\n\n\n\n\n\u9009\u62e9book\u540e\u70b9Download\u5f00\u59cb\u4e0b\u8f7d\n\n\n\u4e0b\u8f7d\u5b8c\u6210\u4ee5\u540e\u518d\u8f93\u5165\uff1a\n\n\n1\n from nltk.book import *\n\n\n\n\n\n\n\u4f60\u4f1a\u770b\u5230\u53ef\u4ee5\u6b63\u5e38\u52a0\u8f7d\u4e66\u7c4d\u5982\u4e0b\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n*** Introductory Examples \nfor\n the NLTK Book ***\nLoading text1, ..., text9 and sent1, ..., sent9\nType the name of the text or sentence to view it.\nType: \ntexts()\n or \nsents()\n to list the materials.\ntext1: Moby Dick by Herman Melville \n1851\n\ntext2: Sense and Sensibility by Jane Austen \n1811\n\ntext3: The Book of Genesis\ntext4: Inaugural Address Corpus\ntext5: Chat Corpus\ntext6: Monty Python and the Holy Grail\ntext7: Wall Street Journal\ntext8: Personals Corpus\ntext9: The Man Who Was Thursday by G . K . Chesterton \n1908\n\n\n\n\n\n\n\n\u8fd9\u91cc\u9762\u7684text*\u90fd\u662f\u4e00\u4e2a\u4e00\u4e2a\u7684\u4e66\u7c4d\u8282\u70b9\uff0c\u76f4\u63a5\u8f93\u5165text1\u4f1a\u8f93\u51fa\u4e66\u7c4d\u6807\u9898\uff1a\n\n\n1\n2\n text1\n\nText: Moby Dick by Herman Melville \n1851\n\n\n\n\n\n\n\n\u641c\u7d22\u6587\u672c\n\n\n\u6267\u884c\n\n\n1\n text1.concordance\n(\nformer\n)\n\n\n\n\n\n\n\n\u4f1a\u663e\u793a20\u4e2a\u5305\u542bformer\u7684\u8bed\u53e5\u4e0a\u4e0b\u6587\n\n\n\u6211\u4eec\u8fd8\u53ef\u4ee5\u641c\u7d22\u76f8\u5173\u8bcd\uff0c\u6bd4\u5982\uff1a\n\n\n1\n2\n3\n text1.similar\n(\nship\n)\n\nwhale boat sea captain world way head \ntime\n crew man other pequod line\ndeck body fishery air boats side voyage\n\n\n\n\n\n\n\u8f93\u5165\u4e86ship\uff0c\u67e5\u627e\u4e86boat\uff0c\u90fd\u662f\u8fd1\u4e49\u8bcd\n\n\n\u6211\u4eec\u8fd8\u53ef\u4ee5\u67e5\u770b\u67d0\u4e2a\u8bcd\u5728\u6587\u7ae0\u91cc\u51fa\u73b0\u7684\u4f4d\u7f6e\uff1a\n\n\n1\n text4.dispersion_plot\n([\ncitizens\n, \ndemocracy\n, \nfreedom\n, \nduties\n, \nAmerica\n])\n\n\n\n\n\n\n\n\u8bcd\u7edf\u8ba1\n\n\nlen(text1)\n\uff1a\u8fd4\u56de\u603b\u5b57\u6570\n\n\nset(text1)\n\uff1a\u8fd4\u56de\u6587\u672c\u7684\u6240\u6709\u8bcd\u96c6\u5408\n\n\nlen(set(text4))\n\uff1a\u8fd4\u56de\u6587\u672c\u603b\u8bcd\u6570\n\n\ntext4.count(\"is\")\n\uff1a\u8fd4\u56de\u201cis\u201d\u8fd9\u4e2a\u8bcd\u51fa\u73b0\u7684\u603b\u6b21\u6570\n\n\nFreqDist(text1)\n\uff1a\u7edf\u8ba1\u6587\u7ae0\u7684\u8bcd\u9891\u5e76\u6309\u4ece\u5927\u5230\u5c0f\u6392\u5e8f\u5b58\u5230\u4e00\u4e2a\u5217\u8868\u91cc\n\n\nfdist1 = FreqDist(text1);fdist1.plot(50, cumulative=True)\n\uff1a\u7edf\u8ba1\u8bcd\u9891\uff0c\u5e76\u8f93\u51fa\u7d2f\u8ba1\u56fe\u50cf\n\n\n\u7eb5\u8f74\u8868\u793a\u7d2f\u52a0\u4e86\u6a2a\u8f74\u91cc\u7684\u8bcd\u4e4b\u540e\u603b\u8bcd\u6570\u662f\u591a\u5c11\uff0c\u8fd9\u6837\u770b\u6765\uff0c\u8fd9\u4e9b\u8bcd\u52a0\u8d77\u6765\u51e0\u4e4e\u8fbe\u5230\u4e86\u6587\u7ae0\u7684\u603b\u8bcd\u6570\n\n\nfdist1.hapaxes()\n\uff1a\u8fd4\u56de\u53ea\u51fa\u73b0\u4e00\u6b21\u7684\u8bcd\n\n\ntext4.collocations()\n\uff1a\u9891\u7e41\u7684\u53cc\u8054\u8bcd\n\n\n\u81ea\u7136\u8bed\u8a00\u5904\u7406\u5173\u952e\u70b9\n\n\n\u8bcd\u610f\u7406\u89e3\uff1a\n \u4e2d\u56fd\u961f\u5927\u80dc\u7f8e\u56fd\u961f\uff1b\u4e2d\u56fd\u961f\u5927\u8d25\u7f8e\u56fd\u961f\u3002\u201c\u80dc\u201d\u3001\u201c\u8d25\u201d\u4e00\u5bf9\u53cd\u4e49\u8bcd\uff0c\u5374\u8868\u8fbe\u540c\u6837\u7684\u610f\u601d\uff1a\u4e2d\u56fd\u8d62\u4e86\uff0c\u7f8e\u56fd\u8f93\u4e86\u3002\u8fd9\u9700\u8981\u673a\u5668\u80fd\u591f\u81ea\u52a8\u5206\u6790\u51fa\u8c01\u80dc\u8c01\u8d1f\n\n\n\u81ea\u52a8\u751f\u6210\u8bed\u8a00\uff1a\n \u81ea\u52a8\u751f\u6210\u8bed\u8a00\u57fa\u4e8e\u8bed\u8a00\u7684\u81ea\u52a8\u7406\u89e3\uff0c\u4e0d\u7406\u89e3\u5c31\u65e0\u6cd5\u81ea\u52a8\u751f\u6210\n\n\n\u673a\u5668\u7ffb\u8bd1\uff1a\n \u73b0\u5728\u673a\u5668\u7ffb\u8bd1\u5df2\u7ecf\u5f88\u591a\u4e86\uff0c\u4f46\u662f\u8fd8\u5f88\u96be\u8fbe\u5230\u6700\u4f73\uff0c\u6bd4\u5982\u6211\u4eec\u628a\u4e2d\u6587\u7ffb\u8bd1\u6210\u82f1\u6587\uff0c\u518d\u7ffb\u8bd1\u6210\u4e2d\u6587\uff0c\u518d\u7ffb\u8bd1\u6210\u82f1\u6587\uff0c\u6765\u56de10\u8f6e\uff0c\u53d1\u73b0\u548c\u6700\u521d\u5dee\u522b\u8fd8\u662f\u975e\u5e38\u5927\u7684\u3002\n\n\n\u4eba\u673a\u5bf9\u8bdd\uff1a\n \u8fd9\u4e5f\u662f\u6211\u4eec\u60f3\u505a\u5230\u7684\u6700\u7ec8\u76ee\u6807\uff0c\u8fd9\u91cc\u6709\u4e00\u4e2a\u53eb\u505a\u201c\u56fe\u7075\u6d4b\u8bd5\u201d\u7684\u65b9\u5f0f\uff0c\u4e5f\u5c31\u662f\u57285\u5206\u949f\u4e4b\u5185\u56de\u7b54\u63d0\u51fa\u95ee\u9898\u768430%\u5373\u901a\u8fc7\uff0c\u80fd\u901a\u8fc7\u5219\u8ba4\u4e3a\u6709\u667a\u80fd\u4e86\u3002\n\n\n\u81ea\u7136\u8bed\u8a00\u5904\u7406\u5206\u4e24\u6d3e:\n\n\n\u4e00\u6d3e\u662f\u57fa\u4e8e\u89c4\u5219\u7684\uff0c\u4e5f\u5c31\u662f\u5b8c\u5168\u4ece\u8bed\u6cd5\u53e5\u6cd5\u7b49\u51fa\u53d1\uff0c\u6309\u7167\u8bed\u8a00\u7684\u89c4\u5219\u6765\u5206\u6790\u548c\u5904\u7406\uff0c\u8fd9\u5728\u4e0a\u4e2a\u4e16\u7eaa\u7ecf\u5386\u4e86\u5f88\u591a\u5e74\u7684\u8bd5\u9a8c\u5ba3\u544a\u5931\u8d25\uff0c\u56e0\u4e3a\u89c4\u5219\u592a\u591a\u592a\u591a\uff0c\u800c\u4e14\u5f88\u591a\u8bed\u8a00\u90fd\u4e0d\u6309\u5957\u8def\u51fa\u724c\uff0c\u60f3\u8c61\u4f60\u8ffd\u8d76\u4f60\u7684\u5f71\u5b50\uff0c\u4f60\u8dd1\u7684\u5feb\u4ed6\u8dd1\u7684\u66f4\u5feb\uff0c\u4f60\u6c38\u8fdc\u90fd\u8ffd\u4e0d\u4e0a\u5b83\u3002\n\n\n\u53e6\u4e00\u6d3e\u662f\u57fa\u4e8e\u7edf\u8ba1\u7684\uff0c\u4e5f\u5c31\u662f\u6536\u96c6\u5927\u91cf\u7684\u8bed\u6599\u6570\u636e\uff0c\u901a\u8fc7\u7edf\u8ba1\u5b66\u4e60\u7684\u65b9\u5f0f\u6765\u7406\u89e3\u8bed\u8a00\uff0c\u8fd9\u5728\u5f53\u4ee3\u8d8a\u6765\u8d8a\u53d7\u91cd\u89c6\u800c\u4e14\u5df2\u7ecf\u6210\u4e3a\u8d8b\u52bf\uff0c\u56e0\u4e3a\u968f\u7740\u786c\u4ef6\u6280\u672f\u7684\u53d1\u5c55\uff0c\u5927\u6570\u636e\u5b58\u50a8\u548c\u8ba1\u7b97\u5df2\u7ecf\u4e0d\u662f\u95ee\u9898\uff0c\u65e0\u8bba\u6709\u4ec0\u4e48\u6837\u7684\u89c4\u5219\uff0c\u8bed\u8a00\u90fd\u662f\u6709\u7edf\u8ba1\u89c4\u5f8b\u7684\uff0c\u5f53\u7136\u57fa\u4e8e\u7edf\u8ba1\u4e5f\u5b58\u5728\u7f3a\u9677\uff0c\u90a3\u5c31\u662f\u201c\u5c0f\u6982\u7387\u4e8b\u4ef6\u603b\u662f\u4e0d\u4f1a\u53d1\u751f\u7684\u201d\u5bfc\u81f4\u603b\u6709\u4e00\u4e9b\u95ee\u9898\u89e3\u51b3\u4e0d\u4e86\u3002\n\n\n\u4e0b\u4e00\u8282\u6211\u4eec\u5c31\u57fa\u4e8e\u7edf\u8ba1\u7684\u65b9\u6848\u6765\u89e3\u51b3\u8bed\u6599\u7684\u95ee\u9898\u3002", 
            "title": "\u4e8c-\u521d\u8bc6NLTK\u5e93"
        }, 
        {
            "location": "/2.nltk/#nltk", 
            "text": "1 pip install nltk   \u6267\u884cpython\u5e76\u4e0b\u8f7d\u4e66\u7c4d\uff1a  1\n2\n3\n4\n5\n6 [ root@centos  #] python \nPython  2 .7.11  ( default, Jan  22   2016 ,  08 :29:18 )  [ GCC  4 .2.1 Compatible Apple LLVM  7 .0.2  ( clang-700.1.81 )]  on darwin\nType  help ,  copyright ,  credits  or  license   for  more information.  import nltk  nltk.download ()    \u9009\u62e9book\u540e\u70b9Download\u5f00\u59cb\u4e0b\u8f7d  \u4e0b\u8f7d\u5b8c\u6210\u4ee5\u540e\u518d\u8f93\u5165\uff1a  1  from nltk.book import *   \u4f60\u4f1a\u770b\u5230\u53ef\u4ee5\u6b63\u5e38\u52a0\u8f7d\u4e66\u7c4d\u5982\u4e0b\uff1a   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13 *** Introductory Examples  for  the NLTK Book ***\nLoading text1, ..., text9 and sent1, ..., sent9\nType the name of the text or sentence to view it.\nType:  texts()  or  sents()  to list the materials.\ntext1: Moby Dick by Herman Melville  1851 \ntext2: Sense and Sensibility by Jane Austen  1811 \ntext3: The Book of Genesis\ntext4: Inaugural Address Corpus\ntext5: Chat Corpus\ntext6: Monty Python and the Holy Grail\ntext7: Wall Street Journal\ntext8: Personals Corpus\ntext9: The Man Who Was Thursday by G . K . Chesterton  1908    \u8fd9\u91cc\u9762\u7684text*\u90fd\u662f\u4e00\u4e2a\u4e00\u4e2a\u7684\u4e66\u7c4d\u8282\u70b9\uff0c\u76f4\u63a5\u8f93\u5165text1\u4f1a\u8f93\u51fa\u4e66\u7c4d\u6807\u9898\uff1a  1\n2  text1 Text: Moby Dick by Herman Melville  1851", 
            "title": "NLTK\u5e93\u5b89\u88c5"
        }, 
        {
            "location": "/2.nltk/#_1", 
            "text": "\u6267\u884c  1  text1.concordance ( former )    \u4f1a\u663e\u793a20\u4e2a\u5305\u542bformer\u7684\u8bed\u53e5\u4e0a\u4e0b\u6587  \u6211\u4eec\u8fd8\u53ef\u4ee5\u641c\u7d22\u76f8\u5173\u8bcd\uff0c\u6bd4\u5982\uff1a  1\n2\n3  text1.similar ( ship ) \nwhale boat sea captain world way head  time  crew man other pequod line\ndeck body fishery air boats side voyage   \u8f93\u5165\u4e86ship\uff0c\u67e5\u627e\u4e86boat\uff0c\u90fd\u662f\u8fd1\u4e49\u8bcd  \u6211\u4eec\u8fd8\u53ef\u4ee5\u67e5\u770b\u67d0\u4e2a\u8bcd\u5728\u6587\u7ae0\u91cc\u51fa\u73b0\u7684\u4f4d\u7f6e\uff1a  1  text4.dispersion_plot ([ citizens ,  democracy ,  freedom ,  duties ,  America ])", 
            "title": "\u641c\u7d22\u6587\u672c"
        }, 
        {
            "location": "/2.nltk/#_2", 
            "text": "len(text1) \uff1a\u8fd4\u56de\u603b\u5b57\u6570  set(text1) \uff1a\u8fd4\u56de\u6587\u672c\u7684\u6240\u6709\u8bcd\u96c6\u5408  len(set(text4)) \uff1a\u8fd4\u56de\u6587\u672c\u603b\u8bcd\u6570  text4.count(\"is\") \uff1a\u8fd4\u56de\u201cis\u201d\u8fd9\u4e2a\u8bcd\u51fa\u73b0\u7684\u603b\u6b21\u6570  FreqDist(text1) \uff1a\u7edf\u8ba1\u6587\u7ae0\u7684\u8bcd\u9891\u5e76\u6309\u4ece\u5927\u5230\u5c0f\u6392\u5e8f\u5b58\u5230\u4e00\u4e2a\u5217\u8868\u91cc  fdist1 = FreqDist(text1);fdist1.plot(50, cumulative=True) \uff1a\u7edf\u8ba1\u8bcd\u9891\uff0c\u5e76\u8f93\u51fa\u7d2f\u8ba1\u56fe\u50cf  \u7eb5\u8f74\u8868\u793a\u7d2f\u52a0\u4e86\u6a2a\u8f74\u91cc\u7684\u8bcd\u4e4b\u540e\u603b\u8bcd\u6570\u662f\u591a\u5c11\uff0c\u8fd9\u6837\u770b\u6765\uff0c\u8fd9\u4e9b\u8bcd\u52a0\u8d77\u6765\u51e0\u4e4e\u8fbe\u5230\u4e86\u6587\u7ae0\u7684\u603b\u8bcd\u6570  fdist1.hapaxes() \uff1a\u8fd4\u56de\u53ea\u51fa\u73b0\u4e00\u6b21\u7684\u8bcd  text4.collocations() \uff1a\u9891\u7e41\u7684\u53cc\u8054\u8bcd", 
            "title": "\u8bcd\u7edf\u8ba1"
        }, 
        {
            "location": "/2.nltk/#_3", 
            "text": "\u8bcd\u610f\u7406\u89e3\uff1a  \u4e2d\u56fd\u961f\u5927\u80dc\u7f8e\u56fd\u961f\uff1b\u4e2d\u56fd\u961f\u5927\u8d25\u7f8e\u56fd\u961f\u3002\u201c\u80dc\u201d\u3001\u201c\u8d25\u201d\u4e00\u5bf9\u53cd\u4e49\u8bcd\uff0c\u5374\u8868\u8fbe\u540c\u6837\u7684\u610f\u601d\uff1a\u4e2d\u56fd\u8d62\u4e86\uff0c\u7f8e\u56fd\u8f93\u4e86\u3002\u8fd9\u9700\u8981\u673a\u5668\u80fd\u591f\u81ea\u52a8\u5206\u6790\u51fa\u8c01\u80dc\u8c01\u8d1f  \u81ea\u52a8\u751f\u6210\u8bed\u8a00\uff1a  \u81ea\u52a8\u751f\u6210\u8bed\u8a00\u57fa\u4e8e\u8bed\u8a00\u7684\u81ea\u52a8\u7406\u89e3\uff0c\u4e0d\u7406\u89e3\u5c31\u65e0\u6cd5\u81ea\u52a8\u751f\u6210  \u673a\u5668\u7ffb\u8bd1\uff1a  \u73b0\u5728\u673a\u5668\u7ffb\u8bd1\u5df2\u7ecf\u5f88\u591a\u4e86\uff0c\u4f46\u662f\u8fd8\u5f88\u96be\u8fbe\u5230\u6700\u4f73\uff0c\u6bd4\u5982\u6211\u4eec\u628a\u4e2d\u6587\u7ffb\u8bd1\u6210\u82f1\u6587\uff0c\u518d\u7ffb\u8bd1\u6210\u4e2d\u6587\uff0c\u518d\u7ffb\u8bd1\u6210\u82f1\u6587\uff0c\u6765\u56de10\u8f6e\uff0c\u53d1\u73b0\u548c\u6700\u521d\u5dee\u522b\u8fd8\u662f\u975e\u5e38\u5927\u7684\u3002  \u4eba\u673a\u5bf9\u8bdd\uff1a  \u8fd9\u4e5f\u662f\u6211\u4eec\u60f3\u505a\u5230\u7684\u6700\u7ec8\u76ee\u6807\uff0c\u8fd9\u91cc\u6709\u4e00\u4e2a\u53eb\u505a\u201c\u56fe\u7075\u6d4b\u8bd5\u201d\u7684\u65b9\u5f0f\uff0c\u4e5f\u5c31\u662f\u57285\u5206\u949f\u4e4b\u5185\u56de\u7b54\u63d0\u51fa\u95ee\u9898\u768430%\u5373\u901a\u8fc7\uff0c\u80fd\u901a\u8fc7\u5219\u8ba4\u4e3a\u6709\u667a\u80fd\u4e86\u3002  \u81ea\u7136\u8bed\u8a00\u5904\u7406\u5206\u4e24\u6d3e:  \u4e00\u6d3e\u662f\u57fa\u4e8e\u89c4\u5219\u7684\uff0c\u4e5f\u5c31\u662f\u5b8c\u5168\u4ece\u8bed\u6cd5\u53e5\u6cd5\u7b49\u51fa\u53d1\uff0c\u6309\u7167\u8bed\u8a00\u7684\u89c4\u5219\u6765\u5206\u6790\u548c\u5904\u7406\uff0c\u8fd9\u5728\u4e0a\u4e2a\u4e16\u7eaa\u7ecf\u5386\u4e86\u5f88\u591a\u5e74\u7684\u8bd5\u9a8c\u5ba3\u544a\u5931\u8d25\uff0c\u56e0\u4e3a\u89c4\u5219\u592a\u591a\u592a\u591a\uff0c\u800c\u4e14\u5f88\u591a\u8bed\u8a00\u90fd\u4e0d\u6309\u5957\u8def\u51fa\u724c\uff0c\u60f3\u8c61\u4f60\u8ffd\u8d76\u4f60\u7684\u5f71\u5b50\uff0c\u4f60\u8dd1\u7684\u5feb\u4ed6\u8dd1\u7684\u66f4\u5feb\uff0c\u4f60\u6c38\u8fdc\u90fd\u8ffd\u4e0d\u4e0a\u5b83\u3002  \u53e6\u4e00\u6d3e\u662f\u57fa\u4e8e\u7edf\u8ba1\u7684\uff0c\u4e5f\u5c31\u662f\u6536\u96c6\u5927\u91cf\u7684\u8bed\u6599\u6570\u636e\uff0c\u901a\u8fc7\u7edf\u8ba1\u5b66\u4e60\u7684\u65b9\u5f0f\u6765\u7406\u89e3\u8bed\u8a00\uff0c\u8fd9\u5728\u5f53\u4ee3\u8d8a\u6765\u8d8a\u53d7\u91cd\u89c6\u800c\u4e14\u5df2\u7ecf\u6210\u4e3a\u8d8b\u52bf\uff0c\u56e0\u4e3a\u968f\u7740\u786c\u4ef6\u6280\u672f\u7684\u53d1\u5c55\uff0c\u5927\u6570\u636e\u5b58\u50a8\u548c\u8ba1\u7b97\u5df2\u7ecf\u4e0d\u662f\u95ee\u9898\uff0c\u65e0\u8bba\u6709\u4ec0\u4e48\u6837\u7684\u89c4\u5219\uff0c\u8bed\u8a00\u90fd\u662f\u6709\u7edf\u8ba1\u89c4\u5f8b\u7684\uff0c\u5f53\u7136\u57fa\u4e8e\u7edf\u8ba1\u4e5f\u5b58\u5728\u7f3a\u9677\uff0c\u90a3\u5c31\u662f\u201c\u5c0f\u6982\u7387\u4e8b\u4ef6\u603b\u662f\u4e0d\u4f1a\u53d1\u751f\u7684\u201d\u5bfc\u81f4\u603b\u6709\u4e00\u4e9b\u95ee\u9898\u89e3\u51b3\u4e0d\u4e86\u3002  \u4e0b\u4e00\u8282\u6211\u4eec\u5c31\u57fa\u4e8e\u7edf\u8ba1\u7684\u65b9\u6848\u6765\u89e3\u51b3\u8bed\u6599\u7684\u95ee\u9898\u3002", 
            "title": "\u81ea\u7136\u8bed\u8a00\u5904\u7406\u5173\u952e\u70b9"
        }, 
        {
            "location": "/3.corpus/", 
            "text": "\u5f53\u4ee3\u81ea\u7136\u8bed\u8a00\u5904\u7406\u90fd\u662f\u57fa\u4e8e\u7edf\u8ba1\u7684\uff0c\u7edf\u8ba1\u81ea\u7136\u9700\u8981\u5f88\u591a\u6837\u672c\uff0c\u56e0\u6b64\u8bed\u6599\u548c\u8bcd\u6c47\u8d44\u6e90\u662f\u5fc5\u4e0d\u53ef\u5c11\u7684\uff0c\u672c\u8282\u4ecb\u7ecd\u8bed\u6599\u548c\u8bcd\u6c47\u8d44\u6e90\u7684\u91cd\u8981\u6027\u548c\u83b7\u53d6\u65b9\u5f0f \n\n\nNLTK\u8bed\u6599\u5e93\n\n\nNLTK\u5305\u542b\u591a\u79cd\u8bed\u6599\u5e93\uff0c\u4e3e\u4e00\u4e2a\u4f8b\u5b50\uff1aGutenberg\u8bed\u6599\u5e93\uff0c\u6267\u884c\uff1a\n\n\nnltk.corpus.gutenberg.fileids()\n\u8fd4\u56deGutenberg\u8bed\u6599\u5e93\u7684\u6587\u4ef6\u6807\u8bc6\u7b26\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n[\n        u\nausten-emma.txt\n, \n        u\nausten-persuasion.txt\n, \n        u\nausten-sense.txt\n, \n        u\nbible-kjv.txt\n, \n        u\nblake-poems.txt\n, \n        u\nbryant-stories.txt\n, \n        u\nburgess-busterbrown.txt\n, \n        u\ncarroll-alice.txt\n, \n        u\nchesterton-ball.txt\n, \n        u\nchesterton-brown.txt\n, \n        u\nchesterton-thursday.txt\n, \n        u\nedgeworth-parents.txt\n, \n        u\nmelville-moby_dick.txt\n, \n        u\nmilton-paradise.txt\n, \n        u\nshakespeare-caesar.txt\n, \n        u\nshakespeare-hamlet.txt\n, \n        u\nshakespeare-macbeth.txt\n, \n        u\nwhitman-leaves.txt\n\n]\n\n\n\n\n\n\nnltk.corpus.gutenberg\u5c31\u662fgutenberg\u8bed\u6599\u5e93\u7684\u9605\u8bfb\u5668\uff0c\u5b83\u6709\u5f88\u591a\u5b9e\u7528\u7684\u65b9\u6cd5\uff0c\u6bd4\u5982\uff1a\n\n\nnltk.corpus.gutenberg.raw('chesterton-brown.txt')\uff1a\u8f93\u51fachesterton-brown.txt\u6587\u7ae0\u7684\u539f\u59cb\u5185\u5bb9\n\n\nnltk.corpus.gutenberg.words('chesterton-brown.txt')\uff1a\u8f93\u51fachesterton-brown.txt\u6587\u7ae0\u7684\u5355\u8bcd\u5217\u8868\n\n\nnltk.corpus.gutenberg.sents('chesterton-brown.txt')\uff1a\u8f93\u51fachesterton-brown.txt\u6587\u7ae0\u7684\u53e5\u5b50\u5217\u8868\n\n\n\u7c7b\u4f3c\u7684\u8bed\u6599\u5e93\u8fd8\u6709\uff1a\n\n\nfrom nltk.corpus import webtext\uff1a\u7f51\u7edc\u6587\u672c\u8bed\u6599\u5e93\uff0c\u7f51\u7edc\u548c\u804a\u5929\u6587\u672c\n\n\nfrom nltk.corpus import brown\uff1a\u5e03\u6717\u8bed\u6599\u5e93\uff0c\u6309\u7167\u6587\u672c\u5206\u7c7b\u597d\u7684500\u4e2a\u4e0d\u540c\u6765\u6e90\u7684\u6587\u672c\n\n\nfrom nltk.corpus import reuters\uff1a\u8def\u900f\u793e\u8bed\u6599\u5e93\uff0c1\u4e07\u591a\u4e2a\u65b0\u95fb\u6587\u6863\n\n\nfrom nltk.corpus import inaugural\uff1a\u5c31\u804c\u6f14\u8bf4\u8bed\u6599\u5e93\uff0c55\u4e2a\u603b\u7edf\u7684\u6f14\u8bf4\n\n\n\u8bed\u6599\u5e93\u7684\u4e00\u822c\u7ed3\u6784\n\n\n\u4ee5\u4e0a\u5404\u79cd\u8bed\u6599\u5e93\u90fd\u662f\u5206\u522b\u5efa\u7acb\u7684\uff0c\u56e0\u6b64\u4f1a\u7a0d\u6709\u4e00\u4e9b\u533a\u522b\uff0c\u4f46\u662f\u4e0d\u5916\u4e4e\u4ee5\u4e0b\u51e0\u79cd\u7ec4\u7ec7\u7ed3\u6784\uff1a\u6563\u517b\u5f0f\uff08\u5b64\u7acb\u7684\u591a\u7bc7\u6587\u7ae0\uff09\u3001\u5206\u7c7b\u5f0f\uff08\u6309\u7167\u7c7b\u522b\u7ec4\u7ec7\uff0c\u76f8\u4e92\u4e4b\u95f4\u6ca1\u6709\u4ea4\u96c6\uff09\u3001\u4ea4\u53c9\u5f0f\uff08\u4e00\u7bc7\u6587\u7ae0\u53ef\u80fd\u5c5e\u4e8e\u591a\u4e2a\u7c7b\uff09\u3001\u6e10\u53d8\u5f0f\uff08\u8bed\u6cd5\u968f\u7740\u65f6\u95f4\u53d1\u751f\u53d8\u5316\uff09\n\n\n\u8bed\u6599\u5e93\u7684\u901a\u7528\u63a5\u53e3\n\n\nfileids()\uff1a\u8fd4\u56de\u8bed\u6599\u5e93\u4e2d\u7684\u6587\u4ef6\n\n\ncategories()\uff1a\u8fd4\u56de\u8bed\u6599\u5e93\u4e2d\u7684\u5206\u7c7b\n\n\nraw()\uff1a\u8fd4\u56de\u8bed\u6599\u5e93\u7684\u539f\u59cb\u5185\u5bb9\n\n\nwords()\uff1a\u8fd4\u56de\u8bed\u6599\u5e93\u4e2d\u7684\u8bcd\u6c47\n\n\nsents()\uff1a\u8fd4\u56de\u8bed\u6599\u5e93\u53e5\u5b50\n\n\nabspath()\uff1a\u6307\u5b9a\u6587\u4ef6\u5728\u78c1\u76d8\u4e0a\u7684\u4f4d\u7f6e\n\n\nopen()\uff1a\u6253\u5f00\u8bed\u6599\u5e93\u7684\u6587\u4ef6\u6d41\n\n\n\u52a0\u8f7d\u81ea\u5df1\u7684\u8bed\u6599\u5e93\n\n\n\u6536\u96c6\u81ea\u5df1\u7684\u8bed\u6599\u6587\u4ef6\uff08\u6587\u672c\u6587\u4ef6\uff09\u5230\u67d0\u8def\u5f84\u4e0b\uff08\u6bd4\u5982/tmp)\uff0c\u7136\u540e\u6267\u884c\uff1a\n\n\n1\n2\n3\n4\n from nltk.corpus import PlaintextCorpusReader\n\n \ncorpus_root\n \n=\n \n/tmp\n\n\n \nwordlists\n \n=\n PlaintextCorpusReader\n(\ncorpus_root, \n.*\n)\n\n\n wordlists.fileids\n()\n\n\n\n\n\n\n\n\u5c31\u53ef\u4ee5\u5217\u51fa\u81ea\u5df1\u8bed\u6599\u5e93\u7684\u5404\u4e2a\u6587\u4ef6\u4e86\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528\u5982wordlists.sents('a.txt')\u548cwordlists.words('a.txt')\u7b49\u65b9\u6cd5\u6765\u83b7\u53d6\u53e5\u5b50\u548c\u8bcd\u4fe1\u606f\n\n\n\u6761\u4ef6\u9891\u7387\u5206\u5e03\n\n\n\u6761\u4ef6\u5206\u5e03\u5927\u5bb6\u90fd\u6bd4\u8f83\u719f\u6089\u4e86\uff0c\u5c31\u662f\u5728\u4e00\u5b9a\u6761\u4ef6\u4e0b\u67d0\u4e2a\u4e8b\u4ef6\u7684\u6982\u7387\u5206\u5e03\u3002\u81ea\u7136\u8bed\u8a00\u7684\u6761\u4ef6\u9891\u7387\u5206\u5e03\u5c31\u662f\u6307\u5b9a\u6761\u4ef6\u4e0b\u67d0\u4e2a\u4e8b\u4ef6\u7684\u9891\u7387\u5206\u5e03\u3002\n\n\n\u6bd4\u5982\u8981\u8f93\u51fa\u5728\u5e03\u6717\u8bed\u6599\u5e93\u4e2d\u6bcf\u4e2a\u7c7b\u522b\u6761\u4ef6\u4e0b\u6bcf\u4e2a\u8bcd\u7684\u6982\u7387\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n# coding:utf-8\n\n\nimport\n \nsys\n\n\nreload\n(\nsys\n)\n\n\nsys\n.\nsetdefaultencoding\n(\n \nutf-8\n \n)\n\n\n\nimport\n \nnltk\n\n\nfrom\n \nnltk.corpus\n \nimport\n \nbrown\n\n\n\n# \u94fe\u8868\u63a8\u5bfc\u5f0f\uff0cgenre\u662fbrown\u8bed\u6599\u5e93\u91cc\u7684\u6240\u6709\u7c7b\u522b\u5217\u8868\uff0cword\u662f\u8fd9\u4e2a\u7c7b\u522b\u4e2d\u7684\u8bcd\u6c47\u5217\u8868\n\n\n# (genre, word)\u5c31\u662f\u7c7b\u522b\u52a0\u8bcd\u6c47\u5bf9\n\n\ngenre_word\n \n=\n \n[(\ngenre\n,\n \nword\n)\n\n        \nfor\n \ngenre\n \nin\n \nbrown\n.\ncategories\n()\n\n        \nfor\n \nword\n \nin\n \nbrown\n.\nwords\n(\ncategories\n=\ngenre\n)\n\n        \n]\n\n\n\n# \u521b\u5efa\u6761\u4ef6\u9891\u7387\u5206\u5e03\n\n\ncfd\n \n=\n \nnltk\n.\nConditionalFreqDist\n(\ngenre_word\n)\n\n\n\n# \u6307\u5b9a\u6761\u4ef6\u548c\u6837\u672c\u4f5c\u56fe\n\n\ncfd\n.\nplot\n(\n\n        \nconditions\n=\n[\nnews\n,\nadventure\n],\n \n        \nsamples\n=\n[\n\n                \nu\nstock\n,\n \n                \nu\nsunbonnet\n,\n \n                \nu\nElevated\n,\n \n                \nu\nnarcotic\n,\n \n                \nu\nfour\n,\n \n                \nu\nwoods\n,\n \n                \nu\nrailing\n,\n \n                \nu\nUntil\n,\n \n                \nu\naggression\n,\n \n                \nu\nmarching\n,\n \n                \nu\nlooking\n,\n \n                \nu\neligible\n,\n \n                \nu\nelectricity\n,\n \n                \nu\n$25-a-plate\n,\n \n                \nu\nconsulate\n,\n \n                \nu\nCasey\n,\n \n                \nu\nall-county\n,\n \n                \nu\nBelgians\n,\n \n                \nu\nWestern\n,\n \n                \nu\n1959-60\n,\n \n                \nu\nDuhagon\n,\n \n                \nu\nsinking\n,\n \n                \nu\n1,119\n,\n \n                \nu\nco-operation\n,\n \n                \nu\nFamed\n,\n \n                \nu\nregional\n,\n \n                \nu\nCharitable\n,\n \n                \nu\nappropriation\n,\n \n                \nu\nyellow\n,\n \n                \nu\nuncertain\n,\n \n                \nu\nHeights\n,\n \n                \nu\nbringing\n,\n \n                \nu\nprize\n,\n \n                \nu\nLoen\n,\n \n                \nu\nPublique\n,\n \n                \nu\nwooden\n,\n \n                \nu\nLoeb\n,\n \nu\n963\n,\n \n                \nu\nspecialties\n,\n \n                \nu\nSands\n,\n \n                \nu\nsuccession\n,\n \n                \nu\nPaul\n,\n \n                \nu\nPhyfe\n\n        \n])\n\n\n\n\n\n\n\n\u6ce8\u610f\uff1a\u8fd9\u91cc\u5982\u679c\u628aplot\u76f4\u63a5\u6362\u6210tabulate \uff0c\u90a3\u4e48\u5c31\u662f\u8f93\u51fa\u8868\u683c\u5f62\u5f0f\uff0c\u548c\u56fe\u50cf\u8868\u8fbe\u7684\u610f\u601d\u76f8\u540c\n\n\n\u6211\u4eec\u8fd8\u53ef\u4ee5\u5229\u7528\u6761\u4ef6\u9891\u7387\u5206\u5e03\uff0c\u6309\u7167\u6700\u5927\u6761\u4ef6\u6982\u7387\u751f\u6210\u53cc\u8fde\u8bcd\uff0c\u6700\u7ec8\u751f\u6210\u4e00\u4e2a\u968f\u673a\u6587\u672c\n\n\n\u8fd9\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528bigrams()\u51fd\u6570\uff0c\u5b83\u7684\u529f\u80fd\u662f\u751f\u6210\u8bcd\u5bf9\u94fe\u8868\u3002\n\n\n\u521b\u5efapython\u6587\u4ef6\u5982\u4e0b\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n# coding:utf-8\n\n\nimport\n \nsys\n\n\nreload\n(\nsys\n)\n\n\nsys\n.\nsetdefaultencoding\n(\n \nutf-8\n \n)\n\n\nimport\n \nnltk\n\n\n# \u5faa\u73af10\u6b21\uff0c\u4ececfdist\u4e2d\u53d6\u5f53\u524d\u5355\u8bcd\u6700\u5927\u6982\u7387\u7684\u8fde\u8bcd,\u5e76\u6253\u5370\u51fa\u6765\n\n\ndef\n \ngenerate_model\n(\ncfdist\n,\n \nword\n,\n \nnum\n=\n10\n):\n\n    \nfor\n \ni\n \nin\n \nrange\n(\nnum\n):\n\n        \nprint\n \nword\n,\n\n        \nword\n \n=\n \ncfdist\n[\nword\n]\n.\nmax\n()\n\n\n# \u52a0\u8f7d\u8bed\u6599\u5e93\n\n\ntext\n \n=\n \nnltk\n.\ncorpus\n.\ngenesis\n.\nwords\n(\nenglish-kjv.txt\n)\n\n\n# \u751f\u6210\u53cc\u8fde\u8bcd\n\n\nbigrams\n \n=\n \nnltk\n.\nbigrams\n(\ntext\n)\n\n\n# \u751f\u6210\u6761\u4ef6\u9891\u7387\u5206\u5e03\n\n\ncfd\n \n=\n \nnltk\n.\nConditionalFreqDist\n(\nbigrams\n)\n\n\n# \u4ee5the\u5f00\u5934\uff0c\u751f\u6210\u968f\u673a\u4e32\n\n\ngenerate_model\n(\ncfd\n,\n \nthe\n)\n\n\n\n\n\n\n\n\u6267\u884c\u6548\u679c\u5982\u4e0b\uff1a\n\n\n1\nthe land of the land of the land of the\n\n\n\n\n\n\nthe\u7684\u6700\u5927\u6982\u7387\u7684\u53cc\u8fde\u8bcd\u662fland\uff0cland\u6700\u5927\u6982\u7387\u53cc\u8fde\u8bcd\u662fof\uff0cof\u6700\u5927\u6982\u7387\u53cc\u8fde\u8bcd\u662fthe\uff0c\u6240\u4ee5\u540e\u9762\u5c31\u5faa\u73af\u4e86\n\n\n\u5176\u4ed6\u8bcd\u5178\u8d44\u6e90\n\n\n\u6709\u4e00\u4e9b\u4ec5\u662f\u8bcd\u6216\u77ed\u8bed\u4ee5\u53ca\u4e00\u4e9b\u76f8\u5173\u4fe1\u606f\u7684\u96c6\u5408\uff0c\u53eb\u505a\u8bcd\u5178\u8d44\u6e90\u3002\n\n\n\u8bcd\u6c47\u5217\u8868\u8bed\u6599\u5e93\uff1anltk.corpus.words.words()\uff0c\u6240\u6709\u82f1\u6587\u5355\u8bcd\uff0c\u8fd9\u4e2a\u53ef\u4ee5\u7528\u6765\u8bc6\u522b\u8bed\u6cd5\u9519\u8bef\n\n\n\u505c\u7528\u8bcd\u8bed\u6599\u5e93\uff1anltk.corpus.stopwords.words\uff0c\u7528\u6765\u8bc6\u522b\u90a3\u4e9b\u6700\u9891\u7e41\u51fa\u73b0\u7684\u6ca1\u6709\u610f\u4e49\u7684\u8bcd\n\n\n\u53d1\u97f3\u8bcd\u5178\uff1anltk.corpus.cmudict.dict()\uff0c\u7528\u6765\u8f93\u51fa\u6bcf\u4e2a\u82f1\u6587\u5355\u8bcd\u7684\u53d1\u97f3\n\n\n\u6bd4\u8f83\u8bcd\u8868\uff1anltk.corpus.swadesh\uff0c\u591a\u79cd\u8bed\u8a00\u6838\u5fc3200\u591a\u4e2a\u8bcd\u7684\u5bf9\u7167\uff0c\u53ef\u4ee5\u4f5c\u4e3a\u8bed\u8a00\u7ffb\u8bd1\u7684\u57fa\u7840\n\n\n\u540c\u4e49\u8bcd\u96c6\uff1aWordNet\uff0c\u9762\u5411\u8bed\u4e49\u7684\u82f1\u8bed\u8bcd\u5178\uff0c\u7531\u540c\u4e49\u8bcd\u96c6\u7ec4\u6210\uff0c\u5e76\u7ec4\u7ec7\u6210\u4e00\u4e2a\u7f51\u7edc", 
            "title": "\u4e09-\u8bed\u6599\u4e0e\u8bcd\u6c47\u8d44\u6e90"
        }, 
        {
            "location": "/3.corpus/#nltk", 
            "text": "NLTK\u5305\u542b\u591a\u79cd\u8bed\u6599\u5e93\uff0c\u4e3e\u4e00\u4e2a\u4f8b\u5b50\uff1aGutenberg\u8bed\u6599\u5e93\uff0c\u6267\u884c\uff1a  nltk.corpus.gutenberg.fileids()\n\u8fd4\u56deGutenberg\u8bed\u6599\u5e93\u7684\u6587\u4ef6\u6807\u8bc6\u7b26   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20 [\n        u austen-emma.txt , \n        u austen-persuasion.txt , \n        u austen-sense.txt , \n        u bible-kjv.txt , \n        u blake-poems.txt , \n        u bryant-stories.txt , \n        u burgess-busterbrown.txt , \n        u carroll-alice.txt , \n        u chesterton-ball.txt , \n        u chesterton-brown.txt , \n        u chesterton-thursday.txt , \n        u edgeworth-parents.txt , \n        u melville-moby_dick.txt , \n        u milton-paradise.txt , \n        u shakespeare-caesar.txt , \n        u shakespeare-hamlet.txt , \n        u shakespeare-macbeth.txt , \n        u whitman-leaves.txt \n]   nltk.corpus.gutenberg\u5c31\u662fgutenberg\u8bed\u6599\u5e93\u7684\u9605\u8bfb\u5668\uff0c\u5b83\u6709\u5f88\u591a\u5b9e\u7528\u7684\u65b9\u6cd5\uff0c\u6bd4\u5982\uff1a  nltk.corpus.gutenberg.raw('chesterton-brown.txt')\uff1a\u8f93\u51fachesterton-brown.txt\u6587\u7ae0\u7684\u539f\u59cb\u5185\u5bb9  nltk.corpus.gutenberg.words('chesterton-brown.txt')\uff1a\u8f93\u51fachesterton-brown.txt\u6587\u7ae0\u7684\u5355\u8bcd\u5217\u8868  nltk.corpus.gutenberg.sents('chesterton-brown.txt')\uff1a\u8f93\u51fachesterton-brown.txt\u6587\u7ae0\u7684\u53e5\u5b50\u5217\u8868", 
            "title": "NLTK\u8bed\u6599\u5e93"
        }, 
        {
            "location": "/3.corpus/#_1", 
            "text": "from nltk.corpus import webtext\uff1a\u7f51\u7edc\u6587\u672c\u8bed\u6599\u5e93\uff0c\u7f51\u7edc\u548c\u804a\u5929\u6587\u672c  from nltk.corpus import brown\uff1a\u5e03\u6717\u8bed\u6599\u5e93\uff0c\u6309\u7167\u6587\u672c\u5206\u7c7b\u597d\u7684500\u4e2a\u4e0d\u540c\u6765\u6e90\u7684\u6587\u672c  from nltk.corpus import reuters\uff1a\u8def\u900f\u793e\u8bed\u6599\u5e93\uff0c1\u4e07\u591a\u4e2a\u65b0\u95fb\u6587\u6863  from nltk.corpus import inaugural\uff1a\u5c31\u804c\u6f14\u8bf4\u8bed\u6599\u5e93\uff0c55\u4e2a\u603b\u7edf\u7684\u6f14\u8bf4", 
            "title": "\u7c7b\u4f3c\u7684\u8bed\u6599\u5e93\u8fd8\u6709\uff1a"
        }, 
        {
            "location": "/3.corpus/#_2", 
            "text": "\u4ee5\u4e0a\u5404\u79cd\u8bed\u6599\u5e93\u90fd\u662f\u5206\u522b\u5efa\u7acb\u7684\uff0c\u56e0\u6b64\u4f1a\u7a0d\u6709\u4e00\u4e9b\u533a\u522b\uff0c\u4f46\u662f\u4e0d\u5916\u4e4e\u4ee5\u4e0b\u51e0\u79cd\u7ec4\u7ec7\u7ed3\u6784\uff1a\u6563\u517b\u5f0f\uff08\u5b64\u7acb\u7684\u591a\u7bc7\u6587\u7ae0\uff09\u3001\u5206\u7c7b\u5f0f\uff08\u6309\u7167\u7c7b\u522b\u7ec4\u7ec7\uff0c\u76f8\u4e92\u4e4b\u95f4\u6ca1\u6709\u4ea4\u96c6\uff09\u3001\u4ea4\u53c9\u5f0f\uff08\u4e00\u7bc7\u6587\u7ae0\u53ef\u80fd\u5c5e\u4e8e\u591a\u4e2a\u7c7b\uff09\u3001\u6e10\u53d8\u5f0f\uff08\u8bed\u6cd5\u968f\u7740\u65f6\u95f4\u53d1\u751f\u53d8\u5316\uff09", 
            "title": "\u8bed\u6599\u5e93\u7684\u4e00\u822c\u7ed3\u6784"
        }, 
        {
            "location": "/3.corpus/#_3", 
            "text": "fileids()\uff1a\u8fd4\u56de\u8bed\u6599\u5e93\u4e2d\u7684\u6587\u4ef6  categories()\uff1a\u8fd4\u56de\u8bed\u6599\u5e93\u4e2d\u7684\u5206\u7c7b  raw()\uff1a\u8fd4\u56de\u8bed\u6599\u5e93\u7684\u539f\u59cb\u5185\u5bb9  words()\uff1a\u8fd4\u56de\u8bed\u6599\u5e93\u4e2d\u7684\u8bcd\u6c47  sents()\uff1a\u8fd4\u56de\u8bed\u6599\u5e93\u53e5\u5b50  abspath()\uff1a\u6307\u5b9a\u6587\u4ef6\u5728\u78c1\u76d8\u4e0a\u7684\u4f4d\u7f6e  open()\uff1a\u6253\u5f00\u8bed\u6599\u5e93\u7684\u6587\u4ef6\u6d41", 
            "title": "\u8bed\u6599\u5e93\u7684\u901a\u7528\u63a5\u53e3"
        }, 
        {
            "location": "/3.corpus/#_4", 
            "text": "\u6536\u96c6\u81ea\u5df1\u7684\u8bed\u6599\u6587\u4ef6\uff08\u6587\u672c\u6587\u4ef6\uff09\u5230\u67d0\u8def\u5f84\u4e0b\uff08\u6bd4\u5982/tmp)\uff0c\u7136\u540e\u6267\u884c\uff1a  1\n2\n3\n4  from nltk.corpus import PlaintextCorpusReader   corpus_root   =   /tmp    wordlists   =  PlaintextCorpusReader ( corpus_root,  .* )   wordlists.fileids ()    \u5c31\u53ef\u4ee5\u5217\u51fa\u81ea\u5df1\u8bed\u6599\u5e93\u7684\u5404\u4e2a\u6587\u4ef6\u4e86\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528\u5982wordlists.sents('a.txt')\u548cwordlists.words('a.txt')\u7b49\u65b9\u6cd5\u6765\u83b7\u53d6\u53e5\u5b50\u548c\u8bcd\u4fe1\u606f", 
            "title": "\u52a0\u8f7d\u81ea\u5df1\u7684\u8bed\u6599\u5e93"
        }, 
        {
            "location": "/3.corpus/#_5", 
            "text": "\u6761\u4ef6\u5206\u5e03\u5927\u5bb6\u90fd\u6bd4\u8f83\u719f\u6089\u4e86\uff0c\u5c31\u662f\u5728\u4e00\u5b9a\u6761\u4ef6\u4e0b\u67d0\u4e2a\u4e8b\u4ef6\u7684\u6982\u7387\u5206\u5e03\u3002\u81ea\u7136\u8bed\u8a00\u7684\u6761\u4ef6\u9891\u7387\u5206\u5e03\u5c31\u662f\u6307\u5b9a\u6761\u4ef6\u4e0b\u67d0\u4e2a\u4e8b\u4ef6\u7684\u9891\u7387\u5206\u5e03\u3002  \u6bd4\u5982\u8981\u8f93\u51fa\u5728\u5e03\u6717\u8bed\u6599\u5e93\u4e2d\u6bcf\u4e2a\u7c7b\u522b\u6761\u4ef6\u4e0b\u6bcf\u4e2a\u8bcd\u7684\u6982\u7387\uff1a   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65 # coding:utf-8  import   sys  reload ( sys )  sys . setdefaultencoding (   utf-8   )  import   nltk  from   nltk.corpus   import   brown  # \u94fe\u8868\u63a8\u5bfc\u5f0f\uff0cgenre\u662fbrown\u8bed\u6599\u5e93\u91cc\u7684\u6240\u6709\u7c7b\u522b\u5217\u8868\uff0cword\u662f\u8fd9\u4e2a\u7c7b\u522b\u4e2d\u7684\u8bcd\u6c47\u5217\u8868  # (genre, word)\u5c31\u662f\u7c7b\u522b\u52a0\u8bcd\u6c47\u5bf9  genre_word   =   [( genre ,   word ) \n         for   genre   in   brown . categories () \n         for   word   in   brown . words ( categories = genre ) \n         ]  # \u521b\u5efa\u6761\u4ef6\u9891\u7387\u5206\u5e03  cfd   =   nltk . ConditionalFreqDist ( genre_word )  # \u6307\u5b9a\u6761\u4ef6\u548c\u6837\u672c\u4f5c\u56fe  cfd . plot ( \n         conditions = [ news , adventure ],  \n         samples = [ \n                 u stock ,  \n                 u sunbonnet ,  \n                 u Elevated ,  \n                 u narcotic ,  \n                 u four ,  \n                 u woods ,  \n                 u railing ,  \n                 u Until ,  \n                 u aggression ,  \n                 u marching ,  \n                 u looking ,  \n                 u eligible ,  \n                 u electricity ,  \n                 u $25-a-plate ,  \n                 u consulate ,  \n                 u Casey ,  \n                 u all-county ,  \n                 u Belgians ,  \n                 u Western ,  \n                 u 1959-60 ,  \n                 u Duhagon ,  \n                 u sinking ,  \n                 u 1,119 ,  \n                 u co-operation ,  \n                 u Famed ,  \n                 u regional ,  \n                 u Charitable ,  \n                 u appropriation ,  \n                 u yellow ,  \n                 u uncertain ,  \n                 u Heights ,  \n                 u bringing ,  \n                 u prize ,  \n                 u Loen ,  \n                 u Publique ,  \n                 u wooden ,  \n                 u Loeb ,   u 963 ,  \n                 u specialties ,  \n                 u Sands ,  \n                 u succession ,  \n                 u Paul ,  \n                 u Phyfe \n         ])    \u6ce8\u610f\uff1a\u8fd9\u91cc\u5982\u679c\u628aplot\u76f4\u63a5\u6362\u6210tabulate \uff0c\u90a3\u4e48\u5c31\u662f\u8f93\u51fa\u8868\u683c\u5f62\u5f0f\uff0c\u548c\u56fe\u50cf\u8868\u8fbe\u7684\u610f\u601d\u76f8\u540c  \u6211\u4eec\u8fd8\u53ef\u4ee5\u5229\u7528\u6761\u4ef6\u9891\u7387\u5206\u5e03\uff0c\u6309\u7167\u6700\u5927\u6761\u4ef6\u6982\u7387\u751f\u6210\u53cc\u8fde\u8bcd\uff0c\u6700\u7ec8\u751f\u6210\u4e00\u4e2a\u968f\u673a\u6587\u672c  \u8fd9\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528bigrams()\u51fd\u6570\uff0c\u5b83\u7684\u529f\u80fd\u662f\u751f\u6210\u8bcd\u5bf9\u94fe\u8868\u3002  \u521b\u5efapython\u6587\u4ef6\u5982\u4e0b\uff1a   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18 # coding:utf-8  import   sys  reload ( sys )  sys . setdefaultencoding (   utf-8   )  import   nltk  # \u5faa\u73af10\u6b21\uff0c\u4ececfdist\u4e2d\u53d6\u5f53\u524d\u5355\u8bcd\u6700\u5927\u6982\u7387\u7684\u8fde\u8bcd,\u5e76\u6253\u5370\u51fa\u6765  def   generate_model ( cfdist ,   word ,   num = 10 ): \n     for   i   in   range ( num ): \n         print   word , \n         word   =   cfdist [ word ] . max ()  # \u52a0\u8f7d\u8bed\u6599\u5e93  text   =   nltk . corpus . genesis . words ( english-kjv.txt )  # \u751f\u6210\u53cc\u8fde\u8bcd  bigrams   =   nltk . bigrams ( text )  # \u751f\u6210\u6761\u4ef6\u9891\u7387\u5206\u5e03  cfd   =   nltk . ConditionalFreqDist ( bigrams )  # \u4ee5the\u5f00\u5934\uff0c\u751f\u6210\u968f\u673a\u4e32  generate_model ( cfd ,   the )    \u6267\u884c\u6548\u679c\u5982\u4e0b\uff1a  1 the land of the land of the land of the   the\u7684\u6700\u5927\u6982\u7387\u7684\u53cc\u8fde\u8bcd\u662fland\uff0cland\u6700\u5927\u6982\u7387\u53cc\u8fde\u8bcd\u662fof\uff0cof\u6700\u5927\u6982\u7387\u53cc\u8fde\u8bcd\u662fthe\uff0c\u6240\u4ee5\u540e\u9762\u5c31\u5faa\u73af\u4e86", 
            "title": "\u6761\u4ef6\u9891\u7387\u5206\u5e03"
        }, 
        {
            "location": "/3.corpus/#_6", 
            "text": "\u6709\u4e00\u4e9b\u4ec5\u662f\u8bcd\u6216\u77ed\u8bed\u4ee5\u53ca\u4e00\u4e9b\u76f8\u5173\u4fe1\u606f\u7684\u96c6\u5408\uff0c\u53eb\u505a\u8bcd\u5178\u8d44\u6e90\u3002  \u8bcd\u6c47\u5217\u8868\u8bed\u6599\u5e93\uff1anltk.corpus.words.words()\uff0c\u6240\u6709\u82f1\u6587\u5355\u8bcd\uff0c\u8fd9\u4e2a\u53ef\u4ee5\u7528\u6765\u8bc6\u522b\u8bed\u6cd5\u9519\u8bef  \u505c\u7528\u8bcd\u8bed\u6599\u5e93\uff1anltk.corpus.stopwords.words\uff0c\u7528\u6765\u8bc6\u522b\u90a3\u4e9b\u6700\u9891\u7e41\u51fa\u73b0\u7684\u6ca1\u6709\u610f\u4e49\u7684\u8bcd  \u53d1\u97f3\u8bcd\u5178\uff1anltk.corpus.cmudict.dict()\uff0c\u7528\u6765\u8f93\u51fa\u6bcf\u4e2a\u82f1\u6587\u5355\u8bcd\u7684\u53d1\u97f3  \u6bd4\u8f83\u8bcd\u8868\uff1anltk.corpus.swadesh\uff0c\u591a\u79cd\u8bed\u8a00\u6838\u5fc3200\u591a\u4e2a\u8bcd\u7684\u5bf9\u7167\uff0c\u53ef\u4ee5\u4f5c\u4e3a\u8bed\u8a00\u7ffb\u8bd1\u7684\u57fa\u7840  \u540c\u4e49\u8bcd\u96c6\uff1aWordNet\uff0c\u9762\u5411\u8bed\u4e49\u7684\u82f1\u8bed\u8bcd\u5178\uff0c\u7531\u540c\u4e49\u8bcd\u96c6\u7ec4\u6210\uff0c\u5e76\u7ec4\u7ec7\u6210\u4e00\u4e2a\u7f51\u7edc", 
            "title": "\u5176\u4ed6\u8bcd\u5178\u8d44\u6e90"
        }, 
        {
            "location": "/4.pos-tagging/", 
            "text": "\u5168\u4eba\u5de5\u5bf9\u8bed\u6599\u505a\u8bcd\u6027\u6807\u6ce8\u5c31\u50cf\u8682\u8681\u4e00\u6837\u5fd9\u5fd9\u788c\u788c\uff0c\u662f\u975e\u5e38\u8017\u8d39\u58f0\u660e\u7684\uff0c\u5982\u679c\u6709\u4e00\u4e2a\u673a\u5668\u80fd\u591f\u5b8c\u5168\u81ea\u52a8\u5316\u5730\uff0c\u7ed9\u5b83\u4e00\u7bc7\u8bed\u6599\uff0c\u5b83\u8fc5\u901f\u7ed9\u4f60\u4e00\u7247\u6807\u6ce8\uff0c\u8fd9\u6837\u624d\u751a\u597d\uff0c\u672c\u8282\u5c31\u6765\u8ba8\u8bba\u4e00\u4e0b\u600e\u4e48\u6837\u80fd\u65e0\u9700\u52a8\u624b\u5bf9\u8bed\u6599\u505a\u81ea\u52a8\u5316\u7684\u8bcd\u6027\u6807\u6ce8 \n\n\n\u5148\u63d2\u5165\u4e2atips\uff1a\n\n\n\u82f1\u6587\u8bcd\u5e72\u63d0\u53d6\u5668\n\n\n1\n2\n3\n4\n import nltk\n\n \nporter\n \n=\n nltk.PorterStemmer\n()\n\n\n porter.stem\n(\nlying\n)\n\nu\nlie\n\n\n\n\n\n\n\n\u8bcd\u6027\u6807\u6ce8\u5668\n\n\n1\n2\n3\n4\n import nltk\n\n \ntext\n \n=\n nltk.word_tokenize\n(\nAnd now for something completely different\n)\n\n\n nltk.pos_tag\n(\ntext\n)\n\n\n[(\nAnd\n, \nCC\n)\n, \n(\nnow\n, \nRB\n)\n, \n(\nfor\n, \nIN\n)\n, \n(\nsomething\n, \nNN\n)\n, \n(\ncompletely\n, \nRB\n)\n, \n(\ndifferent\n, \nJJ\n)]\n\n\n\n\n\n\n\n\u5176\u4e2dCC\u662f\u8fde\u63a5\u8bcd\uff0cRB\u662f\u526f\u8bcd\uff0cIN\u662f\u4ecb\u8bcd\uff0cNN\u662f\u540d\u6b21\uff0cJJ\u662f\u5f62\u5bb9\u8bcd\n\n\n\u8fd9\u662f\u4e00\u53e5\u5b8c\u6574\u7684\u8bdd\uff0c\u5b9e\u9645\u4e0apos_tag\u662f\u5904\u7406\u4e00\u4e2a\u8bcd\u5e8f\u5217\uff0c\u4f1a\u6839\u636e\u53e5\u5b50\u6765\u52a8\u6001\u5224\u65ad\uff0c\u6bd4\u5982\uff1a\n\n\n1\n2\n3\n nltk.pos_tag\n([\ni\n,\nlove\n,\nyou\n])\n\n\n\n[(\ni\n, \nNN\n)\n, \n(\nlove\n, \nVBP\n)\n, \n(\nyou\n, \nPRP\n)]\n\n\n\n\n\n\n\n\u8fd9\u91cc\u7684love\u8bc6\u522b\u4e3a\u52a8\u8bcd\n\n\n\u800c\uff1a\n\n\n1\n2\n3\n nltk.pos_tag\n([\nlove\n,\nand\n,\nhate\n])\n\n\n\n[(\nlove\n, \nNN\n)\n, \n(\nand\n, \nCC\n)\n, \n(\nhate\n, \nNN\n)]\n\n\n\n\n\n\n\n\u8fd9\u91cc\u7684love\u8bc6\u522b\u4e3a\u540d\u8bcd\n\n\nnltk\u4e2d\u591a\u6570\u90fd\u662f\u82f1\u6587\u7684\u8bcd\u6027\u6807\u6ce8\u8bed\u6599\u5e93\uff0c\u5982\u679c\u6211\u4eec\u60f3\u81ea\u5df1\u6807\u6ce8\u4e00\u6279\u8bed\u6599\u5e93\u8be5\u600e\u4e48\u529e\u5462\uff1f\n\n\nnltk\u63d0\u4f9b\u4e86\u6bd4\u8f83\u65b9\u4fbf\u7684\u65b9\u6cd5\uff1a\n\n\n1\n2\n3\n \ntagged_token\n \n=\n nltk.tag.str2tuple\n(\nfly/NN\n)\n\n\n tagged_token\n\n(\nfly\n, \nNN\n)\n\n\n\n\n\n\n\n\u8fd9\u91cc\u7684\nnltk.tag.str2tuple\n\u53ef\u4ee5\u628a\nfly/NN\n\u8fd9\u79cd\u5b57\u7b26\u4e32\u8f6c\u6210\u4e00\u4e2a\u4e8c\u5143\u7ec4\uff0c\u4e8b\u5b9e\u4e0a\nnltk\n\u7684\u8bed\u6599\u5e93\u4e2d\u90fd\u662f\u8fd9\u79cd\u5b57\u7b26\u4e32\u5f62\u5f0f\u7684\u6807\u6ce8\uff0c\u90a3\u4e48\u6211\u4eec\u5982\u679c\u628a\u8bed\u6599\u5e93\u6807\u8bb0\u6210\uff1a\n\n\n1\n2\n3\n \nsent\n \n=\n \n\u6211/NN \u662f/IN \u4e00\u4e2a/AT \u5927/JJ \u50bb\u00d7/NN\n\n\n \n[\nnltk.tag.str2tuple\n(\nt\n)\n \nfor\n t in sent.split\n()]\n\n\n[(\n\\xe6\\x88\\x91\n, \nNN\n)\n, \n(\n\\xe6\\x98\\xaf\n, \nIN\n)\n, \n(\n\\xe4\\xb8\\x80\\xe4\\xb8\\xaa\n, \nAT\n)\n, \n(\n\\xe5\\xa4\\xa7\n, \nJJ\n)\n, \n(\n\\xe5\\x82\\xbb\\xc3\\x97\n, \nNN\n)]\n\n\n\n\n\n\n\n\u8fd9\u4e48\u8bf4\u6765\uff0c\u4e2d\u6587\u4e5f\u662f\u53ef\u4ee5\u652f\u6301\u7684\uff0c\u6069~\n\n\n\u6211\u4eec\u6765\u770b\u4e00\u4e0b\u5e03\u6717\u8bed\u6599\u5e93\u4e2d\u7684\u6807\u6ce8\uff1a\n\n\n1\n2\n nltk.corpus.brown.tagged_words\n()\n\n\n[(\nu\nThe\n, u\nAT\n)\n, \n(\nu\nFulton\n, u\nNP-TL\n)\n, ...\n]\n\n\n\n\n\n\n\n\u4e8b\u5b9e\u4e0anltk\u4e5f\u6709\u4e2d\u6587\u7684\u8bed\u6599\u5e93\uff0c\u6211\u4eec\u6765\u4e0b\u8f7d\u4e0b\u6765\uff1a\n\n\n\u6267\u884c\n\n\n1\nnltk.download\n()\n\n\n\n\n\n\n\n\u9009\u62e9\nCorpora\n\u91cc\u7684\nsinica_treebank\n\u4e0b\u8f7d\n\n\nsinica\n\u5c31\u662f\u53f0\u6e7e\u8bdd\u4e2d\u7684\u4e2d\u56fd\u7814\u7a76\u9662\n\n\n\u6211\u4eec\u770b\u4e00\u4e0b\u8fd9\u4e2a\u4e2d\u6587\u8bed\u6599\u5e93\u91cc\u6709\u4ec0\u4e48\u5185\u5bb9\uff0c\u521b\u5efacn_tag.py\uff0c\u5185\u5bb9\u5982\u4e0b\uff1a\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n# coding:utf-8\n\n\nimport sys\nreload\n(\nsys\n)\n\nsys.setdefaultencoding\n(\n \nutf-8\n \n)\n\nimport nltk\n\n\nfor\n word in nltk.corpus.sinica_treebank.tagged_words\n()\n:\n    print word\n[\n0\n]\n, word\n[\n1\n]\n\n\n\n\n\n\n\n\u6267\u884c\u540e\u8f93\u51fa\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n\u4e00 Neu\n\u53cb\u60c5 Nad\n\u5609\u73cd Nba\n\u548c Caa\n\u6211 Nhaa\n\u4f4f\u5728 VC1\n\u540c\u4e00\u689d DM\n\u5df7\u5b50 Nab\n\u6211\u5011 Nhaa\n\u662f V_11\n\u2026\u2026\n\n\n\n\n\n\n\u7b2c\u4e00\u5217\u662f\u4e2d\u6587\u7684\u8bcd\u6c47\uff0c\u7b2c\u4e8c\u5217\u662f\u6807\u6ce8\u597d\u7684\u8bcd\u6027\n\n\n\u6211\u4eec\u53d1\u73b0\u8fd9\u91cc\u9762\u90fd\u662f\u7e41\u4f53\uff0c\u56e0\u4e3a\u662f\u57fa\u4e8e\u53f0\u6e7e\u7684\u8bed\u6599\u751f\u6210\u7684\uff0c\u60f3\u8981\u7b80\u4f53\u4e2d\u6587\u8fd8\u5f97\u81ea\u5df1\u60f3\u529e\u6cd5\u3002\u4e0d\u8fc7\u6709\u4eba\u5df2\u7ecf\u5e2e\u6211\u4eec\u505a\u4e86\u8fd9\u90e8\u5206\u5de5\u4f5c\uff0c\u90a3\u5c31\u662fjieba\u5207\u8bcd\uff0chttps://github.com/fxsjy/jieba\uff0c\u5f3a\u70c8\u63a8\u8350\uff0c\u53ef\u4ee5\u81ea\u5df1\u52a0\u8f7d\u81ea\u5df1\u7684\u8bed\u6599\uff0c\u8fdb\u884c\u4e2d\u6587\u5207\u8bcd\uff0c\u5e76\u4e14\u80fd\u591f\u81ea\u52a8\u505a\u8bcd\u6027\u6807\u6ce8\n\n\n\u8bcd\u6027\u81ea\u52a8\u6807\u6ce8\n\n\n\u9762\u5bf9\u4e00\u7247\u65b0\u7684\u8bed\u6599\u5e93(\u6bd4\u5982\u6211\u4eec\u4ece\u672a\u5904\u7406\u8fc7\u4e2d\u6587\uff0c\u53ea\u6709\u4e00\u6279\u6279\u7684\u4e2d\u6587\u8bed\u6599\uff0c\u73b0\u5728\u8ba9\u6211\u4eec\u505a\u8bcd\u6027\u81ea\u52a8\u6807\u6ce8)\uff0c\u5982\u4f55\u5b9e\u73b0\u8bcd\u6027\u81ea\u52a8\u6807\u6ce8\uff1f\u6709\u5982\u4e0b\u51e0\u79cd\u6807\u6ce8\u65b9\u6cd5\uff1a\n\n\n\u9ed8\u8ba4\u6807\u6ce8\u5668\uff1a\u4e0d\u7ba1\u4ec0\u4e48\u8bcd\uff0c\u90fd\u6807\u6ce8\u4e3a\u9891\u7387\u6700\u9ad8\u7684\u4e00\u79cd\u8bcd\u6027\u3002\u6bd4\u5982\u7ecf\u8fc7\u5206\u6790\uff0c\u6240\u6709\u4e2d\u6587\u8bed\u6599\u91cc\u7684\u8bcd\u662f\u540d\u6b21\u7684\u6982\u7387\u662f13%\u6700\u5927\uff0c\u90a3\u4e48\u6211\u4eec\u7684\u9ed8\u8ba4\u6807\u6ce8\u5668\u5c31\u5168\u90e8\u6807\u6ce8\u4e3a\u540d\u6b21\u3002\u8fd9\u79cd\u6807\u6ce8\u5668\u4e00\u822c\u4f5c\u4e3a\u5176\u4ed6\u6807\u6ce8\u5668\u5904\u7406\u4e4b\u540e\u7684\u6700\u540e\u4e00\u9053\u95e8\uff0c\u5373\uff1a\u4e0d\u77e5\u9053\u662f\u4ec0\u4e48\u8bcd\uff1f\u90a3\u4e48\u4ed6\u662f\u540d\u6b21\u3002\u9ed8\u8ba4\u6807\u6ce8\u5668\u7528DefaultTagger\u6765\u5b9e\u73b0\uff0c\u5177\u4f53\u7528\u6cd5\u5982\u4e0b\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n# coding:utf-8\n\n\n\nimport\n \nsys\n\n\nreload\n(\nsys\n)\n\n\nsys\n.\nsetdefaultencoding\n(\n \nutf-8\n \n)\n\n\nimport\n \nnltk\n\n\n\ndefault_tagger\n \n=\n \nnltk\n.\nDefaultTagger\n(\nNN\n)\n\n\nraw\n \n=\n \n\u6211 \u7d2f \u4e2a \u53bb\n\n\ntokens\n \n=\n \nnltk\n.\nword_tokenize\n(\nraw\n)\n\n\ntags\n \n=\n \ndefault_tagger\n.\ntag\n(\ntokens\n)\n\n\nprint\n \ntags\n\n\n\u6267\u884c\u540e\u8f93\u51fa\uff1a\n\n\n\n[(\n\\xe6\\x88\\x91\n,\n \nNN\n),\n \n(\n\\xe7\\xb4\\xaf\n,\n \nNN\n),\n \n(\n\\xe4\\xb8\\xaa\n,\n \nNN\n),\n \n(\n\\xe5\\x8e\\xbb\n,\n \nNN\n)]\n\n\n\n\n\n\n\n\u6b63\u5219\u8868\u8fbe\u5f0f\u6807\u6ce8\u5668\uff1a\u6ee1\u8db3\u7279\u5b9a\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u8ba4\u4e3a\u662f\u67d0\u79cd\u8bcd\u6027\uff0c\u6bd4\u5982\u51e1\u662f\u5e26\u201c\u4eec\u201d\u7684\u90fd\u8ba4\u4e3a\u662f\u4ee3\u8bcd(PRO)\u3002\u6b63\u5219\u8868\u8fbe\u5f0f\u6807\u6ce8\u5668\u901aRegexpTagge\u5b9e\u73b0\uff0c\u7528\u6cd5\u5982\u4e0b\uff1a\n\n\n1\n2\n3\npattern\n \n=\n \n[(\nr\n.*\u4eec$\n,\nPRO\n)]\n\n\ntagger\n \n=\n \nnltk\n.\nRegexpTagger\n(\npattern\n)\n\n\nprint\n \ntagger\n.\ntag\n(\nnltk\n.\nword_tokenize\n(\n\u6211\u4eec \u7d2f \u4e2a \u53bb \u4f60\u4eec \u548c \u4ed6\u4eec \u554a\n))\n\n\n\n\n\n\n\n\u6267\u884c\u540e\u8f93\u51fa\uff1a\n\n\n1\n[(\n\\xe6\\x88\\x91\\xe4\\xbb\\xac\n,\n \nPRO\n),\n \n(\n\\xe7\\xb4\\xaf\n,\n \nNone\n),\n \n(\n\\xe4\\xb8\\xaa\n,\n \nNone\n),\n \n(\n\\xe5\\x8e\\xbb\n,\n \nNone\n),\n \n(\n\\xe4\\xbd\\xa0\\xe4\\xbb\\xac\n,\n \nPRO\n),\n \n(\n\\xe5\\x92\\x8c\n,\n \nNone\n),\n \n(\n\\xe4\\xbb\\x96\\xe4\\xbb\\xac\n,\n \nPRO\n),\n \n(\n\\xe5\\x95\\x8a\n,\n \nNone\n)]\n\n\n\n\n\n\n\n\u67e5\u8be2\u6807\u6ce8\u5668\uff1a\u627e\u51fa\u6700\u9891\u7e41\u7684n\u4e2a\u8bcd\u4ee5\u53ca\u5b83\u7684\u8bcd\u6027\uff0c\u7136\u540e\u7528\u8fd9\u4e2a\u4fe1\u606f\u53bb\u67e5\u627e\u8bed\u6599\u5e93\uff0c\u5339\u914d\u7684\u5c31\u6807\u8bb0\u4e0a\uff0c\u5269\u4f59\u7684\u8bcd\u4f7f\u7528\u9ed8\u8ba4\u6807\u6ce8\u5668(\u56de\u9000)\u3002\u8fd9\u4e00\u822c\u4f7f\u7528\u4e00\u5143\u6807\u6ce8\u7684\u65b9\u5f0f\uff0c\u89c1\u4e0b\u9762\u3002\n\n\n\u4e00\u5143\u6807\u6ce8\uff1a\u57fa\u4e8e\u5df2\u7ecf\u6807\u6ce8\u7684\u8bed\u6599\u5e93\u505a\u8bad\u7ec3\uff0c\u7136\u540e\u7528\u8bad\u7ec3\u597d\u7684\u6a21\u578b\u6765\u6807\u6ce8\u65b0\u7684\u8bed\u6599\uff0c\u4f7f\u7528\u65b9\u6cd5\u5982\u4e0b\uff1a\n\n\n1\n2\n3\n4\n5\n6\ntagged_sents\n \n=\n \n[[(\nu\n\u6211\n,\n \nu\nPRO\n),\n \n(\nu\n\u5c0f\u5154\n,\n \nu\nNN\n)]]\n\n\nunigram_tagger\n \n=\n \nnltk\n.\nUnigramTagger\n(\ntagged_sents\n)\n\n\nsents\n \n=\n \nbrown\n.\nsents\n(\ncategories\n=\nnews\n)\n\n\nsents\n \n=\n \n[[\nu\n\u6211\n,\n \nu\n\u4f60\n,\n \nu\n\u5c0f\u5154\n]]\n\n\ntags\n \n=\n \nunigram_tagger\n.\ntag\n(\nsents\n[\n0\n])\n\n\nprint\n \ntags\n\n\n\n\n\n\n\n\u8f93\u51fa\u7ed3\u679c\u5982\u4e0b\uff1a\n\n\n1\n[(\nu\n\\u6211\n,\n \nu\nPRO\n),\n \n(\nu\n\\u4f60\n,\n \nNone\n),\n \n(\nu\n\\u5c0f\\u5154\n,\n \nu\nNN\n)]\n\n\n\n\n\n\n\n\u8fd9\u91cc\u7684\ntagged_sents\n\u662f\u7528\u4e8e\u8bad\u7ec3\u7684\u8bed\u6599\u5e93\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u76f4\u63a5\u7528\u5df2\u6709\u7684\u6807\u6ce8\u597d\u7684\u8bed\u6599\u5e93\uff0c\u6bd4\u5982\uff1a\n\n\n1\nbrown_tagged_sents = brown.tagged_sents(categories=\nnews\n)\n\n\n\n\n\n\n\u4e8c\u5143\u6807\u6ce8\u548c\u591a\u5143\u6807\u6ce8\uff1a\u4e00\u5143\u6807\u6ce8\u6307\u7684\u662f\u53ea\u8003\u8651\u5f53\u524d\u8fd9\u4e2a\u8bcd\uff0c\u4e0d\u8003\u8651\u4e0a\u4e0b\u6587\u3002\u4e8c\u5143\u6807\u6ce8\u5668\u6307\u7684\u662f\u8003\u8651\u5b83\u524d\u9762\u7684\u8bcd\u7684\u6807\u6ce8\uff0c\u7528\u6cd5\u53ea\u9700\u8981\u628a\u4e0a\u9762\u7684\nUnigramTagger\n\u6362\u6210\nBigramTagger\n\u3002\u540c\u7406\u4e09\u5143\u6807\u6ce8\u6362\u6210\nTrigramTagger\n\n\n\u7ec4\u5408\u6807\u6ce8\u5668\uff1a\u4e3a\u4e86\u63d0\u9ad8\u7cbe\u5ea6\u548c\u8986\u76d6\u7387\uff0c\u6211\u4eec\u5bf9\u591a\u79cd\u6807\u6ce8\u5668\u7ec4\u5408\uff0c\u6bd4\u5982\u7ec4\u5408\u4e8c\u5143\u6807\u6ce8\u5668\u3001\u4e00\u5143\u6807\u6ce8\u5668\u548c\u9ed8\u8ba4\u6807\u6ce8\u5668\uff0c\u5982\u4e0b\uff1a\n\n\n1\n2\n3\nt0\n \n=\n \nnltk\n.\nDefaultTagger\n(\nNN\n)\n\n\nt1\n \n=\n \nnltk\n.\nUnigramTagger\n(\ntrain_sents\n,\n \nbackoff\n=\nt0\n)\n \n\nt2\n \n=\n \nnltk\n.\nBigramTagger\n(\ntrain_sents\n,\n \nbackoff\n=\nt1\n)\n \n\n\n\n\n\n\n\u6807\u6ce8\u5668\u7684\u5b58\u50a8\uff1a\u8bad\u7ec3\u597d\u7684\u6807\u6ce8\u5668\u4e3a\u4e86\u6301\u4e45\u5316\uff0c\u53ef\u4ee5\u5b58\u50a8\u5230\u786c\u76d8\uff0c\u5177\u4f53\u65b9\u6cd5\u5982\u4e0b\uff1a\n\n\n1\n2\n3\n4\n \nfrom\n \ncPickle\n \nimport\n \ndump\n\n\n \noutput\n \n=\n \nopen\n(\nt2.pkl\n,\n \nwb\n)\n\n\n \ndump\n(\nt2\n,\n \noutput\n,\n \n-\n1\n)\n\n\n \noutput\n.\nclose\n()\n\n\n\n\n\n\n\n\u4f7f\u7528\u65f6\u4e5f\u53ef\u4ee5\u52a0\u8f7d\uff0c\u5982\u4e0b\uff1a\n\n\n1\n2\n3\n4\n \nfrom\n \ncPickle\n \nimport\n \nload\n \n\n \ninput\n \n=\n \nopen\n(\nt2.pkl\n,\n \nrb\n)\n \n\n \ntagger\n \n=\n \nload\n(\ninput\n)\n \n\n \ninput\n.\nclose\n()", 
            "title": "\u56db-\u81ea\u52a8\u5316\u8bcd\u6027\u6807\u6ce8"
        }, 
        {
            "location": "/4.pos-tagging/#_1", 
            "text": "1\n2\n3\n4  import nltk   porter   =  nltk.PorterStemmer ()   porter.stem ( lying ) \nu lie", 
            "title": "\u82f1\u6587\u8bcd\u5e72\u63d0\u53d6\u5668"
        }, 
        {
            "location": "/4.pos-tagging/#_2", 
            "text": "1\n2\n3\n4  import nltk   text   =  nltk.word_tokenize ( And now for something completely different )   nltk.pos_tag ( text )  [( And ,  CC ) ,  ( now ,  RB ) ,  ( for ,  IN ) ,  ( something ,  NN ) ,  ( completely ,  RB ) ,  ( different ,  JJ )]    \u5176\u4e2dCC\u662f\u8fde\u63a5\u8bcd\uff0cRB\u662f\u526f\u8bcd\uff0cIN\u662f\u4ecb\u8bcd\uff0cNN\u662f\u540d\u6b21\uff0cJJ\u662f\u5f62\u5bb9\u8bcd  \u8fd9\u662f\u4e00\u53e5\u5b8c\u6574\u7684\u8bdd\uff0c\u5b9e\u9645\u4e0apos_tag\u662f\u5904\u7406\u4e00\u4e2a\u8bcd\u5e8f\u5217\uff0c\u4f1a\u6839\u636e\u53e5\u5b50\u6765\u52a8\u6001\u5224\u65ad\uff0c\u6bd4\u5982\uff1a  1\n2\n3  nltk.pos_tag ([ i , love , you ])  [( i ,  NN ) ,  ( love ,  VBP ) ,  ( you ,  PRP )]    \u8fd9\u91cc\u7684love\u8bc6\u522b\u4e3a\u52a8\u8bcd  \u800c\uff1a  1\n2\n3  nltk.pos_tag ([ love , and , hate ])  [( love ,  NN ) ,  ( and ,  CC ) ,  ( hate ,  NN )]    \u8fd9\u91cc\u7684love\u8bc6\u522b\u4e3a\u540d\u8bcd  nltk\u4e2d\u591a\u6570\u90fd\u662f\u82f1\u6587\u7684\u8bcd\u6027\u6807\u6ce8\u8bed\u6599\u5e93\uff0c\u5982\u679c\u6211\u4eec\u60f3\u81ea\u5df1\u6807\u6ce8\u4e00\u6279\u8bed\u6599\u5e93\u8be5\u600e\u4e48\u529e\u5462\uff1f  nltk\u63d0\u4f9b\u4e86\u6bd4\u8f83\u65b9\u4fbf\u7684\u65b9\u6cd5\uff1a  1\n2\n3   tagged_token   =  nltk.tag.str2tuple ( fly/NN )   tagged_token ( fly ,  NN )    \u8fd9\u91cc\u7684 nltk.tag.str2tuple \u53ef\u4ee5\u628a fly/NN \u8fd9\u79cd\u5b57\u7b26\u4e32\u8f6c\u6210\u4e00\u4e2a\u4e8c\u5143\u7ec4\uff0c\u4e8b\u5b9e\u4e0a nltk \u7684\u8bed\u6599\u5e93\u4e2d\u90fd\u662f\u8fd9\u79cd\u5b57\u7b26\u4e32\u5f62\u5f0f\u7684\u6807\u6ce8\uff0c\u90a3\u4e48\u6211\u4eec\u5982\u679c\u628a\u8bed\u6599\u5e93\u6807\u8bb0\u6210\uff1a  1\n2\n3   sent   =   \u6211/NN \u662f/IN \u4e00\u4e2a/AT \u5927/JJ \u50bb\u00d7/NN    [ nltk.tag.str2tuple ( t )   for  t in sent.split ()]  [( \\xe6\\x88\\x91 ,  NN ) ,  ( \\xe6\\x98\\xaf ,  IN ) ,  ( \\xe4\\xb8\\x80\\xe4\\xb8\\xaa ,  AT ) ,  ( \\xe5\\xa4\\xa7 ,  JJ ) ,  ( \\xe5\\x82\\xbb\\xc3\\x97 ,  NN )]    \u8fd9\u4e48\u8bf4\u6765\uff0c\u4e2d\u6587\u4e5f\u662f\u53ef\u4ee5\u652f\u6301\u7684\uff0c\u6069~  \u6211\u4eec\u6765\u770b\u4e00\u4e0b\u5e03\u6717\u8bed\u6599\u5e93\u4e2d\u7684\u6807\u6ce8\uff1a  1\n2  nltk.corpus.brown.tagged_words ()  [( u The , u AT ) ,  ( u Fulton , u NP-TL ) , ... ]    \u4e8b\u5b9e\u4e0anltk\u4e5f\u6709\u4e2d\u6587\u7684\u8bed\u6599\u5e93\uff0c\u6211\u4eec\u6765\u4e0b\u8f7d\u4e0b\u6765\uff1a  \u6267\u884c  1 nltk.download ()    \u9009\u62e9 Corpora \u91cc\u7684 sinica_treebank \u4e0b\u8f7d  sinica \u5c31\u662f\u53f0\u6e7e\u8bdd\u4e2d\u7684\u4e2d\u56fd\u7814\u7a76\u9662  \u6211\u4eec\u770b\u4e00\u4e0b\u8fd9\u4e2a\u4e2d\u6587\u8bed\u6599\u5e93\u91cc\u6709\u4ec0\u4e48\u5185\u5bb9\uff0c\u521b\u5efacn_tag.py\uff0c\u5185\u5bb9\u5982\u4e0b\uff1a  1\n2\n3\n4\n5\n6\n7\n8\n9 # coding:utf-8 \n\nimport sys\nreload ( sys ) \nsys.setdefaultencoding (   utf-8   ) \nimport nltk for  word in nltk.corpus.sinica_treebank.tagged_words () :\n    print word [ 0 ] , word [ 1 ]    \u6267\u884c\u540e\u8f93\u51fa\uff1a   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11 \u4e00 Neu\n\u53cb\u60c5 Nad\n\u5609\u73cd Nba\n\u548c Caa\n\u6211 Nhaa\n\u4f4f\u5728 VC1\n\u540c\u4e00\u689d DM\n\u5df7\u5b50 Nab\n\u6211\u5011 Nhaa\n\u662f V_11\n\u2026\u2026   \u7b2c\u4e00\u5217\u662f\u4e2d\u6587\u7684\u8bcd\u6c47\uff0c\u7b2c\u4e8c\u5217\u662f\u6807\u6ce8\u597d\u7684\u8bcd\u6027  \u6211\u4eec\u53d1\u73b0\u8fd9\u91cc\u9762\u90fd\u662f\u7e41\u4f53\uff0c\u56e0\u4e3a\u662f\u57fa\u4e8e\u53f0\u6e7e\u7684\u8bed\u6599\u751f\u6210\u7684\uff0c\u60f3\u8981\u7b80\u4f53\u4e2d\u6587\u8fd8\u5f97\u81ea\u5df1\u60f3\u529e\u6cd5\u3002\u4e0d\u8fc7\u6709\u4eba\u5df2\u7ecf\u5e2e\u6211\u4eec\u505a\u4e86\u8fd9\u90e8\u5206\u5de5\u4f5c\uff0c\u90a3\u5c31\u662fjieba\u5207\u8bcd\uff0chttps://github.com/fxsjy/jieba\uff0c\u5f3a\u70c8\u63a8\u8350\uff0c\u53ef\u4ee5\u81ea\u5df1\u52a0\u8f7d\u81ea\u5df1\u7684\u8bed\u6599\uff0c\u8fdb\u884c\u4e2d\u6587\u5207\u8bcd\uff0c\u5e76\u4e14\u80fd\u591f\u81ea\u52a8\u505a\u8bcd\u6027\u6807\u6ce8", 
            "title": "\u8bcd\u6027\u6807\u6ce8\u5668"
        }, 
        {
            "location": "/4.pos-tagging/#_3", 
            "text": "\u9762\u5bf9\u4e00\u7247\u65b0\u7684\u8bed\u6599\u5e93(\u6bd4\u5982\u6211\u4eec\u4ece\u672a\u5904\u7406\u8fc7\u4e2d\u6587\uff0c\u53ea\u6709\u4e00\u6279\u6279\u7684\u4e2d\u6587\u8bed\u6599\uff0c\u73b0\u5728\u8ba9\u6211\u4eec\u505a\u8bcd\u6027\u81ea\u52a8\u6807\u6ce8)\uff0c\u5982\u4f55\u5b9e\u73b0\u8bcd\u6027\u81ea\u52a8\u6807\u6ce8\uff1f\u6709\u5982\u4e0b\u51e0\u79cd\u6807\u6ce8\u65b9\u6cd5\uff1a  \u9ed8\u8ba4\u6807\u6ce8\u5668\uff1a\u4e0d\u7ba1\u4ec0\u4e48\u8bcd\uff0c\u90fd\u6807\u6ce8\u4e3a\u9891\u7387\u6700\u9ad8\u7684\u4e00\u79cd\u8bcd\u6027\u3002\u6bd4\u5982\u7ecf\u8fc7\u5206\u6790\uff0c\u6240\u6709\u4e2d\u6587\u8bed\u6599\u91cc\u7684\u8bcd\u662f\u540d\u6b21\u7684\u6982\u7387\u662f13%\u6700\u5927\uff0c\u90a3\u4e48\u6211\u4eec\u7684\u9ed8\u8ba4\u6807\u6ce8\u5668\u5c31\u5168\u90e8\u6807\u6ce8\u4e3a\u540d\u6b21\u3002\u8fd9\u79cd\u6807\u6ce8\u5668\u4e00\u822c\u4f5c\u4e3a\u5176\u4ed6\u6807\u6ce8\u5668\u5904\u7406\u4e4b\u540e\u7684\u6700\u540e\u4e00\u9053\u95e8\uff0c\u5373\uff1a\u4e0d\u77e5\u9053\u662f\u4ec0\u4e48\u8bcd\uff1f\u90a3\u4e48\u4ed6\u662f\u540d\u6b21\u3002\u9ed8\u8ba4\u6807\u6ce8\u5668\u7528DefaultTagger\u6765\u5b9e\u73b0\uff0c\u5177\u4f53\u7528\u6cd5\u5982\u4e0b\uff1a   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15 # coding:utf-8  import   sys  reload ( sys )  sys . setdefaultencoding (   utf-8   )  import   nltk  default_tagger   =   nltk . DefaultTagger ( NN )  raw   =   \u6211 \u7d2f \u4e2a \u53bb  tokens   =   nltk . word_tokenize ( raw )  tags   =   default_tagger . tag ( tokens )  print   tags  \u6267\u884c\u540e\u8f93\u51fa\uff1a  [( \\xe6\\x88\\x91 ,   NN ),   ( \\xe7\\xb4\\xaf ,   NN ),   ( \\xe4\\xb8\\xaa ,   NN ),   ( \\xe5\\x8e\\xbb ,   NN )]    \u6b63\u5219\u8868\u8fbe\u5f0f\u6807\u6ce8\u5668\uff1a\u6ee1\u8db3\u7279\u5b9a\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u8ba4\u4e3a\u662f\u67d0\u79cd\u8bcd\u6027\uff0c\u6bd4\u5982\u51e1\u662f\u5e26\u201c\u4eec\u201d\u7684\u90fd\u8ba4\u4e3a\u662f\u4ee3\u8bcd(PRO)\u3002\u6b63\u5219\u8868\u8fbe\u5f0f\u6807\u6ce8\u5668\u901aRegexpTagge\u5b9e\u73b0\uff0c\u7528\u6cd5\u5982\u4e0b\uff1a  1\n2\n3 pattern   =   [( r .*\u4eec$ , PRO )]  tagger   =   nltk . RegexpTagger ( pattern )  print   tagger . tag ( nltk . word_tokenize ( \u6211\u4eec \u7d2f \u4e2a \u53bb \u4f60\u4eec \u548c \u4ed6\u4eec \u554a ))    \u6267\u884c\u540e\u8f93\u51fa\uff1a  1 [( \\xe6\\x88\\x91\\xe4\\xbb\\xac ,   PRO ),   ( \\xe7\\xb4\\xaf ,   None ),   ( \\xe4\\xb8\\xaa ,   None ),   ( \\xe5\\x8e\\xbb ,   None ),   ( \\xe4\\xbd\\xa0\\xe4\\xbb\\xac ,   PRO ),   ( \\xe5\\x92\\x8c ,   None ),   ( \\xe4\\xbb\\x96\\xe4\\xbb\\xac ,   PRO ),   ( \\xe5\\x95\\x8a ,   None )]    \u67e5\u8be2\u6807\u6ce8\u5668\uff1a\u627e\u51fa\u6700\u9891\u7e41\u7684n\u4e2a\u8bcd\u4ee5\u53ca\u5b83\u7684\u8bcd\u6027\uff0c\u7136\u540e\u7528\u8fd9\u4e2a\u4fe1\u606f\u53bb\u67e5\u627e\u8bed\u6599\u5e93\uff0c\u5339\u914d\u7684\u5c31\u6807\u8bb0\u4e0a\uff0c\u5269\u4f59\u7684\u8bcd\u4f7f\u7528\u9ed8\u8ba4\u6807\u6ce8\u5668(\u56de\u9000)\u3002\u8fd9\u4e00\u822c\u4f7f\u7528\u4e00\u5143\u6807\u6ce8\u7684\u65b9\u5f0f\uff0c\u89c1\u4e0b\u9762\u3002  \u4e00\u5143\u6807\u6ce8\uff1a\u57fa\u4e8e\u5df2\u7ecf\u6807\u6ce8\u7684\u8bed\u6599\u5e93\u505a\u8bad\u7ec3\uff0c\u7136\u540e\u7528\u8bad\u7ec3\u597d\u7684\u6a21\u578b\u6765\u6807\u6ce8\u65b0\u7684\u8bed\u6599\uff0c\u4f7f\u7528\u65b9\u6cd5\u5982\u4e0b\uff1a  1\n2\n3\n4\n5\n6 tagged_sents   =   [[( u \u6211 ,   u PRO ),   ( u \u5c0f\u5154 ,   u NN )]]  unigram_tagger   =   nltk . UnigramTagger ( tagged_sents )  sents   =   brown . sents ( categories = news )  sents   =   [[ u \u6211 ,   u \u4f60 ,   u \u5c0f\u5154 ]]  tags   =   unigram_tagger . tag ( sents [ 0 ])  print   tags    \u8f93\u51fa\u7ed3\u679c\u5982\u4e0b\uff1a  1 [( u \\u6211 ,   u PRO ),   ( u \\u4f60 ,   None ),   ( u \\u5c0f\\u5154 ,   u NN )]    \u8fd9\u91cc\u7684 tagged_sents \u662f\u7528\u4e8e\u8bad\u7ec3\u7684\u8bed\u6599\u5e93\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u76f4\u63a5\u7528\u5df2\u6709\u7684\u6807\u6ce8\u597d\u7684\u8bed\u6599\u5e93\uff0c\u6bd4\u5982\uff1a  1 brown_tagged_sents = brown.tagged_sents(categories= news )   \u4e8c\u5143\u6807\u6ce8\u548c\u591a\u5143\u6807\u6ce8\uff1a\u4e00\u5143\u6807\u6ce8\u6307\u7684\u662f\u53ea\u8003\u8651\u5f53\u524d\u8fd9\u4e2a\u8bcd\uff0c\u4e0d\u8003\u8651\u4e0a\u4e0b\u6587\u3002\u4e8c\u5143\u6807\u6ce8\u5668\u6307\u7684\u662f\u8003\u8651\u5b83\u524d\u9762\u7684\u8bcd\u7684\u6807\u6ce8\uff0c\u7528\u6cd5\u53ea\u9700\u8981\u628a\u4e0a\u9762\u7684 UnigramTagger \u6362\u6210 BigramTagger \u3002\u540c\u7406\u4e09\u5143\u6807\u6ce8\u6362\u6210 TrigramTagger  \u7ec4\u5408\u6807\u6ce8\u5668\uff1a\u4e3a\u4e86\u63d0\u9ad8\u7cbe\u5ea6\u548c\u8986\u76d6\u7387\uff0c\u6211\u4eec\u5bf9\u591a\u79cd\u6807\u6ce8\u5668\u7ec4\u5408\uff0c\u6bd4\u5982\u7ec4\u5408\u4e8c\u5143\u6807\u6ce8\u5668\u3001\u4e00\u5143\u6807\u6ce8\u5668\u548c\u9ed8\u8ba4\u6807\u6ce8\u5668\uff0c\u5982\u4e0b\uff1a  1\n2\n3 t0   =   nltk . DefaultTagger ( NN )  t1   =   nltk . UnigramTagger ( train_sents ,   backoff = t0 )   t2   =   nltk . BigramTagger ( train_sents ,   backoff = t1 )     \u6807\u6ce8\u5668\u7684\u5b58\u50a8\uff1a\u8bad\u7ec3\u597d\u7684\u6807\u6ce8\u5668\u4e3a\u4e86\u6301\u4e45\u5316\uff0c\u53ef\u4ee5\u5b58\u50a8\u5230\u786c\u76d8\uff0c\u5177\u4f53\u65b9\u6cd5\u5982\u4e0b\uff1a  1\n2\n3\n4   from   cPickle   import   dump    output   =   open ( t2.pkl ,   wb )    dump ( t2 ,   output ,   - 1 )    output . close ()    \u4f7f\u7528\u65f6\u4e5f\u53ef\u4ee5\u52a0\u8f7d\uff0c\u5982\u4e0b\uff1a  1\n2\n3\n4   from   cPickle   import   load     input   =   open ( t2.pkl ,   rb )     tagger   =   load ( input )     input . close ()", 
            "title": "\u8bcd\u6027\u81ea\u52a8\u6807\u6ce8"
        }, 
        {
            "location": "/5.text-classification/", 
            "text": "\u6587\u672c\u5206\u7c7b\u662f\u673a\u5668\u5b66\u4e60\u5728\u81ea\u7136\u8bed\u8a00\u5904\u7406\u4e2d\u7684\u6700\u5e38\u7528\u4e5f\u662f\u6700\u57fa\u7840\u7684\u5e94\u7528\uff0c\u673a\u5668\u5b66\u4e60\u76f8\u5173\u5185\u5bb9\u53ef\u4ee5\u76f4\u63a5\u770b\u6211\u7684\u6709\u5173scikit-learn\u76f8\u5173\u6559\u7a0b\uff0c\u672c\u8282\u76f4\u63a5\u6d89\u53canltk\u4e2d\u7684\u673a\u5668\u5b66\u4e60\u76f8\u5173\u5185\u5bb9 \n\n\n\u5148\u6765\u4e00\u6bb5\u524d\u620f\n\n\n\u673a\u5668\u5b66\u4e60\u7684\u8fc7\u7a0b\u662f\u8bad\u7ec3\u6a21\u578b\u548c\u4f7f\u7528\u6a21\u578b\u7684\u8fc7\u7a0b\uff0c\u8bad\u7ec3\u5c31\u662f\u57fa\u4e8e\u5df2\u77e5\u6570\u636e\u505a\u7edf\u8ba1\u5b66\u4e60\uff0c\u4f7f\u7528\u5c31\u662f\u7528\u7edf\u8ba1\u5b66\u4e60\u597d\u7684\u6a21\u578b\u6765\u8ba1\u7b97\u672a\u77e5\u7684\u6570\u636e\u3002\n\n\n\u673a\u5668\u5b66\u4e60\u5206\u4e3a\u6709\u76d1\u7763\u5b66\u4e60\u548c\u65e0\u76d1\u7763\u5b66\u4e60\uff0c\u6587\u672c\u5206\u7c7b\u4e5f\u5206\u4e3a\u6709\u76d1\u7763\u7684\u5206\u7c7b\u548c\u65e0\u76d1\u7763\u7684\u5206\u7c7b\u3002\u6709\u76d1\u7763\u5c31\u662f\u8bad\u7ec3\u7684\u6837\u672c\u6570\u636e\u6709\u4e86\u786e\u5b9a\u7684\u5224\u65ad\uff0c\u57fa\u4e8e\u8fd9\u4e9b\u5df2\u6709\u7684\u5224\u65ad\u6765\u65ad\u5b9a\u65b0\u7684\u6570\u636e\uff0c\u65e0\u76d1\u7763\u5c31\u662f\u8bad\u7ec3\u7684\u6837\u672c\u6570\u636e\u6ca1\u6709\u4ec0\u4e48\u5224\u65ad\uff0c\u5b8c\u5168\u81ea\u53d1\u7684\u751f\u6210\u7ed3\u8bba\u3002\n\n\n\u65e0\u8bba\u76d1\u7763\u5b66\u4e60\u8fd8\u662f\u65e0\u76d1\u7763\u5b66\u4e60\uff0c\u90fd\u662f\u901a\u8fc7\u67d0\u79cd\u7b97\u6cd5\u6765\u5b9e\u73b0\uff0c\u800c\u8fd9\u79cd\u7b97\u6cd5\u53ef\u4ee5\u6709\u591a\u91cd\u9009\u62e9\uff0c\u8d1d\u53f6\u65af\u5c31\u662f\u5176\u4e2d\u4e00\u79cd\u3002\u5728\u591a\u79cd\u7b97\u6cd5\u4e2d\u5982\u4f55\u9009\u62e9\u6700\u9002\u5408\u7684\uff0c\u8fd9\u624d\u662f\u673a\u5668\u5b66\u4e60\u6700\u96be\u7684\u4e8b\u60c5\uff0c\u4e5f\u662f\u6700\u9ad8\u5883\u754c\u3002\n\n\nnltk\u4e2d\u7684\u8d1d\u53f6\u65af\u5206\u7c7b\u5668\n\n\n\u8d1d\u53f6\u65af\u662f\u6982\u7387\u8bba\u7684\u9f3b\u7956\uff0c\u8d1d\u53f6\u65af\u5b9a\u7406\u662f\u5173\u4e8e\u968f\u673a\u4e8b\u4ef6\u7684\u6761\u4ef6\u6982\u7387\u7684\u4e00\u5219\u5b9a\u7406\uff0c\u8d1d\u53f6\u65af\u516c\u5f0f\u662f\uff1a\n\n\n1\nP(B|A)=P(A|B)P(B)/P(A)\uff1b\u5373,\u5df2\u77e5P(A|B)\uff0cP(A)\u548cP(B)\u53ef\u4ee5\u8ba1\u7b97\u51faP(B|A)\u3002\n\n\n\n\n\n\n\u8d1d\u53f6\u65af\u5206\u7c7b\u5668\u5c31\u662f\u57fa\u4e8e\u8d1d\u53f6\u65af\u6982\u7387\u7406\u8bba\u8bbe\u8ba1\u7684\u5206\u7c7b\u5668\u7b97\u6cd5\uff0cnltk\u5e93\u4e2d\u5df2\u7ecf\u5b9e\u73b0\uff0c\u5177\u4f53\u7528\u6cd5\u5982\u4e0b\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n# coding:utf-8\n\n\n\nimport\n \nsys\n\n\nreload\n(\nsys\n)\n\n\nsys\n.\nsetdefaultencoding\n(\n \nutf-8\n \n)\n\n\nimport\n \nnltk\n\n\n\nmy_train_set\n \n=\n \n[\n\n        \n({\nfeature1\n:\nu\na\n},\n1\n),\n\n        \n({\nfeature1\n:\nu\na\n},\n2\n),\n\n        \n({\nfeature1\n:\nu\na\n},\n3\n),\n\n        \n({\nfeature1\n:\nu\na\n},\n3\n),\n\n        \n({\nfeature1\n:\nu\nb\n},\n2\n),\n\n        \n({\nfeature1\n:\nu\nb\n},\n2\n),\n\n        \n({\nfeature1\n:\nu\nb\n},\n2\n),\n\n        \n({\nfeature1\n:\nu\nb\n},\n2\n),\n\n        \n({\nfeature1\n:\nu\nb\n},\n2\n),\n\n        \n({\nfeature1\n:\nu\nb\n},\n2\n),\n\n        \n]\n\n\nclassifier\n \n=\n \nnltk\n.\nNaiveBayesClassifier\n.\ntrain\n(\nmy_train_set\n)\n\n\nprint\n \nclassifier\n.\nclassify\n({\nfeature1\n:\nu\na\n})\n\n\nprint\n \nclassifier\n.\nclassify\n({\nfeature1\n:\nu\nb\n})\n\n\n\n\n\n\n\n\u6267\u884c\u540e\u5224\u65ad\u7279\u5f81a\u548c\u7279\u5f81b\u7684\u5206\u7c7b\u5206\u522b\u662f3\u548c2\n\n\n\u56e0\u4e3a\u8bad\u7ec3\u96c6\u4e2d\u7279\u5f81\u662fa\u7684\u5206\u7c7b\u662f3\u7684\u6700\u591a\uff0c\u6240\u4ee5\u4f1a\u5f52\u7c7b\u4e3a3\n\n\n\u5f53\u7136\u5b9e\u9645\u4e2d\u8bad\u7ec3\u6837\u672c\u7684\u6570\u91cf\u8981\u591a\u7684\u591a\uff0c\u7279\u5f81\u8981\u591a\u7684\u591a\n\n\n\u6587\u6863\u5206\u7c7b\n\n\n\u4e0d\u7ba1\u662f\u4ec0\u4e48\u5206\u7c7b\uff0c\u6700\u91cd\u8981\u7684\u662f\u8981\u77e5\u9053\u54ea\u4e9b\u7279\u5f81\u662f\u6700\u80fd\u53cd\u6620\u8fd9\u4e2a\u5206\u7c7b\u7684\u7279\u70b9\uff0c\u4e5f\u5c31\u662f\u7279\u5f81\u9009\u53d6\u3002\u6587\u6863\u5206\u7c7b\u4f7f\u7528\u7684\u7279\u5f81\u5c31\u662f\u6700\u80fd\u4ee3\u8868\u8fd9\u4e2a\u5206\u7c7b\u7684\u8bcd\u3002\n\n\n\u56e0\u4e3a\u5bf9\u6587\u6863\u5206\u7c7b\u8981\u7ecf\u8fc7\u8bad\u7ec3\u548c\u9884\u6d4b\u4e24\u4e2a\u8fc7\u7a0b\uff0c\u800c\u7279\u5f81\u7684\u63d0\u53d6\u662f\u8fd9\u4e24\u4e2a\u8fc7\u7a0b\u90fd\u9700\u8981\u7684\uff0c\u6240\u4ee5\uff0c\u4e60\u60ef\u4e0a\u6211\u4eec\u4f1a\u628a\u7279\u5f81\u63d0\u53d6\u5355\u72ec\u62bd\u8c61\u51fa\u6765\u4f5c\u4e3a\u4e00\u4e2a\u516c\u5171\u65b9\u6cd5\uff0c\u6bd4\u5982\uff1a\n\n\n1\n2\n3\n4\n5\n6\n7\nfrom\n \nnltk.corpus\n \nimport\n \nmovie_reviews\n\n\nall_words\n \n=\n \nnltk\n.\nFreqDist\n(\nw\n.\nlower\n()\n \nfor\n \nw\n \nin\n \nmovie_reviews\n.\nwords\n())\n\n\nword_features\n \n=\n \nall_words\n.\nkeys\n()[:\n2000\n]\n\n\ndef\n \ndocument_features\n(\ndocument\n):\n \n    \nfor\n \nword\n \nin\n \nword_features\n:\n \n        \nfeatures\n[\ncontains(\n%s\n)\n \n%\n \nword\n]\n \n=\n \n(\nword\n \nin\n \ndocument_words\n)\n \n    \nreturn\n \nfeatures\n \n\n\n\n\n\n\n\u8fd9\u662f\u4e00\u4e2a\u7b80\u5355\u7684\u7279\u5f81\u63d0\u53d6\u8fc7\u7a0b\uff0c\u524d\u4e24\u884c\u627e\u5230movie_reviews\u8bed\u6599\u5e93\u4e2d\u51fa\u73b0\u8bcd\u9891\u6700\u9ad8\u76842000\u4e2a\u8bcd\u4f5c\u4e3a\u7279\u5f81\uff0c\u4e0b\u9762\u5b9a\u4e49\u7684\u51fd\u6570\u5c31\u662f\u7279\u5f81\u63d0\u53d6\u51fd\u6570\uff0c\u6bcf\u4e2a\u7279\u5f81\u90fd\u662f\u5f62\u5982contains(***)\u7684key\uff0cvalue\u5c31\u662fTrue\u6216False\uff0c\u8868\u793a\u8fd9\u4e2a\u8bcd\u662f\u5426\u5728\u6587\u6863\u4e2d\u51fa\u73b0\n\n\n\u90a3\u4e48\u6211\u4eec\u8bad\u7ec3\u7684\u8fc7\u7a0b\u5c31\u662f\uff1a\n\n\n1\n2\nfeaturesets = [(document_features(d), c) for (d,c) in documents]\nclassifier = nltk.NaiveBayesClassifier.train(featuresets)\n\n\n\n\n\n\n\u8981\u9884\u6d4b\u4e00\u4e2a\u65b0\u7684\u6587\u6863\u65f6\uff1a\n\n\n1\nclassifier\n.\nclassify\n(\ndocument_features\n(\nd\n))\n\n\n\n\n\n\n\u901a\u8fc7\n\n\n1\nclassifier\n.\nshow_most_informative_features\n(\n5\n)\n\n\n\n\n\n\n\u53ef\u4ee5\u627e\u5230\u6700\u4f18\u4fe1\u606f\u91cf\u7684\u7279\u5f81\uff0c\u8fd9\u5bf9\u6211\u4eec\u9009\u53d6\u7279\u5f81\u662f\u975e\u5e38\u6709\u5e2e\u52a9\u7684\n\n\n\u5176\u4ed6\u6587\u672c\u5206\u7c7b\n\n\n\u6587\u672c\u5206\u7c7b\u9664\u4e86\u6587\u6863\u5206\u7c7b\u5916\u8fd8\u6709\u8bb8\u591a\u5176\u4ed6\u7c7b\u578b\u7684\u5206\u7c7b\uff0c\u6bd4\u5982\uff1a\n\n\n\u8bcd\u6027\u6807\u6ce8\uff1a\n\u5c5e\u4e8e\u4e00\u79cd\u6587\u672c\u5206\u7c7b\uff0c\u4e00\u822c\u662f\u57fa\u4e8e\u4e0a\u4e0b\u6587\u8bed\u5883\u7684\u6587\u672c\u5206\u7c7b\n\n\n\u53e5\u5b50\u5206\u5272\uff1a\n\u5c5e\u4e8e\u6807\u70b9\u7b26\u53f7\u7684\u5206\u7c7b\u4efb\u52a1\uff0c\u5b83\u7684\u7279\u5f81\u4e00\u822c\u9009\u53d6\u4e3a\u5355\u72ec\u53e5\u5b50\u6807\u8bc6\u7b26\u7684\u5408\u5e76\u94fe\u8868\u3001\u6570\u636e\u7279\u5f81\uff08\u4e0b\u4e00\u4e2a\u8bcd\u662f\u5426\u5927\u5199\u3001\u524d\u4e00\u4e2a\u8bcd\u662f\u4ec0\u4e48\u3001\u524d\u4e00\u4e2a\u8bcd\u957f\u5ea6\u2026\u2026\uff09\n\n\n\u8bc6\u522b\u5bf9\u8bdd\u884c\u4e3a\u7c7b\u578b\uff1a\n\u5bf9\u8bdd\u884c\u4e3a\u7c7b\u578b\u662f\u6307\u95ee\u5019\u3001\u95ee\u9898\u3001\u56de\u7b54\u3001\u65ad\u8a00\u3001\u8bf4\u660e\u7b49\n\n\n\u8bc6\u522b\u6587\u5b57\u8574\u542b\uff1a\n\u5373\u4e00\u4e2a\u53e5\u5b50\u662f\u5426\u80fd\u5f97\u51fa\u53e6\u5916\u4e00\u4e2a\u53e5\u5b50\u7684\u7ed3\u8bba\uff0c\u8fd9\u53ef\u4ee5\u8ba4\u4e3a\u662f\u771f\u5047\u6807\u7b7e\u7684\u5206\u7c7b\u4efb\u52a1\u3002\u8fd9\u662f\u4e00\u4e2a\u6709\u6311\u6218\u7684\u4e8b\u60c5", 
            "title": "\u4e94-\u6587\u672c\u5206\u7c7b"
        }, 
        {
            "location": "/5.text-classification/#_1", 
            "text": "\u673a\u5668\u5b66\u4e60\u7684\u8fc7\u7a0b\u662f\u8bad\u7ec3\u6a21\u578b\u548c\u4f7f\u7528\u6a21\u578b\u7684\u8fc7\u7a0b\uff0c\u8bad\u7ec3\u5c31\u662f\u57fa\u4e8e\u5df2\u77e5\u6570\u636e\u505a\u7edf\u8ba1\u5b66\u4e60\uff0c\u4f7f\u7528\u5c31\u662f\u7528\u7edf\u8ba1\u5b66\u4e60\u597d\u7684\u6a21\u578b\u6765\u8ba1\u7b97\u672a\u77e5\u7684\u6570\u636e\u3002  \u673a\u5668\u5b66\u4e60\u5206\u4e3a\u6709\u76d1\u7763\u5b66\u4e60\u548c\u65e0\u76d1\u7763\u5b66\u4e60\uff0c\u6587\u672c\u5206\u7c7b\u4e5f\u5206\u4e3a\u6709\u76d1\u7763\u7684\u5206\u7c7b\u548c\u65e0\u76d1\u7763\u7684\u5206\u7c7b\u3002\u6709\u76d1\u7763\u5c31\u662f\u8bad\u7ec3\u7684\u6837\u672c\u6570\u636e\u6709\u4e86\u786e\u5b9a\u7684\u5224\u65ad\uff0c\u57fa\u4e8e\u8fd9\u4e9b\u5df2\u6709\u7684\u5224\u65ad\u6765\u65ad\u5b9a\u65b0\u7684\u6570\u636e\uff0c\u65e0\u76d1\u7763\u5c31\u662f\u8bad\u7ec3\u7684\u6837\u672c\u6570\u636e\u6ca1\u6709\u4ec0\u4e48\u5224\u65ad\uff0c\u5b8c\u5168\u81ea\u53d1\u7684\u751f\u6210\u7ed3\u8bba\u3002  \u65e0\u8bba\u76d1\u7763\u5b66\u4e60\u8fd8\u662f\u65e0\u76d1\u7763\u5b66\u4e60\uff0c\u90fd\u662f\u901a\u8fc7\u67d0\u79cd\u7b97\u6cd5\u6765\u5b9e\u73b0\uff0c\u800c\u8fd9\u79cd\u7b97\u6cd5\u53ef\u4ee5\u6709\u591a\u91cd\u9009\u62e9\uff0c\u8d1d\u53f6\u65af\u5c31\u662f\u5176\u4e2d\u4e00\u79cd\u3002\u5728\u591a\u79cd\u7b97\u6cd5\u4e2d\u5982\u4f55\u9009\u62e9\u6700\u9002\u5408\u7684\uff0c\u8fd9\u624d\u662f\u673a\u5668\u5b66\u4e60\u6700\u96be\u7684\u4e8b\u60c5\uff0c\u4e5f\u662f\u6700\u9ad8\u5883\u754c\u3002", 
            "title": "\u5148\u6765\u4e00\u6bb5\u524d\u620f"
        }, 
        {
            "location": "/5.text-classification/#nltk", 
            "text": "\u8d1d\u53f6\u65af\u662f\u6982\u7387\u8bba\u7684\u9f3b\u7956\uff0c\u8d1d\u53f6\u65af\u5b9a\u7406\u662f\u5173\u4e8e\u968f\u673a\u4e8b\u4ef6\u7684\u6761\u4ef6\u6982\u7387\u7684\u4e00\u5219\u5b9a\u7406\uff0c\u8d1d\u53f6\u65af\u516c\u5f0f\u662f\uff1a  1 P(B|A)=P(A|B)P(B)/P(A)\uff1b\u5373,\u5df2\u77e5P(A|B)\uff0cP(A)\u548cP(B)\u53ef\u4ee5\u8ba1\u7b97\u51faP(B|A)\u3002   \u8d1d\u53f6\u65af\u5206\u7c7b\u5668\u5c31\u662f\u57fa\u4e8e\u8d1d\u53f6\u65af\u6982\u7387\u7406\u8bba\u8bbe\u8ba1\u7684\u5206\u7c7b\u5668\u7b97\u6cd5\uff0cnltk\u5e93\u4e2d\u5df2\u7ecf\u5b9e\u73b0\uff0c\u5177\u4f53\u7528\u6cd5\u5982\u4e0b\uff1a   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22 # coding:utf-8  import   sys  reload ( sys )  sys . setdefaultencoding (   utf-8   )  import   nltk  my_train_set   =   [ \n         ({ feature1 : u a }, 1 ), \n         ({ feature1 : u a }, 2 ), \n         ({ feature1 : u a }, 3 ), \n         ({ feature1 : u a }, 3 ), \n         ({ feature1 : u b }, 2 ), \n         ({ feature1 : u b }, 2 ), \n         ({ feature1 : u b }, 2 ), \n         ({ feature1 : u b }, 2 ), \n         ({ feature1 : u b }, 2 ), \n         ({ feature1 : u b }, 2 ), \n         ]  classifier   =   nltk . NaiveBayesClassifier . train ( my_train_set )  print   classifier . classify ({ feature1 : u a })  print   classifier . classify ({ feature1 : u b })    \u6267\u884c\u540e\u5224\u65ad\u7279\u5f81a\u548c\u7279\u5f81b\u7684\u5206\u7c7b\u5206\u522b\u662f3\u548c2  \u56e0\u4e3a\u8bad\u7ec3\u96c6\u4e2d\u7279\u5f81\u662fa\u7684\u5206\u7c7b\u662f3\u7684\u6700\u591a\uff0c\u6240\u4ee5\u4f1a\u5f52\u7c7b\u4e3a3  \u5f53\u7136\u5b9e\u9645\u4e2d\u8bad\u7ec3\u6837\u672c\u7684\u6570\u91cf\u8981\u591a\u7684\u591a\uff0c\u7279\u5f81\u8981\u591a\u7684\u591a", 
            "title": "nltk\u4e2d\u7684\u8d1d\u53f6\u65af\u5206\u7c7b\u5668"
        }, 
        {
            "location": "/5.text-classification/#_2", 
            "text": "\u4e0d\u7ba1\u662f\u4ec0\u4e48\u5206\u7c7b\uff0c\u6700\u91cd\u8981\u7684\u662f\u8981\u77e5\u9053\u54ea\u4e9b\u7279\u5f81\u662f\u6700\u80fd\u53cd\u6620\u8fd9\u4e2a\u5206\u7c7b\u7684\u7279\u70b9\uff0c\u4e5f\u5c31\u662f\u7279\u5f81\u9009\u53d6\u3002\u6587\u6863\u5206\u7c7b\u4f7f\u7528\u7684\u7279\u5f81\u5c31\u662f\u6700\u80fd\u4ee3\u8868\u8fd9\u4e2a\u5206\u7c7b\u7684\u8bcd\u3002  \u56e0\u4e3a\u5bf9\u6587\u6863\u5206\u7c7b\u8981\u7ecf\u8fc7\u8bad\u7ec3\u548c\u9884\u6d4b\u4e24\u4e2a\u8fc7\u7a0b\uff0c\u800c\u7279\u5f81\u7684\u63d0\u53d6\u662f\u8fd9\u4e24\u4e2a\u8fc7\u7a0b\u90fd\u9700\u8981\u7684\uff0c\u6240\u4ee5\uff0c\u4e60\u60ef\u4e0a\u6211\u4eec\u4f1a\u628a\u7279\u5f81\u63d0\u53d6\u5355\u72ec\u62bd\u8c61\u51fa\u6765\u4f5c\u4e3a\u4e00\u4e2a\u516c\u5171\u65b9\u6cd5\uff0c\u6bd4\u5982\uff1a  1\n2\n3\n4\n5\n6\n7 from   nltk.corpus   import   movie_reviews  all_words   =   nltk . FreqDist ( w . lower ()   for   w   in   movie_reviews . words ())  word_features   =   all_words . keys ()[: 2000 ]  def   document_features ( document ):  \n     for   word   in   word_features :  \n         features [ contains( %s )   %   word ]   =   ( word   in   document_words )  \n     return   features     \u8fd9\u662f\u4e00\u4e2a\u7b80\u5355\u7684\u7279\u5f81\u63d0\u53d6\u8fc7\u7a0b\uff0c\u524d\u4e24\u884c\u627e\u5230movie_reviews\u8bed\u6599\u5e93\u4e2d\u51fa\u73b0\u8bcd\u9891\u6700\u9ad8\u76842000\u4e2a\u8bcd\u4f5c\u4e3a\u7279\u5f81\uff0c\u4e0b\u9762\u5b9a\u4e49\u7684\u51fd\u6570\u5c31\u662f\u7279\u5f81\u63d0\u53d6\u51fd\u6570\uff0c\u6bcf\u4e2a\u7279\u5f81\u90fd\u662f\u5f62\u5982contains(***)\u7684key\uff0cvalue\u5c31\u662fTrue\u6216False\uff0c\u8868\u793a\u8fd9\u4e2a\u8bcd\u662f\u5426\u5728\u6587\u6863\u4e2d\u51fa\u73b0  \u90a3\u4e48\u6211\u4eec\u8bad\u7ec3\u7684\u8fc7\u7a0b\u5c31\u662f\uff1a  1\n2 featuresets = [(document_features(d), c) for (d,c) in documents]\nclassifier = nltk.NaiveBayesClassifier.train(featuresets)   \u8981\u9884\u6d4b\u4e00\u4e2a\u65b0\u7684\u6587\u6863\u65f6\uff1a  1 classifier . classify ( document_features ( d ))   \u901a\u8fc7  1 classifier . show_most_informative_features ( 5 )   \u53ef\u4ee5\u627e\u5230\u6700\u4f18\u4fe1\u606f\u91cf\u7684\u7279\u5f81\uff0c\u8fd9\u5bf9\u6211\u4eec\u9009\u53d6\u7279\u5f81\u662f\u975e\u5e38\u6709\u5e2e\u52a9\u7684", 
            "title": "\u6587\u6863\u5206\u7c7b"
        }, 
        {
            "location": "/5.text-classification/#_3", 
            "text": "\u6587\u672c\u5206\u7c7b\u9664\u4e86\u6587\u6863\u5206\u7c7b\u5916\u8fd8\u6709\u8bb8\u591a\u5176\u4ed6\u7c7b\u578b\u7684\u5206\u7c7b\uff0c\u6bd4\u5982\uff1a  \u8bcd\u6027\u6807\u6ce8\uff1a \u5c5e\u4e8e\u4e00\u79cd\u6587\u672c\u5206\u7c7b\uff0c\u4e00\u822c\u662f\u57fa\u4e8e\u4e0a\u4e0b\u6587\u8bed\u5883\u7684\u6587\u672c\u5206\u7c7b  \u53e5\u5b50\u5206\u5272\uff1a \u5c5e\u4e8e\u6807\u70b9\u7b26\u53f7\u7684\u5206\u7c7b\u4efb\u52a1\uff0c\u5b83\u7684\u7279\u5f81\u4e00\u822c\u9009\u53d6\u4e3a\u5355\u72ec\u53e5\u5b50\u6807\u8bc6\u7b26\u7684\u5408\u5e76\u94fe\u8868\u3001\u6570\u636e\u7279\u5f81\uff08\u4e0b\u4e00\u4e2a\u8bcd\u662f\u5426\u5927\u5199\u3001\u524d\u4e00\u4e2a\u8bcd\u662f\u4ec0\u4e48\u3001\u524d\u4e00\u4e2a\u8bcd\u957f\u5ea6\u2026\u2026\uff09  \u8bc6\u522b\u5bf9\u8bdd\u884c\u4e3a\u7c7b\u578b\uff1a \u5bf9\u8bdd\u884c\u4e3a\u7c7b\u578b\u662f\u6307\u95ee\u5019\u3001\u95ee\u9898\u3001\u56de\u7b54\u3001\u65ad\u8a00\u3001\u8bf4\u660e\u7b49  \u8bc6\u522b\u6587\u5b57\u8574\u542b\uff1a \u5373\u4e00\u4e2a\u53e5\u5b50\u662f\u5426\u80fd\u5f97\u51fa\u53e6\u5916\u4e00\u4e2a\u53e5\u5b50\u7684\u7ed3\u8bba\uff0c\u8fd9\u53ef\u4ee5\u8ba4\u4e3a\u662f\u771f\u5047\u6807\u7b7e\u7684\u5206\u7c7b\u4efb\u52a1\u3002\u8fd9\u662f\u4e00\u4e2a\u6709\u6311\u6218\u7684\u4e8b\u60c5", 
            "title": "\u5176\u4ed6\u6587\u672c\u5206\u7c7b"
        }, 
        {
            "location": "/6.extract/", 
            "text": "\u6309\u7167\u4e4b\u524d\u7406\u89e3\u7684\u5185\u5bb9\uff0c\u5bf9\u4e00\u53e5\u8bdd\u505a\u5904\u7406\uff0c\u6700\u591a\u662f\u5207\u6210\u4e00\u4e2a\u4e00\u4e2a\u7684\u8bcd\uff0c\u518d\u6807\u6ce8\u4e0a\u8bcd\u6027\uff0c\u4ec5\u6b64\u800c\u5df2\uff0c\u7136\u800c\u4e8b\u5b9e\u5e76\u975e\u5982\u6b64\uff0c\u4e00\u53e5\u8bdd\u8fd8\u53ef\u4ee5\u505a\u66f4\u591a\u7684\u6587\u7ae0\uff0c\u6211\u4eec\u672c\u8282\u89c1\u5206\u6653 \n\n\n\u4ec0\u4e48\uff1f\u8fd8\u80fd\u7ed3\u6784\u5316\uff1f\n\n\n\u4efb\u4f55\u8bed\u8a00\u7684\u6bcf\u4e00\u53e5\u8bdd\u4e4b\u6240\u4ee5\u79f0\u4e3a\u201c\u8bdd\u201d\uff0c\u662f\u56e0\u4e3a\u5b83\u6709\u4e00\u5b9a\u7684\u53e5\u5b50\u7ed3\u6784\uff0c\u9664\u4e86\u4e00\u4e2a\u4e2a\u72ec\u7acb\u7684\u8bcd\u4e4b\u5916\uff0c\u4ed6\u4eec\u4e4b\u95f4\u8fd8\u5b58\u5728\u7740\u67d0\u79cd\u5173\u7cfb\u3002\u5982\u679c\u4efb\u4f55\u4e00\u53e5\u8bdd\u53ef\u4ee5\u7531\u4efb\u4f55\u8bcd\u6784\u6210\uff0c\u53ef\u957f\u53ef\u77ed\uff0c\u90a3\u4e48\u8fd9\u662f\u4e00\u4e2a\u975e\u7ed3\u6784\u5316\u7684\u4fe1\u606f\uff0c\u8ba1\u7b97\u673a\u662f\u5f88\u96be\u7406\u89e3\u5e76\u505a\u8ba1\u7b97\u7684\uff0c\u4f46\u662f\u5982\u679c\u80fd\u591f\u4ee5\u67d0\u79cd\u65b9\u5f0f\u628a\u53e5\u5b50\u8f6c\u5316\u6210\u7ed3\u6784\u5316\u7684\u5f62\u5f0f\uff0c\u8ba1\u7b97\u673a\u5c31\u53ef\u4ee5\u7406\u89e3\u4e86\u3002\n\n\n\u5b9e\u4e8b\u4e0a\uff0c\u4eba\u8111\u5728\u7406\u89e3\u4e00\u53e5\u8bdd\u7684\u65f6\u5019\u4e5f\u6697\u6697\u5730\u5728\u505a\u7740\u7531\u975e\u7ed3\u6784\u5316\u5230\u7ed3\u6784\u5316\u7684\u5de5\u4f5c\u3002\n\n\n\u6bd4\u5982\u8bf4\uff1a\n\u6211\u4e0b\u5348\u8981\u548c\u5c0f\u660e\u5728\u516c\u53f8\u8ba8\u8bba\u4e00\u4e2a\u6280\u672f\u95ee\u9898\n\u3002\u8fd9\u662f\u4e00\u7247\u975e\u7ed3\u6784\u5316\u7684\u8bcd\u8bed\u62fc\u6210\u7684\u4e00\u53e5\u8bdd\uff0c\u4f46\u662f\u8fd9\u91cc\u9762\u6709\u5f88\u591a\u9690\u542b\u4fe1\u606f\uff1a\n\n\n\n\n\u5c0f\u660e\u662f\u4e00\u4e2a\u5b9e\u4f53\n\n\n\u53c2\u4e0e\u8005\u6709\u4e24\u4e2a\uff1a\u6211\u548c\u5c0f\u660e\n\n\n\u5730\u70b9\u8bbe\u5b9a\u662f\uff1a\u516c\u53f8\n\n\n\u8981\u505a\u7684\u4e8b\u60c5\u662f\uff1a\u8ba8\u8bba\n\n\n\u8ba8\u8bba\u7684\u5185\u5bb9\u662f\uff1a\u95ee\u9898\n\n\n\u8fd9\u4e2a\u95ee\u9898\u662f\u4e00\u4e2a\u6280\u672f\u95ee\u9898\n\n\n\u516c\u53f8\u662f\u4e00\u4e2a\u5730\u70b9\n\n\n\u8ba8\u8bba\u662f\u4e00\u79cd\u884c\u4e3a\n\n\n\u6211\u548c\u5c0f\u660e\u6709\u67d0\u79cd\u5173\u7cfb\n\n\n\u4e0b\u5348\u662f\u4e00\u4e2a\u65f6\u95f4\n\n\n\n\n\u4e0a\u9762\u8fd9\u4e9b\u4fe1\u606f\u6709\u4e00\u4e9b\u662f\u4e13\u95e8\u9488\u5bf9\u8fd9\u4e2a\u53e5\u5b50\u7684\uff0c\u6709\u4e00\u4e9b\u662f\u5e38\u7406\u6027\u7684\uff0c\u5bf9\u4e8e\u9488\u5bf9\u53e5\u5b50\u7684\u4fe1\u606f\u6709\u5229\u4e8e\u7406\u89e3\u8fd9\u53e5\u8bdd\uff0c\u5bf9\u4e8e\u5e38\u7406\u6027\u7684\u4fe1\u606f\u53ef\u4ee5\u79ef\u7d2f\u4e0b\u6765\u7528\u6765\u4ee5\u540e\u7406\u89e3\u5176\u4ed6\u53e5\u5b50\u3002\n\n\n\u90a3\u4e48\u600e\u4e48\u624d\u80fd\u628a\u975e\u7ed3\u6784\u5316\u7684\u53e5\u5b50\u8f6c\u6210\u7ed3\u6784\u5316\u7684\u4fe1\u606f\u5462\uff1f\u8981\u505a\u7684\u5de5\u4f5c\u9664\u4e86\u65ad\u53e5\u3001\u5206\u8bcd\u3001\u8bcd\u6027\u6807\u6ce8\u4e4b\u5916\uff0c\u8fd8\u8981\u505a\u7684\u4e00\u4e2a\u5173\u952e\u4e8b\u60c5\u5c31\u662f\u5206\u5757\u3002\n\n\n\u5206\u5757\n\n\n\u5206\u5757\u5c31\u662f\u6839\u636e\u53e5\u5b50\u4e2d\u7684\u8bcd\u548c\u8bcd\u6027\uff0c\u6309\u7167\u67d0\u79cd\u89c4\u5219\u7ec4\u5408\u5728\u4e00\u8d77\u5f62\u6210\u4e00\u4e2a\u4e2a\u5206\u5757\uff0c\u6bcf\u4e2a\u5206\u5757\u4ee3\u8868\u4e00\u4e2a\u5b9e\u4f53\u3002\u5e38\u89c1\u7684\u5b9e\u4f53\u5305\u62ec\uff1a\u7ec4\u7ec7\u3001\u4eba\u5458\u3001\u5730\u70b9\u3001\u65e5\u671f\u3001\u65f6\u95f4\u7b49\n\n\n\u4ee5\u4e0a\u9762\u7684\u4f8b\u5b50\u4e3a\u4f8b\uff0c\u9996\u5148\u6211\u4eec\u505a\u540d\u8bcd\u77ed\u8bed\u5206\u5757\uff08NP-chunking. \uff0c\u6bd4\u5982\uff1a\u6280\u672f\u95ee\u9898\u3002\u540d\u8bcd\u77ed\u8bed\u5206\u5757\u901a\u8fc7\u8bcd\u6027\u6807\u8bb0\u548c\u4e00\u4e9b\u89c4\u5219\u5c31\u53ef\u4ee5\u8bc6\u522b\u51fa\u6765\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u673a\u5668\u5b66\u4e60\u7684\u65b9\u6cd5\u8bc6\u522b\n\n\n\u9664\u4e86\u540d\u8bcd\u77ed\u8bed\u5206\u5757\u8fd8\u6709\u5f88\u591a\u5176\u4ed6\u5206\u5757\uff1a\u4ecb\u8bcd\u77ed\u8bed\uff08PP\uff0c\u6bd4\u5982\uff1a\u4ee5\u6211\u2026\u2026. \u3001\u52a8\u8bcd\u77ed\u8bed\uff08VP\uff0c\u6bd4\u5982\uff1a\u6253\u4eba. \u3001\u53e5\u5b50\uff08S\uff0c\u6211\u662f\u4eba. \n\n\n\u5206\u5757\u5982\u4f55\u6807\u8bb0\u548c\u5b58\u50a8\u5462\uff1f\n\n\n\u53ef\u4ee5\u91c7\u7528IOB\u6807\u8bb0\uff0cI(inside\uff0c\u5185\u90e8)\u3001O(outside\uff0c\u5916\u90e8)\u3001B(begin, \u5f00\u59cb)\uff0c\u4e00\u4e2a\u5757\u7684\u5f00\u59cb\u6807\u8bb0\u4e3aB\uff0c\u5757\u5185\u7684\u6807\u8bc6\u7b26\u5e8f\u5217\u6807\u6ce8\u4e3aI\uff0c\u6240\u6709\u5176\u4ed6\u6807\u8bc6\u7b26\u6807\u6ce8\u4e3aO\n\n\n\u4e5f\u53ef\u4ee5\u7528\u6811\u7ed3\u6784\u6765\u5b58\u50a8\u5206\u5757\uff0c\u7528\u6811\u7ed3\u6784\u53ef\u4ee5\u89e3\u51b3IOB\u65e0\u6cd5\u6807\u6ce8\u7684\u53e6\u4e00\u7c7b\u5206\u5757\uff0c\u90a3\u5c31\u662f\u591a\u7ea7\u5206\u5757\u3002\u591a\u7ea7\u5206\u5757\u5c31\u662f\u4e00\u53e5\u8bdd\u53ef\u4ee5\u6709\u591a\u91cd\u5206\u5757\u65b9\u6cd5\uff0c\u6bd4\u5982\uff1a\u6211\u4ee5\u6211\u7684\u6700\u9ad8\u6743\u5229\u60e9\u7f5a\u4f60\u3002\u8fd9\u91cc\u9762\u201c\u6700\u9ad8\u6743\u5229\u201d\u3001\u201c\u6211\u7684\u6700\u9ad8\u6743\u5229\u201d\u3001\u201c\u4ee5\u6211\u7684\u6700\u9ad8\u6743\u5229\u201d\u662f\u4e0d\u540c\u7c7b\u578b\u5206\u5757\u5f62\u6210\u4e00\u79cd\u591a\u7ea7\u5206\u5757\uff0c\u8fd9\u662f\u65e0\u6cd5\u901a\u8fc7IOB\u6807\u8bb0\u7684\uff0c\u4f46\u662f\u7528\u6811\u7ed3\u6784\u53ef\u4ee5\u3002\u8fd9\u4e5f\u53eb\u505a\u7ea7\u8054\u5206\u5757\u3002\u5177\u4f53\u6811\u7ed3\u6784\u4e3e\u4e2a\u4f8b\u5b50\uff1a\n\n\n1\n2\n3\n4\n5\n6\n7\n(S\n    (NP \u5c0f\u660e) \n    (VP\n        (V \u8ffd\u8d76) \n        (NP\n            (Det \u4e00\u53ea) \n            (N \u5154\u5b50)))) \n\n\n\n\n\n\n\u8fd9\u662f\u4e0d\u662f\u8ba9\u4f60\u60f3\u5230\u4e86\u8bed\u6cd5\u6811\uff1f\n\n\n\u5173\u7cfb\u62bd\u53d6\n\n\n\u901a\u8fc7\u4e0a\u9762\u7684\u5206\u5757\u53ef\u4ee5\u5f88\u5bb9\u6613\u8bc6\u522b\u51fa\u5b9e\u4f53\uff0c\u90a3\u4e48\u5173\u7cfb\u62bd\u53d6\u5b9e\u9645\u5c31\u662f\u627e\u51fa\u5b9e\u4f53\u548c\u5b9e\u4f53\u4e4b\u95f4\u7684\u5173\u7cfb\uff0c\u8fd9\u662f\u81ea\u7136\u8bed\u8a00\u5904\u7406\u4e00\u4e2a\u8d28\u7684\u8de8\u8d8a\uff0c\u5b9e\u4f53\u8bc6\u522b\u8ba9\u673a\u5668\u8ba4\u77e5\u4e86\u4e00\u79cd\u4e8b\u7269\uff0c\u5173\u7cfb\u8bc6\u522b\u8ba9\u673a\u5668\u638c\u63e1\u4e86\u4e00\u4e2a\u771f\u76f8\u3002\n\n\n\u5173\u7cfb\u62bd\u53d6\u7684\u7b2c\u4e00\u4e2a\u65b9\u6cd5\u5c31\u662f\u627e\u5230(X, a, Y)\u8fd9\u79cd\u4e09\u5143\u7ec4\uff0c\u5176\u4e2dX\u548cY\u90fd\u662f\u5b9e\u4f53\uff0ca\u662f\u8868\u8fbe\u5173\u7cfb\u7684\u5b57\u7b26\u4e32\uff0c\u8fd9\u5b8c\u5168\u53ef\u4ee5\u901a\u8fc7\u6b63\u5219\u6765\u8bc6\u522b\uff0c\u56e0\u4e3a\u4e0d\u540c\u8bed\u8a00\u6709\u8fd9\u4e0d\u540c\u7684\u8bed\u6cd5\u89c4\u5219\uff0c\u6240\u4ee5\u65b9\u6cd5\u90fd\u662f\u4e0d\u540c\u7684\uff0c\u6bd4\u5982\u4e2d\u6587\u91cc\u7684\u201c\u7231\u201d\u53ef\u4ee5\u4f5c\u4e3a\u8fd9\u91cc\u7684a\uff0c\u4f46\u662f\u201c\u548c\u201d\u3001\u201c\u56e0\u4e3a\u201d\u7b49\u5c31\u4e0d\u80fd\u4f5c\u4e3a\u8fd9\u91cc\u7684a\n\n\n\u7f16\u7a0b\u5b9e\u73b0\n\n\n\u4e0b\u9762\u4ecb\u7ecd\u90e8\u5206\u6709\u5173\u5206\u5757\u7684\u4ee3\u7801\uff0c\u56e0\u4e3a\u4e2d\u6587\u6807\u6ce8\u597d\u5206\u5757\u7684\u8bed\u6599\u6ca1\u6709\u627e\u5230\uff0c\u6240\u4ee5\u53ea\u80fd\u6cbf\u7528\u82f1\u6587\u8bed\u6599\u6765\u8bf4\u660e\uff0c\u4f46\u662f\u539f\u7406\u662f\u4e00\u6837\u7684\n\n\nconll2000\u8bed\u6599\u4e2d\u5df2\u7ecf\u6709\u6807\u6ce8\u597d\u7684\u5206\u5757\u4fe1\u606f\uff0c\u5982\u4e0b\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n from nltk.corpus import conll2000\n\n print conll2000.chunked_sents\n(\ntrain.txt\n)[\n99\n]\n\n\n(\nS\n  \n(\nPP Over/IN\n)\n\n  \n(\nNP a/DT cup/NN\n)\n\n  \n(\nPP of/IN\n)\n\n  \n(\nNP coffee/NN\n)\n\n  ,/,\n  \n(\nNP Mr./NNP Stone/NNP\n)\n\n  \n(\nVP told/VBD\n)\n\n  \n(\nNP his/PRP$ story/NN\n)\n\n  ./.\n)\n\n\n\n\n\n\n\n\u6211\u4eec\u53ef\u4ee5\u57fa\u4e8e\u8fd9\u4e9b\u6807\u6ce8\u6570\u636e\u505a\u8bad\u7ec3\uff0c\u7531\u4e8e\u8fd9\u79cd\u5b58\u50a8\u7ed3\u6784\u6bd4\u8f83\u7279\u6b8a\uff0c\u6240\u4ee5\u5c31\u4e0d\u5355\u72ec\u57fa\u4e8e\u8fd9\u79cd\u7ed3\u6784\u5b9e\u73b0parser\u4e86\uff0c\u53ea\u8bf4\u4e0b\u8ddf\u524d\u9762\u8bb2\u7684\u673a\u5668\u5b66\u4e60\u4e00\u6837\uff0c\u53ea\u8981\u57fa\u4e8e\u8fd9\u90e8\u5206\u6570\u636e\u505a\u8bad\u7ec3\uff0c\u7136\u540e\u518d\u7528\u6765\u6807\u6ce8\u65b0\u7684\u8bed\u6599\u5c31\u884c\u4e86", 
            "title": "\u516d-\u7ed3\u6784\u5316\u63d0\u53d6"
        }, 
        {
            "location": "/6.extract/#_1", 
            "text": "\u4efb\u4f55\u8bed\u8a00\u7684\u6bcf\u4e00\u53e5\u8bdd\u4e4b\u6240\u4ee5\u79f0\u4e3a\u201c\u8bdd\u201d\uff0c\u662f\u56e0\u4e3a\u5b83\u6709\u4e00\u5b9a\u7684\u53e5\u5b50\u7ed3\u6784\uff0c\u9664\u4e86\u4e00\u4e2a\u4e2a\u72ec\u7acb\u7684\u8bcd\u4e4b\u5916\uff0c\u4ed6\u4eec\u4e4b\u95f4\u8fd8\u5b58\u5728\u7740\u67d0\u79cd\u5173\u7cfb\u3002\u5982\u679c\u4efb\u4f55\u4e00\u53e5\u8bdd\u53ef\u4ee5\u7531\u4efb\u4f55\u8bcd\u6784\u6210\uff0c\u53ef\u957f\u53ef\u77ed\uff0c\u90a3\u4e48\u8fd9\u662f\u4e00\u4e2a\u975e\u7ed3\u6784\u5316\u7684\u4fe1\u606f\uff0c\u8ba1\u7b97\u673a\u662f\u5f88\u96be\u7406\u89e3\u5e76\u505a\u8ba1\u7b97\u7684\uff0c\u4f46\u662f\u5982\u679c\u80fd\u591f\u4ee5\u67d0\u79cd\u65b9\u5f0f\u628a\u53e5\u5b50\u8f6c\u5316\u6210\u7ed3\u6784\u5316\u7684\u5f62\u5f0f\uff0c\u8ba1\u7b97\u673a\u5c31\u53ef\u4ee5\u7406\u89e3\u4e86\u3002  \u5b9e\u4e8b\u4e0a\uff0c\u4eba\u8111\u5728\u7406\u89e3\u4e00\u53e5\u8bdd\u7684\u65f6\u5019\u4e5f\u6697\u6697\u5730\u5728\u505a\u7740\u7531\u975e\u7ed3\u6784\u5316\u5230\u7ed3\u6784\u5316\u7684\u5de5\u4f5c\u3002  \u6bd4\u5982\u8bf4\uff1a \u6211\u4e0b\u5348\u8981\u548c\u5c0f\u660e\u5728\u516c\u53f8\u8ba8\u8bba\u4e00\u4e2a\u6280\u672f\u95ee\u9898 \u3002\u8fd9\u662f\u4e00\u7247\u975e\u7ed3\u6784\u5316\u7684\u8bcd\u8bed\u62fc\u6210\u7684\u4e00\u53e5\u8bdd\uff0c\u4f46\u662f\u8fd9\u91cc\u9762\u6709\u5f88\u591a\u9690\u542b\u4fe1\u606f\uff1a   \u5c0f\u660e\u662f\u4e00\u4e2a\u5b9e\u4f53  \u53c2\u4e0e\u8005\u6709\u4e24\u4e2a\uff1a\u6211\u548c\u5c0f\u660e  \u5730\u70b9\u8bbe\u5b9a\u662f\uff1a\u516c\u53f8  \u8981\u505a\u7684\u4e8b\u60c5\u662f\uff1a\u8ba8\u8bba  \u8ba8\u8bba\u7684\u5185\u5bb9\u662f\uff1a\u95ee\u9898  \u8fd9\u4e2a\u95ee\u9898\u662f\u4e00\u4e2a\u6280\u672f\u95ee\u9898  \u516c\u53f8\u662f\u4e00\u4e2a\u5730\u70b9  \u8ba8\u8bba\u662f\u4e00\u79cd\u884c\u4e3a  \u6211\u548c\u5c0f\u660e\u6709\u67d0\u79cd\u5173\u7cfb  \u4e0b\u5348\u662f\u4e00\u4e2a\u65f6\u95f4   \u4e0a\u9762\u8fd9\u4e9b\u4fe1\u606f\u6709\u4e00\u4e9b\u662f\u4e13\u95e8\u9488\u5bf9\u8fd9\u4e2a\u53e5\u5b50\u7684\uff0c\u6709\u4e00\u4e9b\u662f\u5e38\u7406\u6027\u7684\uff0c\u5bf9\u4e8e\u9488\u5bf9\u53e5\u5b50\u7684\u4fe1\u606f\u6709\u5229\u4e8e\u7406\u89e3\u8fd9\u53e5\u8bdd\uff0c\u5bf9\u4e8e\u5e38\u7406\u6027\u7684\u4fe1\u606f\u53ef\u4ee5\u79ef\u7d2f\u4e0b\u6765\u7528\u6765\u4ee5\u540e\u7406\u89e3\u5176\u4ed6\u53e5\u5b50\u3002  \u90a3\u4e48\u600e\u4e48\u624d\u80fd\u628a\u975e\u7ed3\u6784\u5316\u7684\u53e5\u5b50\u8f6c\u6210\u7ed3\u6784\u5316\u7684\u4fe1\u606f\u5462\uff1f\u8981\u505a\u7684\u5de5\u4f5c\u9664\u4e86\u65ad\u53e5\u3001\u5206\u8bcd\u3001\u8bcd\u6027\u6807\u6ce8\u4e4b\u5916\uff0c\u8fd8\u8981\u505a\u7684\u4e00\u4e2a\u5173\u952e\u4e8b\u60c5\u5c31\u662f\u5206\u5757\u3002", 
            "title": "\u4ec0\u4e48\uff1f\u8fd8\u80fd\u7ed3\u6784\u5316\uff1f"
        }, 
        {
            "location": "/6.extract/#_2", 
            "text": "\u5206\u5757\u5c31\u662f\u6839\u636e\u53e5\u5b50\u4e2d\u7684\u8bcd\u548c\u8bcd\u6027\uff0c\u6309\u7167\u67d0\u79cd\u89c4\u5219\u7ec4\u5408\u5728\u4e00\u8d77\u5f62\u6210\u4e00\u4e2a\u4e2a\u5206\u5757\uff0c\u6bcf\u4e2a\u5206\u5757\u4ee3\u8868\u4e00\u4e2a\u5b9e\u4f53\u3002\u5e38\u89c1\u7684\u5b9e\u4f53\u5305\u62ec\uff1a\u7ec4\u7ec7\u3001\u4eba\u5458\u3001\u5730\u70b9\u3001\u65e5\u671f\u3001\u65f6\u95f4\u7b49  \u4ee5\u4e0a\u9762\u7684\u4f8b\u5b50\u4e3a\u4f8b\uff0c\u9996\u5148\u6211\u4eec\u505a\u540d\u8bcd\u77ed\u8bed\u5206\u5757\uff08NP-chunking. \uff0c\u6bd4\u5982\uff1a\u6280\u672f\u95ee\u9898\u3002\u540d\u8bcd\u77ed\u8bed\u5206\u5757\u901a\u8fc7\u8bcd\u6027\u6807\u8bb0\u548c\u4e00\u4e9b\u89c4\u5219\u5c31\u53ef\u4ee5\u8bc6\u522b\u51fa\u6765\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u673a\u5668\u5b66\u4e60\u7684\u65b9\u6cd5\u8bc6\u522b  \u9664\u4e86\u540d\u8bcd\u77ed\u8bed\u5206\u5757\u8fd8\u6709\u5f88\u591a\u5176\u4ed6\u5206\u5757\uff1a\u4ecb\u8bcd\u77ed\u8bed\uff08PP\uff0c\u6bd4\u5982\uff1a\u4ee5\u6211\u2026\u2026. \u3001\u52a8\u8bcd\u77ed\u8bed\uff08VP\uff0c\u6bd4\u5982\uff1a\u6253\u4eba. \u3001\u53e5\u5b50\uff08S\uff0c\u6211\u662f\u4eba.", 
            "title": "\u5206\u5757"
        }, 
        {
            "location": "/6.extract/#_3", 
            "text": "\u53ef\u4ee5\u91c7\u7528IOB\u6807\u8bb0\uff0cI(inside\uff0c\u5185\u90e8)\u3001O(outside\uff0c\u5916\u90e8)\u3001B(begin, \u5f00\u59cb)\uff0c\u4e00\u4e2a\u5757\u7684\u5f00\u59cb\u6807\u8bb0\u4e3aB\uff0c\u5757\u5185\u7684\u6807\u8bc6\u7b26\u5e8f\u5217\u6807\u6ce8\u4e3aI\uff0c\u6240\u6709\u5176\u4ed6\u6807\u8bc6\u7b26\u6807\u6ce8\u4e3aO  \u4e5f\u53ef\u4ee5\u7528\u6811\u7ed3\u6784\u6765\u5b58\u50a8\u5206\u5757\uff0c\u7528\u6811\u7ed3\u6784\u53ef\u4ee5\u89e3\u51b3IOB\u65e0\u6cd5\u6807\u6ce8\u7684\u53e6\u4e00\u7c7b\u5206\u5757\uff0c\u90a3\u5c31\u662f\u591a\u7ea7\u5206\u5757\u3002\u591a\u7ea7\u5206\u5757\u5c31\u662f\u4e00\u53e5\u8bdd\u53ef\u4ee5\u6709\u591a\u91cd\u5206\u5757\u65b9\u6cd5\uff0c\u6bd4\u5982\uff1a\u6211\u4ee5\u6211\u7684\u6700\u9ad8\u6743\u5229\u60e9\u7f5a\u4f60\u3002\u8fd9\u91cc\u9762\u201c\u6700\u9ad8\u6743\u5229\u201d\u3001\u201c\u6211\u7684\u6700\u9ad8\u6743\u5229\u201d\u3001\u201c\u4ee5\u6211\u7684\u6700\u9ad8\u6743\u5229\u201d\u662f\u4e0d\u540c\u7c7b\u578b\u5206\u5757\u5f62\u6210\u4e00\u79cd\u591a\u7ea7\u5206\u5757\uff0c\u8fd9\u662f\u65e0\u6cd5\u901a\u8fc7IOB\u6807\u8bb0\u7684\uff0c\u4f46\u662f\u7528\u6811\u7ed3\u6784\u53ef\u4ee5\u3002\u8fd9\u4e5f\u53eb\u505a\u7ea7\u8054\u5206\u5757\u3002\u5177\u4f53\u6811\u7ed3\u6784\u4e3e\u4e2a\u4f8b\u5b50\uff1a  1\n2\n3\n4\n5\n6\n7 (S\n    (NP \u5c0f\u660e) \n    (VP\n        (V \u8ffd\u8d76) \n        (NP\n            (Det \u4e00\u53ea) \n            (N \u5154\u5b50))))    \u8fd9\u662f\u4e0d\u662f\u8ba9\u4f60\u60f3\u5230\u4e86\u8bed\u6cd5\u6811\uff1f", 
            "title": "\u5206\u5757\u5982\u4f55\u6807\u8bb0\u548c\u5b58\u50a8\u5462\uff1f"
        }, 
        {
            "location": "/6.extract/#_4", 
            "text": "\u901a\u8fc7\u4e0a\u9762\u7684\u5206\u5757\u53ef\u4ee5\u5f88\u5bb9\u6613\u8bc6\u522b\u51fa\u5b9e\u4f53\uff0c\u90a3\u4e48\u5173\u7cfb\u62bd\u53d6\u5b9e\u9645\u5c31\u662f\u627e\u51fa\u5b9e\u4f53\u548c\u5b9e\u4f53\u4e4b\u95f4\u7684\u5173\u7cfb\uff0c\u8fd9\u662f\u81ea\u7136\u8bed\u8a00\u5904\u7406\u4e00\u4e2a\u8d28\u7684\u8de8\u8d8a\uff0c\u5b9e\u4f53\u8bc6\u522b\u8ba9\u673a\u5668\u8ba4\u77e5\u4e86\u4e00\u79cd\u4e8b\u7269\uff0c\u5173\u7cfb\u8bc6\u522b\u8ba9\u673a\u5668\u638c\u63e1\u4e86\u4e00\u4e2a\u771f\u76f8\u3002  \u5173\u7cfb\u62bd\u53d6\u7684\u7b2c\u4e00\u4e2a\u65b9\u6cd5\u5c31\u662f\u627e\u5230(X, a, Y)\u8fd9\u79cd\u4e09\u5143\u7ec4\uff0c\u5176\u4e2dX\u548cY\u90fd\u662f\u5b9e\u4f53\uff0ca\u662f\u8868\u8fbe\u5173\u7cfb\u7684\u5b57\u7b26\u4e32\uff0c\u8fd9\u5b8c\u5168\u53ef\u4ee5\u901a\u8fc7\u6b63\u5219\u6765\u8bc6\u522b\uff0c\u56e0\u4e3a\u4e0d\u540c\u8bed\u8a00\u6709\u8fd9\u4e0d\u540c\u7684\u8bed\u6cd5\u89c4\u5219\uff0c\u6240\u4ee5\u65b9\u6cd5\u90fd\u662f\u4e0d\u540c\u7684\uff0c\u6bd4\u5982\u4e2d\u6587\u91cc\u7684\u201c\u7231\u201d\u53ef\u4ee5\u4f5c\u4e3a\u8fd9\u91cc\u7684a\uff0c\u4f46\u662f\u201c\u548c\u201d\u3001\u201c\u56e0\u4e3a\u201d\u7b49\u5c31\u4e0d\u80fd\u4f5c\u4e3a\u8fd9\u91cc\u7684a", 
            "title": "\u5173\u7cfb\u62bd\u53d6"
        }, 
        {
            "location": "/6.extract/#_5", 
            "text": "\u4e0b\u9762\u4ecb\u7ecd\u90e8\u5206\u6709\u5173\u5206\u5757\u7684\u4ee3\u7801\uff0c\u56e0\u4e3a\u4e2d\u6587\u6807\u6ce8\u597d\u5206\u5757\u7684\u8bed\u6599\u6ca1\u6709\u627e\u5230\uff0c\u6240\u4ee5\u53ea\u80fd\u6cbf\u7528\u82f1\u6587\u8bed\u6599\u6765\u8bf4\u660e\uff0c\u4f46\u662f\u539f\u7406\u662f\u4e00\u6837\u7684  conll2000\u8bed\u6599\u4e2d\u5df2\u7ecf\u6709\u6807\u6ce8\u597d\u7684\u5206\u5757\u4fe1\u606f\uff0c\u5982\u4e0b\uff1a   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12  from nltk.corpus import conll2000  print conll2000.chunked_sents ( train.txt )[ 99 ]  ( S\n   ( PP Over/IN ) \n   ( NP a/DT cup/NN ) \n   ( PP of/IN ) \n   ( NP coffee/NN ) \n  ,/,\n   ( NP Mr./NNP Stone/NNP ) \n   ( VP told/VBD ) \n   ( NP his/PRP$ story/NN ) \n  ./. )    \u6211\u4eec\u53ef\u4ee5\u57fa\u4e8e\u8fd9\u4e9b\u6807\u6ce8\u6570\u636e\u505a\u8bad\u7ec3\uff0c\u7531\u4e8e\u8fd9\u79cd\u5b58\u50a8\u7ed3\u6784\u6bd4\u8f83\u7279\u6b8a\uff0c\u6240\u4ee5\u5c31\u4e0d\u5355\u72ec\u57fa\u4e8e\u8fd9\u79cd\u7ed3\u6784\u5b9e\u73b0parser\u4e86\uff0c\u53ea\u8bf4\u4e0b\u8ddf\u524d\u9762\u8bb2\u7684\u673a\u5668\u5b66\u4e60\u4e00\u6837\uff0c\u53ea\u8981\u57fa\u4e8e\u8fd9\u90e8\u5206\u6570\u636e\u505a\u8bad\u7ec3\uff0c\u7136\u540e\u518d\u7528\u6765\u6807\u6ce8\u65b0\u7684\u8bed\u6599\u5c31\u884c\u4e86", 
            "title": "\u7f16\u7a0b\u5b9e\u73b0"
        }, 
        {
            "location": "/7.grammar/", 
            "text": "\u8bed\u6cd5\u5206\u6790\u56fa\u7136\u91cd\u8981\uff0c\u4f46\u8981\u60f3\u8986\u76d6\u8bed\u8a00\u7684\u5168\u90e8\uff0c\u9700\u8981\u8fdb\u4e00\u6b65\u6269\u5c55\u5230\u6587\u6cd5\u5206\u6790\uff0c\u6587\u6cd5\u5206\u6790\u53ef\u4ee5\u57fa\u4e8e\u89c4\u5219\uff0c\u4f46\u662f\u5de5\u4f5c\u91cf\u96be\u4ee5\u60f3\u8c61\uff0c\u57fa\u4e8e\u7279\u5f81\u7684\u6587\u6cd5\u5206\u6790\u4e0d\u4f46\u53ef\u7a77\u4e3e\uff0c\u800c\u4e14\u53ef\u4ee5\u65b9\u4fbf\u7528\u8ba1\u7b97\u673a\u5b58\u50a8\u548c\u8ba1\u7b97\uff0c\u672c\u8282\u7b80\u5355\u505a\u4e00\u4e2a\u4ecb\u7ecd\uff0c\u66f4\u6df1\u5c42\u6b21\u7684\u5185\u5bb9\u8fd8\u9700\u8981\u7ee7\u7eed\u5173\u6ce8\u540e\u9762\u7684\u7cfb\u5217\u6587\u7ae0 \n\n\n\u8bed\u6cd5\u548c\u6587\u6cd5\n\n\n\u8fd8\u8bb0\u5f97\u4e0a\u4e00\u8282\u4e2d\u7684\u8fd9\u4e2a\u5417\uff1f\n\n\n1\n2\n3\n4\n5\n6\n7\n(\nS\n\n    \n(\nNP\n \n\u5c0f\u660e\n)\n \n    \n(\nVP\n\n        \n(\nV\n \n\u8ffd\u8d76\n)\n \n        \n(\nNP\n\n            \n(\nDet\n \n\u4e00\u53ea\n)\n \n            \n(\nN\n \n\u5154\u5b50\n))))\n \n\n\n\n\n\n\n\u8fd9\u91cc\u9762\u7684N\u8868\u793a\u540d\u8bcd\uff0cDet\u8868\u793a\u9650\u5b9a\u8bcd\uff0cNP\u8868\u793a\u540d\u8bcd\u77ed\u8bed\uff0cV\u8868\u793a\u52a8\u8bcd\uff0cVP\u8868\u793a\u52a8\u8bcd\u77ed\u8bed\uff0cS\u8868\u793a\u53e5\u5b50\n\n\n\u8fd9\u79cd\u53e5\u5b50\u5206\u6790\u65b9\u6cd5\u53eb\u505a\u8bed\u6cd5\u5206\u6790\n\n\n\u56e0\u4e3a\u53e5\u5b50\u53ef\u4ee5\u65e0\u9650\u7ec4\u5408\u65e0\u9650\u6269\u5c55\uff0c\u6240\u4ee5\u5355\u7eaf\u7528\u8bed\u6cd5\u5206\u6790\u6765\u5b8c\u6210\u81ea\u7136\u8bed\u8a00\u5904\u7406\u8fd9\u4ef6\u4e8b\u60c5\u662f\u4e0d\u53ef\u80fd\u7684\uff0c\u6240\u4ee5\u51fa\u73b0\u4e86\u6587\u6cd5\u5206\u6790\n\n\n\u6587\u6cd5\u662f\u4e00\u4e2a\u6f5c\u5728\u7684\u65e0\u9650\u7684\u53e5\u5b50\u96c6\u5408\u7684\u4e00\u4e2a\u7d27\u51d1\u7684\u7279\u6027\uff0c\u5b83\u662f\u901a\u8fc7\u4e00\u7ec4\u5f62\u5f0f\u5316\u6a21\u578b\u6765\u8868\u793a\u7684\uff0c\u6587\u6cd5\u53ef\u4ee5\u8986\u76d6\u6240\u6709\u7ed3\u6784\u7684\u53e5\u5b50\uff0c\u5bf9\u4e00\u4e2a\u53e5\u5b50\u505a\u6587\u6cd5\u5206\u6790\uff0c\u5c31\u662f\u628a\u53e5\u5b50\u5f80\u6587\u6cd5\u6a21\u578b\u4e0a\u9760\uff0c\u5982\u679c\u540c\u65f6\u7b26\u5408\u591a\u79cd\u6587\u6cd5\uff0c\u90a3\u5c31\u662f\u6709\u6b67\u4e49\u7684\u53e5\u5b50\n\n\n\u6700\u91cd\u8981\u7684\u7ed3\u8bba\uff1a\u6587\u6cd5\u7ed3\u6784\u8303\u56f4\u76f8\u5f53\u5e7f\u6cdb\uff0c\u65e0\u6cd5\u7528\u89c4\u5219\u7c7b\u7684\u65b9\u6cd5\u6765\u5904\u7406\uff0c\u53ea\u6709\u5229\u7528\u57fa\u4e8e\u7279\u5f81\u7684\u65b9\u6cd5\u624d\u80fd\u5904\u7406\n\n\n\u6587\u6cd5\u7279\u5f81\u7ed3\u6784\n\n\n\u6587\u6cd5\u7279\u5f81\u4e3e\u4f8b\uff1a\u5355\u8bcd\u6700\u540e\u4e00\u4e2a\u5b57\u6bcd\u3001\u8bcd\u6027\u6807\u7b7e\u3001\u6587\u6cd5\u7c7b\u522b\u3001\u6b63\u5b57\u62fc\u5199\u3001\u6307\u793a\u7269\u3001\u5173\u7cfb\u3001\u65bd\u4e8b\u89d2\u8272\u3001\u53d7\u4e8b\u89d2\u8272\n\n\n\u56e0\u4e3a\u6587\u6cd5\u7279\u5f81\u662f\u4e00\u79cdkv\uff0c\u6240\u4ee5\u7279\u5f81\u7ed3\u6784\u7684\u5b58\u50a8\u5f62\u5f0f\u662f\u5b57\u5178\n\n\n\u4e0d\u662f\u4ec0\u4e48\u6837\u7684\u53e5\u5b50\u90fd\u80fd\u63d0\u53d6\u51fa\u6bcf\u4e00\u4e2a\u6587\u6cd5\u7279\u5f81\u7684\uff0c\u9700\u8981\u6ee1\u8db3\u4e00\u5b9a\u7684\u6761\u4ef6\uff0c\u8fd9\u9700\u8981\u901a\u8fc7\u4e00\u7cfb\u5217\u7684\u68c0\u67e5\u624b\u6bb5\u6765\u8fbe\u5230\uff0c\u5305\u62ec\uff1a\u53e5\u6cd5\u534f\u8bae\uff08\u6bd4\u5982this dog\u5c31\u662f\u5bf9\u7684\uff0c\u800cthese dog\u5c31\u662f\u9519\u7684\uff09\u3001\u5c5e\u6027\u548c\u7ea6\u675f\u3001\u672f\u8bed\n\n\n\u7279\u5f81\u7ed3\u6784\u7684\u5904\u7406\n\n\nnltk\u5e2e\u6211\u5b9e\u73b0\u4e86\u7279\u5f81\u7ed3\u6784\uff1a\n\n\n1\n2\n3\n4\n5\n6\n7\n import nltk\n\n \nfs1\n \n=\n nltk.FeatStruct\n(\nTENSE\n=\npast\n, \nNUM\n=\nsg\n)\n\n\n fs1\n\n[\nNUM\n=\nsg\n, \nTENSE\n=\npast\n]\n\n\n \nfs2\n \n=\n nltk.FeatStruct\n(\nPOS\n=\nN\n, \nAGR\n=\nfs1\n)\n\n\n fs2\n\n[\nAGR\n=[\nNUM\n=\nsg\n, \nTENSE\n=\npast\n]\n, \nPOS\n=\nN\n]\n\n\n\n\n\n\n\n\u5728nltk\u7684\u5e93\u91cc\u5df2\u7ecf\u6709\u4e86\u4e00\u4e9b\u4ea7\u751f\u5f0f\u6587\u6cd5\u63cf\u8ff0\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\uff0c\u4f4d\u7f6e\u5728\uff1a\n\n\n1\n2\n[\nroot@centos $\n]\n ls ~/nltk_data/grammars/book_grammars\nbackground.fol  discourse.fcfg  drt.fcfg  feat0.fcfg  feat1.fcfg  german.fcfg  simple-sem.fcfg  sql0.fcfg  sql1.fcfg  storage.fcfg\n\n\n\n\n\n\n\u6211\u4eec\u770b\u5176\u4e2d\u6700\u7b80\u5355\u7684\u4e00\u4e2asql0.fcfg\uff0c\u8fd9\u662f\u4e00\u4e2a\u67e5\u627e\u56fd\u5bb6\u57ce\u5e02\u7684sql\u8bed\u53e5\u7684\u6587\u6cd5\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n% start S\n\nS\n[\nSEM\n=(\n?np + WHERE + ?vp\n)]\n -\n NP\n[\nSEM\n=\n?np\n]\n VP\n[\nSEM\n=\n?vp\n]\n\n\nVP\n[\nSEM\n=(\n?v + ?pp\n)]\n -\n IV\n[\nSEM\n=\n?v\n]\n PP\n[\nSEM\n=\n?pp\n]\n\nVP\n[\nSEM\n=(\n?v + ?ap\n)]\n -\n IV\n[\nSEM\n=\n?v\n]\n AP\n[\nSEM\n=\n?ap\n]\n\nNP\n[\nSEM\n=(\n?det + ?n\n)]\n -\n Det\n[\nSEM\n=\n?det\n]\n N\n[\nSEM\n=\n?n\n]\n\nPP\n[\nSEM\n=(\n?p + ?np\n)]\n -\n P\n[\nSEM\n=\n?p\n]\n NP\n[\nSEM\n=\n?np\n]\n\nAP\n[\nSEM\n=\n?pp\n]\n -\n A\n[\nSEM\n=\n?a\n]\n PP\n[\nSEM\n=\n?pp\n]\n\n\nNP\n[\nSEM\n=\nCountry=\ngreece\n]\n -\n \nGreece\n\nNP\n[\nSEM\n=\nCountry=\nchina\n]\n -\n \nChina\n\n\nDet\n[\nSEM\n=\nSELECT\n]\n -\n \nWhich\n \n|\n \nWhat\n\n\nN\n[\nSEM\n=\nCity FROM city_table\n]\n -\n \ncities\n\n\nIV\n[\nSEM\n=\n]\n -\n \nare\n\nA\n[\nSEM\n=\n]\n -\n \nlocated\n\nP\n[\nSEM\n=\n]\n -\n \nin\n\n\n\n\n\n\n\n\u89e3\u91ca\u4e00\u4e0b\n\n\n\u8fd9\u91cc\u9762\u4ece\u4e0a\u5230\u4e0b\u662f\u4ece\u6700\u5927\u8303\u56f4\u5230\u6700\u5c0f\u8303\u56f4\u4e00\u4e2a\u4e2a\u7684\u89e3\u91ca\uff0cS\u662f\u53e5\u5b50\n\n\n\u6211\u4eec\u6765\u52a0\u8f7d\u8fd9\u4e2a\u6587\u6cd5\u63cf\u8ff0\uff0c\u5e76\u8bd5\u9a8c\u5982\u4e0b\uff1a\n\n\n1\n2\n3\n4\n5\n6\n7\nimport\n \nnltk\n\n\nfrom\n \nnltk\n \nimport\n \nload_parser\n\n\ncp\n \n=\n \nload_parser\n(\ngrammars/book_grammars/sql0.fcfg\n)\n\n\nquery\n \n=\n \nWhat cities are located in China\n\n\ntokens\n \n=\n \nquery\n.\nsplit\n()\n\n\nfor\n \ntree\n \nin\n \ncp\n.\nparse\n(\ntokens\n):\n\n    \nprint\n \ntree\n\n\n\n\n\n\n\n\u8f93\u51fa\u7ed3\u679c\u5982\u4e0b\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n(\nS\n[\nSEM\n=\n(\nSELECT\n,\n \nCity\n \nFROM\n \ncity_table\n,\n \nWHERE\n,\n \n,\n \n,\n \nCountry\n=\nchina\n)]\n\n  \n(\nNP\n[\nSEM\n=\n(\nSELECT\n,\n \nCity\n \nFROM\n \ncity_table\n)]\n\n    \n(\nDet\n[\nSEM\n=\nSELECT\n]\n \nWhat\n)\n\n    \n(\nN\n[\nSEM\n=\nCity FROM city_table\n]\n \ncities\n))\n\n  \n(\nVP\n[\nSEM\n=\n(,\n \n,\n \nCountry\n=\nchina\n)]\n\n    \n(\nIV\n[\nSEM\n=\n]\n \nare\n)\n\n    \n(\nAP\n[\nSEM\n=\n(,\n \nCountry\n=\nchina\n)]\n\n      \n(\nA\n[\nSEM\n=\n]\n \nlocated\n)\n\n      \n(\nPP\n[\nSEM\n=\n(,\n \nCountry\n=\nchina\n)]\n\n        \n(\nP\n[\nSEM\n=\n]\n \nin\n)\n\n        \n(\nNP\n[\nSEM\n=\nCountry=\nchina\n]\n \nChina\n)))))\n\n\n\n\n\n\n\n\u6211\u4eec\u53ef\u4ee5\u770b\u5230\u7528\u7279\u5f81\u7ed3\u6784\u53ef\u4ee5\u5efa\u7acb\u5bf9\u5927\u91cf\u5e7f\u6cdb\u7684\u8bed\u8a00\u5b66\u73b0\u8c61\u7684\u7b80\u4ecb\u5206\u6790", 
            "title": "\u4e03-\u6587\u6cd5\u5206\u6790"
        }, 
        {
            "location": "/7.grammar/#_1", 
            "text": "\u8fd8\u8bb0\u5f97\u4e0a\u4e00\u8282\u4e2d\u7684\u8fd9\u4e2a\u5417\uff1f  1\n2\n3\n4\n5\n6\n7 ( S \n     ( NP   \u5c0f\u660e )  \n     ( VP \n         ( V   \u8ffd\u8d76 )  \n         ( NP \n             ( Det   \u4e00\u53ea )  \n             ( N   \u5154\u5b50 ))))     \u8fd9\u91cc\u9762\u7684N\u8868\u793a\u540d\u8bcd\uff0cDet\u8868\u793a\u9650\u5b9a\u8bcd\uff0cNP\u8868\u793a\u540d\u8bcd\u77ed\u8bed\uff0cV\u8868\u793a\u52a8\u8bcd\uff0cVP\u8868\u793a\u52a8\u8bcd\u77ed\u8bed\uff0cS\u8868\u793a\u53e5\u5b50  \u8fd9\u79cd\u53e5\u5b50\u5206\u6790\u65b9\u6cd5\u53eb\u505a\u8bed\u6cd5\u5206\u6790  \u56e0\u4e3a\u53e5\u5b50\u53ef\u4ee5\u65e0\u9650\u7ec4\u5408\u65e0\u9650\u6269\u5c55\uff0c\u6240\u4ee5\u5355\u7eaf\u7528\u8bed\u6cd5\u5206\u6790\u6765\u5b8c\u6210\u81ea\u7136\u8bed\u8a00\u5904\u7406\u8fd9\u4ef6\u4e8b\u60c5\u662f\u4e0d\u53ef\u80fd\u7684\uff0c\u6240\u4ee5\u51fa\u73b0\u4e86\u6587\u6cd5\u5206\u6790  \u6587\u6cd5\u662f\u4e00\u4e2a\u6f5c\u5728\u7684\u65e0\u9650\u7684\u53e5\u5b50\u96c6\u5408\u7684\u4e00\u4e2a\u7d27\u51d1\u7684\u7279\u6027\uff0c\u5b83\u662f\u901a\u8fc7\u4e00\u7ec4\u5f62\u5f0f\u5316\u6a21\u578b\u6765\u8868\u793a\u7684\uff0c\u6587\u6cd5\u53ef\u4ee5\u8986\u76d6\u6240\u6709\u7ed3\u6784\u7684\u53e5\u5b50\uff0c\u5bf9\u4e00\u4e2a\u53e5\u5b50\u505a\u6587\u6cd5\u5206\u6790\uff0c\u5c31\u662f\u628a\u53e5\u5b50\u5f80\u6587\u6cd5\u6a21\u578b\u4e0a\u9760\uff0c\u5982\u679c\u540c\u65f6\u7b26\u5408\u591a\u79cd\u6587\u6cd5\uff0c\u90a3\u5c31\u662f\u6709\u6b67\u4e49\u7684\u53e5\u5b50  \u6700\u91cd\u8981\u7684\u7ed3\u8bba\uff1a\u6587\u6cd5\u7ed3\u6784\u8303\u56f4\u76f8\u5f53\u5e7f\u6cdb\uff0c\u65e0\u6cd5\u7528\u89c4\u5219\u7c7b\u7684\u65b9\u6cd5\u6765\u5904\u7406\uff0c\u53ea\u6709\u5229\u7528\u57fa\u4e8e\u7279\u5f81\u7684\u65b9\u6cd5\u624d\u80fd\u5904\u7406", 
            "title": "\u8bed\u6cd5\u548c\u6587\u6cd5"
        }, 
        {
            "location": "/7.grammar/#_2", 
            "text": "\u6587\u6cd5\u7279\u5f81\u4e3e\u4f8b\uff1a\u5355\u8bcd\u6700\u540e\u4e00\u4e2a\u5b57\u6bcd\u3001\u8bcd\u6027\u6807\u7b7e\u3001\u6587\u6cd5\u7c7b\u522b\u3001\u6b63\u5b57\u62fc\u5199\u3001\u6307\u793a\u7269\u3001\u5173\u7cfb\u3001\u65bd\u4e8b\u89d2\u8272\u3001\u53d7\u4e8b\u89d2\u8272  \u56e0\u4e3a\u6587\u6cd5\u7279\u5f81\u662f\u4e00\u79cdkv\uff0c\u6240\u4ee5\u7279\u5f81\u7ed3\u6784\u7684\u5b58\u50a8\u5f62\u5f0f\u662f\u5b57\u5178  \u4e0d\u662f\u4ec0\u4e48\u6837\u7684\u53e5\u5b50\u90fd\u80fd\u63d0\u53d6\u51fa\u6bcf\u4e00\u4e2a\u6587\u6cd5\u7279\u5f81\u7684\uff0c\u9700\u8981\u6ee1\u8db3\u4e00\u5b9a\u7684\u6761\u4ef6\uff0c\u8fd9\u9700\u8981\u901a\u8fc7\u4e00\u7cfb\u5217\u7684\u68c0\u67e5\u624b\u6bb5\u6765\u8fbe\u5230\uff0c\u5305\u62ec\uff1a\u53e5\u6cd5\u534f\u8bae\uff08\u6bd4\u5982this dog\u5c31\u662f\u5bf9\u7684\uff0c\u800cthese dog\u5c31\u662f\u9519\u7684\uff09\u3001\u5c5e\u6027\u548c\u7ea6\u675f\u3001\u672f\u8bed", 
            "title": "\u6587\u6cd5\u7279\u5f81\u7ed3\u6784"
        }, 
        {
            "location": "/7.grammar/#_3", 
            "text": "nltk\u5e2e\u6211\u5b9e\u73b0\u4e86\u7279\u5f81\u7ed3\u6784\uff1a  1\n2\n3\n4\n5\n6\n7  import nltk   fs1   =  nltk.FeatStruct ( TENSE = past ,  NUM = sg )   fs1 [ NUM = sg ,  TENSE = past ]    fs2   =  nltk.FeatStruct ( POS = N ,  AGR = fs1 )   fs2 [ AGR =[ NUM = sg ,  TENSE = past ] ,  POS = N ]    \u5728nltk\u7684\u5e93\u91cc\u5df2\u7ecf\u6709\u4e86\u4e00\u4e9b\u4ea7\u751f\u5f0f\u6587\u6cd5\u63cf\u8ff0\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\uff0c\u4f4d\u7f6e\u5728\uff1a  1\n2 [ root@centos $ ]  ls ~/nltk_data/grammars/book_grammars\nbackground.fol  discourse.fcfg  drt.fcfg  feat0.fcfg  feat1.fcfg  german.fcfg  simple-sem.fcfg  sql0.fcfg  sql1.fcfg  storage.fcfg   \u6211\u4eec\u770b\u5176\u4e2d\u6700\u7b80\u5355\u7684\u4e00\u4e2asql0.fcfg\uff0c\u8fd9\u662f\u4e00\u4e2a\u67e5\u627e\u56fd\u5bb6\u57ce\u5e02\u7684sql\u8bed\u53e5\u7684\u6587\u6cd5\uff1a   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20 % start S\n\nS [ SEM =( ?np + WHERE + ?vp )]  -  NP [ SEM = ?np ]  VP [ SEM = ?vp ] \n\nVP [ SEM =( ?v + ?pp )]  -  IV [ SEM = ?v ]  PP [ SEM = ?pp ] \nVP [ SEM =( ?v + ?ap )]  -  IV [ SEM = ?v ]  AP [ SEM = ?ap ] \nNP [ SEM =( ?det + ?n )]  -  Det [ SEM = ?det ]  N [ SEM = ?n ] \nPP [ SEM =( ?p + ?np )]  -  P [ SEM = ?p ]  NP [ SEM = ?np ] \nAP [ SEM = ?pp ]  -  A [ SEM = ?a ]  PP [ SEM = ?pp ] \n\nNP [ SEM = Country= greece ]  -   Greece \nNP [ SEM = Country= china ]  -   China \n\nDet [ SEM = SELECT ]  -   Which   |   What \n\nN [ SEM = City FROM city_table ]  -   cities \n\nIV [ SEM = ]  -   are \nA [ SEM = ]  -   located \nP [ SEM = ]  -   in", 
            "title": "\u7279\u5f81\u7ed3\u6784\u7684\u5904\u7406"
        }, 
        {
            "location": "/7.grammar/#_4", 
            "text": "\u8fd9\u91cc\u9762\u4ece\u4e0a\u5230\u4e0b\u662f\u4ece\u6700\u5927\u8303\u56f4\u5230\u6700\u5c0f\u8303\u56f4\u4e00\u4e2a\u4e2a\u7684\u89e3\u91ca\uff0cS\u662f\u53e5\u5b50  \u6211\u4eec\u6765\u52a0\u8f7d\u8fd9\u4e2a\u6587\u6cd5\u63cf\u8ff0\uff0c\u5e76\u8bd5\u9a8c\u5982\u4e0b\uff1a  1\n2\n3\n4\n5\n6\n7 import   nltk  from   nltk   import   load_parser  cp   =   load_parser ( grammars/book_grammars/sql0.fcfg )  query   =   What cities are located in China  tokens   =   query . split ()  for   tree   in   cp . parse ( tokens ): \n     print   tree    \u8f93\u51fa\u7ed3\u679c\u5982\u4e0b\uff1a   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11 ( S [ SEM = ( SELECT ,   City   FROM   city_table ,   WHERE ,   ,   ,   Country = china )] \n   ( NP [ SEM = ( SELECT ,   City   FROM   city_table )] \n     ( Det [ SEM = SELECT ]   What ) \n     ( N [ SEM = City FROM city_table ]   cities )) \n   ( VP [ SEM = (,   ,   Country = china )] \n     ( IV [ SEM = ]   are ) \n     ( AP [ SEM = (,   Country = china )] \n       ( A [ SEM = ]   located ) \n       ( PP [ SEM = (,   Country = china )] \n         ( P [ SEM = ]   in ) \n         ( NP [ SEM = Country= china ]   China )))))    \u6211\u4eec\u53ef\u4ee5\u770b\u5230\u7528\u7279\u5f81\u7ed3\u6784\u53ef\u4ee5\u5efa\u7acb\u5bf9\u5927\u91cf\u5e7f\u6cdb\u7684\u8bed\u8a00\u5b66\u73b0\u8c61\u7684\u7b80\u4ecb\u5206\u6790", 
            "title": "\u89e3\u91ca\u4e00\u4e0b"
        }, 
        {
            "location": "/8.nlp-review/", 
            "text": "\u522b\u8bef\u4f1a\uff0c\u524d\u9762\u51e0\u8282\u4e0d\u662f\u9017\u4f60\u73a9\uff0c\u6211\u603b\u7ed3\u4e86\uff0c\u8ba1\u7b97\u673a\u9886\u57df\u7684\u77e5\u8bc6\u5f97\u5012\u7740\u5b66\uff0c\u4e0d\u7ba1\u4e09\u4e03\u4e8c\u5341\u4e00\u5148\u7528\u8d77\u6765\uff0c\u7136\u540e\u518d\u7cfb\u7edf\u5730\u5b66\u4e60\uff0c\u8fd9\u4e0d\uff0c\u524d\u51e0\u8282\u5148\u7ed9\u4f60\u4eec\u5c55\u793a\u4e86\u51e0\u4e2a\u5e38\u89c1\u77e5\u8bc6\u548c\u5de5\u5177\uff0c\u4ece\u8fd9\u4e00\u8282\u5f00\u59cb\u6b65\u5165\u4e3b\u9898\uff0c\u81ea\u7136\u8bed\u8a00\u5904\u7406\u4e0e\u95ee\u7b54\u7cfb\u7edf \n\n\n\u81ea\u7136\u8bed\u8a00\u5904\u7406\u600e\u4e48\u5b66\uff1f\n\n\n\u5148\u5b66\u4f1a\u5012\u7740\u5b66\uff0c\u5012\u56de\u53bb\u770b\u4e0a\u9762\u90a3\u53e5\u8bdd\uff1a\u4e0d\u7ba1\u4e09\u4e03\u4e8c\u5341\u4e00\u5148\u7528\u8d77\u6765\uff0c\u7136\u540e\u518d\u7cfb\u7edf\u5730\u5b66\u4e60\n\n\nnltk\u662f\u6700\u7ecf\u5178\u7684\u81ea\u7136\u8bed\u8a00\u5904\u7406\u7684python\u5e93\uff0c\u4e0d\u77e5\u9053\u600e\u4e48\u7528\u7684\u770b\u524d\u51e0\u7bc7\u6587\u7ae0\u5427\uff0c\u5148\u628a\u5b83\u7528\u8d77\u6765\uff0c\u6700\u8d77\u7801\u505a\u51fa\u6765\u4e00\u4e2a\u8bcd\u6027\u6807\u6ce8\u7684\u5c0f\u5de5\u5177\n\n\n\u81ea\u7136\u8bed\u8a00\u5904\u7406\u5b66\u4ec0\u4e48\uff1f\n\n\n\u8fd9\u95e8\u5b66\u79d1\u7684\u77e5\u8bc6\u53ef\u662f\u76f8\u5f53\u7684\u5e7f\u6cdb\uff0c\u5e7f\u6cdb\u5230\u4f60\u4e0d\u9700\u8981\u638c\u63e1\u4efb\u4f55\u77e5\u8bc6\u5c31\u53ef\u4ee5\u76f4\u63a5\u5b66\uff0c\u56e0\u4e3a\u4f60\u4e0d\u53ef\u80fd\u638c\u63e1\u5b83\u4f9d\u8d56\u7684\u5168\u90e8\u77e5\u8bc6\uff0c\u6240\u4ee5\u5c31\u76f4\u63a5\u51b2\u8fc7\u53bb\u5427\u3002\u3002\u3002\n\n\n\u8bdd\u8bf4\u56de\u6765\uff0c\u5b83\u5230\u5e95\u5305\u62ec\u54ea\u4e9b\u77e5\u8bc6\u5462\uff1f\u5982\u679c\u628a\u8fd9\u4e9b\u77e5\u8bc6\u6bd4\u4f5c\u96be\u5173\u7684\u8bdd\uff0c\u6211\u6570\u4e00\u6570\uff0c\u6574\u6574\u4e5d\u4e5d\u516b\u5341\u4e00\u96be\n\n\n\u7b2c\u4e00\u96be\uff1a\u8bed\u8a00\u5b66\u3002\n\u76f4\u63a5\u61f5\u903c\u4e86\u5427\uff1f\u8bed\u8a00\u5b66\u5565\u73a9\u610f\uff0c\u600e\u4e48\u8bf4\u8bdd\uff1f\u8fd8\u662f\u600e\u4e48\u5b66\u8bf4\u8bdd\uff1f\u5176\u5b9e\u5927\u5bb6\u4e5f\u90fd\u8bf4\u4e0d\u6e05\u8bed\u8a00\u5b66\u662f\u4ec0\u4e48\u4e1c\u4e1c\uff0c\u4f46\u662f\u6211\u77e5\u9053\u5927\u5bb6\u5728\u8fd9\u65b9\u9762\u90fd\u5728\u7814\u7a76\u5565\uff0c\u6709\u7684\u5728\u7814\u7a76\u8bed\u8a00\u63cf\u8ff0\u7684\u5b66\u95ee\uff0c\u6709\u7684\u5728\u7814\u7a76\u8bed\u8a00\u7406\u8bba\u7684\u5b66\u95ee\uff0c\u6709\u7684\u5728\u7814\u7a76\u4e0d\u540c\u8bed\u8a00\u5bf9\u6bd4\u7684\u5b66\u95ee\uff0c\u6709\u7684\u5728\u7814\u7a76\u8bed\u8a00\u5171\u540c\u70b9\u4e0a\u7684\u5b66\u95ee\uff0c\u6709\u7684\u5728\u7814\u7a76\u8bed\u8a00\u53d1\u5c55\u7684\u5386\u53f2\uff0c\u6709\u7684\u5728\u7814\u7a76\u8bed\u8a00\u7684\u7ed3\u6784\uff0c\u603b\u4e4b\u7528\u4e00\u4e2a\u5b57\u6765\u5f62\u5bb9\u90a3\u662f\u4e00\u4e2a\u6d89\u730e\u5e7f\u6cdb\u554a\n\n\n\u7b2c\u4e8c\u96be\uff1a\u8bed\u97f3\u5b66\u3002\n\u518d\u4e00\u6b21\u61f5\u903c\uff01\u6709\u4eba\u8bf4\uff1a\u6211\u77e5\u9053\uff01\u8bed\u97f3\u5b66\u5c31\u662f\u600e\u4e48\u53d1\u58f0\u3002\u8d5e\u4e00\u4e2a\uff0c\u56de\u7b54\u7684\u90a3\u662f\u76f8\u5f53\u4e0d\u5b8c\u5168\u5bf9\u554a\uff01\u4f60\u4ee5\u4e3a\u4f60\u662f\u5b66\u5531\u6b4c\u5417\uff1f\u8bed\u97f3\u5b66\u7814\u7a76\u9886\u57df\u5206\u4e09\u5757\uff1a\u4e00\u5757\u662f\u7814\u7a76\u58f0\u97f3\u662f\u600e\u4e48\u53d1\u51fa\u6765\u7684\uff08\u540c\u5b66\u4f60\u8bf4\u5bf9\u4e86\u4e00\u70b9\uff09\uff1b\u4e00\u5757\u662f\u7814\u7a76\u58f0\u97f3\u662f\u600e\u4e48\u4f20\u9012\u7684\uff1b\u4e00\u5757\u662f\u7814\u7a76\u58f0\u97f3\u662f\u600e\u4e48\u63a5\u6536\u7684\u3002\u8fd9\u5c3c\u739b\u4e0d\u662f\u7269\u7406\u5417\uff1f\u600e\u4e48\u8fd8\u6574\u51fa\u8bed\u8a00\u5b66\u6765\u4e86\uff1f\u5176\u5b9e\u8fd9\u662f\u4e00\u4e2a\u4ea4\u53c9\u5b66\u79d1\uff0c\u4ea4\u53c9\u4e86\u8bed\u8a00\u5b66\uff0c\u4ea4\u53c9\u4e86\u751f\u7269\u5b66\n\n\n\u7b2c\u4e09\u96be\uff1a\u6982\u7387\u8bba\u3002\n\u5565\uff1f\u600e\u4e48\u5230\u5904\u90fd\u662f\u6982\u7387\u8bba\u554a\uff1f\u542c\u4eba\u8bf4\u4eca\u5e74\u53c8\u67d0\u67d0\u67d0\u5f97\u4e86\u8bfa\u8d1d\u5c14\u7ecf\u6d4e\u5b66\u5956\u4e86\uff0c\u6211\u5b9a\u775b\u4e00\u770b\uff0c\u5c3c\u739b\uff0c\u8fd9\u4e0d\u662f\u7814\u7a76\u7684\u6982\u7387\u8bba\u561b\uff0c\u8fd9\u4e5f\u80fd\u5f97\u7ecf\u6d4e\u5b66\u5956\uff0c\u771f\u662f\u5f97\u6570\u5b66\u8005\u5f97\u5929\u4e0b\u554a\u3002\u5e9f\u8bdd\u5c11\u8bf4\uff0c\u6982\u7387\u8bba\u8ddf\u81ea\u7136\u8bed\u8a00\u5904\u7406\u6709\u4ec0\u4e48\u5173\u7cfb\uff1f\u6211\u77e5\u9053\u4e86\uff0c\u8bf4\u8bdd\u662f\u4e00\u4e2a\u6982\u7387\u95ee\u9898\uff0c\u6211\u7ecf\u5e38\u8bf4\u201c\u5c3c\u739b\u201d\uff0c\u90a3\u6211\u518d\u6b21\u8bf4\u201c\u5c3c\u739b\u201d\u7684\u6982\u7387\u5c31\u9ad8\uff0c\u55ef~\u6cbe\u8fb9\u4e86\u3002\u63d0\u5230\u6982\u7387\u8bba\u90a3\u5c31\u5c11\u4e0d\u4e86\u8fd9\u4e9b\uff1a\u8d1d\u53f6\u65af\u8001\u7237\u7237\u3001\u9a6c\u5c14\u53ef\u592b\u5927\u53d4\u2026\u2026\n\n\n\u7b2c\u56db\u96be\uff1a\u4fe1\u606f\u8bba\u3002\n\u63d0\u5230\u4fe1\u606f\u8bba\u80af\u5b9a\u7b2c\u4e00\u4e2a\u60f3\u5230\u7684\u662f\u201c\u9999\u6d53\u201d\u554a\uff0c\u6709\u70b9\u6d41\u53e3\u6c34\u4e86\uff0c\u9999\u519c\u8001\u7237\u7237\u63d0\u51fa\u7684\u71b5\u7406\u8bba\u5f71\u54cd\u90a3\u662f\u76f8\u5f53\u5de8\u5927\u554a\uff0c\u6ca1\u6709\u5b83\u4f30\u8ba1\u5c31\u6ca1\u6709\u6211\u4eec\u8ba1\u7b97\u673a\u4eba\u4e8b\u4ec0\u4e48\u4e8b\u4e86\uff0c\u56e0\u4e3a\u6ca1\u6709\u4ed6\u5c31\u6ca1\u6709\u4e92\u8054\u7f51\u4e86\u3002\u8fd8\u6709\u4eba\u8bf4\u6ca1\u6709\u56fe\u7075\u5c31\u6ca1\u6709\u8ba1\u7b97\u673a\u4e86\uff0c\u4ed6\u548b\u4e0d\u8bf4\u6ca1\u6709\u4ed6\u4eec\u4fe9\u5c31\u6ca1\u6709\u5730\u7403\u4e86\u5462\uff1f\n\n\n\u7b2c\u4e94\u96be\uff1a\u673a\u5668\u5b66\u4e60\u3002\n\u673a\u5668\u5b66\u4e60\u662f\u6211\u7684\u6700\u7231\uff0c\u5f97\u804a\u7684\u6b63\u5f0f\u4e00\u70b9\uff0c\u54b3\u54b3\uff01\u673a\u5668\u5b66\u4e60\u554a\u2014\u2014\u5f97\u597d\u597d\u5b66\n\n\n\u7b2c\u516d\u96be\uff1a\u5f62\u5f0f\u8bed\u8a00\u4e0e\u81ea\u52a8\u673a\u3002\n\u6211\u6ef4\u5988\u554a\uff01\u6211\u8dea\u4e86\uff01\u521a\u8bf4\u56fe\u7075\u56fe\u7075\u5c31\u6765\u4e86\u3002\u8bf4\u767d\u4e86\uff0c\u5f62\u5f0f\u8bed\u8a00\u5c31\u662f\u628a\u8bed\u8a00\u641e\u7684\u5f88\u5f62\u5f0f\uff0c\u6362\u53e5\u8bdd\u8bf4\u5c31\u662f\u672c\u6765\u4f60\u80fd\u61c2\u7684\u4e1c\u897f\uff0c\u641e\u6210\u4f60\u4e0d\u80fd\u61c2\u7684\u4e1c\u897f\uff0c\u90a3\u5c31\u662f\u5f62\u5f0f\u8bed\u8a00\u5566\uff01\u4e0d\u4fe1\uff1f\u4f60\u542c\uff1a\u77ed\u8bed\u7ed3\u6784\u8bed\u8a00\u3001\u4e0a\u4e0b\u6587\u6709\u5173\u8bed\u8a00\u3001\u4e0a\u4e0b\u6587\u65e0\u5173\u8bed\u8a00\u3001\u6b63\u5219\u8bed\u8a00\uff0c\u61c2\u4e86\u5417\uff1f\u800c\u81ea\u52a8\u673a\u5462\u5305\u62ec\uff1a\u56fe\u7075\u673a\u3001\u6709\u7a77\u81ea\u52a8\u673a\u3001\u4e0b\u63a8\u81ea\u52a8\u673a\u3001\u7ebf\u6027\u6709\u754c\u81ea\u52a8\u673a\u3002\u4f60\u53ef\u80fd\u4f1a\u95ee\u4e86\uff0c\u8fd9\u4e48\u591a\u81ea\u52a8\u673a\u90a3\u5f97\u8981\u591a\u5c11\u6c7d\u6cb9\u554a\uff1f\u8be5\u6b7b\u7684\u7ffb\u8bd1\u600e\u4e48\u5c31\u628a\u8fd9\u4e48\u9ad8\u5927\u4e0a\u7684\u82f1\u6587\u7ed9\u7ffb\u8bd1\u6210\u8fd9\u4e48\u6666\u6da9\u5462\uff0c\u81ea\u52a8\u673a\u82f1\u6587\u53ebautomata\uff0c\u8868\u8fbe\u7684\u662f\u81ea\u52a8\u5f62\u6210\u4e00\u4e9b\u4fe1\u606f\uff0c\u4e5f\u5c31\u662f\u8bf4\u6839\u636e\u524d\u9762\u80fd\u81ea\u52a8\u5224\u65ad\u51fa\u540e\u9762\u3002\u5f62\u5f0f\u8bed\u8a00\u7528\u5728\u81ea\u7136\u8bed\u8a00\u5904\u7406\u4e0a\u6211\u7406\u89e3\uff0c\u90fd\u6709\u8bed\u8a00\u4fe9\u5b57\uff0c\u53ef\u662f\u8fd9\u81ea\u52a8\u673a\u6709\u4ec0\u4e48\u7528\u5462\uff1f\u8fd9\u60a8\u8fd8\u771f\u95ee\u7740\u4e86\uff0c\u60a8\u89c1\u8fc7\u62fc\u5199\u68c0\u67e5\u5417\uff1f\u8fd9\u5c31\u662f\u7528\u7684\u81ea\u52a8\u673a\uff0c\u7528\u5904\u6760\u6760\u7684\uff01\n\n\n\u7b2c\u4e03\u96be\uff1a\u8bed\u8a00\u77e5\u8bc6\u5e93\u3002\n\u4f60\u89c1\u8fc7\u79d1\u5e7b\u7535\u5f71\u91cc\u7684\u673a\u5668\u4eba\u624b\u6367\u7740\u7535\u8bdd\u7ebf\u5c31\u80fd\u77e5\u9053\u4e00\u5207\u7684\u955c\u5934\u5427\uff0c\u4e92\u8054\u7f51\u4e0a\u6709\u65e0\u6570\u6587\u672c\u5185\u5bb9\uff0c\u7528\u6211\u4eec\u62bd\u8c61\u7684\u8bdd\u8bf4\u90a3\u90fd\u662f\u77e5\u8bc6\uff0c\u4f46\u662f\u7b80\u5355\u653e\u5728\u7535\u8111\u91cc\u90a3\u5c31\u662f\u4e00\u4e32\u5b57\u7b26\u4e32\uff0c\u600e\u4e48\u624d\u80fd\u8ba9\u5b83\u4ee5\u77e5\u8bc6\u7684\u5f62\u5f0f\u5b58\u50a8\u5462\uff1f\u9996\u5148\u5f97\u8ba9\u8ba1\u7b97\u673a\u80fd\u5206\u6790\u8bed\u8a00\uff0c\u90a3\u4e48\u8bed\u6599\u5c31\u662f\u5b83\u5b66\u4e60\u7684\u57fa\u7840\u3001\u662f\u79cd\u5b50\uff0c\u7136\u540e\u6709\u4e86\u57fa\u7840\u518d\u8ba9\u5b83\u628a\u8bed\u8a00\u91cc\u7684\u77e5\u8bc6\u5b58\u50a8\u8d77\u6765\uff0c\u8fd9\u5c31\u5f62\u6210\u4e86\u8bed\u8a00\u77e5\u8bc6\u5e93\n\n\n\u7b2c\u516b\u96be\uff1a\u8bed\u8a00\u6a21\u578b\u3002\n\u6a21\u578b\u987e\u540d\u601d\u4e49\u5c31\u662f\u201c\u6a21\u5b50\u201d\uff0c\u5c31\u662f\u201c\u5f80\u4e0a\u9760\u201d\u7684\u610f\u601d\uff0c\u600e\u4e48\u9760\u4e0a\u53bb\u66f4\u543b\u5408\u5c31\u600e\u4e48\u9760\uff0c\u8fd9\u5c31\u662f\u8bed\u8a00\u6a21\u578b\u3002\u600e\u4e48\uff1f\u6ca1\u61c2\uff1f\u597d\u90a3\u6211\u7528\u5f62\u5f0f\u5316\u7684\u8bed\u8a00\u518d\u6765\u8bf4\u4e00\u4e0b\uff1a\u628a\u5f88\u591a\u5df2\u7ecf\u6574\u7406\u597d\u7684\u6a21\u5b50\u653e\u5728\u90a3\u91cc\uff0c\u9047\u5230\u4e00\u4e2a\u65b0\u5185\u5bb9\u7684\u65f6\u5019\u770b\u770b\u5c5e\u4e8e\u54ea\u79cd\u683c\u5f0f\uff0c\u90a3\u5c31\u6309\u7167\u8fd9\u79cd\u6a21\u5b50\u6765\u89e3\u91ca\u3002\u55ef~\u4f60\u80af\u5b9a\u61c2\u4e86\n\n\n\u7b2c\u4e5d\u96be\uff1a\u5206\u8bcd\u3001\u5b9e\u4f53\u8bc6\u522b\u3001\u8bcd\u6027\u6807\u6ce8\u3002\n\u8fd9\u90e8\u5206\u5f00\u59cb\u7eaf\u8bed\u8a00\u5904\u7406\u4e86\uff0c\u524d\u51e0\u8282\u4e5f\u7b80\u5355\u8bb2\u8fc7\u8fd9\u90e8\u5206\u5185\u5bb9\uff0c\u5206\u8bcd\u5c31\u662f\u8ba9\u8ba1\u7b97\u673a\u81ea\u52a8\u533a\u5206\u51fa\u6c49\u5b57\u7ec4\u6210\u7684\u8bcd\u8bed\uff0c\u56e0\u4e3a\u4e00\u4e2a\u8bcd\u8bed\u4e00\u4e2a\u610f\u601d\u561b\u3002\u5b9e\u4f53\u8bc6\u522b\u5c31\u662f\u518d\u5206\u8bcd\u4e4b\u540e\u80fd\u591f\u6839\u636e\u5404\u79cd\u77ed\u8bed\u5f62\u5f0f\u5224\u65ad\u51fa\u54ea\u4e2a\u8bcd\u8868\u793a\u7684\u662f\u4e00\u4e2a\u7269\u4f53\u6216\u7ec4\u7ec7\u6216\u4eba\u540d\u6216\u2026\u2026\u3002\u8bcd\u6027\u6807\u6ce8\u5c31\u662f\u7ed9\u4f60\u4e00\u53e5\u8bdd\uff0c\u4f60\u80fd\u8bc6\u522b\u51fa\u201c\u540d\u52a8\u5f62\u3001\u6570\u91cf\u4ee3\u3001\u526f\u4ecb\u8fde\u52a9\u53f9\u62df\u58f0\u201d\u3002\n\n\n\u7b2c\u5341\u96be\uff1a\u53e5\u6cd5\u5206\u6790\u3002\n\u53e5\u6cd5\u5206\u6790\u7c7b\u4f3c\u4e8e\u5c0f\u5b66\u65f6\u5b66\u7684\u4e3b\u8c13\u5bbe\u8865\u5b9a\u72b6\u7684\u533a\u5206\uff0c\u53ea\u662f\u8981\u5728\u8fd9\u57fa\u7840\u4e0a\u7ec4\u5408\u6210\u77ed\u8bed\uff0c\u4e5f\u5c31\u662f\u628a\u4e00\u4e2a\u975e\u7ed3\u6784\u5316\u7684\u53e5\u5b50\u5206\u6790\u79f0\u7ed3\u6784\u5316\u7684\u6570\u636e\u7ed3\u6784\n\n\n\u7b2c\u5341\u4e00\u96be\uff1a\u8bed\u4e49\u5206\u6790\u3002\n\u770b\u8d77\u6765\u4e00\u6b65\u4e00\u6b65\u8d8a\u6765\u8d8a\u6df1\u5165\u4e86\u3002\u8bed\u4e49\u662f\u57fa\u4e8e\u53e5\u6cd5\u5206\u6790\uff0c\u8fdb\u4e00\u6b65\u7406\u89e3\u53e5\u5b50\u7684\u610f\u601d\uff0c\u6700\u91cd\u8981\u7684\u5c31\u662f\u6d88\u9664\u6b67\u4e49\uff0c\u4eba\u59d1\u4e14\u8fd8\u4f1a\u7406\u89e3\u51fa\u6b67\u4e49\u6765\u5462\uff0c\u4f55\u51b5\u4e00\u4e2a\u673a\u5668\n\n\n\u7b2c\u5341\u4e8c\u96be\uff1a\u7bc7\u7ae0\u5206\u6790\u3002\n\u4e00\u5806\u5806\u7684\u53e5\u5b50\uff0c\u6bcf\u4e2a\u90fd\u5206\u6790\u660e\u767d\u4e86\uff0c\u4f46\u662f\u4e00\u5806\u53e5\u5b50\u7ec4\u5408\u6210\u7684\u7bc7\u7ae0\u53c8\u600e\u4e48\u624d\u80fd\u8054\u7cfb\u8d77\u6765\u5462\uff1f\u4f60\u5f97\u603b\u7ed3\u51fa\u672c\u6587\u7684\u4e2d\u5fc3\u601d\u60f3\u4e0d\u662f\uff1f\u8fd9\u4ed6\u5a18\u7684\u662f\u5c0f\u5b66\u8bed\u6587\u91cc\u6700\u96be\u7684\u4e00\u9053\u9898\n\n\n\u4ee5\u4e0a\u8fd9\u4e9b\u5185\u5bb9\u5c31\u662f\u81ea\u7136\u8bed\u8a00\u5904\u7406\u7684\u51e0\u5927\u96be\u4e86\uff0c\u4ec0\u4e48\uff1f\u8bf4\u597d\u7684\u4e5d\u4e5d\u516b\u5341\u4e00\u96be\u5462\uff1f\u4f60\u8fd8\u4e0d\u5acc\u591a\u554a\uff1f\u4f60\u8fd8\u771f\u60f3\u53d8\u6210\u5b59\u7334\u5b50\u5417\uff1f\u80fd\u628a\u8fd9\u51e0\u5173\u8fc7\u4e86\u5c31\u4e0d\u9519\u4e86\uff01\n\n\n\u81ea\u7136\u8bed\u8a00\u5904\u7406\u548c\u804a\u5929\u673a\u5668\u4eba\u4ec0\u4e48\u5173\u7cfb\uff1f\n\n\n\u8bf4\u5230\u8fd9\u91cc\uff0c\u7d22\u6027\u5c31\u8bf4\u8bf4\u4e0b\u81ea\u7136\u8bed\u8a00\u5904\u7406\u7684\u5e94\u7528\u9886\u57df\u5427\u3002\n\n\n\u7b2c\u4e00\u4e2a\u5e94\u7528\uff1a\u673a\u5668\u7ffb\u8bd1\u3002\n\u673a\u5668\u7ffb\u8bd1\u65b9\u6cd5\u6709\u5f88\u591a\uff0c\u6211\u4e0d\u505a\uff0c\u4e5f\u4e0d\u8bf4\uff0c\u60f3\u5b66\u81ea\u5df1\u770b\u53bb\n\n\n\u7b2c\u4e8c\u4e2a\u5e94\u7528\uff1a\u8bed\u97f3\u7ffb\u8bd1\u3002\n\u8ddf\u4e0a\u4e00\u4e2a\u4e0d\u662f\u4e00\u4e2a\u5417\uff1f\u4e0d\u662f\u7684\uff0c\u8fd9\u662f\u8bed\u97f3\uff0c\u90a3\u4e2a\u662f\u673a\u5668\n\n\n\u7b2c\u4e09\u4e2a\u5e94\u7528\uff1a\u6587\u672c\u5206\u7c7b\u4e0e\u60c5\u611f\u5206\u6790\u3002\n\u522b\u770b\u4e24\u4e2a\u8bcd\uff0c\u5176\u5b9e\u662f\u4e00\u79cd\u4e8b\u2014\u2014\u5206\u7c7b\u3002\u524d\u9762\u6709\u5f88\u591a\u7bc7\u6587\u7ae0\u5c06\u6587\u672c\u5206\u7c7b\u7684\uff0c\u53ef\u4ee5\u770b\u770b\uff0c\u8fd8\u6709\u4ee3\u7801\u5662\u3002\n\n\n\u7b2c\u56db\u4e2a\u5e94\u7528\uff1a\u4fe1\u606f\u68c0\u7d22\u4e0e\u95ee\u7b54\u7cfb\u7edf\u3002\n\u7ec8\u4e8e\u8bf4\u5230\u91cd\u70b9\u4e86\uff0c\u7d2f\u6b7b\u6211\u4e86\u3002\u8fd9\u91cc\u7684\u95ee\u7b54\u7cfb\u7edf\u5c31\u662f\u6211\u4eec\u7684\u804a\u5929\u673a\u5668\u4eba\u3002\u540e\u9762\u4f1a\u7740\u91cd\u8bb2\u8fd9\u4e2a\u5e94\u7528\uff0c\u6211\u4e0d\u65ad\u8bfb\u8bba\u6587\uff0c\u4e0d\u65ad\u7ed9\u5927\u5bb6\u5206\u4eab\u54c8\uff0c\u522b\u7740\u6025\uff0c\u4e56\uff01\n\n\n\u7b2c\u4e94\u4e2a\u5e94\u7528\uff1a\u81ea\u52a8\u6587\u6458\u548c\u4fe1\u606f\u62bd\u53d6\u3002\n\u770b\u8fc7\u767e\u5ea6\u641c\u7d22\u91cc\u663e\u793a\u7684\u6458\u8981\u5417\uff1f\u4ed6\u4eec\u591a\u4e48\u7684\u7cbe\u7b80\uff0c\u800c\u4e14\u63cf\u8ff0\u4e86\u7f51\u9875\u91cc\u7684\u4e2d\u5fc3\u5185\u5bb9\uff0c\u591a\u6f02\u4eae\u554a\uff01\u53ef\u60dc\u591a\u6570\u90fd\u6ca1\u505a\u5230\u81ea\u52a8\u6587\u6458\u3002\u6240\u4ee5\u8fd9\u662f\u4e00\u4e2a\u9ad8\u6280\u672f\u96be\u5ea6\u7684\u95ee\u9898\u3002\n\n\n\u7b2c\u516d\u4e2a\u5e94\u7528\uff1a\u4eba\u673a\u5bf9\u8bdd\u3002\n\u878d\u5408\u4e86\u8bed\u97f3\u8bc6\u522b\u3001\u53e3\u8bed\u60c5\u611f\u5206\u6790\u3001\u518d\u52a0\u4e0a\u95ee\u7b54\u7cfb\u7edf\u7684\u5168\u90e8\u5185\u5bb9\uff0c\u662f\u81ea\u7136\u8bed\u8a00\u5904\u7406\u7684\u6700\u9ad8\u5883\u754c\uff0c\u79bb\u673a\u5668\u4eba\u7edf\u9738\u4e16\u754c\u4e0d\u8fdc\u4e86\u3002\n\n\n\u4ee5\u53ca\u8fd9\u4e48\u591a\u6570\u4e0d\u5b8c\u7684\u5e94\u7528\uff1a\u6587\u672c\u6316\u6398\u3001\u8206\u60c5\u5206\u6790\u3001\u9690\u55bb\u8ba1\u7b97\u3001\u6587\u5b57\u7f16\u8f91\u548c\u81ea\u52a8\u6821\u5bf9\u3001\u4f5c\u6587\u81ea\u52a8\u8bc4\u5206\u3001OCR\u3001\u8bf4\u8bdd\u4eba\u8bc6\u522b\u9a8c\u8bc1\u2026\u2026\n\n\n\u597d\uff01\u81ea\u7136\u8bed\u8a00\u5904\u7406\u5c31\u6e29\u4e60\u5230\u8fd9\u91cc\uff0c\u8ba9\u6211\u4eec\u4e0a\u9635\u51fa\u53d1\uff01", 
            "title": "\u516b-\u81ea\u7136\u8bed\u8a00\u5904\u7406"
        }, 
        {
            "location": "/8.nlp-review/#_1", 
            "text": "\u5148\u5b66\u4f1a\u5012\u7740\u5b66\uff0c\u5012\u56de\u53bb\u770b\u4e0a\u9762\u90a3\u53e5\u8bdd\uff1a\u4e0d\u7ba1\u4e09\u4e03\u4e8c\u5341\u4e00\u5148\u7528\u8d77\u6765\uff0c\u7136\u540e\u518d\u7cfb\u7edf\u5730\u5b66\u4e60  nltk\u662f\u6700\u7ecf\u5178\u7684\u81ea\u7136\u8bed\u8a00\u5904\u7406\u7684python\u5e93\uff0c\u4e0d\u77e5\u9053\u600e\u4e48\u7528\u7684\u770b\u524d\u51e0\u7bc7\u6587\u7ae0\u5427\uff0c\u5148\u628a\u5b83\u7528\u8d77\u6765\uff0c\u6700\u8d77\u7801\u505a\u51fa\u6765\u4e00\u4e2a\u8bcd\u6027\u6807\u6ce8\u7684\u5c0f\u5de5\u5177", 
            "title": "\u81ea\u7136\u8bed\u8a00\u5904\u7406\u600e\u4e48\u5b66\uff1f"
        }, 
        {
            "location": "/8.nlp-review/#_2", 
            "text": "\u8fd9\u95e8\u5b66\u79d1\u7684\u77e5\u8bc6\u53ef\u662f\u76f8\u5f53\u7684\u5e7f\u6cdb\uff0c\u5e7f\u6cdb\u5230\u4f60\u4e0d\u9700\u8981\u638c\u63e1\u4efb\u4f55\u77e5\u8bc6\u5c31\u53ef\u4ee5\u76f4\u63a5\u5b66\uff0c\u56e0\u4e3a\u4f60\u4e0d\u53ef\u80fd\u638c\u63e1\u5b83\u4f9d\u8d56\u7684\u5168\u90e8\u77e5\u8bc6\uff0c\u6240\u4ee5\u5c31\u76f4\u63a5\u51b2\u8fc7\u53bb\u5427\u3002\u3002\u3002  \u8bdd\u8bf4\u56de\u6765\uff0c\u5b83\u5230\u5e95\u5305\u62ec\u54ea\u4e9b\u77e5\u8bc6\u5462\uff1f\u5982\u679c\u628a\u8fd9\u4e9b\u77e5\u8bc6\u6bd4\u4f5c\u96be\u5173\u7684\u8bdd\uff0c\u6211\u6570\u4e00\u6570\uff0c\u6574\u6574\u4e5d\u4e5d\u516b\u5341\u4e00\u96be  \u7b2c\u4e00\u96be\uff1a\u8bed\u8a00\u5b66\u3002 \u76f4\u63a5\u61f5\u903c\u4e86\u5427\uff1f\u8bed\u8a00\u5b66\u5565\u73a9\u610f\uff0c\u600e\u4e48\u8bf4\u8bdd\uff1f\u8fd8\u662f\u600e\u4e48\u5b66\u8bf4\u8bdd\uff1f\u5176\u5b9e\u5927\u5bb6\u4e5f\u90fd\u8bf4\u4e0d\u6e05\u8bed\u8a00\u5b66\u662f\u4ec0\u4e48\u4e1c\u4e1c\uff0c\u4f46\u662f\u6211\u77e5\u9053\u5927\u5bb6\u5728\u8fd9\u65b9\u9762\u90fd\u5728\u7814\u7a76\u5565\uff0c\u6709\u7684\u5728\u7814\u7a76\u8bed\u8a00\u63cf\u8ff0\u7684\u5b66\u95ee\uff0c\u6709\u7684\u5728\u7814\u7a76\u8bed\u8a00\u7406\u8bba\u7684\u5b66\u95ee\uff0c\u6709\u7684\u5728\u7814\u7a76\u4e0d\u540c\u8bed\u8a00\u5bf9\u6bd4\u7684\u5b66\u95ee\uff0c\u6709\u7684\u5728\u7814\u7a76\u8bed\u8a00\u5171\u540c\u70b9\u4e0a\u7684\u5b66\u95ee\uff0c\u6709\u7684\u5728\u7814\u7a76\u8bed\u8a00\u53d1\u5c55\u7684\u5386\u53f2\uff0c\u6709\u7684\u5728\u7814\u7a76\u8bed\u8a00\u7684\u7ed3\u6784\uff0c\u603b\u4e4b\u7528\u4e00\u4e2a\u5b57\u6765\u5f62\u5bb9\u90a3\u662f\u4e00\u4e2a\u6d89\u730e\u5e7f\u6cdb\u554a  \u7b2c\u4e8c\u96be\uff1a\u8bed\u97f3\u5b66\u3002 \u518d\u4e00\u6b21\u61f5\u903c\uff01\u6709\u4eba\u8bf4\uff1a\u6211\u77e5\u9053\uff01\u8bed\u97f3\u5b66\u5c31\u662f\u600e\u4e48\u53d1\u58f0\u3002\u8d5e\u4e00\u4e2a\uff0c\u56de\u7b54\u7684\u90a3\u662f\u76f8\u5f53\u4e0d\u5b8c\u5168\u5bf9\u554a\uff01\u4f60\u4ee5\u4e3a\u4f60\u662f\u5b66\u5531\u6b4c\u5417\uff1f\u8bed\u97f3\u5b66\u7814\u7a76\u9886\u57df\u5206\u4e09\u5757\uff1a\u4e00\u5757\u662f\u7814\u7a76\u58f0\u97f3\u662f\u600e\u4e48\u53d1\u51fa\u6765\u7684\uff08\u540c\u5b66\u4f60\u8bf4\u5bf9\u4e86\u4e00\u70b9\uff09\uff1b\u4e00\u5757\u662f\u7814\u7a76\u58f0\u97f3\u662f\u600e\u4e48\u4f20\u9012\u7684\uff1b\u4e00\u5757\u662f\u7814\u7a76\u58f0\u97f3\u662f\u600e\u4e48\u63a5\u6536\u7684\u3002\u8fd9\u5c3c\u739b\u4e0d\u662f\u7269\u7406\u5417\uff1f\u600e\u4e48\u8fd8\u6574\u51fa\u8bed\u8a00\u5b66\u6765\u4e86\uff1f\u5176\u5b9e\u8fd9\u662f\u4e00\u4e2a\u4ea4\u53c9\u5b66\u79d1\uff0c\u4ea4\u53c9\u4e86\u8bed\u8a00\u5b66\uff0c\u4ea4\u53c9\u4e86\u751f\u7269\u5b66  \u7b2c\u4e09\u96be\uff1a\u6982\u7387\u8bba\u3002 \u5565\uff1f\u600e\u4e48\u5230\u5904\u90fd\u662f\u6982\u7387\u8bba\u554a\uff1f\u542c\u4eba\u8bf4\u4eca\u5e74\u53c8\u67d0\u67d0\u67d0\u5f97\u4e86\u8bfa\u8d1d\u5c14\u7ecf\u6d4e\u5b66\u5956\u4e86\uff0c\u6211\u5b9a\u775b\u4e00\u770b\uff0c\u5c3c\u739b\uff0c\u8fd9\u4e0d\u662f\u7814\u7a76\u7684\u6982\u7387\u8bba\u561b\uff0c\u8fd9\u4e5f\u80fd\u5f97\u7ecf\u6d4e\u5b66\u5956\uff0c\u771f\u662f\u5f97\u6570\u5b66\u8005\u5f97\u5929\u4e0b\u554a\u3002\u5e9f\u8bdd\u5c11\u8bf4\uff0c\u6982\u7387\u8bba\u8ddf\u81ea\u7136\u8bed\u8a00\u5904\u7406\u6709\u4ec0\u4e48\u5173\u7cfb\uff1f\u6211\u77e5\u9053\u4e86\uff0c\u8bf4\u8bdd\u662f\u4e00\u4e2a\u6982\u7387\u95ee\u9898\uff0c\u6211\u7ecf\u5e38\u8bf4\u201c\u5c3c\u739b\u201d\uff0c\u90a3\u6211\u518d\u6b21\u8bf4\u201c\u5c3c\u739b\u201d\u7684\u6982\u7387\u5c31\u9ad8\uff0c\u55ef~\u6cbe\u8fb9\u4e86\u3002\u63d0\u5230\u6982\u7387\u8bba\u90a3\u5c31\u5c11\u4e0d\u4e86\u8fd9\u4e9b\uff1a\u8d1d\u53f6\u65af\u8001\u7237\u7237\u3001\u9a6c\u5c14\u53ef\u592b\u5927\u53d4\u2026\u2026  \u7b2c\u56db\u96be\uff1a\u4fe1\u606f\u8bba\u3002 \u63d0\u5230\u4fe1\u606f\u8bba\u80af\u5b9a\u7b2c\u4e00\u4e2a\u60f3\u5230\u7684\u662f\u201c\u9999\u6d53\u201d\u554a\uff0c\u6709\u70b9\u6d41\u53e3\u6c34\u4e86\uff0c\u9999\u519c\u8001\u7237\u7237\u63d0\u51fa\u7684\u71b5\u7406\u8bba\u5f71\u54cd\u90a3\u662f\u76f8\u5f53\u5de8\u5927\u554a\uff0c\u6ca1\u6709\u5b83\u4f30\u8ba1\u5c31\u6ca1\u6709\u6211\u4eec\u8ba1\u7b97\u673a\u4eba\u4e8b\u4ec0\u4e48\u4e8b\u4e86\uff0c\u56e0\u4e3a\u6ca1\u6709\u4ed6\u5c31\u6ca1\u6709\u4e92\u8054\u7f51\u4e86\u3002\u8fd8\u6709\u4eba\u8bf4\u6ca1\u6709\u56fe\u7075\u5c31\u6ca1\u6709\u8ba1\u7b97\u673a\u4e86\uff0c\u4ed6\u548b\u4e0d\u8bf4\u6ca1\u6709\u4ed6\u4eec\u4fe9\u5c31\u6ca1\u6709\u5730\u7403\u4e86\u5462\uff1f  \u7b2c\u4e94\u96be\uff1a\u673a\u5668\u5b66\u4e60\u3002 \u673a\u5668\u5b66\u4e60\u662f\u6211\u7684\u6700\u7231\uff0c\u5f97\u804a\u7684\u6b63\u5f0f\u4e00\u70b9\uff0c\u54b3\u54b3\uff01\u673a\u5668\u5b66\u4e60\u554a\u2014\u2014\u5f97\u597d\u597d\u5b66  \u7b2c\u516d\u96be\uff1a\u5f62\u5f0f\u8bed\u8a00\u4e0e\u81ea\u52a8\u673a\u3002 \u6211\u6ef4\u5988\u554a\uff01\u6211\u8dea\u4e86\uff01\u521a\u8bf4\u56fe\u7075\u56fe\u7075\u5c31\u6765\u4e86\u3002\u8bf4\u767d\u4e86\uff0c\u5f62\u5f0f\u8bed\u8a00\u5c31\u662f\u628a\u8bed\u8a00\u641e\u7684\u5f88\u5f62\u5f0f\uff0c\u6362\u53e5\u8bdd\u8bf4\u5c31\u662f\u672c\u6765\u4f60\u80fd\u61c2\u7684\u4e1c\u897f\uff0c\u641e\u6210\u4f60\u4e0d\u80fd\u61c2\u7684\u4e1c\u897f\uff0c\u90a3\u5c31\u662f\u5f62\u5f0f\u8bed\u8a00\u5566\uff01\u4e0d\u4fe1\uff1f\u4f60\u542c\uff1a\u77ed\u8bed\u7ed3\u6784\u8bed\u8a00\u3001\u4e0a\u4e0b\u6587\u6709\u5173\u8bed\u8a00\u3001\u4e0a\u4e0b\u6587\u65e0\u5173\u8bed\u8a00\u3001\u6b63\u5219\u8bed\u8a00\uff0c\u61c2\u4e86\u5417\uff1f\u800c\u81ea\u52a8\u673a\u5462\u5305\u62ec\uff1a\u56fe\u7075\u673a\u3001\u6709\u7a77\u81ea\u52a8\u673a\u3001\u4e0b\u63a8\u81ea\u52a8\u673a\u3001\u7ebf\u6027\u6709\u754c\u81ea\u52a8\u673a\u3002\u4f60\u53ef\u80fd\u4f1a\u95ee\u4e86\uff0c\u8fd9\u4e48\u591a\u81ea\u52a8\u673a\u90a3\u5f97\u8981\u591a\u5c11\u6c7d\u6cb9\u554a\uff1f\u8be5\u6b7b\u7684\u7ffb\u8bd1\u600e\u4e48\u5c31\u628a\u8fd9\u4e48\u9ad8\u5927\u4e0a\u7684\u82f1\u6587\u7ed9\u7ffb\u8bd1\u6210\u8fd9\u4e48\u6666\u6da9\u5462\uff0c\u81ea\u52a8\u673a\u82f1\u6587\u53ebautomata\uff0c\u8868\u8fbe\u7684\u662f\u81ea\u52a8\u5f62\u6210\u4e00\u4e9b\u4fe1\u606f\uff0c\u4e5f\u5c31\u662f\u8bf4\u6839\u636e\u524d\u9762\u80fd\u81ea\u52a8\u5224\u65ad\u51fa\u540e\u9762\u3002\u5f62\u5f0f\u8bed\u8a00\u7528\u5728\u81ea\u7136\u8bed\u8a00\u5904\u7406\u4e0a\u6211\u7406\u89e3\uff0c\u90fd\u6709\u8bed\u8a00\u4fe9\u5b57\uff0c\u53ef\u662f\u8fd9\u81ea\u52a8\u673a\u6709\u4ec0\u4e48\u7528\u5462\uff1f\u8fd9\u60a8\u8fd8\u771f\u95ee\u7740\u4e86\uff0c\u60a8\u89c1\u8fc7\u62fc\u5199\u68c0\u67e5\u5417\uff1f\u8fd9\u5c31\u662f\u7528\u7684\u81ea\u52a8\u673a\uff0c\u7528\u5904\u6760\u6760\u7684\uff01  \u7b2c\u4e03\u96be\uff1a\u8bed\u8a00\u77e5\u8bc6\u5e93\u3002 \u4f60\u89c1\u8fc7\u79d1\u5e7b\u7535\u5f71\u91cc\u7684\u673a\u5668\u4eba\u624b\u6367\u7740\u7535\u8bdd\u7ebf\u5c31\u80fd\u77e5\u9053\u4e00\u5207\u7684\u955c\u5934\u5427\uff0c\u4e92\u8054\u7f51\u4e0a\u6709\u65e0\u6570\u6587\u672c\u5185\u5bb9\uff0c\u7528\u6211\u4eec\u62bd\u8c61\u7684\u8bdd\u8bf4\u90a3\u90fd\u662f\u77e5\u8bc6\uff0c\u4f46\u662f\u7b80\u5355\u653e\u5728\u7535\u8111\u91cc\u90a3\u5c31\u662f\u4e00\u4e32\u5b57\u7b26\u4e32\uff0c\u600e\u4e48\u624d\u80fd\u8ba9\u5b83\u4ee5\u77e5\u8bc6\u7684\u5f62\u5f0f\u5b58\u50a8\u5462\uff1f\u9996\u5148\u5f97\u8ba9\u8ba1\u7b97\u673a\u80fd\u5206\u6790\u8bed\u8a00\uff0c\u90a3\u4e48\u8bed\u6599\u5c31\u662f\u5b83\u5b66\u4e60\u7684\u57fa\u7840\u3001\u662f\u79cd\u5b50\uff0c\u7136\u540e\u6709\u4e86\u57fa\u7840\u518d\u8ba9\u5b83\u628a\u8bed\u8a00\u91cc\u7684\u77e5\u8bc6\u5b58\u50a8\u8d77\u6765\uff0c\u8fd9\u5c31\u5f62\u6210\u4e86\u8bed\u8a00\u77e5\u8bc6\u5e93  \u7b2c\u516b\u96be\uff1a\u8bed\u8a00\u6a21\u578b\u3002 \u6a21\u578b\u987e\u540d\u601d\u4e49\u5c31\u662f\u201c\u6a21\u5b50\u201d\uff0c\u5c31\u662f\u201c\u5f80\u4e0a\u9760\u201d\u7684\u610f\u601d\uff0c\u600e\u4e48\u9760\u4e0a\u53bb\u66f4\u543b\u5408\u5c31\u600e\u4e48\u9760\uff0c\u8fd9\u5c31\u662f\u8bed\u8a00\u6a21\u578b\u3002\u600e\u4e48\uff1f\u6ca1\u61c2\uff1f\u597d\u90a3\u6211\u7528\u5f62\u5f0f\u5316\u7684\u8bed\u8a00\u518d\u6765\u8bf4\u4e00\u4e0b\uff1a\u628a\u5f88\u591a\u5df2\u7ecf\u6574\u7406\u597d\u7684\u6a21\u5b50\u653e\u5728\u90a3\u91cc\uff0c\u9047\u5230\u4e00\u4e2a\u65b0\u5185\u5bb9\u7684\u65f6\u5019\u770b\u770b\u5c5e\u4e8e\u54ea\u79cd\u683c\u5f0f\uff0c\u90a3\u5c31\u6309\u7167\u8fd9\u79cd\u6a21\u5b50\u6765\u89e3\u91ca\u3002\u55ef~\u4f60\u80af\u5b9a\u61c2\u4e86  \u7b2c\u4e5d\u96be\uff1a\u5206\u8bcd\u3001\u5b9e\u4f53\u8bc6\u522b\u3001\u8bcd\u6027\u6807\u6ce8\u3002 \u8fd9\u90e8\u5206\u5f00\u59cb\u7eaf\u8bed\u8a00\u5904\u7406\u4e86\uff0c\u524d\u51e0\u8282\u4e5f\u7b80\u5355\u8bb2\u8fc7\u8fd9\u90e8\u5206\u5185\u5bb9\uff0c\u5206\u8bcd\u5c31\u662f\u8ba9\u8ba1\u7b97\u673a\u81ea\u52a8\u533a\u5206\u51fa\u6c49\u5b57\u7ec4\u6210\u7684\u8bcd\u8bed\uff0c\u56e0\u4e3a\u4e00\u4e2a\u8bcd\u8bed\u4e00\u4e2a\u610f\u601d\u561b\u3002\u5b9e\u4f53\u8bc6\u522b\u5c31\u662f\u518d\u5206\u8bcd\u4e4b\u540e\u80fd\u591f\u6839\u636e\u5404\u79cd\u77ed\u8bed\u5f62\u5f0f\u5224\u65ad\u51fa\u54ea\u4e2a\u8bcd\u8868\u793a\u7684\u662f\u4e00\u4e2a\u7269\u4f53\u6216\u7ec4\u7ec7\u6216\u4eba\u540d\u6216\u2026\u2026\u3002\u8bcd\u6027\u6807\u6ce8\u5c31\u662f\u7ed9\u4f60\u4e00\u53e5\u8bdd\uff0c\u4f60\u80fd\u8bc6\u522b\u51fa\u201c\u540d\u52a8\u5f62\u3001\u6570\u91cf\u4ee3\u3001\u526f\u4ecb\u8fde\u52a9\u53f9\u62df\u58f0\u201d\u3002  \u7b2c\u5341\u96be\uff1a\u53e5\u6cd5\u5206\u6790\u3002 \u53e5\u6cd5\u5206\u6790\u7c7b\u4f3c\u4e8e\u5c0f\u5b66\u65f6\u5b66\u7684\u4e3b\u8c13\u5bbe\u8865\u5b9a\u72b6\u7684\u533a\u5206\uff0c\u53ea\u662f\u8981\u5728\u8fd9\u57fa\u7840\u4e0a\u7ec4\u5408\u6210\u77ed\u8bed\uff0c\u4e5f\u5c31\u662f\u628a\u4e00\u4e2a\u975e\u7ed3\u6784\u5316\u7684\u53e5\u5b50\u5206\u6790\u79f0\u7ed3\u6784\u5316\u7684\u6570\u636e\u7ed3\u6784  \u7b2c\u5341\u4e00\u96be\uff1a\u8bed\u4e49\u5206\u6790\u3002 \u770b\u8d77\u6765\u4e00\u6b65\u4e00\u6b65\u8d8a\u6765\u8d8a\u6df1\u5165\u4e86\u3002\u8bed\u4e49\u662f\u57fa\u4e8e\u53e5\u6cd5\u5206\u6790\uff0c\u8fdb\u4e00\u6b65\u7406\u89e3\u53e5\u5b50\u7684\u610f\u601d\uff0c\u6700\u91cd\u8981\u7684\u5c31\u662f\u6d88\u9664\u6b67\u4e49\uff0c\u4eba\u59d1\u4e14\u8fd8\u4f1a\u7406\u89e3\u51fa\u6b67\u4e49\u6765\u5462\uff0c\u4f55\u51b5\u4e00\u4e2a\u673a\u5668  \u7b2c\u5341\u4e8c\u96be\uff1a\u7bc7\u7ae0\u5206\u6790\u3002 \u4e00\u5806\u5806\u7684\u53e5\u5b50\uff0c\u6bcf\u4e2a\u90fd\u5206\u6790\u660e\u767d\u4e86\uff0c\u4f46\u662f\u4e00\u5806\u53e5\u5b50\u7ec4\u5408\u6210\u7684\u7bc7\u7ae0\u53c8\u600e\u4e48\u624d\u80fd\u8054\u7cfb\u8d77\u6765\u5462\uff1f\u4f60\u5f97\u603b\u7ed3\u51fa\u672c\u6587\u7684\u4e2d\u5fc3\u601d\u60f3\u4e0d\u662f\uff1f\u8fd9\u4ed6\u5a18\u7684\u662f\u5c0f\u5b66\u8bed\u6587\u91cc\u6700\u96be\u7684\u4e00\u9053\u9898  \u4ee5\u4e0a\u8fd9\u4e9b\u5185\u5bb9\u5c31\u662f\u81ea\u7136\u8bed\u8a00\u5904\u7406\u7684\u51e0\u5927\u96be\u4e86\uff0c\u4ec0\u4e48\uff1f\u8bf4\u597d\u7684\u4e5d\u4e5d\u516b\u5341\u4e00\u96be\u5462\uff1f\u4f60\u8fd8\u4e0d\u5acc\u591a\u554a\uff1f\u4f60\u8fd8\u771f\u60f3\u53d8\u6210\u5b59\u7334\u5b50\u5417\uff1f\u80fd\u628a\u8fd9\u51e0\u5173\u8fc7\u4e86\u5c31\u4e0d\u9519\u4e86\uff01", 
            "title": "\u81ea\u7136\u8bed\u8a00\u5904\u7406\u5b66\u4ec0\u4e48\uff1f"
        }, 
        {
            "location": "/8.nlp-review/#_3", 
            "text": "\u8bf4\u5230\u8fd9\u91cc\uff0c\u7d22\u6027\u5c31\u8bf4\u8bf4\u4e0b\u81ea\u7136\u8bed\u8a00\u5904\u7406\u7684\u5e94\u7528\u9886\u57df\u5427\u3002  \u7b2c\u4e00\u4e2a\u5e94\u7528\uff1a\u673a\u5668\u7ffb\u8bd1\u3002 \u673a\u5668\u7ffb\u8bd1\u65b9\u6cd5\u6709\u5f88\u591a\uff0c\u6211\u4e0d\u505a\uff0c\u4e5f\u4e0d\u8bf4\uff0c\u60f3\u5b66\u81ea\u5df1\u770b\u53bb  \u7b2c\u4e8c\u4e2a\u5e94\u7528\uff1a\u8bed\u97f3\u7ffb\u8bd1\u3002 \u8ddf\u4e0a\u4e00\u4e2a\u4e0d\u662f\u4e00\u4e2a\u5417\uff1f\u4e0d\u662f\u7684\uff0c\u8fd9\u662f\u8bed\u97f3\uff0c\u90a3\u4e2a\u662f\u673a\u5668  \u7b2c\u4e09\u4e2a\u5e94\u7528\uff1a\u6587\u672c\u5206\u7c7b\u4e0e\u60c5\u611f\u5206\u6790\u3002 \u522b\u770b\u4e24\u4e2a\u8bcd\uff0c\u5176\u5b9e\u662f\u4e00\u79cd\u4e8b\u2014\u2014\u5206\u7c7b\u3002\u524d\u9762\u6709\u5f88\u591a\u7bc7\u6587\u7ae0\u5c06\u6587\u672c\u5206\u7c7b\u7684\uff0c\u53ef\u4ee5\u770b\u770b\uff0c\u8fd8\u6709\u4ee3\u7801\u5662\u3002  \u7b2c\u56db\u4e2a\u5e94\u7528\uff1a\u4fe1\u606f\u68c0\u7d22\u4e0e\u95ee\u7b54\u7cfb\u7edf\u3002 \u7ec8\u4e8e\u8bf4\u5230\u91cd\u70b9\u4e86\uff0c\u7d2f\u6b7b\u6211\u4e86\u3002\u8fd9\u91cc\u7684\u95ee\u7b54\u7cfb\u7edf\u5c31\u662f\u6211\u4eec\u7684\u804a\u5929\u673a\u5668\u4eba\u3002\u540e\u9762\u4f1a\u7740\u91cd\u8bb2\u8fd9\u4e2a\u5e94\u7528\uff0c\u6211\u4e0d\u65ad\u8bfb\u8bba\u6587\uff0c\u4e0d\u65ad\u7ed9\u5927\u5bb6\u5206\u4eab\u54c8\uff0c\u522b\u7740\u6025\uff0c\u4e56\uff01  \u7b2c\u4e94\u4e2a\u5e94\u7528\uff1a\u81ea\u52a8\u6587\u6458\u548c\u4fe1\u606f\u62bd\u53d6\u3002 \u770b\u8fc7\u767e\u5ea6\u641c\u7d22\u91cc\u663e\u793a\u7684\u6458\u8981\u5417\uff1f\u4ed6\u4eec\u591a\u4e48\u7684\u7cbe\u7b80\uff0c\u800c\u4e14\u63cf\u8ff0\u4e86\u7f51\u9875\u91cc\u7684\u4e2d\u5fc3\u5185\u5bb9\uff0c\u591a\u6f02\u4eae\u554a\uff01\u53ef\u60dc\u591a\u6570\u90fd\u6ca1\u505a\u5230\u81ea\u52a8\u6587\u6458\u3002\u6240\u4ee5\u8fd9\u662f\u4e00\u4e2a\u9ad8\u6280\u672f\u96be\u5ea6\u7684\u95ee\u9898\u3002  \u7b2c\u516d\u4e2a\u5e94\u7528\uff1a\u4eba\u673a\u5bf9\u8bdd\u3002 \u878d\u5408\u4e86\u8bed\u97f3\u8bc6\u522b\u3001\u53e3\u8bed\u60c5\u611f\u5206\u6790\u3001\u518d\u52a0\u4e0a\u95ee\u7b54\u7cfb\u7edf\u7684\u5168\u90e8\u5185\u5bb9\uff0c\u662f\u81ea\u7136\u8bed\u8a00\u5904\u7406\u7684\u6700\u9ad8\u5883\u754c\uff0c\u79bb\u673a\u5668\u4eba\u7edf\u9738\u4e16\u754c\u4e0d\u8fdc\u4e86\u3002  \u4ee5\u53ca\u8fd9\u4e48\u591a\u6570\u4e0d\u5b8c\u7684\u5e94\u7528\uff1a\u6587\u672c\u6316\u6398\u3001\u8206\u60c5\u5206\u6790\u3001\u9690\u55bb\u8ba1\u7b97\u3001\u6587\u5b57\u7f16\u8f91\u548c\u81ea\u52a8\u6821\u5bf9\u3001\u4f5c\u6587\u81ea\u52a8\u8bc4\u5206\u3001OCR\u3001\u8bf4\u8bdd\u4eba\u8bc6\u522b\u9a8c\u8bc1\u2026\u2026  \u597d\uff01\u81ea\u7136\u8bed\u8a00\u5904\u7406\u5c31\u6e29\u4e60\u5230\u8fd9\u91cc\uff0c\u8ba9\u6211\u4eec\u4e0a\u9635\u51fa\u53d1\uff01", 
            "title": "\u81ea\u7136\u8bed\u8a00\u5904\u7406\u548c\u804a\u5929\u673a\u5668\u4eba\u4ec0\u4e48\u5173\u7cfb\uff1f"
        }, 
        {
            "location": "/9.chatbot/", 
            "text": "\u804a\u5929\u673a\u5668\u4eba\u5230\u5e95\u8be5\u600e\u4e48\u505a\u5462\uff1f\u6211\u65e5\u601d\u591c\u60f3\uff0c\u4e8e\u662f\u4e4e\u6211\u505a\u4e86\u4e00\u4e2a\u68a6\uff0c\u68a6\u91cc\u9762\u6211\u5b8c\u6210\u4e86\u6211\u7684\u804a\u5929\u673a\u5668\u4eba\uff0c\u5b83\u53ebchatbot\uff0c\u7ecf\u8fc7\u6211\u7684\u4e00\u756a\u76d8\u95ee\uff0c\u5b83\u5411\u6211\u53d9\u8ff0\u4e86\u5b83\u7684\u8bde\u751f\u8bb0 \n\n\n\u804a\u5929\u673a\u5668\u4eba\u662f\u53ef\u884c\u7684\n\n\n\u6211\uff1a\nchatbot\uff0c\u4f60\u597d\uff01\n\n\nchatbot\uff1a\n\u4f60\u4e5f\u597d\uff01\n\n\n\u6211\uff1a\n\u804a\u5929\u673a\u5668\u4eba\u53ef\u884c\u5417\uff1f\n\n\nchatbot\uff1a\n\u4f60\u4e0d\u8981\u6000\u7591\u8fd9\u662f\u5929\u65b9\u591c\u8c2d\uff0c\u6211\u4e0d\u5c31\u5728\u8fd9\u91cc\u5417\uff1f\u4e16\u754c\u4e0a\u8fd8\u6709\u5f88\u591a\u8ddf\u6211\u4e00\u6837\u806a\u660e\u7684\u673a\u5668\u4eba\u5462\uff0c\u4f60\u542c\u8fc7IBM\u516c\u53f8\u57282010\u5e74\u5c31\u7814\u53d1\u51fa\u6765\u4e86\u7684Watson\u95ee\u7b54\u7cfb\u7edf\u5417\uff1f\u5b83\u53ef\u6bd4\u6211\u8981\u806a\u660e100\u500d\u5462\n\n\n\u6211\uff1a\n\u5662\uff0c\u60f3\u8d77\u6765\u4e86\uff0c\u636e\u8bf4Watson\u5728\u667a\u529b\u7ade\u8d5b\u4e2d\u7adf\u7136\u6218\u80dc\u4e86\u4eba\u7c7b\u9009\u624b\u3002\u4f46\u662f\u6211\u4e86\u89e3\u5230\u5b83\u6709\u4e00\u4e9b\u7f3a\u9677\uff1a\u56e0\u4e3a\u5b83\u8fd8\u53ea\u662f\u5bf9\u4fe1\u606f\u68c0\u7d22\u6280\u672f\u7684\u7efc\u5408\u8fd0\u7528\uff0c\u5e76\u6ca1\u6709\u8fdb\u884c\u5404\u79cd\u8bed\u4e49\u5173\u7cfb\u7684\u6df1\u523b\u8ba1\u7b97\uff0c\u6240\u4ee5\u5b83\u80fd\u56de\u7b54\u7684\u95ee\u9898\u4e5f\u4ec5\u9650\u4e8e\u5b9e\u4e8b\u7c7b\u7684\u95ee\u9898\uff0c\u6240\u4ee5\u5b83\u80fd\u8d62\u5f97\u4e5f\u5c31\u662f\u77e5\u8bc6\u7c7b\u7684\u667a\u529b\u7ade\u8d5b\uff0c\u5982\u679c\u4f60\u7ed9\u5b83\u51fa\u4e2a\u8111\u7b4b\u6025\u8f6c\u5f2f\uff0c\u5b83\u5c31\u4e0d\u884c\u4e86\n\n\nchatbot\uff1a\n\u662f\u7684\u5462\uff0c\u6240\u4ee5\u4f60\u4efb\u91cd\u9053\u8fdc\u554a\n\n\n\u804a\u5929\u673a\u5668\u4eba\u5de5\u4f5c\u539f\u7406\u662f\u4ec0\u4e48\n\n\n\u6211\uff1achatbot\uff0c\u6211\u95ee\u7684\u6bcf\u4e00\u53e5\u8bdd\uff0c\u4f60\u90fd\u662f\u600e\u4e48\u5904\u7406\u5e76\u56de\u7b54\u6211\u7684\u5462\uff1f\n\n\nchatbot\uff1a\u6211\u8eab\u4f53\u91cc\u6709\u4e09\u4e2a\u91cd\u8981\u6a21\u5757\uff1a\u63d0\u95ee\u5904\u7406\u6a21\u5757\u3001\u68c0\u7d22\u6a21\u5757\u3001\u7b54\u6848\u62bd\u53d6\u6a21\u5757\u3002\u4e09\u4e2a\u6a21\u5757\u4e00\u8d77\u5de5\u4f5c\uff0c\u5c31\u80fd\u56de\u7b54\u4f60\u7684\u95ee\u9898\u5566\n\n\n\u6211\uff1a\u662f\u561b\uff0c\u90a3\u4e48\u8fd9\u4e2a\u63d0\u95ee\u5904\u7406\u6a21\u5757\u662f\u600e\u4e48\u5de5\u4f5c\u7684\u5462\uff1f\n\n\nchatbot\uff1a\u63d0\u95ee\u5904\u7406\u6a21\u5757\u8981\u505a\u4e09\u9879\u91cd\u8981\u5de5\u4f5c\uff1a\u67e5\u8be2\u5173\u952e\u8bcd\u751f\u6210\u3001\u7b54\u6848\u7c7b\u578b\u786e\u5b9a\u3001\u53e5\u6cd5\u548c\u8bed\u4e49\u5206\u6790\u3002\n\n\n\u6211\uff1a\u90a3\u4e48\u8fd9\u4e2a\u67e5\u8be2\u5173\u3002\u3002\u3002\n\n\nchatbot\uff1a\u522b\u6025\u522b\u6025\uff0c\u542c\u6211\u4e00\u4e2a\u4e00\u4e2a\u8bb2\u7ed9\u4f60\u542c\u3002\u67e5\u8be2\u5173\u952e\u8bcd\u751f\u6210\uff0c\u5c31\u662f\u4ece\u4f60\u7684\u63d0\u95ee\u4e2d\u63d0\u53d6\u51fa\u5173\u952e\u7684\u51e0\u4e2a\u5173\u952e\u8bcd\uff0c\u56e0\u4e3a\u6211\u672c\u8eab\u662f\u4e00\u4e2a\u7a7a\u58f3\u5b50\uff0c\u9700\u8981\u53bb\u7f51\u4e0a\u67e5\u627e\u8d44\u6599\u624d\u80fd\u56de\u7b54\u4f60\uff0c\u800c\u4f46\u7f51\u4e0a\u8d44\u6599\u90a3\u4e48\u591a\uff0c\u6211\u8be5\u67e5\u54ea\u4e9b\u5462\uff1f\u6240\u4ee5\u4f60\u7684\u63d0\u95ee\u5c31\u6709\u7528\u5566\uff0c\u6211\u627e\u51e0\u4e2a\u4e2d\u5fc3\u8bcd\uff0c\u518d\u5173\u8054\u51fa\u51e0\u4e2a\u6269\u5c55\u8bcd\uff0c\u4e0a\u7f51\u4e00\u641c\uff0c\u4e00\u5927\u6279\u8d44\u6599\u5c31\u6765\u5566\uff0c\u5f53\u7136\u8fd9\u4e9b\u90fd\u662f\u539f\u59cb\u8d44\u6599\uff0c\u6211\u540e\u9762\u8981\u7ee7\u7eed\u5904\u7406\u3002\u518d\u8bf4\u7b54\u6848\u7c7b\u578b\u786e\u5b9a\uff0c\u8fd9\u9879\u5de5\u4f5c\u662f\u4e3a\u4e86\u786e\u5b9a\u4f60\u7684\u63d0\u95ee\u5c5e\u4e8e\u54ea\u4e00\u7c7b\u7684\uff0c\u5982\u679c\u4f60\u95ee\u7684\u662f\u65f6\u95f4\u3001\u5730\u70b9\uff0c\u548c\u4f60\u95ee\u7684\u662f\u6280\u672f\u65b9\u6848\uff0c\u90a3\u6211\u540e\u9762\u8981\u505a\u7684\u5904\u7406\u662f\u4e0d\u4e00\u6837\u7684\u3002\u6700\u540e\u518d\u8bf4\u8fd9\u4e2a\u53e5\u6cd5\u548c\u8bed\u4e49\u5206\u6790\uff0c\u8fd9\u662f\u5bf9\u4f60\u95ee\u9898\u7684\u6df1\u5c42\u542b\u4e49\u505a\u4e00\u4e2a\u5256\u6790\uff0c\u6bd4\u5982\u4f60\u7684\u95ee\u9898\u662f\uff1a\u804a\u5929\u673a\u5668\u4eba\u600e\u4e48\u505a\uff1f\u90a3\u4e48\u6211\u8981\u77e5\u9053\u4f60\u8981\u95ee\u7684\u662f\u804a\u5929\u673a\u5668\u4eba\u7684\u7814\u53d1\u65b9\u6cd5\n\n\n\u6211\uff1a\u539f\u6765\u662f\u8fd9\u6837\uff0c\u63d0\u95ee\u5904\u7406\u6a21\u5757\u8fd9\u4e09\u9879\u5de5\u4f5c\u6211\u4e86\u89e3\u4e86\uff0c\u90a3\u4e48\u68c0\u7d22\u6a21\u5757\u662f\u600e\u4e48\u5de5\u4f5c\u7684\u5462\uff1f\n\n\nchatbot\uff1a\u68c0\u7d22\u6a21\u5757\u8ddf\u641c\u7d22\u5f15\u64ce\u6bd4\u8f83\u50cf\uff0c\u5c31\u662f\u6839\u636e\u67e5\u8be2\u5173\u952e\u8bcd\u6240\u4fe1\u606f\u68c0\u7d22\uff0c\u8fd4\u56de\u53e5\u5b50\u6216\u6bb5\u843d\uff0c\u8fd9\u90e8\u5206\u5c31\u662f\u4e0b\u4e00\u6b65\u8981\u5904\u7406\u7684\u539f\u6599\n\n\n\u6211\uff1a\u90a3\u4e48\u7b54\u6848\u62bd\u53d6\u6a21\u5757\u5462\uff1f\n\n\nchatbot\uff1a\u7b54\u6848\u62bd\u53d6\u6a21\u5757\u53ef\u4ee5\u8bf4\u662f\u8ba1\u7b97\u91cf\u6700\u5927\u7684\u90e8\u5206\u4e86\uff0c\u5b83\u8981\u901a\u8fc7\u5206\u6790\u548c\u63a8\u7406\u4ece\u68c0\u7d22\u51fa\u7684\u53e5\u5b50\u6216\u6bb5\u843d\u91cc\u62bd\u53d6\u51fa\u548c\u63d0\u95ee\u4e00\u81f4\u7684\u5b9e\u4f53\uff0c\u518d\u6839\u636e\u6982\u7387\u6700\u5927\u5bf9\u5019\u9009\u7b54\u6848\u6392\u5e8f\uff0c\u6ce8\u610f\u8fd9\u91cc\u662f\u201c\u5019\u9009\u7b54\u6848\u201d\u5662\uff0c\u4e5f\u5c31\u662f\u5f88\u96be\u7ed9\u51fa\u4e00\u4e2a\u5b8c\u5168\u6b63\u786e\u7684\u7ed3\u679c\uff0c\u5f88\u6709\u53ef\u80fd\u7ed9\u51fa\u591a\u4e2a\u7ed3\u679c\uff0c\u6700\u540e\u8fd8\u5728\u518d\u9009\u51fa\u4e00\u4e2a\u6765\n\n\n\u6211\uff1a\u90a3\u4e48\u6211\u53ea\u8981\u5b9e\u73b0\u8fd9\u4e09\u4e2a\u6a21\u5757\uff0c\u5c31\u80fd\u505a\u6210\u4e00\u4e2a\u4f60\u55bd\uff1f\n\n\nchatbot\uff1a\u662f\u7684\n\n\n\u804a\u5929\u673a\u5668\u4eba\u7684\u5173\u952e\u6280\u672f\n\n\n\u6211\uff1achatbot\uff0c\u5c0f\u5f1f\u6211\u77e5\u8bc6\u532e\u4e4f\uff0c\u80fd\u4e0d\u80fd\u544a\u8bc9\u6211\u90fd\u9700\u8981\u5b66\u54ea\u4e9b\u5173\u952e\u6280\u672f\u624d\u80fd\u5b8c\u6210\u6211\u7684\u68a6\u60f3\n\n\nchatbot\uff1a\u5c0f\u5f1f\u3002\u3002\u3002\u6211\u8fd8\u6ca1\u6ee1\u6708\u3002\u8bf4\u5230\u5173\u952e\u6280\u672f\uff0c\u90a3\u6211\u53ef\u8981\u5217\u4e00\u5217\u4e86\uff0c\u4f60\u7684\u4efb\u52a1\u8270\u5de8\u4e86\uff1a\n\n\n1\uff09\u6d77\u91cf\u6587\u672c\u77e5\u8bc6\u8868\u793a\uff1a\u7f51\u7edc\u6587\u672c\u8d44\u6e90\u83b7\u53d6\u3001\u673a\u5668\u5b66\u4e60\u65b9\u6cd5\u3001\u5927\u89c4\u6a21\u8bed\u4e49\u8ba1\u7b97\u548c\u63a8\u7406\u3001\u77e5\u8bc6\u8868\u793a\u4f53\u7cfb\u3001\u77e5\u8bc6\u5e93\u6784\u5efa\uff1b\n\n\n2\uff09\u95ee\u53e5\u89e3\u6790\uff1a\u4e2d\u6587\u5206\u8bcd\u3001\u8bcd\u6027\u6807\u6ce8\u3001\u5b9e\u4f53\u6807\u6ce8\u3001\u6982\u5ff5\u7c7b\u522b\u6807\u6ce8\u3001\u53e5\u6cd5\u5206\u6790\u3001\u8bed\u4e49\u5206\u6790\u3001\u903b\u8f91\u7ed3\u6784\u6807\u6ce8\u3001\u6307\u4ee3\u6d88\u89e3\u3001\u5173\u8054\u5173\u7cfb\u6807\u6ce8\u3001\u95ee\u53e5\u5206\u7c7b\uff08\u7b80\u5355\u95ee\u53e5\u8fd8\u662f\u590d\u6742\u95ee\u53e5\u3001\u5b9e\u4f53\u578b\u8fd8\u662f\u6bb5\u843d\u578b\u8fd8\u662f\u7bc7\u7ae0\u7ea7\u95ee\u9898\uff09\u3001\u7b54\u6848\u7c7b\u522b\u786e\u5b9a\uff1b\n\n\n3\uff09\u7b54\u6848\u751f\u6210\u4e0e\u8fc7\u6ee4\uff1a\u5019\u9009\u7b54\u6848\u62bd\u53d6\u3001\u5173\u7cfb\u63a8\u6f14\uff08\u5e76\u5217\u5173\u7cfb\u8fd8\u662f\u9012\u8fdb\u5173\u7cfb\u8fd8\u662f\u56e0\u679c\u5173\u7cfb\uff09\u3001\u543b\u5408\u7a0b\u5ea6\u5224\u65ad\u3001\u566a\u58f0\u8fc7\u6ee4\n\n\n\u804a\u5929\u673a\u5668\u4eba\u7684\u6280\u672f\u65b9\u6cd5\n\n\n\u6211\uff1achatbot\uff0c\u6211\u5bf9\u804a\u5929\u673a\u5668\u4eba\u7684\u76f8\u5173\u6280\u672f\u603b\u7b97\u6709\u6240\u4e86\u89e3\u4e86\uff0c\u4f46\u662f\u6211\u5177\u4f53\u8981\u7528\u4ec0\u4e48\u65b9\u6cd5\u5462\uff1f\n\n\nchatbot\uff1a\u770b\u4f60\u8fd9\u4e48\u597d\u5b66\uff0c\u90a3\u6211\u5c31\u591a\u7ed9\u4f60\u8bb2\u4e00\u8bb2\u3002\u804a\u5929\u673a\u5668\u4eba\u7684\u6280\u672f\u53ef\u4ee5\u5206\u6210\u56db\u79cd\u7c7b\u578b\uff1a1\uff09\u57fa\u4e8e\u68c0\u7d22\u7684\u6280\u672f\uff1b2\uff09\u57fa\u4e8e\u6a21\u5f0f\u5339\u914d\u7684\u6280\u672f\uff1b3\uff09\u57fa\u4e8e\u81ea\u7136\u8bed\u8a00\u7406\u89e3\u7684\u6280\u672f\uff1b4\uff09\u57fa\u4e8e\u7edf\u8ba1\u7ffb\u8bd1\u6a21\u578b\u7684\u6280\u672f\u3002\u8fd9\u51e0\u79cd\u6280\u672f\u5e76\u4e0d\u662f\u90fd\u8981\u5b9e\u73b0\uff0c\u800c\u662f\u9009\u5176\u4e00\uff0c\u542c\u6211\u7ed9\u4f60\u8bf4\u8bf4\u4ed6\u4eec\u7684\u4f18\u7f3a\u70b9\uff0c\u4f60\u5c31\u77e5\u9053\u8be5\u9009\u54ea\u4e00\u79cd\u4e86\u3002\u57fa\u4e8e\u68c0\u7d22\u7684\u6280\u672f\u5c31\u662f\u4fe1\u606f\u68c0\u7d22\u6280\u672f\uff0c\u5b83\u7b80\u5355\u6613\u5b9e\u73b0\uff0c\u4f46\u65e0\u6cd5\u4ece\u53e5\u6cd5\u5173\u7cfb\u548c\u8bed\u4e49\u5173\u7cfb\u7ed9\u51fa\u7b54\u6848\uff0c\u4e5f\u5c31\u662f\u641e\u4e0d\u5b9a\u63a8\u7406\u95ee\u9898\uff0c\u6240\u4ee5\u76f4\u63a5pass\u6389\u3002\u57fa\u4e8e\u6a21\u5f0f\u5339\u914d\u7684\u6280\u672f\u5c31\u662f\u628a\u95ee\u9898\u5f80\u5df2\u7ecf\u68b3\u7406\u597d\u7684\u51e0\u79cd\u6a21\u5f0f\u4e0a\u53bb\u9760\uff0c\u8fd9\u79cd\u505a\u63a8\u7406\u7b80\u5355\uff0c\u4f46\u662f\u6a21\u5f0f\u6211\u4eec\u6db5\u76d6\u4e0d\u5168\uff0c\u6240\u4ee5\u4e5fpass\u6389\u3002\u57fa\u4e8e\u81ea\u7136\u8bed\u8a00\u7406\u89e3\u5c31\u662f\u628a\u6d45\u5c42\u5206\u6790\u52a0\u4e0a\u53e5\u6cd5\u5206\u6790\u3001\u8bed\u4e49\u5206\u6790\u90fd\u878d\u5165\u8fdb\u6765\u505a\u7684\u8865\u5145\u548c\u6539\u8fdb\u3002\u57fa\u4e8e\u7edf\u8ba1\u7ffb\u8bd1\u5c31\u662f\u628a\u95ee\u53e5\u91cc\u7684\u7591\u95ee\u8bcd\u7559\u51fa\u6765\uff0c\u7136\u540e\u548c\u5019\u9009\u7b54\u6848\u8d44\u6599\u505a\u914d\u5bf9\uff0c\u80fd\u5bf9\u9f50\u4e86\u5c31\u662f\u7b54\u6848\uff0c\u5bf9\u4e0d\u9f50\u5c31\u5bf9\u4e0d\u8d77\u4e86\uff0c\u6240\u4ee5pass\u6389\u3002\u9009\u54ea\u4e2a\u77e5\u9053\u4e86\u5417\uff1f\n\n\n\u6211\uff1a\u77e5\u9053\u4e86\uff01\u57fa\u4e8e\u81ea\u7136\u8bed\u8a00\u7406\u89e3\u7684\u6280\u672f\uff01so easy\uff01\u5988\u5988\u518d\u4e5f\u4e0d\u7528\u62c5\u5fc3\u6211\u7684\u5b66\u4e60\uff01o(\u256f\u25a1\u2570)o\n\n\nchatbot\uff1a\u597d\uff0c\u90a3\u6211\u7684\u4efb\u52a1\u7ed3\u675f\u5566\uff0c\u6211\u8be5\u8d70\u4e86\uff0c\u518d\u89c1\uff01\n\n\n\u6211\uff1a\u4e0d\u8981\u8d70\u2014\u2014\u4e0d\u8981\u8d70\u2014\u2014ka ji ma\u2014\u2014\n\n\n\u5728\u547c\u5524chatbot\u7684\u58f0\u97f3\u4e2d\uff0c\u6211\u4ece\u68a6\u4e2d\u9192\u6765\uff0c\u8fd9\u65f6\u6211\u624d\u610f\u8bc6\u5230\u8fd9\u662f\u4e00\u4e2a\u68a6\uff0c\u63c9\u63c9\u53cc\u773c\uff0c\u7a81\u7136\u53d1\u73b0\u5e8a\u8fb9\u6709\u4e00\u5f20\u7eb8\uff0c\u4e0a\u9762\u5199\u7740\uff1a\n\n\n1\n2\n3\n\u4f60\u4f1a\u6210\u529f\u7684\uff01\u8bfb\u4e86\u8fd9\u7bc7\u6587\u7ae0\u7684\u4eba\u4e5f\u4f1a\u6210\u529f\u7684\uff01\u52a0\u6cb9\uff01\n\n                                     chatbot", 
            "title": "\u4e5d-\u804a\u5929\u673a\u5668\u4eba\u600e\u4e48\u505a"
        }, 
        {
            "location": "/9.chatbot/#_1", 
            "text": "\u6211\uff1a chatbot\uff0c\u4f60\u597d\uff01  chatbot\uff1a \u4f60\u4e5f\u597d\uff01  \u6211\uff1a \u804a\u5929\u673a\u5668\u4eba\u53ef\u884c\u5417\uff1f  chatbot\uff1a \u4f60\u4e0d\u8981\u6000\u7591\u8fd9\u662f\u5929\u65b9\u591c\u8c2d\uff0c\u6211\u4e0d\u5c31\u5728\u8fd9\u91cc\u5417\uff1f\u4e16\u754c\u4e0a\u8fd8\u6709\u5f88\u591a\u8ddf\u6211\u4e00\u6837\u806a\u660e\u7684\u673a\u5668\u4eba\u5462\uff0c\u4f60\u542c\u8fc7IBM\u516c\u53f8\u57282010\u5e74\u5c31\u7814\u53d1\u51fa\u6765\u4e86\u7684Watson\u95ee\u7b54\u7cfb\u7edf\u5417\uff1f\u5b83\u53ef\u6bd4\u6211\u8981\u806a\u660e100\u500d\u5462  \u6211\uff1a \u5662\uff0c\u60f3\u8d77\u6765\u4e86\uff0c\u636e\u8bf4Watson\u5728\u667a\u529b\u7ade\u8d5b\u4e2d\u7adf\u7136\u6218\u80dc\u4e86\u4eba\u7c7b\u9009\u624b\u3002\u4f46\u662f\u6211\u4e86\u89e3\u5230\u5b83\u6709\u4e00\u4e9b\u7f3a\u9677\uff1a\u56e0\u4e3a\u5b83\u8fd8\u53ea\u662f\u5bf9\u4fe1\u606f\u68c0\u7d22\u6280\u672f\u7684\u7efc\u5408\u8fd0\u7528\uff0c\u5e76\u6ca1\u6709\u8fdb\u884c\u5404\u79cd\u8bed\u4e49\u5173\u7cfb\u7684\u6df1\u523b\u8ba1\u7b97\uff0c\u6240\u4ee5\u5b83\u80fd\u56de\u7b54\u7684\u95ee\u9898\u4e5f\u4ec5\u9650\u4e8e\u5b9e\u4e8b\u7c7b\u7684\u95ee\u9898\uff0c\u6240\u4ee5\u5b83\u80fd\u8d62\u5f97\u4e5f\u5c31\u662f\u77e5\u8bc6\u7c7b\u7684\u667a\u529b\u7ade\u8d5b\uff0c\u5982\u679c\u4f60\u7ed9\u5b83\u51fa\u4e2a\u8111\u7b4b\u6025\u8f6c\u5f2f\uff0c\u5b83\u5c31\u4e0d\u884c\u4e86  chatbot\uff1a \u662f\u7684\u5462\uff0c\u6240\u4ee5\u4f60\u4efb\u91cd\u9053\u8fdc\u554a", 
            "title": "\u804a\u5929\u673a\u5668\u4eba\u662f\u53ef\u884c\u7684"
        }, 
        {
            "location": "/9.chatbot/#_2", 
            "text": "\u6211\uff1achatbot\uff0c\u6211\u95ee\u7684\u6bcf\u4e00\u53e5\u8bdd\uff0c\u4f60\u90fd\u662f\u600e\u4e48\u5904\u7406\u5e76\u56de\u7b54\u6211\u7684\u5462\uff1f  chatbot\uff1a\u6211\u8eab\u4f53\u91cc\u6709\u4e09\u4e2a\u91cd\u8981\u6a21\u5757\uff1a\u63d0\u95ee\u5904\u7406\u6a21\u5757\u3001\u68c0\u7d22\u6a21\u5757\u3001\u7b54\u6848\u62bd\u53d6\u6a21\u5757\u3002\u4e09\u4e2a\u6a21\u5757\u4e00\u8d77\u5de5\u4f5c\uff0c\u5c31\u80fd\u56de\u7b54\u4f60\u7684\u95ee\u9898\u5566  \u6211\uff1a\u662f\u561b\uff0c\u90a3\u4e48\u8fd9\u4e2a\u63d0\u95ee\u5904\u7406\u6a21\u5757\u662f\u600e\u4e48\u5de5\u4f5c\u7684\u5462\uff1f  chatbot\uff1a\u63d0\u95ee\u5904\u7406\u6a21\u5757\u8981\u505a\u4e09\u9879\u91cd\u8981\u5de5\u4f5c\uff1a\u67e5\u8be2\u5173\u952e\u8bcd\u751f\u6210\u3001\u7b54\u6848\u7c7b\u578b\u786e\u5b9a\u3001\u53e5\u6cd5\u548c\u8bed\u4e49\u5206\u6790\u3002  \u6211\uff1a\u90a3\u4e48\u8fd9\u4e2a\u67e5\u8be2\u5173\u3002\u3002\u3002  chatbot\uff1a\u522b\u6025\u522b\u6025\uff0c\u542c\u6211\u4e00\u4e2a\u4e00\u4e2a\u8bb2\u7ed9\u4f60\u542c\u3002\u67e5\u8be2\u5173\u952e\u8bcd\u751f\u6210\uff0c\u5c31\u662f\u4ece\u4f60\u7684\u63d0\u95ee\u4e2d\u63d0\u53d6\u51fa\u5173\u952e\u7684\u51e0\u4e2a\u5173\u952e\u8bcd\uff0c\u56e0\u4e3a\u6211\u672c\u8eab\u662f\u4e00\u4e2a\u7a7a\u58f3\u5b50\uff0c\u9700\u8981\u53bb\u7f51\u4e0a\u67e5\u627e\u8d44\u6599\u624d\u80fd\u56de\u7b54\u4f60\uff0c\u800c\u4f46\u7f51\u4e0a\u8d44\u6599\u90a3\u4e48\u591a\uff0c\u6211\u8be5\u67e5\u54ea\u4e9b\u5462\uff1f\u6240\u4ee5\u4f60\u7684\u63d0\u95ee\u5c31\u6709\u7528\u5566\uff0c\u6211\u627e\u51e0\u4e2a\u4e2d\u5fc3\u8bcd\uff0c\u518d\u5173\u8054\u51fa\u51e0\u4e2a\u6269\u5c55\u8bcd\uff0c\u4e0a\u7f51\u4e00\u641c\uff0c\u4e00\u5927\u6279\u8d44\u6599\u5c31\u6765\u5566\uff0c\u5f53\u7136\u8fd9\u4e9b\u90fd\u662f\u539f\u59cb\u8d44\u6599\uff0c\u6211\u540e\u9762\u8981\u7ee7\u7eed\u5904\u7406\u3002\u518d\u8bf4\u7b54\u6848\u7c7b\u578b\u786e\u5b9a\uff0c\u8fd9\u9879\u5de5\u4f5c\u662f\u4e3a\u4e86\u786e\u5b9a\u4f60\u7684\u63d0\u95ee\u5c5e\u4e8e\u54ea\u4e00\u7c7b\u7684\uff0c\u5982\u679c\u4f60\u95ee\u7684\u662f\u65f6\u95f4\u3001\u5730\u70b9\uff0c\u548c\u4f60\u95ee\u7684\u662f\u6280\u672f\u65b9\u6848\uff0c\u90a3\u6211\u540e\u9762\u8981\u505a\u7684\u5904\u7406\u662f\u4e0d\u4e00\u6837\u7684\u3002\u6700\u540e\u518d\u8bf4\u8fd9\u4e2a\u53e5\u6cd5\u548c\u8bed\u4e49\u5206\u6790\uff0c\u8fd9\u662f\u5bf9\u4f60\u95ee\u9898\u7684\u6df1\u5c42\u542b\u4e49\u505a\u4e00\u4e2a\u5256\u6790\uff0c\u6bd4\u5982\u4f60\u7684\u95ee\u9898\u662f\uff1a\u804a\u5929\u673a\u5668\u4eba\u600e\u4e48\u505a\uff1f\u90a3\u4e48\u6211\u8981\u77e5\u9053\u4f60\u8981\u95ee\u7684\u662f\u804a\u5929\u673a\u5668\u4eba\u7684\u7814\u53d1\u65b9\u6cd5  \u6211\uff1a\u539f\u6765\u662f\u8fd9\u6837\uff0c\u63d0\u95ee\u5904\u7406\u6a21\u5757\u8fd9\u4e09\u9879\u5de5\u4f5c\u6211\u4e86\u89e3\u4e86\uff0c\u90a3\u4e48\u68c0\u7d22\u6a21\u5757\u662f\u600e\u4e48\u5de5\u4f5c\u7684\u5462\uff1f  chatbot\uff1a\u68c0\u7d22\u6a21\u5757\u8ddf\u641c\u7d22\u5f15\u64ce\u6bd4\u8f83\u50cf\uff0c\u5c31\u662f\u6839\u636e\u67e5\u8be2\u5173\u952e\u8bcd\u6240\u4fe1\u606f\u68c0\u7d22\uff0c\u8fd4\u56de\u53e5\u5b50\u6216\u6bb5\u843d\uff0c\u8fd9\u90e8\u5206\u5c31\u662f\u4e0b\u4e00\u6b65\u8981\u5904\u7406\u7684\u539f\u6599  \u6211\uff1a\u90a3\u4e48\u7b54\u6848\u62bd\u53d6\u6a21\u5757\u5462\uff1f  chatbot\uff1a\u7b54\u6848\u62bd\u53d6\u6a21\u5757\u53ef\u4ee5\u8bf4\u662f\u8ba1\u7b97\u91cf\u6700\u5927\u7684\u90e8\u5206\u4e86\uff0c\u5b83\u8981\u901a\u8fc7\u5206\u6790\u548c\u63a8\u7406\u4ece\u68c0\u7d22\u51fa\u7684\u53e5\u5b50\u6216\u6bb5\u843d\u91cc\u62bd\u53d6\u51fa\u548c\u63d0\u95ee\u4e00\u81f4\u7684\u5b9e\u4f53\uff0c\u518d\u6839\u636e\u6982\u7387\u6700\u5927\u5bf9\u5019\u9009\u7b54\u6848\u6392\u5e8f\uff0c\u6ce8\u610f\u8fd9\u91cc\u662f\u201c\u5019\u9009\u7b54\u6848\u201d\u5662\uff0c\u4e5f\u5c31\u662f\u5f88\u96be\u7ed9\u51fa\u4e00\u4e2a\u5b8c\u5168\u6b63\u786e\u7684\u7ed3\u679c\uff0c\u5f88\u6709\u53ef\u80fd\u7ed9\u51fa\u591a\u4e2a\u7ed3\u679c\uff0c\u6700\u540e\u8fd8\u5728\u518d\u9009\u51fa\u4e00\u4e2a\u6765  \u6211\uff1a\u90a3\u4e48\u6211\u53ea\u8981\u5b9e\u73b0\u8fd9\u4e09\u4e2a\u6a21\u5757\uff0c\u5c31\u80fd\u505a\u6210\u4e00\u4e2a\u4f60\u55bd\uff1f  chatbot\uff1a\u662f\u7684", 
            "title": "\u804a\u5929\u673a\u5668\u4eba\u5de5\u4f5c\u539f\u7406\u662f\u4ec0\u4e48"
        }, 
        {
            "location": "/9.chatbot/#_3", 
            "text": "\u6211\uff1achatbot\uff0c\u5c0f\u5f1f\u6211\u77e5\u8bc6\u532e\u4e4f\uff0c\u80fd\u4e0d\u80fd\u544a\u8bc9\u6211\u90fd\u9700\u8981\u5b66\u54ea\u4e9b\u5173\u952e\u6280\u672f\u624d\u80fd\u5b8c\u6210\u6211\u7684\u68a6\u60f3  chatbot\uff1a\u5c0f\u5f1f\u3002\u3002\u3002\u6211\u8fd8\u6ca1\u6ee1\u6708\u3002\u8bf4\u5230\u5173\u952e\u6280\u672f\uff0c\u90a3\u6211\u53ef\u8981\u5217\u4e00\u5217\u4e86\uff0c\u4f60\u7684\u4efb\u52a1\u8270\u5de8\u4e86\uff1a  1\uff09\u6d77\u91cf\u6587\u672c\u77e5\u8bc6\u8868\u793a\uff1a\u7f51\u7edc\u6587\u672c\u8d44\u6e90\u83b7\u53d6\u3001\u673a\u5668\u5b66\u4e60\u65b9\u6cd5\u3001\u5927\u89c4\u6a21\u8bed\u4e49\u8ba1\u7b97\u548c\u63a8\u7406\u3001\u77e5\u8bc6\u8868\u793a\u4f53\u7cfb\u3001\u77e5\u8bc6\u5e93\u6784\u5efa\uff1b  2\uff09\u95ee\u53e5\u89e3\u6790\uff1a\u4e2d\u6587\u5206\u8bcd\u3001\u8bcd\u6027\u6807\u6ce8\u3001\u5b9e\u4f53\u6807\u6ce8\u3001\u6982\u5ff5\u7c7b\u522b\u6807\u6ce8\u3001\u53e5\u6cd5\u5206\u6790\u3001\u8bed\u4e49\u5206\u6790\u3001\u903b\u8f91\u7ed3\u6784\u6807\u6ce8\u3001\u6307\u4ee3\u6d88\u89e3\u3001\u5173\u8054\u5173\u7cfb\u6807\u6ce8\u3001\u95ee\u53e5\u5206\u7c7b\uff08\u7b80\u5355\u95ee\u53e5\u8fd8\u662f\u590d\u6742\u95ee\u53e5\u3001\u5b9e\u4f53\u578b\u8fd8\u662f\u6bb5\u843d\u578b\u8fd8\u662f\u7bc7\u7ae0\u7ea7\u95ee\u9898\uff09\u3001\u7b54\u6848\u7c7b\u522b\u786e\u5b9a\uff1b  3\uff09\u7b54\u6848\u751f\u6210\u4e0e\u8fc7\u6ee4\uff1a\u5019\u9009\u7b54\u6848\u62bd\u53d6\u3001\u5173\u7cfb\u63a8\u6f14\uff08\u5e76\u5217\u5173\u7cfb\u8fd8\u662f\u9012\u8fdb\u5173\u7cfb\u8fd8\u662f\u56e0\u679c\u5173\u7cfb\uff09\u3001\u543b\u5408\u7a0b\u5ea6\u5224\u65ad\u3001\u566a\u58f0\u8fc7\u6ee4", 
            "title": "\u804a\u5929\u673a\u5668\u4eba\u7684\u5173\u952e\u6280\u672f"
        }, 
        {
            "location": "/9.chatbot/#_4", 
            "text": "\u6211\uff1achatbot\uff0c\u6211\u5bf9\u804a\u5929\u673a\u5668\u4eba\u7684\u76f8\u5173\u6280\u672f\u603b\u7b97\u6709\u6240\u4e86\u89e3\u4e86\uff0c\u4f46\u662f\u6211\u5177\u4f53\u8981\u7528\u4ec0\u4e48\u65b9\u6cd5\u5462\uff1f  chatbot\uff1a\u770b\u4f60\u8fd9\u4e48\u597d\u5b66\uff0c\u90a3\u6211\u5c31\u591a\u7ed9\u4f60\u8bb2\u4e00\u8bb2\u3002\u804a\u5929\u673a\u5668\u4eba\u7684\u6280\u672f\u53ef\u4ee5\u5206\u6210\u56db\u79cd\u7c7b\u578b\uff1a1\uff09\u57fa\u4e8e\u68c0\u7d22\u7684\u6280\u672f\uff1b2\uff09\u57fa\u4e8e\u6a21\u5f0f\u5339\u914d\u7684\u6280\u672f\uff1b3\uff09\u57fa\u4e8e\u81ea\u7136\u8bed\u8a00\u7406\u89e3\u7684\u6280\u672f\uff1b4\uff09\u57fa\u4e8e\u7edf\u8ba1\u7ffb\u8bd1\u6a21\u578b\u7684\u6280\u672f\u3002\u8fd9\u51e0\u79cd\u6280\u672f\u5e76\u4e0d\u662f\u90fd\u8981\u5b9e\u73b0\uff0c\u800c\u662f\u9009\u5176\u4e00\uff0c\u542c\u6211\u7ed9\u4f60\u8bf4\u8bf4\u4ed6\u4eec\u7684\u4f18\u7f3a\u70b9\uff0c\u4f60\u5c31\u77e5\u9053\u8be5\u9009\u54ea\u4e00\u79cd\u4e86\u3002\u57fa\u4e8e\u68c0\u7d22\u7684\u6280\u672f\u5c31\u662f\u4fe1\u606f\u68c0\u7d22\u6280\u672f\uff0c\u5b83\u7b80\u5355\u6613\u5b9e\u73b0\uff0c\u4f46\u65e0\u6cd5\u4ece\u53e5\u6cd5\u5173\u7cfb\u548c\u8bed\u4e49\u5173\u7cfb\u7ed9\u51fa\u7b54\u6848\uff0c\u4e5f\u5c31\u662f\u641e\u4e0d\u5b9a\u63a8\u7406\u95ee\u9898\uff0c\u6240\u4ee5\u76f4\u63a5pass\u6389\u3002\u57fa\u4e8e\u6a21\u5f0f\u5339\u914d\u7684\u6280\u672f\u5c31\u662f\u628a\u95ee\u9898\u5f80\u5df2\u7ecf\u68b3\u7406\u597d\u7684\u51e0\u79cd\u6a21\u5f0f\u4e0a\u53bb\u9760\uff0c\u8fd9\u79cd\u505a\u63a8\u7406\u7b80\u5355\uff0c\u4f46\u662f\u6a21\u5f0f\u6211\u4eec\u6db5\u76d6\u4e0d\u5168\uff0c\u6240\u4ee5\u4e5fpass\u6389\u3002\u57fa\u4e8e\u81ea\u7136\u8bed\u8a00\u7406\u89e3\u5c31\u662f\u628a\u6d45\u5c42\u5206\u6790\u52a0\u4e0a\u53e5\u6cd5\u5206\u6790\u3001\u8bed\u4e49\u5206\u6790\u90fd\u878d\u5165\u8fdb\u6765\u505a\u7684\u8865\u5145\u548c\u6539\u8fdb\u3002\u57fa\u4e8e\u7edf\u8ba1\u7ffb\u8bd1\u5c31\u662f\u628a\u95ee\u53e5\u91cc\u7684\u7591\u95ee\u8bcd\u7559\u51fa\u6765\uff0c\u7136\u540e\u548c\u5019\u9009\u7b54\u6848\u8d44\u6599\u505a\u914d\u5bf9\uff0c\u80fd\u5bf9\u9f50\u4e86\u5c31\u662f\u7b54\u6848\uff0c\u5bf9\u4e0d\u9f50\u5c31\u5bf9\u4e0d\u8d77\u4e86\uff0c\u6240\u4ee5pass\u6389\u3002\u9009\u54ea\u4e2a\u77e5\u9053\u4e86\u5417\uff1f  \u6211\uff1a\u77e5\u9053\u4e86\uff01\u57fa\u4e8e\u81ea\u7136\u8bed\u8a00\u7406\u89e3\u7684\u6280\u672f\uff01so easy\uff01\u5988\u5988\u518d\u4e5f\u4e0d\u7528\u62c5\u5fc3\u6211\u7684\u5b66\u4e60\uff01o(\u256f\u25a1\u2570)o  chatbot\uff1a\u597d\uff0c\u90a3\u6211\u7684\u4efb\u52a1\u7ed3\u675f\u5566\uff0c\u6211\u8be5\u8d70\u4e86\uff0c\u518d\u89c1\uff01  \u6211\uff1a\u4e0d\u8981\u8d70\u2014\u2014\u4e0d\u8981\u8d70\u2014\u2014ka ji ma\u2014\u2014  \u5728\u547c\u5524chatbot\u7684\u58f0\u97f3\u4e2d\uff0c\u6211\u4ece\u68a6\u4e2d\u9192\u6765\uff0c\u8fd9\u65f6\u6211\u624d\u610f\u8bc6\u5230\u8fd9\u662f\u4e00\u4e2a\u68a6\uff0c\u63c9\u63c9\u53cc\u773c\uff0c\u7a81\u7136\u53d1\u73b0\u5e8a\u8fb9\u6709\u4e00\u5f20\u7eb8\uff0c\u4e0a\u9762\u5199\u7740\uff1a  1\n2\n3 \u4f60\u4f1a\u6210\u529f\u7684\uff01\u8bfb\u4e86\u8fd9\u7bc7\u6587\u7ae0\u7684\u4eba\u4e5f\u4f1a\u6210\u529f\u7684\uff01\u52a0\u6cb9\uff01\n\n                                     chatbot", 
            "title": "\u804a\u5929\u673a\u5668\u4eba\u7684\u6280\u672f\u65b9\u6cd5"
        }, 
        {
            "location": "/10.pos-ke/", 
            "text": "\u60f3\u8981\u505a\u5230\u548c\u4eba\u804a\u5929\uff0c\u9996\u5148\u5f97\u5148\u8bfb\u61c2\u5bf9\u65b9\u5728\u8bf4\u4ec0\u4e48\uff0c\u6240\u4ee5\u95ee\u53e5\u89e3\u6790\u662f\u6574\u4e2a\u804a\u5929\u8fc7\u7a0b\u7684\u7b2c\u4e00\u6b65\uff0c\u95ee\u53e5\u89e3\u6790\u662f\u4e00\u4e2a\u6d89\u53ca\u77e5\u8bc6\u975e\u5e38\u5168\u9762\u7684\u8fc7\u7a0b\uff0c\u51e0\u4e4e\u6db5\u76d6\u4e86\u81ea\u7136\u8bed\u8a00\u5904\u7406\u7684\u5168\u90e8\uff0c\u672c\u8282\u8ba9\u6211\u4eec\u5c1d\u8bd5\u4e00\u4e0b\u5982\u4f55\u5206\u6790\u4e00\u4e2a\u95ee\u53e5 \n\n\n\u95ee\u53e5\u89e3\u6790\u7684\u8fc7\u7a0b\n\n\n\u4e00\u822c\u95ee\u53e5\u89e3\u6790\u9700\u8981\u8fdb\u884c\u5206\u8bcd\u3001\u8bcd\u6027\u6807\u6ce8\u3001\u547d\u540d\u5b9e\u4f53\u8bc6\u522b\u3001\u5173\u952e\u8bcd\u63d0\u53d6\u3001\u53e5\u6cd5\u5206\u6790\u4ee5\u53ca\u67e5\u8be2\u95ee\u53e5\u5206\u7c7b\u7b49\u3002\u8fd9\u4e9b\u4e8b\u60c5\u6211\u4eec\u4ece\u5934\u5f00\u59cb\u505a\u65e0\u975e\u662f\u91cd\u590d\u9020\u8f6e\u5b50\uff0c\u50bb\u5b50\u624d\u4f1a\u8fd9\u4e48\u505a\uff0c\u4eba\u4e4b\u6240\u4ee5\u4e3a\u4eba\u662f\u56e0\u4e3a\u4f1a\u4f7f\u7528\u5de5\u5177\u3002\u7f51\u7edc\u4e0a\u6709\u5173\u4e2d\u6587\u7684NLP\u5de5\u5177\u6709\u5f88\u591a\uff0c\u4ecb\u7ecd\u51e0\u4e2a\u4e0d\u9519\u7684\uff1a\n\n\n\u7b2c\u4e00\u4e2a\u8981\u6570\u54c8\u5de5\u5927\u7684LTP(\u8bed\u8a00\u6280\u672f\u5e73\u53f0)\u4e86\uff0c\u5b83\u53ef\u4ee5\u505a\u4e2d\u6587\u5206\u8bcd\u3001\u8bcd\u6027\u6807\u6ce8\u3001\u547d\u540d\u5b9e\u4f53\u8bc6\u522b\u3001\u4f9d\u5b58\u53e5\u6cd5\u5206\u6790\u3001\u8bed\u4e49\u89d2\u8272\u6807\u6ce8\u7b49\u4e30\u5bcc\u3001 \u9ad8\u6548\u3001\u7cbe\u51c6\u7684\u81ea\u7136\u8bed\u8a00\u5904\u7406\u6280\u672f\n\n\n\u7b2c\u4e8c\u4e2a\u5c31\u662f\u535a\u68ee\u79d1\u6280\u4e86\uff0c\u5b83\u9664\u4e86\u505a\u4e2d\u6587\u5206\u8bcd\u3001\u8bcd\u6027\u6807\u6ce8\u3001\u547d\u540d\u5b9e\u4f53\u8bc6\u522b\u3001\u4f9d\u5b58\u6587\u6cd5\u4e4b\u5916\u8fd8\u53ef\u4ee5\u505a\u60c5\u611f\u5206\u6790\u3001\u5173\u952e\u8bcd\u63d0\u53d6\u3001\u65b0\u95fb\u5206\u7c7b\u3001\u8bed\u4e49\u8054\u60f3\u3001\u65f6\u95f4\u8f6c\u6362\u3001\u65b0\u95fb\u6458\u8981\u7b49\uff0c\u4f46\u56e0\u4e3a\u662f\u5546\u4e1a\u5316\u7684\u516c\u53f8\uff0c\u9664\u4e86\u5206\u8bcd\u548c\u8bcd\u6027\u6807\u6ce8\u514d\u8d39\u4e4b\u5916\u5168\u90fd\u6536\u8d39\n\n\n\u7b2c\u4e09\u4e2a\u5c31\u662fjieba\u5206\u8bcd\uff0c\u8fd9\u4e2a\u5f00\u6e90\u5c0f\u5de5\u5177\u5206\u8bcd\u548c\u8bcd\u6027\u6807\u6ce8\u505a\u7684\u633a\u4e0d\u9519\u7684\uff0c\u4f46\u662f\u5176\u4ed6\u65b9\u9762\u8fd8\u6b20\u7f3a\u4e00\u4e0b\uff0c\u5982\u679c\u53ea\u662f\u4e2d\u6587\u5206\u8bcd\u7684\u9700\u6c42\u5b8c\u5168\u53ef\u4ee5\u6ee1\u8db3\n\n\n\u7b2c\u56db\u4e2a\u5c31\u662f\u4e2d\u79d1\u9662\u5f20\u534e\u5e73\u535a\u58eb\u7684NLPIR\u6c49\u8bed\u5206\u8bcd\u7cfb\u7edf\uff0c\u4e5f\u80fd\u652f\u6301\u5173\u952e\u8bcd\u63d0\u53d6\n\n\n\u6211\u4eec\u4f18\u5148\u9009\u62e9NLPIR\n\n\nNLPIR\u4f7f\u7528\n\n\n\u6587\u6863\u5728http://pynlpir.readthedocs.io/en/latest/\n\n\n\u9996\u5148\u5b89\u88c5pynlpir\u5e93\n\n\n1\npip install pynlpir\n\n\n\n\n\n\n\u5199\u4e2a\u5c0f\u7a0b\u5e8f\u6d4b\u8bd5\u4e00\u4e0b\u5206\u8bcd\u6548\u679c\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n# coding:utf-8\n\n\n\nimport\n \nsys\n\n\nreload\n(\nsys\n)\n\n\nsys\n.\nsetdefaultencoding\n(\n \nutf-8\n \n)\n\n\n\nimport\n \npynlpir\n\n\n\npynlpir\n.\nopen\n()\n\n\ns\n \n=\n \n\u804a\u5929\u673a\u5668\u4eba\u5230\u5e95\u8be5\u600e\u4e48\u505a\u5462\uff1f\n\n\nsegments\n \n=\n \npynlpir\n.\nsegment\n(\ns\n)\n\n\nfor\n \nsegment\n \nin\n \nsegments\n:\n\n    \nprint\n \nsegment\n[\n0\n],\n \n\\t\n,\n \nsegment\n[\n1\n]\n\n\n\npynlpir\n.\nclose\n()\n\n\n\n\n\n\n\n\u6267\u884c\u6548\u679c\u5982\u4e0b\uff1a\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\u804a\u5929     verb\n\u673a\u5668\u4eba     noun\n\u5230\u5e95     adverb\n\u8be5     verb\n\u600e\u4e48     pronoun\n\u505a     verb\n\u5462     modal particle\n\uff1f     punctuation mark\n\n\n\n\n\n\n\u4e0b\u9762\u6211\u4eec\u518d\u7ee7\u7eed\u8bd5\u4e0b\u5173\u952e\u8bcd\u63d0\u53d6\u6548\u679c\uff1a\n\n\n1\n2\n3\nkey_words\n \n=\n pynlpir.get_key_words\n(\ns, \nweighted\n=\nTrue\n)\n\n\nfor\n key_word in key_words:\n    print key_word\n[\n0\n]\n, \n\\t\n, key_word\n[\n1\n]\n\n\n\n\n\n\n\n\u8f93\u51fa\u5982\u4e0b\uff1a\n\n\n1\n2\n\u804a\u5929     2.0\n\u673a\u5668\u4eba     2.0\n\n\n\n\n\n\n\u4ece\u8fd9\u4e2a\u5c0f\u7a0b\u5e8f\u6765\u770b\uff0c\u5206\u8bcd\u548c\u5173\u952e\u8bcd\u63d0\u53d6\u6548\u679c\u5f88\u597d\n\n\n\u4e0b\u9762\u6211\u4eec\u518d\u6765\u8bd5\u9a8c\u4e00\u4e2a\uff0c\u8fd9\u4e00\u6b21\u6211\u4eec\u628a\u5206\u6790\u529f\u80fd\u5168\u6253\u5f00\uff0c\u90e8\u5206\u4ee3\u7801\u5982\u4e0b\uff1a\n\n\n1\n2\ns\n \n=\n \n\u6d77\u6d0b\u662f\u5982\u4f55\u5f62\u6210\u7684\n\n\nsegments\n \n=\n pynlpir.segment\n(\ns, \npos_names\n=\nall\n)\n\n\n\n\n\n\n\n\u6267\u884c\u540e\u6548\u679c\u5982\u4e0b\uff1a\n\n\n1\n2\n3\n4\n5\n6\n7\n\u6d77\u6d0b     noun\n\u662f     verb:verb \u662f\n\u5982\u4f55     pronoun:interrogative pronoun:predicate interrogative pronoun\n\u5f62\u6210     verb\n\u7684     particle:particle \u7684/\u5e95\n\u6d77\u6d0b     2.0\n\u5f62\u6210     2.0\n\n\n\n\n\n\n\u5982\u679c\u6211\u4eec\u628asegments\u5728\u52a0\u4e0a\u4e00\u4e2a\u53c2\u6570pos_english=False\uff0c\u4e5f\u5c31\u662f\u4e0d\u4f7f\u7528\u82f1\u8bed\uff0c\u90a3\u4e48\u8f93\u51fa\u5c31\u662f\n\n\n1\n2\n3\n4\n5\n6\n7\n\u6d77\u6d0b     \u540d\u8bcd\n\u662f     \u52a8\u8bcd:\u52a8\u8bcd\n\u662f\n\n\u5982\u4f55     \u4ee3\u8bcd:\u7591\u95ee\u4ee3\u8bcd:\u8c13\u8bcd\u6027\u7591\u95ee\u4ee3\u8bcd\n\u5f62\u6210     \u52a8\u8bcd\n\u7684     \u52a9\u8bcd:\u7684\uff0f\u5e95\n\u6d77\u6d0b     2.0\n\u5f62\u6210     2.0\n\n\n\n\n\n\n\u89e3\u91ca\u4e00\u4e0b\n\n\n\u8fd9\u91cc\u7684segment\u662f\u5207\u8bcd\u7684\u610f\u601d\uff0c\u8fd4\u56de\u7684\u662ftuple(token, pos)\uff0c\u5176\u4e2dtoken\u5c31\u662f\u5207\u51fa\u6765\u7684\u8bcd\uff0cpos\u5c31\u662f\u8bed\u8a00\u5c5e\u6027\n\n\n\u8c03\u7528segment\u65b9\u6cd5\u6307\u5b9a\u7684pos_names\u53c2\u6570\u53ef\u4ee5\u662f'all', 'child', 'parent'\uff0c\u9ed8\u8ba4\u662fparent\uff0c \u8868\u793a\u83b7\u53d6\u8be5\u8bcd\u6027\u7684\u6700\u9876\u7ea7\u8bcd\u6027\uff0cchild\u8868\u793a\u83b7\u53d6\u8be5\u8bcd\u6027\u7684\u6700\u5177\u4f53\u7684\u4fe1\u606f\uff0call\u8868\u793a\u83b7\u53d6\u8be5\u8bcd\u6027\u76f8\u5173\u7684\u6240\u6709\u8bcd\u6027\u4fe1\u606f\uff0c\u76f8\u5f53\u4e8e\u4ece\u5176\u9876\u7ea7\u8bcd\u6027\u5230\u8be5\u8bcd\u6027\u7684\u4e00\u6761\u8def\u5f84\n\n\n\u8bcd\u6027\u5206\u7c7b\u8868\n\n\n\u67e5\u770bnlpir\u7684\u6e90\u4ee3\u7801\u4e2d\u7684pynlpir/docs/pos_map.rst\uff0c\u53ef\u4ee5\u770b\u51fa\u5168\u90e8\u8bcd\u6027\u5206\u7c7b\u53ca\u5176\u5b50\u7c7b\u522b\u5982\u4e0b\uff1a\n\n\n  1\n  2\n  3\n  4\n  5\n  6\n  7\n  8\n  9\n 10\n 11\n 12\n 13\n 14\n 15\n 16\n 17\n 18\n 19\n 20\n 21\n 22\n 23\n 24\n 25\n 26\n 27\n 28\n 29\n 30\n 31\n 32\n 33\n 34\n 35\n 36\n 37\n 38\n 39\n 40\n 41\n 42\n 43\n 44\n 45\n 46\n 47\n 48\n 49\n 50\n 51\n 52\n 53\n 54\n 55\n 56\n 57\n 58\n 59\n 60\n 61\n 62\n 63\n 64\n 65\n 66\n 67\n 68\n 69\n 70\n 71\n 72\n 73\n 74\n 75\n 76\n 77\n 78\n 79\n 80\n 81\n 82\n 83\n 84\n 85\n 86\n 87\n 88\n 89\n 90\n 91\n 92\n 93\n 94\n 95\n 96\n 97\n 98\n 99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\nPOS_MAP\n \n=\n \n{\n\n    \nn\n:\n \n(\n\u540d\u8bcd\n,\n \nnoun\n,\n \n{\n\n        \nnr\n:\n \n(\n\u4eba\u540d\n,\n \npersonal name\n,\n \n{\n\n            \nnr1\n:\n \n(\n\u6c49\u8bed\u59d3\u6c0f\n,\n \nChinese surname\n),\n\n            \nnr2\n:\n \n(\n\u6c49\u8bed\u540d\u5b57\n,\n \nChinese given name\n),\n\n            \nnrj\n:\n \n(\n\u65e5\u8bed\u4eba\u540d\n,\n \nJapanese personal name\n),\n\n            \nnrf\n:\n \n(\n\u97f3\u8bd1\u4eba\u540d\n,\n \ntranscribed personal name\n)\n\n        \n}),\n\n        \nns\n:\n \n(\n\u5730\u540d\n,\n \ntoponym\n,\n \n{\n\n            \nnsf\n:\n \n(\n\u97f3\u8bd1\u5730\u540d\n,\n \ntranscribed toponym\n),\n\n        \n}),\n\n        \nnt\n:\n \n(\n\u673a\u6784\u56e2\u4f53\u540d\n,\n \norganization/group name\n),\n\n        \nnz\n:\n \n(\n\u5176\u5b83\u4e13\u540d\n,\n \nother proper noun\n),\n\n        \nnl\n:\n \n(\n\u540d\u8bcd\u6027\u60ef\u7528\u8bed\n,\n \nnoun phrase\n),\n\n        \nng\n:\n \n(\n\u540d\u8bcd\u6027\u8bed\u7d20\n,\n \nnoun morpheme\n),\n\n    \n}),\n\n    \nt\n:\n \n(\n\u65f6\u95f4\u8bcd\n,\n \ntime word\n,\n \n{\n\n        \ntg\n:\n \n(\n\u65f6\u95f4\u8bcd\u6027\u8bed\u7d20\n,\n \ntime morpheme\n),\n\n    \n}),\n\n    \ns\n:\n \n(\n\u5904\u6240\u8bcd\n,\n \nlocative word\n),\n\n    \nf\n:\n \n(\n\u65b9\u4f4d\u8bcd\n,\n \nnoun of locality\n),\n\n    \nv\n:\n \n(\n\u52a8\u8bcd\n,\n \nverb\n,\n \n{\n\n        \nvd\n:\n \n(\n\u526f\u52a8\u8bcd\n,\n \nauxiliary verb\n),\n\n        \nvn\n:\n \n(\n\u540d\u52a8\u8bcd\n,\n \nnoun-verb\n),\n\n        \nvshi\n:\n \n(\n\u52a8\u8bcd\n\u662f\n,\n \nverb \u662f\n),\n\n        \nvyou\n:\n \n(\n\u52a8\u8bcd\n\u6709\n,\n \nverb \u6709\n),\n\n        \nvf\n:\n \n(\n\u8d8b\u5411\u52a8\u8bcd\n,\n \ndirectional verb\n),\n\n        \nvx\n:\n \n(\n\u884c\u4e8b\u52a8\u8bcd\n,\n \nperformative verb\n),\n\n        \nvi\n:\n \n(\n\u4e0d\u53ca\u7269\u52a8\u8bcd\n,\n \nintransitive verb\n),\n\n        \nvl\n:\n \n(\n\u52a8\u8bcd\u6027\u60ef\u7528\u8bed\n,\n \nverb phrase\n),\n\n        \nvg\n:\n \n(\n\u52a8\u8bcd\u6027\u8bed\u7d20\n,\n \nverb morpheme\n),\n\n    \n}),\n\n    \na\n:\n \n(\n\u5f62\u5bb9\u8bcd\n,\n \nadjective\n,\n \n{\n\n        \nad\n:\n \n(\n\u526f\u5f62\u8bcd\n,\n \nauxiliary adjective\n),\n\n        \nan\n:\n \n(\n\u540d\u5f62\u8bcd\n,\n \nnoun-adjective\n),\n\n        \nag\n:\n \n(\n\u5f62\u5bb9\u8bcd\u6027\u8bed\u7d20\n,\n \nadjective morpheme\n),\n\n        \nal\n:\n \n(\n\u5f62\u5bb9\u8bcd\u6027\u60ef\u7528\u8bed\n,\n \nadjective phrase\n),\n\n    \n}),\n\n    \nb\n:\n \n(\n\u533a\u522b\u8bcd\n,\n \ndistinguishing word\n,\n \n{\n\n        \nbl\n:\n \n(\n\u533a\u522b\u8bcd\u6027\u60ef\u7528\u8bed\n,\n \ndistinguishing phrase\n),\n\n    \n}),\n\n    \nz\n:\n \n(\n\u72b6\u6001\u8bcd\n,\n \nstatus word\n),\n\n    \nr\n:\n \n(\n\u4ee3\u8bcd\n,\n \npronoun\n,\n \n{\n\n        \nrr\n:\n \n(\n\u4eba\u79f0\u4ee3\u8bcd\n,\n \npersonal pronoun\n),\n\n        \nrz\n:\n \n(\n\u6307\u793a\u4ee3\u8bcd\n,\n \ndemonstrative pronoun\n,\n \n{\n\n            \nrzt\n:\n \n(\n\u65f6\u95f4\u6307\u793a\u4ee3\u8bcd\n,\n \ntemporal demonstrative pronoun\n),\n\n            \nrzs\n:\n \n(\n\u5904\u6240\u6307\u793a\u4ee3\u8bcd\n,\n \nlocative demonstrative pronoun\n),\n\n            \nrzv\n:\n \n(\n\u8c13\u8bcd\u6027\u6307\u793a\u4ee3\u8bcd\n,\n \npredicate demonstrative pronoun\n),\n\n        \n}),\n\n        \nry\n:\n \n(\n\u7591\u95ee\u4ee3\u8bcd\n,\n \ninterrogative pronoun\n,\n \n{\n\n            \nryt\n:\n \n(\n\u65f6\u95f4\u7591\u95ee\u4ee3\u8bcd\n,\n \ntemporal interrogative pronoun\n),\n\n            \nrys\n:\n \n(\n\u5904\u6240\u7591\u95ee\u4ee3\u8bcd\n,\n \nlocative interrogative pronoun\n),\n\n            \nryv\n:\n \n(\n\u8c13\u8bcd\u6027\u7591\u95ee\u4ee3\u8bcd\n,\n \npredicate interrogative pronoun\n),\n\n        \n}),\n\n        \nrg\n:\n \n(\n\u4ee3\u8bcd\u6027\u8bed\u7d20\n,\n \npronoun morpheme\n),\n\n    \n}),\n\n    \nm\n:\n \n(\n\u6570\u8bcd\n,\n \nnumeral\n,\n \n{\n\n        \nmq\n:\n \n(\n\u6570\u91cf\u8bcd\n,\n \nnumeral-plus-classifier compound\n),\n\n    \n}),\n\n    \nq\n:\n \n(\n\u91cf\u8bcd\n,\n \nclassifier\n,\n \n{\n\n        \nqv\n:\n \n(\n\u52a8\u91cf\u8bcd\n,\n \nverbal classifier\n),\n\n        \nqt\n:\n \n(\n\u65f6\u91cf\u8bcd\n,\n \ntemporal classifier\n),\n\n    \n}),\n\n    \nd\n:\n \n(\n\u526f\u8bcd\n,\n \nadverb\n),\n\n    \np\n:\n \n(\n\u4ecb\u8bcd\n,\n \npreposition\n,\n \n{\n\n        \npba\n:\n \n(\n\u4ecb\u8bcd\u201c\u628a\u201d\n,\n \npreposition \u628a\n),\n\n        \npbei\n:\n \n(\n\u4ecb\u8bcd\u201c\u88ab\u201d\n,\n \npreposition \u88ab\n),\n\n    \n}),\n\n    \nc\n:\n \n(\n\u8fde\u8bcd\n,\n \nconjunction\n,\n \n{\n\n        \ncc\n:\n \n(\n\u5e76\u5217\u8fde\u8bcd\n,\n \ncoordinating conjunction\n),\n\n    \n}),\n\n    \nu\n:\n \n(\n\u52a9\u8bcd\n,\n \nparticle\n,\n \n{\n\n        \nuzhe\n:\n \n(\n\u7740\n,\n \nparticle \u7740\n),\n\n        \nule\n:\n \n(\n\u4e86\uff0f\u55bd\n,\n \nparticle \u4e86/\u55bd\n),\n\n        \nuguo\n:\n \n(\n\u8fc7\n,\n \nparticle \u8fc7\n),\n\n        \nude1\n:\n \n(\n\u7684\uff0f\u5e95\n,\n \nparticle \u7684/\u5e95\n),\n\n        \nude2\n:\n \n(\n\u5730\n,\n \nparticle \u5730\n),\n\n        \nude3\n:\n \n(\n\u5f97\n,\n \nparticle \u5f97\n),\n\n        \nusuo\n:\n \n(\n\u6240\n,\n \nparticle \u6240\n),\n\n        \nudeng\n:\n \n(\n\u7b49\uff0f\u7b49\u7b49\uff0f\u4e91\u4e91\n,\n \nparticle \u7b49/\u7b49\u7b49/\u4e91\u4e91\n),\n\n        \nuyy\n:\n \n(\n\u4e00\u6837\uff0f\u4e00\u822c\uff0f\u4f3c\u7684\uff0f\u822c\n,\n \nparticle \u4e00\u6837/\u4e00\u822c/\u4f3c\u7684/\u822c\n),\n\n        \nudh\n:\n \n(\n\u7684\u8bdd\n,\n \nparticle \u7684\u8bdd\n),\n\n        \nuls\n:\n \n(\n\u6765\u8bb2\uff0f\u6765\u8bf4\uff0f\u800c\u8a00\uff0f\u8bf4\u6765\n,\n \nparticle \u6765\u8bb2/\u6765\u8bf4/\u800c\u8a00/\u8bf4\u6765\n),\n\n        \nuzhi\n:\n \n(\n\u4e4b\n,\n \nparticle \u4e4b\n),\n\n        \nulian\n:\n \n(\n\u8fde\n,\n \nparticle \u8fde\n),\n\n    \n}),\n\n    \ne\n:\n \n(\n\u53f9\u8bcd\n,\n \ninterjection\n),\n\n    \ny\n:\n \n(\n\u8bed\u6c14\u8bcd\n,\n \nmodal particle\n),\n\n    \no\n:\n \n(\n\u62df\u58f0\u8bcd\n,\n \nonomatopoeia\n),\n\n    \nh\n:\n \n(\n\u524d\u7f00\n,\n \nprefix\n),\n\n    \nk\n:\n \n(\n\u540e\u7f00\n \nsuffix\n),\n\n    \nx\n:\n \n(\n\u5b57\u7b26\u4e32\n,\n \nstring\n,\n \n{\n\n        \nxe\n:\n \n(\nEmail\u5b57\u7b26\u4e32\n,\n \nemail address\n),\n\n        \nxs\n:\n \n(\n\u5fae\u535a\u4f1a\u8bdd\u5206\u9694\u7b26\n,\n \nhashtag\n),\n\n        \nxm\n:\n \n(\n\u8868\u60c5\u7b26\u5408\n,\n \nemoticon\n),\n\n        \nxu\n:\n \n(\n\u7f51\u5740URL\n,\n \nURL\n),\n\n        \nxx\n:\n \n(\n\u975e\u8bed\u7d20\u5b57\n,\n \nnon-morpheme character\n),\n\n    \n}),\n\n    \nw\n:\n \n(\n\u6807\u70b9\u7b26\u53f7\n,\n \npunctuation mark\n,\n \n{\n\n        \nwkz\n:\n \n(\n\u5de6\u62ec\u53f7\n,\n \nleft parenthesis/bracket\n),\n\n        \nwky\n:\n \n(\n\u53f3\u62ec\u53f7\n,\n \nright parenthesis/bracket\n),\n\n        \nwyz\n:\n \n(\n\u5de6\u5f15\u53f7\n,\n \nleft quotation mark\n),\n\n        \nwyy\n:\n \n(\n\u53f3\u5f15\u53f7\n,\n \nright quotation mark\n),\n\n        \nwj\n:\n \n(\n\u53e5\u53f7\n,\n \nperiod\n),\n\n        \nww\n:\n \n(\n\u95ee\u53f7\n,\n \nquestion mark\n),\n\n        \nwt\n:\n \n(\n\u53f9\u53f7\n,\n \nexclamation mark\n),\n\n        \nwd\n:\n \n(\n\u9017\u53f7\n,\n \ncomma\n),\n\n        \nwf\n:\n \n(\n\u5206\u53f7\n,\n \nsemicolon\n),\n\n        \nwn\n:\n \n(\n\u987f\u53f7\n,\n \nenumeration comma\n),\n\n        \nwm\n:\n \n(\n\u5192\u53f7\n,\n \ncolon\n),\n\n        \nws\n:\n \n(\n\u7701\u7565\u53f7\n,\n \nellipsis\n),\n\n        \nwp\n:\n \n(\n\u7834\u6298\u53f7\n,\n \ndash\n),\n\n        \nwb\n:\n \n(\n\u767e\u5206\u53f7\u5343\u5206\u53f7\n,\n \npercent/per mille sign\n),\n\n        \nwh\n:\n \n(\n\u5355\u4f4d\u7b26\u53f7\n,\n \nunit of measure sign\n),\n\n    \n}),\n\n\n}\n\n\n\n\n\n\n\n\u597d\uff0c\u8fd9\u56de\u6211\u4eec\u4e00\u4e0b\u5b50\u5b8c\u6210\u4e86\u5206\u8bcd\u3001\u8bcd\u6027\u6807\u6ce8\u3001\u5173\u952e\u8bcd\u63d0\u53d6\u3002\u547d\u540d\u5b9e\u4f53\u8bc6\u522b\u3001\u53e5\u6cd5\u5206\u6790\u4ee5\u53ca\u67e5\u8be2\u95ee\u53e5\u5206\u7c7b\u6211\u4eec\u4e4b\u540e\u518d\u7814\u7a76", 
            "title": "\u5341-\u8bcd\u6027\u6807\u6ce8\u4e0e\u5173\u952e\u8bcd\u63d0\u53d6"
        }, 
        {
            "location": "/10.pos-ke/#_1", 
            "text": "\u4e00\u822c\u95ee\u53e5\u89e3\u6790\u9700\u8981\u8fdb\u884c\u5206\u8bcd\u3001\u8bcd\u6027\u6807\u6ce8\u3001\u547d\u540d\u5b9e\u4f53\u8bc6\u522b\u3001\u5173\u952e\u8bcd\u63d0\u53d6\u3001\u53e5\u6cd5\u5206\u6790\u4ee5\u53ca\u67e5\u8be2\u95ee\u53e5\u5206\u7c7b\u7b49\u3002\u8fd9\u4e9b\u4e8b\u60c5\u6211\u4eec\u4ece\u5934\u5f00\u59cb\u505a\u65e0\u975e\u662f\u91cd\u590d\u9020\u8f6e\u5b50\uff0c\u50bb\u5b50\u624d\u4f1a\u8fd9\u4e48\u505a\uff0c\u4eba\u4e4b\u6240\u4ee5\u4e3a\u4eba\u662f\u56e0\u4e3a\u4f1a\u4f7f\u7528\u5de5\u5177\u3002\u7f51\u7edc\u4e0a\u6709\u5173\u4e2d\u6587\u7684NLP\u5de5\u5177\u6709\u5f88\u591a\uff0c\u4ecb\u7ecd\u51e0\u4e2a\u4e0d\u9519\u7684\uff1a  \u7b2c\u4e00\u4e2a\u8981\u6570\u54c8\u5de5\u5927\u7684LTP(\u8bed\u8a00\u6280\u672f\u5e73\u53f0)\u4e86\uff0c\u5b83\u53ef\u4ee5\u505a\u4e2d\u6587\u5206\u8bcd\u3001\u8bcd\u6027\u6807\u6ce8\u3001\u547d\u540d\u5b9e\u4f53\u8bc6\u522b\u3001\u4f9d\u5b58\u53e5\u6cd5\u5206\u6790\u3001\u8bed\u4e49\u89d2\u8272\u6807\u6ce8\u7b49\u4e30\u5bcc\u3001 \u9ad8\u6548\u3001\u7cbe\u51c6\u7684\u81ea\u7136\u8bed\u8a00\u5904\u7406\u6280\u672f  \u7b2c\u4e8c\u4e2a\u5c31\u662f\u535a\u68ee\u79d1\u6280\u4e86\uff0c\u5b83\u9664\u4e86\u505a\u4e2d\u6587\u5206\u8bcd\u3001\u8bcd\u6027\u6807\u6ce8\u3001\u547d\u540d\u5b9e\u4f53\u8bc6\u522b\u3001\u4f9d\u5b58\u6587\u6cd5\u4e4b\u5916\u8fd8\u53ef\u4ee5\u505a\u60c5\u611f\u5206\u6790\u3001\u5173\u952e\u8bcd\u63d0\u53d6\u3001\u65b0\u95fb\u5206\u7c7b\u3001\u8bed\u4e49\u8054\u60f3\u3001\u65f6\u95f4\u8f6c\u6362\u3001\u65b0\u95fb\u6458\u8981\u7b49\uff0c\u4f46\u56e0\u4e3a\u662f\u5546\u4e1a\u5316\u7684\u516c\u53f8\uff0c\u9664\u4e86\u5206\u8bcd\u548c\u8bcd\u6027\u6807\u6ce8\u514d\u8d39\u4e4b\u5916\u5168\u90fd\u6536\u8d39  \u7b2c\u4e09\u4e2a\u5c31\u662fjieba\u5206\u8bcd\uff0c\u8fd9\u4e2a\u5f00\u6e90\u5c0f\u5de5\u5177\u5206\u8bcd\u548c\u8bcd\u6027\u6807\u6ce8\u505a\u7684\u633a\u4e0d\u9519\u7684\uff0c\u4f46\u662f\u5176\u4ed6\u65b9\u9762\u8fd8\u6b20\u7f3a\u4e00\u4e0b\uff0c\u5982\u679c\u53ea\u662f\u4e2d\u6587\u5206\u8bcd\u7684\u9700\u6c42\u5b8c\u5168\u53ef\u4ee5\u6ee1\u8db3  \u7b2c\u56db\u4e2a\u5c31\u662f\u4e2d\u79d1\u9662\u5f20\u534e\u5e73\u535a\u58eb\u7684NLPIR\u6c49\u8bed\u5206\u8bcd\u7cfb\u7edf\uff0c\u4e5f\u80fd\u652f\u6301\u5173\u952e\u8bcd\u63d0\u53d6  \u6211\u4eec\u4f18\u5148\u9009\u62e9NLPIR", 
            "title": "\u95ee\u53e5\u89e3\u6790\u7684\u8fc7\u7a0b"
        }, 
        {
            "location": "/10.pos-ke/#nlpir", 
            "text": "\u6587\u6863\u5728http://pynlpir.readthedocs.io/en/latest/  \u9996\u5148\u5b89\u88c5pynlpir\u5e93  1 pip install pynlpir   \u5199\u4e2a\u5c0f\u7a0b\u5e8f\u6d4b\u8bd5\u4e00\u4e0b\u5206\u8bcd\u6548\u679c\uff1a   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15 # coding:utf-8  import   sys  reload ( sys )  sys . setdefaultencoding (   utf-8   )  import   pynlpir  pynlpir . open ()  s   =   \u804a\u5929\u673a\u5668\u4eba\u5230\u5e95\u8be5\u600e\u4e48\u505a\u5462\uff1f  segments   =   pynlpir . segment ( s )  for   segment   in   segments : \n     print   segment [ 0 ],   \\t ,   segment [ 1 ]  pynlpir . close ()    \u6267\u884c\u6548\u679c\u5982\u4e0b\uff1a  1\n2\n3\n4\n5\n6\n7\n8 \u804a\u5929     verb\n\u673a\u5668\u4eba     noun\n\u5230\u5e95     adverb\n\u8be5     verb\n\u600e\u4e48     pronoun\n\u505a     verb\n\u5462     modal particle\n\uff1f     punctuation mark   \u4e0b\u9762\u6211\u4eec\u518d\u7ee7\u7eed\u8bd5\u4e0b\u5173\u952e\u8bcd\u63d0\u53d6\u6548\u679c\uff1a  1\n2\n3 key_words   =  pynlpir.get_key_words ( s,  weighted = True )  for  key_word in key_words:\n    print key_word [ 0 ] ,  \\t , key_word [ 1 ]    \u8f93\u51fa\u5982\u4e0b\uff1a  1\n2 \u804a\u5929     2.0\n\u673a\u5668\u4eba     2.0   \u4ece\u8fd9\u4e2a\u5c0f\u7a0b\u5e8f\u6765\u770b\uff0c\u5206\u8bcd\u548c\u5173\u952e\u8bcd\u63d0\u53d6\u6548\u679c\u5f88\u597d  \u4e0b\u9762\u6211\u4eec\u518d\u6765\u8bd5\u9a8c\u4e00\u4e2a\uff0c\u8fd9\u4e00\u6b21\u6211\u4eec\u628a\u5206\u6790\u529f\u80fd\u5168\u6253\u5f00\uff0c\u90e8\u5206\u4ee3\u7801\u5982\u4e0b\uff1a  1\n2 s   =   \u6d77\u6d0b\u662f\u5982\u4f55\u5f62\u6210\u7684  segments   =  pynlpir.segment ( s,  pos_names = all )    \u6267\u884c\u540e\u6548\u679c\u5982\u4e0b\uff1a  1\n2\n3\n4\n5\n6\n7 \u6d77\u6d0b     noun\n\u662f     verb:verb \u662f\n\u5982\u4f55     pronoun:interrogative pronoun:predicate interrogative pronoun\n\u5f62\u6210     verb\n\u7684     particle:particle \u7684/\u5e95\n\u6d77\u6d0b     2.0\n\u5f62\u6210     2.0   \u5982\u679c\u6211\u4eec\u628asegments\u5728\u52a0\u4e0a\u4e00\u4e2a\u53c2\u6570pos_english=False\uff0c\u4e5f\u5c31\u662f\u4e0d\u4f7f\u7528\u82f1\u8bed\uff0c\u90a3\u4e48\u8f93\u51fa\u5c31\u662f  1\n2\n3\n4\n5\n6\n7 \u6d77\u6d0b     \u540d\u8bcd\n\u662f     \u52a8\u8bcd:\u52a8\u8bcd \u662f \n\u5982\u4f55     \u4ee3\u8bcd:\u7591\u95ee\u4ee3\u8bcd:\u8c13\u8bcd\u6027\u7591\u95ee\u4ee3\u8bcd\n\u5f62\u6210     \u52a8\u8bcd\n\u7684     \u52a9\u8bcd:\u7684\uff0f\u5e95\n\u6d77\u6d0b     2.0\n\u5f62\u6210     2.0", 
            "title": "NLPIR\u4f7f\u7528"
        }, 
        {
            "location": "/10.pos-ke/#_2", 
            "text": "\u8fd9\u91cc\u7684segment\u662f\u5207\u8bcd\u7684\u610f\u601d\uff0c\u8fd4\u56de\u7684\u662ftuple(token, pos)\uff0c\u5176\u4e2dtoken\u5c31\u662f\u5207\u51fa\u6765\u7684\u8bcd\uff0cpos\u5c31\u662f\u8bed\u8a00\u5c5e\u6027  \u8c03\u7528segment\u65b9\u6cd5\u6307\u5b9a\u7684pos_names\u53c2\u6570\u53ef\u4ee5\u662f'all', 'child', 'parent'\uff0c\u9ed8\u8ba4\u662fparent\uff0c \u8868\u793a\u83b7\u53d6\u8be5\u8bcd\u6027\u7684\u6700\u9876\u7ea7\u8bcd\u6027\uff0cchild\u8868\u793a\u83b7\u53d6\u8be5\u8bcd\u6027\u7684\u6700\u5177\u4f53\u7684\u4fe1\u606f\uff0call\u8868\u793a\u83b7\u53d6\u8be5\u8bcd\u6027\u76f8\u5173\u7684\u6240\u6709\u8bcd\u6027\u4fe1\u606f\uff0c\u76f8\u5f53\u4e8e\u4ece\u5176\u9876\u7ea7\u8bcd\u6027\u5230\u8be5\u8bcd\u6027\u7684\u4e00\u6761\u8def\u5f84", 
            "title": "\u89e3\u91ca\u4e00\u4e0b"
        }, 
        {
            "location": "/10.pos-ke/#_3", 
            "text": "\u67e5\u770bnlpir\u7684\u6e90\u4ee3\u7801\u4e2d\u7684pynlpir/docs/pos_map.rst\uff0c\u53ef\u4ee5\u770b\u51fa\u5168\u90e8\u8bcd\u6027\u5206\u7c7b\u53ca\u5176\u5b50\u7c7b\u522b\u5982\u4e0b\uff1a    1\n  2\n  3\n  4\n  5\n  6\n  7\n  8\n  9\n 10\n 11\n 12\n 13\n 14\n 15\n 16\n 17\n 18\n 19\n 20\n 21\n 22\n 23\n 24\n 25\n 26\n 27\n 28\n 29\n 30\n 31\n 32\n 33\n 34\n 35\n 36\n 37\n 38\n 39\n 40\n 41\n 42\n 43\n 44\n 45\n 46\n 47\n 48\n 49\n 50\n 51\n 52\n 53\n 54\n 55\n 56\n 57\n 58\n 59\n 60\n 61\n 62\n 63\n 64\n 65\n 66\n 67\n 68\n 69\n 70\n 71\n 72\n 73\n 74\n 75\n 76\n 77\n 78\n 79\n 80\n 81\n 82\n 83\n 84\n 85\n 86\n 87\n 88\n 89\n 90\n 91\n 92\n 93\n 94\n 95\n 96\n 97\n 98\n 99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116 POS_MAP   =   { \n     n :   ( \u540d\u8bcd ,   noun ,   { \n         nr :   ( \u4eba\u540d ,   personal name ,   { \n             nr1 :   ( \u6c49\u8bed\u59d3\u6c0f ,   Chinese surname ), \n             nr2 :   ( \u6c49\u8bed\u540d\u5b57 ,   Chinese given name ), \n             nrj :   ( \u65e5\u8bed\u4eba\u540d ,   Japanese personal name ), \n             nrf :   ( \u97f3\u8bd1\u4eba\u540d ,   transcribed personal name ) \n         }), \n         ns :   ( \u5730\u540d ,   toponym ,   { \n             nsf :   ( \u97f3\u8bd1\u5730\u540d ,   transcribed toponym ), \n         }), \n         nt :   ( \u673a\u6784\u56e2\u4f53\u540d ,   organization/group name ), \n         nz :   ( \u5176\u5b83\u4e13\u540d ,   other proper noun ), \n         nl :   ( \u540d\u8bcd\u6027\u60ef\u7528\u8bed ,   noun phrase ), \n         ng :   ( \u540d\u8bcd\u6027\u8bed\u7d20 ,   noun morpheme ), \n     }), \n     t :   ( \u65f6\u95f4\u8bcd ,   time word ,   { \n         tg :   ( \u65f6\u95f4\u8bcd\u6027\u8bed\u7d20 ,   time morpheme ), \n     }), \n     s :   ( \u5904\u6240\u8bcd ,   locative word ), \n     f :   ( \u65b9\u4f4d\u8bcd ,   noun of locality ), \n     v :   ( \u52a8\u8bcd ,   verb ,   { \n         vd :   ( \u526f\u52a8\u8bcd ,   auxiliary verb ), \n         vn :   ( \u540d\u52a8\u8bcd ,   noun-verb ), \n         vshi :   ( \u52a8\u8bcd \u662f ,   verb \u662f ), \n         vyou :   ( \u52a8\u8bcd \u6709 ,   verb \u6709 ), \n         vf :   ( \u8d8b\u5411\u52a8\u8bcd ,   directional verb ), \n         vx :   ( \u884c\u4e8b\u52a8\u8bcd ,   performative verb ), \n         vi :   ( \u4e0d\u53ca\u7269\u52a8\u8bcd ,   intransitive verb ), \n         vl :   ( \u52a8\u8bcd\u6027\u60ef\u7528\u8bed ,   verb phrase ), \n         vg :   ( \u52a8\u8bcd\u6027\u8bed\u7d20 ,   verb morpheme ), \n     }), \n     a :   ( \u5f62\u5bb9\u8bcd ,   adjective ,   { \n         ad :   ( \u526f\u5f62\u8bcd ,   auxiliary adjective ), \n         an :   ( \u540d\u5f62\u8bcd ,   noun-adjective ), \n         ag :   ( \u5f62\u5bb9\u8bcd\u6027\u8bed\u7d20 ,   adjective morpheme ), \n         al :   ( \u5f62\u5bb9\u8bcd\u6027\u60ef\u7528\u8bed ,   adjective phrase ), \n     }), \n     b :   ( \u533a\u522b\u8bcd ,   distinguishing word ,   { \n         bl :   ( \u533a\u522b\u8bcd\u6027\u60ef\u7528\u8bed ,   distinguishing phrase ), \n     }), \n     z :   ( \u72b6\u6001\u8bcd ,   status word ), \n     r :   ( \u4ee3\u8bcd ,   pronoun ,   { \n         rr :   ( \u4eba\u79f0\u4ee3\u8bcd ,   personal pronoun ), \n         rz :   ( \u6307\u793a\u4ee3\u8bcd ,   demonstrative pronoun ,   { \n             rzt :   ( \u65f6\u95f4\u6307\u793a\u4ee3\u8bcd ,   temporal demonstrative pronoun ), \n             rzs :   ( \u5904\u6240\u6307\u793a\u4ee3\u8bcd ,   locative demonstrative pronoun ), \n             rzv :   ( \u8c13\u8bcd\u6027\u6307\u793a\u4ee3\u8bcd ,   predicate demonstrative pronoun ), \n         }), \n         ry :   ( \u7591\u95ee\u4ee3\u8bcd ,   interrogative pronoun ,   { \n             ryt :   ( \u65f6\u95f4\u7591\u95ee\u4ee3\u8bcd ,   temporal interrogative pronoun ), \n             rys :   ( \u5904\u6240\u7591\u95ee\u4ee3\u8bcd ,   locative interrogative pronoun ), \n             ryv :   ( \u8c13\u8bcd\u6027\u7591\u95ee\u4ee3\u8bcd ,   predicate interrogative pronoun ), \n         }), \n         rg :   ( \u4ee3\u8bcd\u6027\u8bed\u7d20 ,   pronoun morpheme ), \n     }), \n     m :   ( \u6570\u8bcd ,   numeral ,   { \n         mq :   ( \u6570\u91cf\u8bcd ,   numeral-plus-classifier compound ), \n     }), \n     q :   ( \u91cf\u8bcd ,   classifier ,   { \n         qv :   ( \u52a8\u91cf\u8bcd ,   verbal classifier ), \n         qt :   ( \u65f6\u91cf\u8bcd ,   temporal classifier ), \n     }), \n     d :   ( \u526f\u8bcd ,   adverb ), \n     p :   ( \u4ecb\u8bcd ,   preposition ,   { \n         pba :   ( \u4ecb\u8bcd\u201c\u628a\u201d ,   preposition \u628a ), \n         pbei :   ( \u4ecb\u8bcd\u201c\u88ab\u201d ,   preposition \u88ab ), \n     }), \n     c :   ( \u8fde\u8bcd ,   conjunction ,   { \n         cc :   ( \u5e76\u5217\u8fde\u8bcd ,   coordinating conjunction ), \n     }), \n     u :   ( \u52a9\u8bcd ,   particle ,   { \n         uzhe :   ( \u7740 ,   particle \u7740 ), \n         ule :   ( \u4e86\uff0f\u55bd ,   particle \u4e86/\u55bd ), \n         uguo :   ( \u8fc7 ,   particle \u8fc7 ), \n         ude1 :   ( \u7684\uff0f\u5e95 ,   particle \u7684/\u5e95 ), \n         ude2 :   ( \u5730 ,   particle \u5730 ), \n         ude3 :   ( \u5f97 ,   particle \u5f97 ), \n         usuo :   ( \u6240 ,   particle \u6240 ), \n         udeng :   ( \u7b49\uff0f\u7b49\u7b49\uff0f\u4e91\u4e91 ,   particle \u7b49/\u7b49\u7b49/\u4e91\u4e91 ), \n         uyy :   ( \u4e00\u6837\uff0f\u4e00\u822c\uff0f\u4f3c\u7684\uff0f\u822c ,   particle \u4e00\u6837/\u4e00\u822c/\u4f3c\u7684/\u822c ), \n         udh :   ( \u7684\u8bdd ,   particle \u7684\u8bdd ), \n         uls :   ( \u6765\u8bb2\uff0f\u6765\u8bf4\uff0f\u800c\u8a00\uff0f\u8bf4\u6765 ,   particle \u6765\u8bb2/\u6765\u8bf4/\u800c\u8a00/\u8bf4\u6765 ), \n         uzhi :   ( \u4e4b ,   particle \u4e4b ), \n         ulian :   ( \u8fde ,   particle \u8fde ), \n     }), \n     e :   ( \u53f9\u8bcd ,   interjection ), \n     y :   ( \u8bed\u6c14\u8bcd ,   modal particle ), \n     o :   ( \u62df\u58f0\u8bcd ,   onomatopoeia ), \n     h :   ( \u524d\u7f00 ,   prefix ), \n     k :   ( \u540e\u7f00   suffix ), \n     x :   ( \u5b57\u7b26\u4e32 ,   string ,   { \n         xe :   ( Email\u5b57\u7b26\u4e32 ,   email address ), \n         xs :   ( \u5fae\u535a\u4f1a\u8bdd\u5206\u9694\u7b26 ,   hashtag ), \n         xm :   ( \u8868\u60c5\u7b26\u5408 ,   emoticon ), \n         xu :   ( \u7f51\u5740URL ,   URL ), \n         xx :   ( \u975e\u8bed\u7d20\u5b57 ,   non-morpheme character ), \n     }), \n     w :   ( \u6807\u70b9\u7b26\u53f7 ,   punctuation mark ,   { \n         wkz :   ( \u5de6\u62ec\u53f7 ,   left parenthesis/bracket ), \n         wky :   ( \u53f3\u62ec\u53f7 ,   right parenthesis/bracket ), \n         wyz :   ( \u5de6\u5f15\u53f7 ,   left quotation mark ), \n         wyy :   ( \u53f3\u5f15\u53f7 ,   right quotation mark ), \n         wj :   ( \u53e5\u53f7 ,   period ), \n         ww :   ( \u95ee\u53f7 ,   question mark ), \n         wt :   ( \u53f9\u53f7 ,   exclamation mark ), \n         wd :   ( \u9017\u53f7 ,   comma ), \n         wf :   ( \u5206\u53f7 ,   semicolon ), \n         wn :   ( \u987f\u53f7 ,   enumeration comma ), \n         wm :   ( \u5192\u53f7 ,   colon ), \n         ws :   ( \u7701\u7565\u53f7 ,   ellipsis ), \n         wp :   ( \u7834\u6298\u53f7 ,   dash ), \n         wb :   ( \u767e\u5206\u53f7\u5343\u5206\u53f7 ,   percent/per mille sign ), \n         wh :   ( \u5355\u4f4d\u7b26\u53f7 ,   unit of measure sign ), \n     }),  }    \u597d\uff0c\u8fd9\u56de\u6211\u4eec\u4e00\u4e0b\u5b50\u5b8c\u6210\u4e86\u5206\u8bcd\u3001\u8bcd\u6027\u6807\u6ce8\u3001\u5173\u952e\u8bcd\u63d0\u53d6\u3002\u547d\u540d\u5b9e\u4f53\u8bc6\u522b\u3001\u53e5\u6cd5\u5206\u6790\u4ee5\u53ca\u67e5\u8be2\u95ee\u53e5\u5206\u7c7b\u6211\u4eec\u4e4b\u540e\u518d\u7814\u7a76", 
            "title": "\u8bcd\u6027\u5206\u7c7b\u8868"
        }, 
        {
            "location": "/11.storage/", 
            "text": "\u57fa\u4e8e\u8bed\u6599\u505a\u673a\u5668\u5b66\u4e60\u9700\u8981\u6d77\u91cf\u6570\u636e\u652f\u6491\uff0c\u5982\u4f55\u80fd\u4e0d\u5b58\u4e00\u70b9\u6570\u636e\u83b7\u53d6\u6d77\u91cf\u6570\u636e\u5462\uff1f\u6211\u4eec\u53ef\u4ee5\u4ee5\u4e92\u8054\u7f51\u4e3a\u5f3a\u5927\u7684\u6570\u636e\u540e\u76fe\uff0c\u641c\u7d22\u5f15\u64ce\u4e3a\u6211\u4eec\u63d0\u4f9b\u4e86\u9ad8\u6548\u7684\u6570\u636e\u83b7\u53d6\u6765\u6e90\uff0c\u7ed3\u6784\u5316\u7684\u641c\u7d22\u7ed3\u679c\u5c55\u793a\u4e3a\u6211\u4eec\u5b9e\u73b0\u4e86\u5929\u7136\u7684\u7279\u5f81\u57fa\u7840\uff0c\u552f\u4e00\u9700\u8981\u6211\u4eec\u505a\u7684\u5c31\u662f\u5728\u6d77\u91cf\u7ed3\u679c\u4e2d\u9009\u51fa\u6211\u4eec\u9700\u8981\u7684\u6570\u636e\uff0c\u672c\u8282\u6211\u4eec\u6765\u63a2\u7d22\u5982\u4f55\u5229\u7528\u4e92\u8054\u7f51\u62ff\u5230\u6211\u4eec\u6240\u9700\u7684\u8bed\u6599\u8d44\u6e90 \n\n\n\u5173\u952e\u8bcd\u63d0\u53d6\n\n\n\u4e92\u8054\u7f51\u8d44\u6e90\u65e0\u7a77\u65e0\u5c3d\uff0c\u5982\u4f55\u83b7\u53d6\u5230\u6211\u4eec\u6240\u9700\u7684\u90a3\u90e8\u5206\u8bed\u6599\u5e93\u5462\uff1f\u8fd9\u9700\u8981\u6211\u4eec\u7ed9\u51fa\u7279\u5b9a\u7684\u5173\u952e\u8bcd\uff0c\u800c\u57fa\u4e8e\u95ee\u53e5\u7684\u5173\u952e\u8bcd\u63d0\u53d6\u4e0a\u4e00\u8282\u5df2\u7ecf\u505a\u4e86\u4ecb\u7ecd\uff0c\u5229\u7528pynlpir\u5e93\u53ef\u4ee5\u975e\u5e38\u65b9\u4fbf\u5730\u5b9e\u73b0\u5173\u952e\u8bcd\u63d0\u53d6\uff0c\u6bd4\u5982\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n# coding:utf-8\n\n\n\nimport\n \nsys\n\n\nreload\n(\nsys\n)\n\n\nsys\n.\nsetdefaultencoding\n(\n \nutf-8\n \n)\n\n\n\nimport\n \npynlpir\n\n\n\npynlpir\n.\nopen\n()\n\n\ns\n \n=\n \n\u600e\u4e48\u624d\u80fd\u628a\u7535\u8111\u91cc\u7684\u5783\u573e\u6587\u4ef6\u5220\u9664\n\n\n\nkey_words\n \n=\n \npynlpir\n.\nget_key_words\n(\ns\n,\n \nweighted\n=\nTrue\n)\n\n\nfor\n \nkey_word\n \nin\n \nkey_words\n:\n\n    \nprint\n \nkey_word\n[\n0\n],\n \n\\t\n,\n \nkey_word\n[\n1\n]\n\n\n\npynlpir\n.\nclose\n()\n\n\n\n\n\n\n\n\u63d0\u53d6\u51fa\u7684\u5173\u952e\u8bcd\u5982\u4e0b\uff1a\n\n\n1\n2\n3\n4\n\u7535\u8111     2.0\n\u5783\u573e     2.0\n\u6587\u4ef6     2.0\n\u5220\u9664     1.0\n\n\n\n\n\n\n\u6211\u4eec\u57fa\u4e8e\u8fd9\u56db\u4e2a\u5173\u952e\u8bcd\u6765\u83b7\u53d6\u4e92\u8054\u7f51\u7684\u8d44\u6e90\u5c31\u53ef\u4ee5\u5f97\u5230\u6211\u4eec\u6240\u9700\u8981\u7684\u8bed\u6599\u4fe1\u606f\n\n\n\u5145\u5206\u5229\u7528\u641c\u7d22\u5f15\u64ce\n\n\n\u6709\u4e86\u5173\u952e\u8bcd\uff0c\u60f3\u83b7\u53d6\u9884\u6599\u4fe1\u606f\uff0c\u8fd8\u9700\u8981\u77e5\u9053\u51e0\u5927\u641c\u7d22\u5f15\u64ce\u7684\u8c03\u7528\u63a5\u53e3\uff0c\u9996\u5148\u6211\u4eec\u6765\u63a2\u7d22\u4e00\u4e0b\u767e\u5ea6\uff0c\u767e\u5ea6\u7684\u63a5\u53e3\u662f\u8fd9\u6837\u7684\uff1a\n\n\nhttps://www.baidu.com/s?wd=\u673a\u5668\u5b66\u4e60 \u6570\u636e\u6316\u6398 \u4fe1\u606f\u68c0\u7d22\n\n\n\u628awd\u53c2\u6570\u6362\u6210\u6211\u4eec\u7684\u5173\u952e\u8bcd\u5c31\u53ef\u4ee5\u62ff\u5230\u76f8\u5e94\u7684\u7ed3\u679c\uff0c\u6211\u4eec\u7528\u7a0b\u5e8f\u6765\u5c1d\u8bd5\u4e00\u4e0b\uff1a\n\n\n\u9996\u5148\u521b\u5efascrapy\u5de5\u7a0b\uff0c\u6267\u884c\uff1a\n\n\n1\nscrapy startproject baidu_search\n\n\n\n\n\n\n\u81ea\u52a8\u751f\u6210\u4e86baidu_search\u76ee\u5f55\u548c\u4e0b\u9762\u7684\u6587\u4ef6\uff08\u4e0d\u77e5\u9053\u600e\u4e48\u4f7f\u7528scrapy\uff0c\u8bf7\u89c1\u6211\u7684\u6587\u7ae0\u6559\u4f60\u6210\u4e3a\u5168\u6808\u5de5\u7a0b\u5e08(Full Stack Developer) \u4e09\u5341-\u5341\u5206\u949f\u638c\u63e1\u6700\u5f3a\u5927\u7684python\u722c\u866b\uff09\n\n\n\u521b\u5efabaidu_search/baidu_search/spiders/baidu_search.py\u6587\u4ef6\uff0c\u5185\u5bb9\u5982\u4e0b\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n# coding:utf-8\n\n\n\nimport\n \nsys\n\n\nreload\n(\nsys\n)\n\n\nsys\n.\nsetdefaultencoding\n(\n \nutf-8\n \n)\n\n\n\nimport\n \nscrapy\n\n\n\nclass\n \nBaiduSearchSpider\n(\nscrapy\n.\nSpider\n):\n\n    \nname\n \n=\n \nbaidu_search\n\n    \nallowed_domains\n \n=\n \n[\nbaidu.com\n]\n\n    \nstart_urls\n \n=\n \n[\n\n            \nhttps://www.baidu.com/s?wd=\u673a\u5668\u5b66\u4e60\n\n    \n]\n\n\n    \ndef\n \nparse\n(\nself\n,\n \nresponse\n):\n\n        \nprint\n \nresponse\n.\nbody\n\n\n\n\n\n\n\n\u8fd9\u6837\u6211\u4eec\u7684\u6293\u53d6\u5668\u5c31\u505a\u597d\u4e86\uff0c\u8fdb\u5165baidu_search/baidu_search/\u76ee\u5f55\uff0c\u6267\u884c\uff1a\n\n\n1\nscrapy crawl baidu_search\n\n\n\n\n\n\n\u6211\u4eec\u53d1\u73b0\u8fd4\u56de\u7684\u6570\u636e\u662f\u7a7a\uff0c\u4e0b\u9762\u6211\u4eec\u4fee\u6539\u914d\u7f6e\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u4fee\u6539settings.py\u6587\u4ef6\uff0c\u628aROBOTSTXT_OBEY\u6539\u4e3a\n\n\n1\nROBOTSTXT_OBEY\n \n=\n \nFalse\n\n\n\n\n\n\n\n\u5e76\u628aUSER_AGENT\u8bbe\u7f6e\u4e3a\uff1a\n\n\n1\nUSER_AGENT = \nMozilla/5.0 (Macintosh; Intel Mac OS X 10_11_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/50.0.2661.102 Safari/537.36\n\n\n\n\n\n\n\n\u4e3a\u4e86\u907f\u514d\u6293\u53d6hang\u4f4f\uff0c\u6211\u4eec\u6dfb\u52a0\u5982\u4e0b\u8d85\u65f6\u8bbe\u7f6e\uff1a\n\n\n1\nDOWNLOAD_TIMEOUT\n \n=\n \n5\n\n\n\n\n\n\n\n\u518d\u6b21\u6267\u884c\n\n\n1\nscrapy crawl baidu_search\n\n\n\n\n\n\n\u8fd9\u6b21\u7ec8\u4e8e\u53ef\u4ee5\u770b\u5230\u5927\u7247\u5927\u7247\u7684html\u4e86\uff0c\u6211\u4eec\u4e34\u65f6\u628a\u4ed6\u5199\u5230\u6587\u4ef6\u4e2d\uff0c\u4fee\u6539parse()\u51fd\u6570\u5982\u4e0b\uff1a\n\n\n1\n2\n3\n4\ndef\n \nparse\n(\nself\n,\n \nresponse\n):\n\n    \nfilename\n \n=\n \nresult.html\n\n    \nwith\n \nopen\n(\nfilename\n,\n \nwb\n)\n \nas\n \nf\n:\n\n        \nf\n.\nwrite\n(\nresponse\n.\nbody\n)\n\n\n\n\n\n\n\n\u91cd\u65b0\u6267\u884c\u540e\u751f\u6210\u4e86\nresult.html\n\uff0c\u6211\u4eec\u7528\u6d4f\u89c8\u5668\u6253\u5f00\u672c\u5730\u6587\u4ef6\u5982\u4e0b\uff1a\n\n\n\u8bf4\u660e\u6211\u4eec\u6293\u53d6\u5230\u4e86\u6b63\u786e\u7684\u7ed3\u679c\n\n\n\u8bed\u6599\u63d0\u53d6\n\n\n\u4e0a\u9762\u5f97\u5230\u7684\u4ec5\u662f\u641c\u7d22\u7ed3\u679c\uff0c\u5b83\u53ea\u662f\u4e00\u79cd\u7d22\u5f15\uff0c\u771f\u6b63\u7684\u5185\u5bb9\u9700\u8981\u8fdb\u5165\u5230\u6bcf\u4e00\u4e2a\u94fe\u63a5\u624d\u80fd\u62ff\u5230\uff0c\u4e0b\u9762\u6211\u4eec\u5c1d\u8bd5\u63d0\u53d6\u51fa\u6bcf\u4e00\u4e2a\u94fe\u63a5\u5e76\u7ee7\u7eed\u6293\u53d6\u91cc\u9762\u7684\u5185\u5bb9\uff0c\u90a3\u4e48\u5982\u4f55\u63d0\u53d6\u94fe\u63a5\u5462\uff0c\u6211\u4eec\u6765\u5206\u6790\u4e00\u4e0b\nresult.html\n\u8fd9\u4e2a\u6293\u53d6\u767e\u5ea6\u641c\u7d22\u7ed3\u679c\u6587\u4ef6\n\n\n\u6211\u4eec\u53ef\u4ee5\u770b\u5230\uff0c\u6bcf\u4e00\u6761\u94fe\u63a5\u90fd\u662f\u5d4c\u5728class=c-container\u8fd9\u4e2adiv\u91cc\u9762\u7684\u4e00\u4e2ah3\u4e0b\u7684a\u6807\u7b7e\u7684href\u5c5e\u6027\n\n\n\u6240\u4ee5\u6211\u4eec\u7684\u63d0\u53d6\u89c4\u5219\u5c31\u662f\uff1a\n\n\n1\nhrefs\n \n=\n \nresponse\n.\nselector\n.\nxpath\n(\n//div[contains(@class, \nc-container\n)]/h3/a/@href\n)\n.\nextract\n()\n\n\n\n\n\n\n\n\u4fee\u6539parse()\u51fd\u6570\u5e76\u6dfb\u52a0\u5982\u4e0b\u4ee3\u7801\uff1a\n\n\n1\n2\n3\nhrefs\n \n=\n \nresponse\n.\nselector\n.\nxpath\n(\n//div[contains(@class, \nc-container\n)]/h3/a/@href\n)\n.\nextract\n()\n\n\nfor\n \nhref\n \nin\n \nhrefs\n:\n\n    \nprint\n \nhref\n\n\n\n\n\n\n\n\u6267\u884c\u6253\u5370\u51fa\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n\u2026\u2026\n2016-06-30 09:22:51 [scrapy] DEBUG: Crawled (200) \nGET https://www.baidu.com/s?wd=%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0\n (referer: None)\nhttp://www.baidu.com/link?url=ducktBaLUAdceZyTkXSyx3nDbgLHoYlDVgAGlxPwcNNrOMQrbatubNKGRElo0VWua26AC7JRD2pLxFcaUBjcOq\nhttp://www.baidu.com/link?url=PGU6qW3zUb9g5uMT3W1O4VxPmoH-Fg-jolx8rBmBAeyOuXUl0wHzzNPkX3IDS5ZFSSSHyaBTjHd5f2r8CXBFjSctF9SGKaVock5xaJNuBCy\nhttp://www.baidu.com/link?url=JMirHAkIRJWI_9Va7HNc8zXWXU7JeTYhPGe66cOV4Zi5LH-GB7IQvVng4Gn35IiVhsUYP3IFyn6MKRl4_-byca\nhttp://www.baidu.com/link?url=Et9xy9Qej4XRmLB9UdFUlWD_AugxoDxQt-BZHCFyZEDPYzEx52vL_jsr_AvkNLHC-TfLThm0dKs21IGR1QA6h_\nhttp://www.baidu.com/link?url=Ajb1DXzWj9A6KAYicHl4wS4RV6iDuy44kP_j-G0rbOHYQy5IR5JOigxbJERsqyH3\nhttp://www.baidu.com/link?url=uRDMnVDsmS7sD4frNv8EHd2jKSvOB5PtqxeT8Q7MFzRyHPIVTYyiWEGNReHAbRymMnWOxqF_CSQOXL87v3o4qa\nhttp://www.baidu.com/link?url=18j6NZUp8fknmM1nUYIfsmep5H0JD39k8bL7CkACFtKdD4whoTuZy0ZMsCxZzZOj\nhttp://www.baidu.com/link?url=TapnMj78otilz-AR1NddZCSfG2vqcPYGNCYRu9_z70rmAKWqIVAvjV06iJvcvuECGDbwAefdsAmGRHba6TDpFMV1Pk-_JRs_bt9iE4T3bVi\nhttp://www.baidu.com/link?url=b1j-GMumC7s5eDXTHIMPpsdL7HtxrP4Rb_kw0GNo3z2ZSlkhLVd_4aFEzflPGArPHv7VBtZ1xbyHo3JtG0PEZq\nhttp://www.baidu.com/link?url=dG3GISijkExWf6Sy6Zn1xk_k--eGPUl1BrTCLRBxUOaS4jlrpX-PzV618-5hrCeos2_Rzaqrh0SecqYPloZfbyaj6wHSfbJHG9kFTvY6Spi\n2016-06-30 09:22:51 [scrapy] INFO: Closing spider (finished)\n\u2026\u2026\n\n\n\n\n\n\n\u4e0b\u9762\u6211\u4eec\u628a\u8fd9\u4e9burl\u6dfb\u52a0\u5230\u6293\u53d6\u961f\u5217\u4e2d\u7ee7\u7eed\u6293\u53d6\uff0c\u4fee\u6539baidu_search.py\u6587\u4ef6\uff0c\u5982\u4e0b\uff1a\n\n\n1\n2\n3\n4\n5\n6\n7\ndef\n \nparse\n(\nself\n,\n \nresponse\n):\n\n    \nhrefs\n \n=\n \nresponse\n.\nselector\n.\nxpath\n(\n//div[contains(@class, \nc-container\n)]/h3/a/@href\n)\n.\nextract\n()\n\n    \nfor\n \nhref\n \nin\n \nhrefs\n:\n\n        \nyield\n \nscrapy\n.\nRequest\n(\nhref\n,\n \ncallback\n=\nself\n.\nparse_url\n)\n\n\n\ndef\n \nparse_url\n(\nself\n,\n \nresponse\n):\n\n    \nprint\n \nlen\n(\nresponse\n.\nbody\n)\n\n\n\n\n\n\n\n\u6293\u53d6\u6548\u679c\u5982\u4e0b\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n\u2026\u2026\n2016-06-30 09:26:52 [scrapy] DEBUG: Crawled (200) \nGET https://www.baidu.com/s?wd=%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0\n (referer: None)\n2016-06-30 09:26:52 [scrapy] DEBUG: Redirecting (302) to \nGET http://book.douban.com/subject/1102235/\n from \nGET http://www.baidu.com/link?url=S1kmtqU1ZBDaSKlVXdeKfNtyv7fErWDMC_TuOEXdedXEe2DzoMqRbMdbejbC4vts4MHm5NQUIRbk0Y0QdohY5_\n\n2016-06-30 09:26:52 [scrapy] DEBUG: Redirecting (302) to \nGET http://www.kuqin.com/shuoit/20140512/339858.html\n from \nGET http://www.baidu.com/link?url=_6fKf9IjO_EJ4hw91Y6RnfXnqS5u8VmwvDsJh3tduapsgXKQb-nMjsxMRPLW1bt5JlnzJPgOobHQwyHTgkWolK\n\n2016-06-30 09:26:52 [scrapy] DEBUG: Redirecting (302) to \nGET http://wenku.baidu.com/link?url=7pAXoiFZz4alDMOjp-41OJaONe3B86GMEiFu96bqQy8qakk37vouey5Q-SxL7oN-r9mnNukKgVjN8iOloEKQoeEmgKLzukIFkX_rpr3dhy3\n from \nGET http://www.baidu.com/link?url=7pAXoiFZz4alDMOjp-41OJaONe3B86GMEiFu96bqQy8qakk37vouey5Q-SxL7oN-r9mnNukKgVjN8iOloEKQoeEmgKLzukIFkX_rpr3dhy3\n\n2016-06-30 09:26:52 [scrapy] DEBUG: Redirecting (302) to \nGET http://blog.csdn.net/zouxy09/article/details/16955347\n from \nGET http://www.baidu.com/link?url=5dh-19wDKE_agNpwz_9YTm01wHLJ9IxBfrZPVWo6RfFECGmIW7bt0vk6POhWDN04O4QHem_v8-iYLTzoeXmQZK\n\n2016-06-30 09:26:52 [scrapy] DEBUG: Redirecting (302) to \nGET http://open.163.com/special/opencourse/machinelearning.html\n from \nGET http://www.baidu.com/link?url=ti__XlRN8Oij0rFvqxfTtJz-dLhng6NANkAVwwISlHQ4nKOhRXNSJQhzekflnnFuuW5033lDRcqywOlqrzoANUhB0yQf3Nq-pXMWmBQO7x7\n\n2016-06-30 09:26:52 [scrapy] DEBUG: Redirecting (302) to \nGET http://www.guokr.com/group/262/\n from \nGET http://www.baidu.com/link?url=cuifybqWoLRMULYGe70JCzyrZMEKL9GgfAa6V7p_7ONb7Q6KzXPad5zMfIYsKqN6\n\n2016-06-30 09:26:52 [scrapy] DEBUG: Redirecting (302) to \nGET http://mooc.guokr.com/course/16/Machine-Learning/\n from \nGET http://www.baidu.com/link?url=93Yp_GA3ZLnSwjN5YREAML4sP5BthETto8Psn7ty5VJHoMB95gWhKTT6iDBFHeAfHjDhqwCf-NBrgeoP7YD1zq\n\n2016-06-30 09:26:52 [scrapy] DEBUG: Redirecting (302) to \nGET http://tieba.baidu.com/f?kw=%BB%FA%C6%F7%D1%A7%CF%B0\nfr=ala0\ntpl=5\n from \nGET http://www.baidu.com/link?url=EjCvUWhJWV1_FEgNyetjTAu6HqImgl-A2229Lp8Kl3BfpcqlrSLOUabc-bzgn6KD1Wbg_s547FunrFp79phQTqXuIx6tkn9NGBhSqxhYUhm\n\n2016-06-30 09:26:52 [scrapy] DEBUG: Redirecting (302) to \nGET http://www.geekpark.net/topics/213883/\n from \nGET http://www.baidu.com/link?url=kvdmirs22OQAj10KSbGstZJtf8L74bTgd4p1AxYk6c2B9lP_8_nSrLNDlfb9DHW7\n\n\u2026\u2026\n\n\n\n\n\n\n\u770b\u8d77\u6765\u80fd\u591f\u6b63\u5e38\u6293\u53d6\u5566\uff0c\u4e0b\u9762\u6211\u4eec\u628a\u6293\u53d6\u4e0b\u6765\u7684\u7f51\u9875\u63d0\u53d6\u51fa\u6b63\u6587\u5e76\u5c3d\u91cf\u53bb\u6389\u6807\u7b7e\uff0c\u5982\u4e0b\uff1a\n\n\n1\n2\ndef\n \nparse_url\n(\nself\n,\n \nresponse\n):\n\n    \nprint\n \nremove_tags\n(\nresponse\n.\nselector\n.\nxpath\n(\n//body\n)\n.\nextract\n()[\n0\n])\n\n\n\n\n\n\n\n\u4e0b\u9762\uff0c\u6211\u4eec\u5e0c\u671b\u628a\u767e\u5ea6\u641c\u7d22\u7ed3\u679c\u4e2d\u7684\u6458\u8981\u4e5f\u80fd\u591f\u4fdd\u5b58\u4e0b\u6765\u4f5c\u4e3a\u6211\u4eec\u8bed\u6599\u7684\u4e00\u90e8\u5206\uff0c\u5982\u4e0b\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\ndef\n \nparse\n(\nself\n,\n \nresponse\n):\n\n    \nhrefs\n \n=\n \nresponse\n.\nselector\n.\nxpath\n(\n//div[contains(@class, \nc-container\n)]/h3/a/@href\n)\n.\nextract\n()\n\n    \ncontainers\n \n=\n \nresponse\n.\nselector\n.\nxpath\n(\n//div[contains(@class, \nc-container\n)]\n)\n\n    \nfor\n \ncontainer\n \nin\n \ncontainers\n:\n\n        \nhref\n \n=\n \ncontainer\n.\nxpath\n(\nh3/a/@href\n)\n.\nextract\n()[\n0\n]\n\n        \ntitle\n \n=\n \nremove_tags\n(\ncontainer\n.\nxpath\n(\nh3/a\n)\n.\nextract\n()[\n0\n])\n\n        \nc_abstract\n \n=\n \ncontainer\n.\nxpath\n(\ndiv/div/div[contains(@class, \nc-abstract\n)]\n)\n.\nextract\n()\n\n        \nabstract\n \n=\n \n\n        \nif\n \nlen\n(\nc_abstract\n)\n \n \n0\n:\n\n            \nabstract\n \n=\n \nremove_tags\n(\nc_abstract\n[\n0\n])\n\n        \nrequest\n \n=\n \nscrapy\n.\nRequest\n(\nhref\n,\n \ncallback\n=\nself\n.\nparse_url\n)\n\n        \nrequest\n.\nmeta\n[\ntitle\n]\n \n=\n \ntitle\n\n        \nrequest\n.\nmeta\n[\nabstract\n]\n \n=\n \nabstract\n\n        \nyield\n \nrequest\n\n\n\ndef\n \nparse_url\n(\nself\n,\n \nresponse\n):\n\n    \nprint\n \nurl:\n,\n \nresponse\n.\nurl\n\n    \nprint\n \ntitle:\n,\n \nresponse\n.\nmeta\n[\ntitle\n]\n\n    \nprint\n \nabstract:\n,\n \nresponse\n.\nmeta\n[\nabstract\n]\n\n    \ncontent\n \n=\n \nremove_tags\n(\nresponse\n.\nselector\n.\nxpath\n(\n//body\n)\n.\nextract\n()[\n0\n])\n\n    \nprint\n \ncontent_len:\n,\n \nlen\n(\ncontent\n)\n\n\n\n\n\n\n\n\u89e3\u91ca\u4e00\u4e0b\uff0c\u9996\u5148\u6211\u4eec\u5728\u63d0\u53d6url\u7684\u65f6\u5019\u987a\u4fbf\u628a\u6807\u9898\u548c\u6458\u8981\u90fd\u63d0\u53d6\u51fa\u6765\uff0c\u7136\u540e\u901a\u8fc7scrapy.Request\u7684meta\u4f20\u9012\u5230\u5904\u7406\u51fd\u6570parse_url\u4e2d\uff0c\u8fd9\u6837\u5728\u6293\u53d6\u5b8c\u6210\u4e4b\u540e\u4e5f\u80fd\u63a5\u5230\u8fd9\u4e24\u4e2a\u503c\uff0c\u7136\u540e\u63d0\u53d6\u51facontent\uff0c\u8fd9\u6837\u6211\u4eec\u60f3\u8981\u7684\u6570\u636e\u5c31\u5b8c\u6574\u4e86\uff1aurl\u3001title\u3001abstract\u3001content\n\n\n\u767e\u5ea6\u641c\u7d22\u6570\u636e\u51e0\u4e4e\u662f\u6574\u4e2a\u4e92\u8054\u7f51\u7684\u955c\u50cf\uff0c\u6240\u4ee5\u4f60\u60f3\u8981\u5f97\u5230\u7684\u7b54\u6848\uff0c\u6211\u4eec\u7684\u8bed\u6599\u5e93\u5c31\u662f\u6574\u4e2a\u4e92\u8054\u7f51\uff0c\u800c\u6211\u4eec\u5b8c\u5168\u501f\u52a9\u4e8e\u767e\u5ea6\u641c\u7d22\u5f15\u64ce\uff0c\u4e0d\u5fc5\u63d0\u524d\u5b58\u50a8\u4efb\u4f55\u8d44\u6599\uff0c\u4e92\u8054\u7f51\u771f\u662f\u4f1f\u5927\uff01\n\n\n\u4e4b\u540e\u8fd9\u4e9b\u6570\u636e\u60f3\u4fdd\u5b58\u5728\u4ec0\u4e48\u5730\u65b9\u5c31\u770b\u540e\u9762\u6211\u4eec\u8981\u600e\u4e48\u5904\u7406\u4e86\uff0c\u6b32\u77e5\u540e\u4e8b\u5982\u4f55\uff0c\u4e14\u542c\u4e0b\u56de\u5206\u89e3", 
            "title": "\u5341\u4e00-0\u5b57\u8282\u5b58\u50a8\u6d77\u91cf\u8bed\u6599\u8d44\u6e90"
        }, 
        {
            "location": "/11.storage/#_1", 
            "text": "\u4e92\u8054\u7f51\u8d44\u6e90\u65e0\u7a77\u65e0\u5c3d\uff0c\u5982\u4f55\u83b7\u53d6\u5230\u6211\u4eec\u6240\u9700\u7684\u90a3\u90e8\u5206\u8bed\u6599\u5e93\u5462\uff1f\u8fd9\u9700\u8981\u6211\u4eec\u7ed9\u51fa\u7279\u5b9a\u7684\u5173\u952e\u8bcd\uff0c\u800c\u57fa\u4e8e\u95ee\u53e5\u7684\u5173\u952e\u8bcd\u63d0\u53d6\u4e0a\u4e00\u8282\u5df2\u7ecf\u505a\u4e86\u4ecb\u7ecd\uff0c\u5229\u7528pynlpir\u5e93\u53ef\u4ee5\u975e\u5e38\u65b9\u4fbf\u5730\u5b9e\u73b0\u5173\u952e\u8bcd\u63d0\u53d6\uff0c\u6bd4\u5982\uff1a   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16 # coding:utf-8  import   sys  reload ( sys )  sys . setdefaultencoding (   utf-8   )  import   pynlpir  pynlpir . open ()  s   =   \u600e\u4e48\u624d\u80fd\u628a\u7535\u8111\u91cc\u7684\u5783\u573e\u6587\u4ef6\u5220\u9664  key_words   =   pynlpir . get_key_words ( s ,   weighted = True )  for   key_word   in   key_words : \n     print   key_word [ 0 ],   \\t ,   key_word [ 1 ]  pynlpir . close ()    \u63d0\u53d6\u51fa\u7684\u5173\u952e\u8bcd\u5982\u4e0b\uff1a  1\n2\n3\n4 \u7535\u8111     2.0\n\u5783\u573e     2.0\n\u6587\u4ef6     2.0\n\u5220\u9664     1.0   \u6211\u4eec\u57fa\u4e8e\u8fd9\u56db\u4e2a\u5173\u952e\u8bcd\u6765\u83b7\u53d6\u4e92\u8054\u7f51\u7684\u8d44\u6e90\u5c31\u53ef\u4ee5\u5f97\u5230\u6211\u4eec\u6240\u9700\u8981\u7684\u8bed\u6599\u4fe1\u606f", 
            "title": "\u5173\u952e\u8bcd\u63d0\u53d6"
        }, 
        {
            "location": "/11.storage/#_2", 
            "text": "\u6709\u4e86\u5173\u952e\u8bcd\uff0c\u60f3\u83b7\u53d6\u9884\u6599\u4fe1\u606f\uff0c\u8fd8\u9700\u8981\u77e5\u9053\u51e0\u5927\u641c\u7d22\u5f15\u64ce\u7684\u8c03\u7528\u63a5\u53e3\uff0c\u9996\u5148\u6211\u4eec\u6765\u63a2\u7d22\u4e00\u4e0b\u767e\u5ea6\uff0c\u767e\u5ea6\u7684\u63a5\u53e3\u662f\u8fd9\u6837\u7684\uff1a  https://www.baidu.com/s?wd=\u673a\u5668\u5b66\u4e60 \u6570\u636e\u6316\u6398 \u4fe1\u606f\u68c0\u7d22  \u628awd\u53c2\u6570\u6362\u6210\u6211\u4eec\u7684\u5173\u952e\u8bcd\u5c31\u53ef\u4ee5\u62ff\u5230\u76f8\u5e94\u7684\u7ed3\u679c\uff0c\u6211\u4eec\u7528\u7a0b\u5e8f\u6765\u5c1d\u8bd5\u4e00\u4e0b\uff1a  \u9996\u5148\u521b\u5efascrapy\u5de5\u7a0b\uff0c\u6267\u884c\uff1a  1 scrapy startproject baidu_search   \u81ea\u52a8\u751f\u6210\u4e86baidu_search\u76ee\u5f55\u548c\u4e0b\u9762\u7684\u6587\u4ef6\uff08\u4e0d\u77e5\u9053\u600e\u4e48\u4f7f\u7528scrapy\uff0c\u8bf7\u89c1\u6211\u7684\u6587\u7ae0\u6559\u4f60\u6210\u4e3a\u5168\u6808\u5de5\u7a0b\u5e08(Full Stack Developer) \u4e09\u5341-\u5341\u5206\u949f\u638c\u63e1\u6700\u5f3a\u5927\u7684python\u722c\u866b\uff09  \u521b\u5efabaidu_search/baidu_search/spiders/baidu_search.py\u6587\u4ef6\uff0c\u5185\u5bb9\u5982\u4e0b\uff1a   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17 # coding:utf-8  import   sys  reload ( sys )  sys . setdefaultencoding (   utf-8   )  import   scrapy  class   BaiduSearchSpider ( scrapy . Spider ): \n     name   =   baidu_search \n     allowed_domains   =   [ baidu.com ] \n     start_urls   =   [ \n             https://www.baidu.com/s?wd=\u673a\u5668\u5b66\u4e60 \n     ] \n\n     def   parse ( self ,   response ): \n         print   response . body    \u8fd9\u6837\u6211\u4eec\u7684\u6293\u53d6\u5668\u5c31\u505a\u597d\u4e86\uff0c\u8fdb\u5165baidu_search/baidu_search/\u76ee\u5f55\uff0c\u6267\u884c\uff1a  1 scrapy crawl baidu_search   \u6211\u4eec\u53d1\u73b0\u8fd4\u56de\u7684\u6570\u636e\u662f\u7a7a\uff0c\u4e0b\u9762\u6211\u4eec\u4fee\u6539\u914d\u7f6e\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u4fee\u6539settings.py\u6587\u4ef6\uff0c\u628aROBOTSTXT_OBEY\u6539\u4e3a  1 ROBOTSTXT_OBEY   =   False    \u5e76\u628aUSER_AGENT\u8bbe\u7f6e\u4e3a\uff1a  1 USER_AGENT =  Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/50.0.2661.102 Safari/537.36    \u4e3a\u4e86\u907f\u514d\u6293\u53d6hang\u4f4f\uff0c\u6211\u4eec\u6dfb\u52a0\u5982\u4e0b\u8d85\u65f6\u8bbe\u7f6e\uff1a  1 DOWNLOAD_TIMEOUT   =   5    \u518d\u6b21\u6267\u884c  1 scrapy crawl baidu_search   \u8fd9\u6b21\u7ec8\u4e8e\u53ef\u4ee5\u770b\u5230\u5927\u7247\u5927\u7247\u7684html\u4e86\uff0c\u6211\u4eec\u4e34\u65f6\u628a\u4ed6\u5199\u5230\u6587\u4ef6\u4e2d\uff0c\u4fee\u6539parse()\u51fd\u6570\u5982\u4e0b\uff1a  1\n2\n3\n4 def   parse ( self ,   response ): \n     filename   =   result.html \n     with   open ( filename ,   wb )   as   f : \n         f . write ( response . body )    \u91cd\u65b0\u6267\u884c\u540e\u751f\u6210\u4e86 result.html \uff0c\u6211\u4eec\u7528\u6d4f\u89c8\u5668\u6253\u5f00\u672c\u5730\u6587\u4ef6\u5982\u4e0b\uff1a  \u8bf4\u660e\u6211\u4eec\u6293\u53d6\u5230\u4e86\u6b63\u786e\u7684\u7ed3\u679c", 
            "title": "\u5145\u5206\u5229\u7528\u641c\u7d22\u5f15\u64ce"
        }, 
        {
            "location": "/11.storage/#_3", 
            "text": "\u4e0a\u9762\u5f97\u5230\u7684\u4ec5\u662f\u641c\u7d22\u7ed3\u679c\uff0c\u5b83\u53ea\u662f\u4e00\u79cd\u7d22\u5f15\uff0c\u771f\u6b63\u7684\u5185\u5bb9\u9700\u8981\u8fdb\u5165\u5230\u6bcf\u4e00\u4e2a\u94fe\u63a5\u624d\u80fd\u62ff\u5230\uff0c\u4e0b\u9762\u6211\u4eec\u5c1d\u8bd5\u63d0\u53d6\u51fa\u6bcf\u4e00\u4e2a\u94fe\u63a5\u5e76\u7ee7\u7eed\u6293\u53d6\u91cc\u9762\u7684\u5185\u5bb9\uff0c\u90a3\u4e48\u5982\u4f55\u63d0\u53d6\u94fe\u63a5\u5462\uff0c\u6211\u4eec\u6765\u5206\u6790\u4e00\u4e0b result.html \u8fd9\u4e2a\u6293\u53d6\u767e\u5ea6\u641c\u7d22\u7ed3\u679c\u6587\u4ef6  \u6211\u4eec\u53ef\u4ee5\u770b\u5230\uff0c\u6bcf\u4e00\u6761\u94fe\u63a5\u90fd\u662f\u5d4c\u5728class=c-container\u8fd9\u4e2adiv\u91cc\u9762\u7684\u4e00\u4e2ah3\u4e0b\u7684a\u6807\u7b7e\u7684href\u5c5e\u6027  \u6240\u4ee5\u6211\u4eec\u7684\u63d0\u53d6\u89c4\u5219\u5c31\u662f\uff1a  1 hrefs   =   response . selector . xpath ( //div[contains(@class,  c-container )]/h3/a/@href ) . extract ()    \u4fee\u6539parse()\u51fd\u6570\u5e76\u6dfb\u52a0\u5982\u4e0b\u4ee3\u7801\uff1a  1\n2\n3 hrefs   =   response . selector . xpath ( //div[contains(@class,  c-container )]/h3/a/@href ) . extract ()  for   href   in   hrefs : \n     print   href    \u6267\u884c\u6253\u5370\u51fa\uff1a   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14 \u2026\u2026\n2016-06-30 09:22:51 [scrapy] DEBUG: Crawled (200)  GET https://www.baidu.com/s?wd=%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0  (referer: None)\nhttp://www.baidu.com/link?url=ducktBaLUAdceZyTkXSyx3nDbgLHoYlDVgAGlxPwcNNrOMQrbatubNKGRElo0VWua26AC7JRD2pLxFcaUBjcOq\nhttp://www.baidu.com/link?url=PGU6qW3zUb9g5uMT3W1O4VxPmoH-Fg-jolx8rBmBAeyOuXUl0wHzzNPkX3IDS5ZFSSSHyaBTjHd5f2r8CXBFjSctF9SGKaVock5xaJNuBCy\nhttp://www.baidu.com/link?url=JMirHAkIRJWI_9Va7HNc8zXWXU7JeTYhPGe66cOV4Zi5LH-GB7IQvVng4Gn35IiVhsUYP3IFyn6MKRl4_-byca\nhttp://www.baidu.com/link?url=Et9xy9Qej4XRmLB9UdFUlWD_AugxoDxQt-BZHCFyZEDPYzEx52vL_jsr_AvkNLHC-TfLThm0dKs21IGR1QA6h_\nhttp://www.baidu.com/link?url=Ajb1DXzWj9A6KAYicHl4wS4RV6iDuy44kP_j-G0rbOHYQy5IR5JOigxbJERsqyH3\nhttp://www.baidu.com/link?url=uRDMnVDsmS7sD4frNv8EHd2jKSvOB5PtqxeT8Q7MFzRyHPIVTYyiWEGNReHAbRymMnWOxqF_CSQOXL87v3o4qa\nhttp://www.baidu.com/link?url=18j6NZUp8fknmM1nUYIfsmep5H0JD39k8bL7CkACFtKdD4whoTuZy0ZMsCxZzZOj\nhttp://www.baidu.com/link?url=TapnMj78otilz-AR1NddZCSfG2vqcPYGNCYRu9_z70rmAKWqIVAvjV06iJvcvuECGDbwAefdsAmGRHba6TDpFMV1Pk-_JRs_bt9iE4T3bVi\nhttp://www.baidu.com/link?url=b1j-GMumC7s5eDXTHIMPpsdL7HtxrP4Rb_kw0GNo3z2ZSlkhLVd_4aFEzflPGArPHv7VBtZ1xbyHo3JtG0PEZq\nhttp://www.baidu.com/link?url=dG3GISijkExWf6Sy6Zn1xk_k--eGPUl1BrTCLRBxUOaS4jlrpX-PzV618-5hrCeos2_Rzaqrh0SecqYPloZfbyaj6wHSfbJHG9kFTvY6Spi\n2016-06-30 09:22:51 [scrapy] INFO: Closing spider (finished)\n\u2026\u2026   \u4e0b\u9762\u6211\u4eec\u628a\u8fd9\u4e9burl\u6dfb\u52a0\u5230\u6293\u53d6\u961f\u5217\u4e2d\u7ee7\u7eed\u6293\u53d6\uff0c\u4fee\u6539baidu_search.py\u6587\u4ef6\uff0c\u5982\u4e0b\uff1a  1\n2\n3\n4\n5\n6\n7 def   parse ( self ,   response ): \n     hrefs   =   response . selector . xpath ( //div[contains(@class,  c-container )]/h3/a/@href ) . extract () \n     for   href   in   hrefs : \n         yield   scrapy . Request ( href ,   callback = self . parse_url )  def   parse_url ( self ,   response ): \n     print   len ( response . body )    \u6293\u53d6\u6548\u679c\u5982\u4e0b\uff1a   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12 \u2026\u2026\n2016-06-30 09:26:52 [scrapy] DEBUG: Crawled (200)  GET https://www.baidu.com/s?wd=%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0  (referer: None)\n2016-06-30 09:26:52 [scrapy] DEBUG: Redirecting (302) to  GET http://book.douban.com/subject/1102235/  from  GET http://www.baidu.com/link?url=S1kmtqU1ZBDaSKlVXdeKfNtyv7fErWDMC_TuOEXdedXEe2DzoMqRbMdbejbC4vts4MHm5NQUIRbk0Y0QdohY5_ \n2016-06-30 09:26:52 [scrapy] DEBUG: Redirecting (302) to  GET http://www.kuqin.com/shuoit/20140512/339858.html  from  GET http://www.baidu.com/link?url=_6fKf9IjO_EJ4hw91Y6RnfXnqS5u8VmwvDsJh3tduapsgXKQb-nMjsxMRPLW1bt5JlnzJPgOobHQwyHTgkWolK \n2016-06-30 09:26:52 [scrapy] DEBUG: Redirecting (302) to  GET http://wenku.baidu.com/link?url=7pAXoiFZz4alDMOjp-41OJaONe3B86GMEiFu96bqQy8qakk37vouey5Q-SxL7oN-r9mnNukKgVjN8iOloEKQoeEmgKLzukIFkX_rpr3dhy3  from  GET http://www.baidu.com/link?url=7pAXoiFZz4alDMOjp-41OJaONe3B86GMEiFu96bqQy8qakk37vouey5Q-SxL7oN-r9mnNukKgVjN8iOloEKQoeEmgKLzukIFkX_rpr3dhy3 \n2016-06-30 09:26:52 [scrapy] DEBUG: Redirecting (302) to  GET http://blog.csdn.net/zouxy09/article/details/16955347  from  GET http://www.baidu.com/link?url=5dh-19wDKE_agNpwz_9YTm01wHLJ9IxBfrZPVWo6RfFECGmIW7bt0vk6POhWDN04O4QHem_v8-iYLTzoeXmQZK \n2016-06-30 09:26:52 [scrapy] DEBUG: Redirecting (302) to  GET http://open.163.com/special/opencourse/machinelearning.html  from  GET http://www.baidu.com/link?url=ti__XlRN8Oij0rFvqxfTtJz-dLhng6NANkAVwwISlHQ4nKOhRXNSJQhzekflnnFuuW5033lDRcqywOlqrzoANUhB0yQf3Nq-pXMWmBQO7x7 \n2016-06-30 09:26:52 [scrapy] DEBUG: Redirecting (302) to  GET http://www.guokr.com/group/262/  from  GET http://www.baidu.com/link?url=cuifybqWoLRMULYGe70JCzyrZMEKL9GgfAa6V7p_7ONb7Q6KzXPad5zMfIYsKqN6 \n2016-06-30 09:26:52 [scrapy] DEBUG: Redirecting (302) to  GET http://mooc.guokr.com/course/16/Machine-Learning/  from  GET http://www.baidu.com/link?url=93Yp_GA3ZLnSwjN5YREAML4sP5BthETto8Psn7ty5VJHoMB95gWhKTT6iDBFHeAfHjDhqwCf-NBrgeoP7YD1zq \n2016-06-30 09:26:52 [scrapy] DEBUG: Redirecting (302) to  GET http://tieba.baidu.com/f?kw=%BB%FA%C6%F7%D1%A7%CF%B0 fr=ala0 tpl=5  from  GET http://www.baidu.com/link?url=EjCvUWhJWV1_FEgNyetjTAu6HqImgl-A2229Lp8Kl3BfpcqlrSLOUabc-bzgn6KD1Wbg_s547FunrFp79phQTqXuIx6tkn9NGBhSqxhYUhm \n2016-06-30 09:26:52 [scrapy] DEBUG: Redirecting (302) to  GET http://www.geekpark.net/topics/213883/  from  GET http://www.baidu.com/link?url=kvdmirs22OQAj10KSbGstZJtf8L74bTgd4p1AxYk6c2B9lP_8_nSrLNDlfb9DHW7 \n\u2026\u2026   \u770b\u8d77\u6765\u80fd\u591f\u6b63\u5e38\u6293\u53d6\u5566\uff0c\u4e0b\u9762\u6211\u4eec\u628a\u6293\u53d6\u4e0b\u6765\u7684\u7f51\u9875\u63d0\u53d6\u51fa\u6b63\u6587\u5e76\u5c3d\u91cf\u53bb\u6389\u6807\u7b7e\uff0c\u5982\u4e0b\uff1a  1\n2 def   parse_url ( self ,   response ): \n     print   remove_tags ( response . selector . xpath ( //body ) . extract ()[ 0 ])    \u4e0b\u9762\uff0c\u6211\u4eec\u5e0c\u671b\u628a\u767e\u5ea6\u641c\u7d22\u7ed3\u679c\u4e2d\u7684\u6458\u8981\u4e5f\u80fd\u591f\u4fdd\u5b58\u4e0b\u6765\u4f5c\u4e3a\u6211\u4eec\u8bed\u6599\u7684\u4e00\u90e8\u5206\uff0c\u5982\u4e0b\uff1a   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21 def   parse ( self ,   response ): \n     hrefs   =   response . selector . xpath ( //div[contains(@class,  c-container )]/h3/a/@href ) . extract () \n     containers   =   response . selector . xpath ( //div[contains(@class,  c-container )] ) \n     for   container   in   containers : \n         href   =   container . xpath ( h3/a/@href ) . extract ()[ 0 ] \n         title   =   remove_tags ( container . xpath ( h3/a ) . extract ()[ 0 ]) \n         c_abstract   =   container . xpath ( div/div/div[contains(@class,  c-abstract )] ) . extract () \n         abstract   =   \n         if   len ( c_abstract )     0 : \n             abstract   =   remove_tags ( c_abstract [ 0 ]) \n         request   =   scrapy . Request ( href ,   callback = self . parse_url ) \n         request . meta [ title ]   =   title \n         request . meta [ abstract ]   =   abstract \n         yield   request  def   parse_url ( self ,   response ): \n     print   url: ,   response . url \n     print   title: ,   response . meta [ title ] \n     print   abstract: ,   response . meta [ abstract ] \n     content   =   remove_tags ( response . selector . xpath ( //body ) . extract ()[ 0 ]) \n     print   content_len: ,   len ( content )    \u89e3\u91ca\u4e00\u4e0b\uff0c\u9996\u5148\u6211\u4eec\u5728\u63d0\u53d6url\u7684\u65f6\u5019\u987a\u4fbf\u628a\u6807\u9898\u548c\u6458\u8981\u90fd\u63d0\u53d6\u51fa\u6765\uff0c\u7136\u540e\u901a\u8fc7scrapy.Request\u7684meta\u4f20\u9012\u5230\u5904\u7406\u51fd\u6570parse_url\u4e2d\uff0c\u8fd9\u6837\u5728\u6293\u53d6\u5b8c\u6210\u4e4b\u540e\u4e5f\u80fd\u63a5\u5230\u8fd9\u4e24\u4e2a\u503c\uff0c\u7136\u540e\u63d0\u53d6\u51facontent\uff0c\u8fd9\u6837\u6211\u4eec\u60f3\u8981\u7684\u6570\u636e\u5c31\u5b8c\u6574\u4e86\uff1aurl\u3001title\u3001abstract\u3001content  \u767e\u5ea6\u641c\u7d22\u6570\u636e\u51e0\u4e4e\u662f\u6574\u4e2a\u4e92\u8054\u7f51\u7684\u955c\u50cf\uff0c\u6240\u4ee5\u4f60\u60f3\u8981\u5f97\u5230\u7684\u7b54\u6848\uff0c\u6211\u4eec\u7684\u8bed\u6599\u5e93\u5c31\u662f\u6574\u4e2a\u4e92\u8054\u7f51\uff0c\u800c\u6211\u4eec\u5b8c\u5168\u501f\u52a9\u4e8e\u767e\u5ea6\u641c\u7d22\u5f15\u64ce\uff0c\u4e0d\u5fc5\u63d0\u524d\u5b58\u50a8\u4efb\u4f55\u8d44\u6599\uff0c\u4e92\u8054\u7f51\u771f\u662f\u4f1f\u5927\uff01  \u4e4b\u540e\u8fd9\u4e9b\u6570\u636e\u60f3\u4fdd\u5b58\u5728\u4ec0\u4e48\u5730\u65b9\u5c31\u770b\u540e\u9762\u6211\u4eec\u8981\u600e\u4e48\u5904\u7406\u4e86\uff0c\u6b32\u77e5\u540e\u4e8b\u5982\u4f55\uff0c\u4e14\u542c\u4e0b\u56de\u5206\u89e3", 
            "title": "\u8bed\u6599\u63d0\u53d6"
        }, 
        {
            "location": "/12.semantic-dependency/", 
            "text": "\u53e5\u6cd5\u5206\u6790\u662f\u81ea\u7136\u8bed\u8a00\u5904\u7406\u4e2d\u975e\u5e38\u91cd\u8981\u7684\u73af\u8282\uff0c\u6ca1\u6709\u53e5\u6cd5\u5206\u6790\u662f\u65e0\u6cd5\u8ba9\u8ba1\u7b97\u673a\u7406\u89e3\u8bed\u8a00\u7684\u542b\u4e49\u7684\uff0c\u4f9d\u5b58\u53e5\u6cd5\u5206\u6790\u7531\u6cd5\u56fd\u8bed\u8a00\u5b66\u5bb6\u57281959\u5e74\u63d0\u51fa\uff0c\u5f71\u54cd\u6df1\u8fdc\uff0c\u5e76\u4e14\u6df1\u53d7\u8ba1\u7b97\u673a\u884c\u4e1a\u9752\u7750\uff0c\u4f9d\u5b58\u53e5\u6cd5\u5206\u6790\u4e5f\u662f\u505a\u804a\u5929\u673a\u5668\u4eba\u9700\u8981\u89e3\u51b3\u7684\u6700\u5173\u952e\u95ee\u9898\u4e4b\u4e00\uff0c\u8bed\u4e49\u4f9d\u5b58\u66f4\u662f\u5bf9\u53e5\u5b50\u66f4\u6df1\u5c42\u6b21\u7684\u5206\u6790\uff0c\u5f53\u7136\uff0c\u6709\u53ef\u7528\u7684\u5de5\u5177\u6211\u4eec\u5c31\u4e0d\u91cd\u590d\u9020\u8f6e\u5b50\uff0c\u672c\u8282\u4ecb\u7ecd\u5982\u4f55\u5229\u7528\u56fd\u5185\u9886\u5148\u7684\u4e2d\u6587\u8bed\u8a00\u6280\u672f\u5e73\u53f0\u5b9e\u73b0\u53e5\u6cd5\u5206\u6790 \n\n\n\u4ec0\u4e48\u662f\u4f9d\u5b58\u53e5\u6cd5\u5206\u6790\u5462\uff1f\n\n\n\u53eb\u7684\u6666\u6da9\u7684\u672f\u8bed\uff0c\u5f80\u5f80\u5176\u5b9e\u7070\u5e38\u7b80\u5355\uff0c\u53e5\u6cd5\u5c31\u662f\u53e5\u5b50\u7684\u6cd5\u5f8b\u89c4\u5219\uff0c\u4e5f\u5c31\u662f\u53e5\u5b50\u91cc\u6210\u5206\u90fd\u662f\u6309\u7167\u4ec0\u4e48\u6cd5\u5f8b\u89c4\u5219\u7ec4\u7ec7\u5728\u4e00\u8d77\u7684\u3002\u800c\u4f9d\u5b58\u53e5\u6cd5\u5c31\u662f\u8fd9\u4e9b\u6210\u5206\u4e4b\u95f4\u6709\u4e00\u79cd\u4f9d\u8d56\u5173\u7cfb\u3002\u4ec0\u4e48\u662f\u4f9d\u8d56\uff1a\u6ca1\u6709\u4f60\u7684\u8bdd\uff0c\u6211\u5b58\u5728\u5c31\u662f\u4e2a\u9519\u8bef\u3002\u201c\u5317\u4eac\u662f\u4e2d\u56fd\u7684\u9996\u90fd\u201d\uff0c\u5982\u679c\u6ca1\u6709\u201c\u9996\u90fd\u201d\uff0c\u90a3\u4e48\u201c\u4e2d\u56fd\u7684\u201d\u5b58\u5728\u5c31\u662f\u4e2a\u9519\u8bef\uff0c\u56e0\u4e3a\u201c\u5317\u4eac\u662f\u4e2d\u56fd\u7684\u201d\u8868\u8fbe\u7684\u5b8c\u5168\u662f\u53e6\u5916\u4e00\u4e2a\u610f\u601d\u4e86\u3002\n\n\n\u4ec0\u4e48\u662f\u8bed\u4e49\u4f9d\u5b58\u5206\u6790\u5462\uff1f\n\n\n\u201c\u8bed\u4e49\u201d\u5c31\u662f\u8bf4\u53e5\u5b50\u7684\u542b\u4e49\uff0c\u201c\u5f20\u4e09\u6628\u5929\u544a\u8bc9\u674e\u56db\u4e00\u4e2a\u79d8\u5bc6\u201d\uff0c\u90a3\u4e48\u8bed\u4e49\u5305\u62ec\uff1a\u8c01\u544a\u8bc9\u674e\u56db\u79d8\u5bc6\u7684\uff1f\u5f20\u4e09\u3002\u5f20\u4e09\u544a\u8bc9\u8c01\u4e00\u4e2a\u79d8\u5bc6\uff1f\u674e\u56db\u3002\u5f20\u4e09\u4ec0\u4e48\u65f6\u5019\u544a\u8bc9\u7684\uff1f\u6628\u5929\u3002\u5f20\u4e09\u544a\u8bc9\u674e\u56db\u4ec0\u4e48\uff1f\u79d8\u5bc6\u3002\n\n\n\u8bed\u4e49\u4f9d\u5b58\u548c\u4f9d\u5b58\u53e5\u6cd5\u7684\u533a\u522b\n\n\n\u4f9d\u5b58\u53e5\u6cd5\u5f3a\u8c03\u4ecb\u8bcd\u3001\u52a9\u8bcd\u7b49\u7684\u5212\u5206\u4f5c\u7528\uff0c\u8bed\u4e49\u4f9d\u5b58\u6ce8\u91cd\u5b9e\u8bcd\u4e4b\u95f4\u7684\u903b\u8f91\u5173\u7cfb\n\n\n\u53e6\u5916\uff0c\u4f9d\u5b58\u53e5\u6cd5\u968f\u7740\u5b57\u9762\u8bcd\u8bed\u53d8\u5316\u800c\u4e0d\u540c\uff0c\u8bed\u4e49\u4f9d\u5b58\u4e0d\u540c\u5b57\u9762\u8bcd\u8bed\u53ef\u4ee5\u8868\u8fbe\u540c\u4e00\u4e2a\u610f\u601d\uff0c\u53e5\u6cd5\u7ed3\u6784\u4e0d\u540c\u7684\u53e5\u5b50\u8bed\u4e49\u5173\u7cfb\u53ef\u80fd\u76f8\u540c\u3002\n\n\n\u4f9d\u5b58\u53e5\u6cd5\u5206\u6790\u548c\u8bed\u4e49\u4f9d\u5b58\u5206\u6790\u5bf9\u6211\u4eec\u7684\u804a\u5929\u673a\u5668\u4eba\u6709\u4ec0\u4e48\u610f\u4e49\u5462\uff1f\n\u4f9d\u5b58\u53e5\u6cd5\u5206\u6790\u548c\u8bed\u4e49\u5206\u6790\u76f8\u7ed3\u5408\u4f7f\u7528\uff0c\u5bf9\u5bf9\u65b9\u8bf4\u7684\u8bdd\u8fdb\u884c\u4f9d\u5b58\u548c\u8bed\u4e49\u5206\u6790\u540e\uff0c\u4e00\u65b9\u9762\u53ef\u4ee5\u8ba9\u8ba1\u7b97\u673a\u7406\u89e3\u53e5\u5b50\u7684\u542b\u4e49\uff0c\u4ece\u800c\u5339\u914d\u5230\u6700\u5408\u9002\u7684\u56de\u7b54\uff0c\u53e6\u5916\u5982\u679c\u6709\u5df2\u7ecf\u5b58\u5728\u7684\u4f9d\u5b58\u3001\u8bed\u4e49\u5206\u6790\u7ed3\u679c\uff0c\u8fd8\u53ef\u4ee5\u901a\u8fc7\u7f6e\u4fe1\u5ea6\u5339\u914d\u6765\u5b9e\u73b0\u804a\u5929\u56de\u7b54\u3002\n\n\n\u4f9d\u5b58\u53e5\u6cd5\u5206\u6790\u5230\u5e95\u662f\u600e\u4e48\u5206\u6790\u7684\u5462\uff1f\n\n\n\u4f9d\u5b58\u53e5\u6cd5\u5206\u6790\u7684\u57fa\u672c\u4efb\u52a1\u662f\u786e\u5b9a\u53e5\u5f0f\u7684\u53e5\u6cd5\u7ed3\u6784(\u77ed\u8bed\u7ed3\u6784)\u6216\u53e5\u5b50\u4e2d\u8bcd\u6c47\u4e4b\u95f4\u7684\u4f9d\u5b58\u5173\u7cfb\u3002\u4f9d\u5b58\u53e5\u6cd5\u5206\u6790\u6700\u91cd\u8981\u7684\u4e24\u68f5\u6811\uff1a\n\n\n\u4f9d\u5b58\u6811\uff1a\u5b50\u8282\u70b9\u4f9d\u5b58\u4e8e\u7236\u8282\u70b9\n\n\n\u4f9d\u5b58\u6295\u5c04\u6811\uff1a\u5b9e\u7ebf\u8868\u793a\u4f9d\u5b58\u8054\u7ed3\u5173\u7cfb\uff0c\u4f4d\u7f6e\u4f4e\u7684\u6210\u5206\u4f9d\u5b58\u4e8e\u4f4d\u7f6e\u9ad8\u7684\u6210\u5206\uff0c\u865a\u7ebf\u4e3a\u6295\u5c04\u7ebf\n\n\n\u4f9d\u5b58\u5173\u7cfb\u7684\u4e94\u6761\u516c\u7406\n\n\n\n\n\u4e00\u4e2a\u53e5\u5b50\u4e2d\u53ea\u6709\u4e00\u4e2a\u6210\u5206\u662f\u72ec\u7acb\u7684\n\n\n\u5176\u4ed6\u6210\u5206\u76f4\u63a5\u4f9d\u5b58\u4e8e\u67d0\u4e00\u6210\u5206\n\n\n\u4efb\u4f55\u4e00\u4e2a\u6210\u5206\u90fd\u4e0d\u80fd\u4f9d\u5b58\u4e8e\u4e24\u4e2a\u6216\u4e24\u4e2a\u4ee5\u4e0a\u7684\u6210\u5206\n\n\n\u5982\u679cA\u6210\u5206\u76f4\u63a5\u4f9d\u5b58\u4e8eB\u6210\u5206\uff0c\u800cC\u6210\u5206\u5728\u53e5\u5b50\u4e2d\u4f4d\u4e8eA\u548cB\u4e4b\u95f4\uff0c\u90a3\u4e48C\u6216\u8005\u76f4\u63a5\u4f9d\u5b58\u4e8eB\uff0c\u6216\u8005\u76f4\u63a5\u4f9d\u5b58\u4e8eA\u548cB\u4e4b\u95f4\u7684\u67d0\u4e00\u6210\u5206\n\n\n\u4e2d\u5fc3\u6210\u5206\u5de6\u53f3\u4e24\u9762\u7684\u5176\u4ed6\u6210\u5206\u76f8\u4e92\u4e0d\u53d1\u751f\u5173\u7cfb\n\n\n\n\n\u4ec0\u4e48\u5730\u65b9\u5b58\u5728\u4f9d\u5b58\u5173\u7cfb\u5462\uff1f\u6bd4\u5982\u5408\u6210\u8bcd\uff08\u5982\uff1a\u56fd\u5185\uff09\u3001\u77ed\u8bed\uff08\u5982\uff1a\u82f1\u96c4\u8054\u76df\uff09\u5f88\u591a\u5730\u65b9\u90fd\u662f\n\n\nLTP\u4f9d\u5b58\u5173\u7cfb\u6807\u8bb0\n\n\n\n\n\n\n\n\n\u5173\u7cfb\n\n\n\u7b80\u5199\n\n\n\u82f1\u6587\n\n\n\u4f8b\u5b50\n\n\n\n\n\n\n\n\n\n\n\u4e3b\u8c13\u5173\u7cfb\n\n\nSBV\n\n\nsubject-verb\n\n\n\u6211\u9001\u5979\u4e00\u675f\u82b1 (\u6211 \n-- \u9001)\n\n\n\n\n\n\n\u52a8\u5bbe\u5173\u7cfb\n\n\nVOB\n\n\n\u76f4\u63a5\u5bbe\u8bed\uff0cverb-object\n\n\n\u6211\u9001\u5979\u4e00\u675f\u82b1 (\u9001 --\n \u82b1)\n\n\n\n\n\n\n\u95f4\u5bbe\u5173\u7cfb\n\n\nIOB\n\n\n\u95f4\u63a5\u5bbe\u8bed\uff0cindirect-object\n\n\n\u6211\u9001\u5979\u4e00\u675f\u82b1 (\u9001 --\n \u5979)\n\n\n\n\n\n\n\u524d\u7f6e\u5bbe\u8bed\n\n\nFOB\n\n\n\u524d\u7f6e\u5bbe\u8bed\uff0cfronting-object\n\n\n\u4ed6\u4ec0\u4e48\u4e66\u90fd\u8bfb (\u4e66 \n-- \u8bfb)\n\n\n\n\n\n\n\u517c\u8bed\n\n\nDBL\n\n\ndouble\n\n\n\u4ed6\u8bf7\u6211\u5403\u996d (\u8bf7 --\n \u6211)\n\n\n\n\n\n\n\u5b9a\u4e2d\u5173\u7cfb\n\n\nATT\n\n\nattribute\n\n\n\u7ea2\u82f9\u679c (\u7ea2 \n-- \u82f9\u679c)\n\n\n\n\n\n\n\u72b6\u4e2d\u7ed3\u6784\n\n\nADV\n\n\nadverbial\n\n\n\u975e\u5e38\u7f8e\u4e3d (\u975e\u5e38 \n-- \u7f8e\u4e3d)\n\n\n\n\n\n\n\u52a8\u8865\u7ed3\u6784\n\n\nCMP\n\n\ncomplement\n\n\n\u505a\u5b8c\u4e86\u4f5c\u4e1a (\u505a --\n \u5b8c)\n\n\n\n\n\n\n\u5e76\u5217\u5173\u7cfb\n\n\nCOO\n\n\ncoordinate\n\n\n\u5927\u5c71\u548c\u5927\u6d77 (\u5927\u5c71 --\n \u5927\u6d77)\n\n\n\n\n\n\n\u4ecb\u5bbe\u5173\u7cfb\n\n\nPOB\n\n\npreposition-object\n\n\n\u5728\u8d38\u6613\u533a\u5185 (\u5728 --\n \u5185)\n\n\n\n\n\n\n\u5de6\u9644\u52a0\u5173\u7cfb\n\n\nLAD\n\n\nleft adjunct\n\n\n\u5927\u5c71\u548c\u5927\u6d77 (\u548c \n-- \u5927\u6d77)\n\n\n\n\n\n\n\u53f3\u9644\u52a0\u5173\u7cfb\n\n\nRAD\n\n\nright adjunct\n\n\n\u5b69\u5b50\u4eec (\u5b69\u5b50 --\n \u4eec)\n\n\n\n\n\n\n\u72ec\u7acb\u7ed3\u6784\n\n\nIS\n\n\nindependent structure\n\n\n\u4e24\u4e2a\u5355\u53e5\u5728\u7ed3\u6784\u4e0a\u5f7c\u6b64\u72ec\u7acb\n\n\n\n\n\n\n\u6838\u5fc3\u5173\u7cfb\n\n\nHED\n\n\nhead\n\n\n\u6307\u6574\u4e2a\u53e5\u5b50\u7684\u6838\u5fc3\n\n\n\n\n\n\n\n\n\u90a3\u4e48\u4f9d\u5b58\u5173\u7cfb\u662f\u600e\u4e48\u8ba1\u7b97\u51fa\u6765\u7684\u5462\uff1f\n\n\n\u662f\u901a\u8fc7\u673a\u5668\u5b66\u4e60\u548c\u4eba\u5de5\u6807\u6ce8\u6765\u5b8c\u6210\u7684\uff0c\u673a\u5668\u5b66\u4e60\u4f9d\u8d56\u4eba\u5de5\u6807\u6ce8\uff0c\u90a3\u4e48\u90fd\u54ea\u4e9b\u9700\u8981\u6211\u4eec\u505a\u4eba\u5de5\u6807\u6ce8\u5462\uff1f\u5206\u8bcd\u8bcd\u6027\u3001\u4f9d\u5b58\u6811\u5e93\u3001\u8bed\u4e49\u89d2\u8272\u90fd\u9700\u8981\u505a\u4eba\u5de5\u6807\u6ce8\uff0c\u6709\u4e86\u8fd9\u5199\u4eba\u5de5\u6807\u6ce8\u4e4b\u540e\uff0c\u5c31\u53ef\u4ee5\u505a\u673a\u5668\u5b66\u4e60\u6765\u5206\u6790\u65b0\u7684\u53e5\u5b50\u7684\u4f9d\u5b58\u53e5\u6cd5\u4e86\n\n\nLTP\u4e91\u5e73\u53f0\u600e\u4e48\u7528\uff1f\n\n\n\u9996\u5148\u6ce8\u518c\u7528\u6237\uff0c\u5f97\u5230\u6bcf\u6708\u514d\u8d3920G\u7684\u6d41\u91cf\uff0c\u5728\n\u8bed\u8a00\u4e91\n\u6ce8\u518c\u4e00\u4e2a\u8d26\u53f7\uff0c\u6ce8\u518c\u597d\u540e\u767b\u9646\u5e76\u8fdb\u5165\u4f60\u7684\ndashboard\n\uff0c\u53ef\u4ee5\u770b\u5230\u81ea\u5df1\u552f\u4e00\u7684\napi_key\n\uff0c\u6211\u7684\u4fdd\u5bc6\uff0c\u5c31\u4e0d\u8d34\u51fa\u6765\u4e86\uff0c\u5728dashboard\u91cc\u8fd8\u53ef\u4ee5\u67e5\u8be2\u81ea\u5df1\u6d41\u91cf\u4f7f\u7528\u60c5\u51b5\n\n\n\u5177\u4f53\u4f7f\u7528\u65b9\u6cd5\u5982\u4e0b\uff08\u53c2\u8003\n\u8bed\u8a00\u4e91API\u4f7f\u7528\u6587\u6863\n\n\uff09\uff1a\n\n\n1\ncurl -i \nhttp://api.ltp-cloud.com/analysis/?api_key=YourApiKey\ntext=\u6211\u662f\u4e2d\u56fd\u4eba\u3002\npattern=dp\nformat=plain\n\n\n\n\n\n\n\n\u628a\u8fd9\u91cc\u7684\nYourApiKey\n\u6362\u6210\u4f60\u81ea\u5df1\u7684api_key\uff0c\u5f97\u5230\u7ed3\u679c\u5982\u4e0b\uff1a\n\n\n1\n2\n3\n4\n5\n\u6211_0 \u662f_1 SBV\n\u662f_1 -1 HED\n\u4e2d\u56fd_2 \u4eba_3 ATT\n\u4eba_3 \u662f_1 VOB\n\u3002_4 \u662f_1 WP\n\n\n\n\n\n\n\u901a\u8fc7\u8fd9\u4e2a\u63a5\u53e3\u4fee\u6539pattern\u53c2\u6570\u53ef\u4ee5\u505a\u5f88\u591a\u5de5\u4f5c\uff0c\u6bd4\u5982\uff1a\n\n\n\u5206\u8bcd\uff08pattern=ws\uff09\uff1a\n\n\n1\n2\nGET http://api.ltp-cloud.com/analysis/?api_key=YourApiKey\ntext=\u6211\u662f\u4e2d\u56fd\u4eba\u3002\npattern=ws\nformat=plain\n\u6211 \u662f \u4e2d\u56fd \u4eba \u3002\n\n\n\n\n\n\n\u8bcd\u6027\u6807\u6ce8(pattern=pos):\n\n\n1\n2\nGET http://api.ltp-cloud.com/analysis/?api_key=YourApiKey\ntext=\u6211\u662f\u4e2d\u56fd\u4eba\u3002\npattern=pos\nformat=plain\n\u6211_r \u662f_v \u4e2d\u56fd_ns \u4eba_n \u3002_wp\n\n\n\n\n\n\n\u547d\u540d\u5b9e\u4f53\u8bc6\u522b(pattern=ner):\n\n\n1\n2\nGET http://api.ltp-cloud.com/analysis/?api_key=YourApiKey\ntext=\u6211\u662f\u4e2d\u56fd\u4eba\u3002\npattern=ner\nformat=plain\n\u6211 \u662f [\u4e2d\u56fd]Ns \u4eba \u3002\n\n\n\n\n\n\n\u8bed\u4e49\u4f9d\u5b58\u5206\u6790(pattern=sdp):\n\n\n1\n2\n3\n4\n5\n6\nGET http://api.ltp-cloud.com/analysis/?api_key=YourApiKey\ntext=\u6211\u662f\u4e2d\u56fd\u4eba\u3002\npattern=sdp\nformat=plain\n\u6211_0 \u662f_1 Exp\n\u662f_1 -1 Root\n\u4e2d\u56fd_2 \u4eba_3 Nmod\n\u4eba_3 \u662f_1 Clas\n\u3002_4 \u662f_1 mPunc\n\n\n\n\n\n\n\u8bed\u4e49\u89d2\u8272\u6807\u6ce8(pattern=srl):\n\n\n1\n2\nGET http://api.ltp-cloud.com/analysis/?api_key=YourApiKey\ntext=\u6211\u662f\u4e2d\u56fd\u4eba\u3002\npattern=srl\nformat=plain\n[\u6211]A0 [\u662f]v [\u4e2d\u56fd \u4eba]A1 \u3002\n\n\n\n\n\n\n\u514d\u8d39\u7ec8\u7a76\u4f1a\u6709\u9650\u5236\uff0c\u65e0\u8bba\u662f\u6d41\u91cf\u8fd8\u662f\u901f\u5ea6\u8fd8\u662f\u4e00\u6b21\u6027\u5206\u6790\u6587\u672c\u5927\u5c0f\uff0cLTP\u5e73\u53f0\u6709\u6709\u4e00\u5b9a\u9650\u5236\uff0c\u8fd9\u4e5f\u662f\u53ef\u4ee5\u7406\u89e3\u7684\uff0c\u6bd5\u7adf\u4e3a\u5927\u5bb6\u5f00\u653e\u4e86\u79d1\u7814\u5fc5\u5907\u7684\u8d44\u6e90\u548c\u6280\u672f\uff0c\u6210\u672c\u4e5f\u662f\u9700\u8981\u63a7\u5236\u7684\u3002", 
            "title": "\u5341\u4e8c-\u7528\u8bed\u8a00\u4e91\u5206\u6790\u4f9d\u5b58\u53e5\u6cd5\u548c\u8bed\u4e49\u4f9d\u5b58"
        }, 
        {
            "location": "/12.semantic-dependency/#_1", 
            "text": "\u53eb\u7684\u6666\u6da9\u7684\u672f\u8bed\uff0c\u5f80\u5f80\u5176\u5b9e\u7070\u5e38\u7b80\u5355\uff0c\u53e5\u6cd5\u5c31\u662f\u53e5\u5b50\u7684\u6cd5\u5f8b\u89c4\u5219\uff0c\u4e5f\u5c31\u662f\u53e5\u5b50\u91cc\u6210\u5206\u90fd\u662f\u6309\u7167\u4ec0\u4e48\u6cd5\u5f8b\u89c4\u5219\u7ec4\u7ec7\u5728\u4e00\u8d77\u7684\u3002\u800c\u4f9d\u5b58\u53e5\u6cd5\u5c31\u662f\u8fd9\u4e9b\u6210\u5206\u4e4b\u95f4\u6709\u4e00\u79cd\u4f9d\u8d56\u5173\u7cfb\u3002\u4ec0\u4e48\u662f\u4f9d\u8d56\uff1a\u6ca1\u6709\u4f60\u7684\u8bdd\uff0c\u6211\u5b58\u5728\u5c31\u662f\u4e2a\u9519\u8bef\u3002\u201c\u5317\u4eac\u662f\u4e2d\u56fd\u7684\u9996\u90fd\u201d\uff0c\u5982\u679c\u6ca1\u6709\u201c\u9996\u90fd\u201d\uff0c\u90a3\u4e48\u201c\u4e2d\u56fd\u7684\u201d\u5b58\u5728\u5c31\u662f\u4e2a\u9519\u8bef\uff0c\u56e0\u4e3a\u201c\u5317\u4eac\u662f\u4e2d\u56fd\u7684\u201d\u8868\u8fbe\u7684\u5b8c\u5168\u662f\u53e6\u5916\u4e00\u4e2a\u610f\u601d\u4e86\u3002", 
            "title": "\u4ec0\u4e48\u662f\u4f9d\u5b58\u53e5\u6cd5\u5206\u6790\u5462\uff1f"
        }, 
        {
            "location": "/12.semantic-dependency/#_2", 
            "text": "\u201c\u8bed\u4e49\u201d\u5c31\u662f\u8bf4\u53e5\u5b50\u7684\u542b\u4e49\uff0c\u201c\u5f20\u4e09\u6628\u5929\u544a\u8bc9\u674e\u56db\u4e00\u4e2a\u79d8\u5bc6\u201d\uff0c\u90a3\u4e48\u8bed\u4e49\u5305\u62ec\uff1a\u8c01\u544a\u8bc9\u674e\u56db\u79d8\u5bc6\u7684\uff1f\u5f20\u4e09\u3002\u5f20\u4e09\u544a\u8bc9\u8c01\u4e00\u4e2a\u79d8\u5bc6\uff1f\u674e\u56db\u3002\u5f20\u4e09\u4ec0\u4e48\u65f6\u5019\u544a\u8bc9\u7684\uff1f\u6628\u5929\u3002\u5f20\u4e09\u544a\u8bc9\u674e\u56db\u4ec0\u4e48\uff1f\u79d8\u5bc6\u3002", 
            "title": "\u4ec0\u4e48\u662f\u8bed\u4e49\u4f9d\u5b58\u5206\u6790\u5462\uff1f"
        }, 
        {
            "location": "/12.semantic-dependency/#_3", 
            "text": "\u4f9d\u5b58\u53e5\u6cd5\u5f3a\u8c03\u4ecb\u8bcd\u3001\u52a9\u8bcd\u7b49\u7684\u5212\u5206\u4f5c\u7528\uff0c\u8bed\u4e49\u4f9d\u5b58\u6ce8\u91cd\u5b9e\u8bcd\u4e4b\u95f4\u7684\u903b\u8f91\u5173\u7cfb  \u53e6\u5916\uff0c\u4f9d\u5b58\u53e5\u6cd5\u968f\u7740\u5b57\u9762\u8bcd\u8bed\u53d8\u5316\u800c\u4e0d\u540c\uff0c\u8bed\u4e49\u4f9d\u5b58\u4e0d\u540c\u5b57\u9762\u8bcd\u8bed\u53ef\u4ee5\u8868\u8fbe\u540c\u4e00\u4e2a\u610f\u601d\uff0c\u53e5\u6cd5\u7ed3\u6784\u4e0d\u540c\u7684\u53e5\u5b50\u8bed\u4e49\u5173\u7cfb\u53ef\u80fd\u76f8\u540c\u3002  \u4f9d\u5b58\u53e5\u6cd5\u5206\u6790\u548c\u8bed\u4e49\u4f9d\u5b58\u5206\u6790\u5bf9\u6211\u4eec\u7684\u804a\u5929\u673a\u5668\u4eba\u6709\u4ec0\u4e48\u610f\u4e49\u5462\uff1f\n\u4f9d\u5b58\u53e5\u6cd5\u5206\u6790\u548c\u8bed\u4e49\u5206\u6790\u76f8\u7ed3\u5408\u4f7f\u7528\uff0c\u5bf9\u5bf9\u65b9\u8bf4\u7684\u8bdd\u8fdb\u884c\u4f9d\u5b58\u548c\u8bed\u4e49\u5206\u6790\u540e\uff0c\u4e00\u65b9\u9762\u53ef\u4ee5\u8ba9\u8ba1\u7b97\u673a\u7406\u89e3\u53e5\u5b50\u7684\u542b\u4e49\uff0c\u4ece\u800c\u5339\u914d\u5230\u6700\u5408\u9002\u7684\u56de\u7b54\uff0c\u53e6\u5916\u5982\u679c\u6709\u5df2\u7ecf\u5b58\u5728\u7684\u4f9d\u5b58\u3001\u8bed\u4e49\u5206\u6790\u7ed3\u679c\uff0c\u8fd8\u53ef\u4ee5\u901a\u8fc7\u7f6e\u4fe1\u5ea6\u5339\u914d\u6765\u5b9e\u73b0\u804a\u5929\u56de\u7b54\u3002", 
            "title": "\u8bed\u4e49\u4f9d\u5b58\u548c\u4f9d\u5b58\u53e5\u6cd5\u7684\u533a\u522b"
        }, 
        {
            "location": "/12.semantic-dependency/#_4", 
            "text": "\u4f9d\u5b58\u53e5\u6cd5\u5206\u6790\u7684\u57fa\u672c\u4efb\u52a1\u662f\u786e\u5b9a\u53e5\u5f0f\u7684\u53e5\u6cd5\u7ed3\u6784(\u77ed\u8bed\u7ed3\u6784)\u6216\u53e5\u5b50\u4e2d\u8bcd\u6c47\u4e4b\u95f4\u7684\u4f9d\u5b58\u5173\u7cfb\u3002\u4f9d\u5b58\u53e5\u6cd5\u5206\u6790\u6700\u91cd\u8981\u7684\u4e24\u68f5\u6811\uff1a  \u4f9d\u5b58\u6811\uff1a\u5b50\u8282\u70b9\u4f9d\u5b58\u4e8e\u7236\u8282\u70b9  \u4f9d\u5b58\u6295\u5c04\u6811\uff1a\u5b9e\u7ebf\u8868\u793a\u4f9d\u5b58\u8054\u7ed3\u5173\u7cfb\uff0c\u4f4d\u7f6e\u4f4e\u7684\u6210\u5206\u4f9d\u5b58\u4e8e\u4f4d\u7f6e\u9ad8\u7684\u6210\u5206\uff0c\u865a\u7ebf\u4e3a\u6295\u5c04\u7ebf", 
            "title": "\u4f9d\u5b58\u53e5\u6cd5\u5206\u6790\u5230\u5e95\u662f\u600e\u4e48\u5206\u6790\u7684\u5462\uff1f"
        }, 
        {
            "location": "/12.semantic-dependency/#_5", 
            "text": "\u4e00\u4e2a\u53e5\u5b50\u4e2d\u53ea\u6709\u4e00\u4e2a\u6210\u5206\u662f\u72ec\u7acb\u7684  \u5176\u4ed6\u6210\u5206\u76f4\u63a5\u4f9d\u5b58\u4e8e\u67d0\u4e00\u6210\u5206  \u4efb\u4f55\u4e00\u4e2a\u6210\u5206\u90fd\u4e0d\u80fd\u4f9d\u5b58\u4e8e\u4e24\u4e2a\u6216\u4e24\u4e2a\u4ee5\u4e0a\u7684\u6210\u5206  \u5982\u679cA\u6210\u5206\u76f4\u63a5\u4f9d\u5b58\u4e8eB\u6210\u5206\uff0c\u800cC\u6210\u5206\u5728\u53e5\u5b50\u4e2d\u4f4d\u4e8eA\u548cB\u4e4b\u95f4\uff0c\u90a3\u4e48C\u6216\u8005\u76f4\u63a5\u4f9d\u5b58\u4e8eB\uff0c\u6216\u8005\u76f4\u63a5\u4f9d\u5b58\u4e8eA\u548cB\u4e4b\u95f4\u7684\u67d0\u4e00\u6210\u5206  \u4e2d\u5fc3\u6210\u5206\u5de6\u53f3\u4e24\u9762\u7684\u5176\u4ed6\u6210\u5206\u76f8\u4e92\u4e0d\u53d1\u751f\u5173\u7cfb   \u4ec0\u4e48\u5730\u65b9\u5b58\u5728\u4f9d\u5b58\u5173\u7cfb\u5462\uff1f\u6bd4\u5982\u5408\u6210\u8bcd\uff08\u5982\uff1a\u56fd\u5185\uff09\u3001\u77ed\u8bed\uff08\u5982\uff1a\u82f1\u96c4\u8054\u76df\uff09\u5f88\u591a\u5730\u65b9\u90fd\u662f", 
            "title": "\u4f9d\u5b58\u5173\u7cfb\u7684\u4e94\u6761\u516c\u7406"
        }, 
        {
            "location": "/12.semantic-dependency/#ltp", 
            "text": "\u5173\u7cfb  \u7b80\u5199  \u82f1\u6587  \u4f8b\u5b50      \u4e3b\u8c13\u5173\u7cfb  SBV  subject-verb  \u6211\u9001\u5979\u4e00\u675f\u82b1 (\u6211  -- \u9001)    \u52a8\u5bbe\u5173\u7cfb  VOB  \u76f4\u63a5\u5bbe\u8bed\uff0cverb-object  \u6211\u9001\u5979\u4e00\u675f\u82b1 (\u9001 --  \u82b1)    \u95f4\u5bbe\u5173\u7cfb  IOB  \u95f4\u63a5\u5bbe\u8bed\uff0cindirect-object  \u6211\u9001\u5979\u4e00\u675f\u82b1 (\u9001 --  \u5979)    \u524d\u7f6e\u5bbe\u8bed  FOB  \u524d\u7f6e\u5bbe\u8bed\uff0cfronting-object  \u4ed6\u4ec0\u4e48\u4e66\u90fd\u8bfb (\u4e66  -- \u8bfb)    \u517c\u8bed  DBL  double  \u4ed6\u8bf7\u6211\u5403\u996d (\u8bf7 --  \u6211)    \u5b9a\u4e2d\u5173\u7cfb  ATT  attribute  \u7ea2\u82f9\u679c (\u7ea2  -- \u82f9\u679c)    \u72b6\u4e2d\u7ed3\u6784  ADV  adverbial  \u975e\u5e38\u7f8e\u4e3d (\u975e\u5e38  -- \u7f8e\u4e3d)    \u52a8\u8865\u7ed3\u6784  CMP  complement  \u505a\u5b8c\u4e86\u4f5c\u4e1a (\u505a --  \u5b8c)    \u5e76\u5217\u5173\u7cfb  COO  coordinate  \u5927\u5c71\u548c\u5927\u6d77 (\u5927\u5c71 --  \u5927\u6d77)    \u4ecb\u5bbe\u5173\u7cfb  POB  preposition-object  \u5728\u8d38\u6613\u533a\u5185 (\u5728 --  \u5185)    \u5de6\u9644\u52a0\u5173\u7cfb  LAD  left adjunct  \u5927\u5c71\u548c\u5927\u6d77 (\u548c  -- \u5927\u6d77)    \u53f3\u9644\u52a0\u5173\u7cfb  RAD  right adjunct  \u5b69\u5b50\u4eec (\u5b69\u5b50 --  \u4eec)    \u72ec\u7acb\u7ed3\u6784  IS  independent structure  \u4e24\u4e2a\u5355\u53e5\u5728\u7ed3\u6784\u4e0a\u5f7c\u6b64\u72ec\u7acb    \u6838\u5fc3\u5173\u7cfb  HED  head  \u6307\u6574\u4e2a\u53e5\u5b50\u7684\u6838\u5fc3", 
            "title": "LTP\u4f9d\u5b58\u5173\u7cfb\u6807\u8bb0"
        }, 
        {
            "location": "/12.semantic-dependency/#_6", 
            "text": "\u662f\u901a\u8fc7\u673a\u5668\u5b66\u4e60\u548c\u4eba\u5de5\u6807\u6ce8\u6765\u5b8c\u6210\u7684\uff0c\u673a\u5668\u5b66\u4e60\u4f9d\u8d56\u4eba\u5de5\u6807\u6ce8\uff0c\u90a3\u4e48\u90fd\u54ea\u4e9b\u9700\u8981\u6211\u4eec\u505a\u4eba\u5de5\u6807\u6ce8\u5462\uff1f\u5206\u8bcd\u8bcd\u6027\u3001\u4f9d\u5b58\u6811\u5e93\u3001\u8bed\u4e49\u89d2\u8272\u90fd\u9700\u8981\u505a\u4eba\u5de5\u6807\u6ce8\uff0c\u6709\u4e86\u8fd9\u5199\u4eba\u5de5\u6807\u6ce8\u4e4b\u540e\uff0c\u5c31\u53ef\u4ee5\u505a\u673a\u5668\u5b66\u4e60\u6765\u5206\u6790\u65b0\u7684\u53e5\u5b50\u7684\u4f9d\u5b58\u53e5\u6cd5\u4e86", 
            "title": "\u90a3\u4e48\u4f9d\u5b58\u5173\u7cfb\u662f\u600e\u4e48\u8ba1\u7b97\u51fa\u6765\u7684\u5462\uff1f"
        }, 
        {
            "location": "/12.semantic-dependency/#ltp_1", 
            "text": "\u9996\u5148\u6ce8\u518c\u7528\u6237\uff0c\u5f97\u5230\u6bcf\u6708\u514d\u8d3920G\u7684\u6d41\u91cf\uff0c\u5728 \u8bed\u8a00\u4e91 \u6ce8\u518c\u4e00\u4e2a\u8d26\u53f7\uff0c\u6ce8\u518c\u597d\u540e\u767b\u9646\u5e76\u8fdb\u5165\u4f60\u7684 dashboard \uff0c\u53ef\u4ee5\u770b\u5230\u81ea\u5df1\u552f\u4e00\u7684 api_key \uff0c\u6211\u7684\u4fdd\u5bc6\uff0c\u5c31\u4e0d\u8d34\u51fa\u6765\u4e86\uff0c\u5728dashboard\u91cc\u8fd8\u53ef\u4ee5\u67e5\u8be2\u81ea\u5df1\u6d41\u91cf\u4f7f\u7528\u60c5\u51b5  \u5177\u4f53\u4f7f\u7528\u65b9\u6cd5\u5982\u4e0b\uff08\u53c2\u8003 \u8bed\u8a00\u4e91API\u4f7f\u7528\u6587\u6863 \uff09\uff1a  1 curl -i  http://api.ltp-cloud.com/analysis/?api_key=YourApiKey text=\u6211\u662f\u4e2d\u56fd\u4eba\u3002 pattern=dp format=plain    \u628a\u8fd9\u91cc\u7684 YourApiKey \u6362\u6210\u4f60\u81ea\u5df1\u7684api_key\uff0c\u5f97\u5230\u7ed3\u679c\u5982\u4e0b\uff1a  1\n2\n3\n4\n5 \u6211_0 \u662f_1 SBV\n\u662f_1 -1 HED\n\u4e2d\u56fd_2 \u4eba_3 ATT\n\u4eba_3 \u662f_1 VOB\n\u3002_4 \u662f_1 WP   \u901a\u8fc7\u8fd9\u4e2a\u63a5\u53e3\u4fee\u6539pattern\u53c2\u6570\u53ef\u4ee5\u505a\u5f88\u591a\u5de5\u4f5c\uff0c\u6bd4\u5982\uff1a  \u5206\u8bcd\uff08pattern=ws\uff09\uff1a  1\n2 GET http://api.ltp-cloud.com/analysis/?api_key=YourApiKey text=\u6211\u662f\u4e2d\u56fd\u4eba\u3002 pattern=ws format=plain\n\u6211 \u662f \u4e2d\u56fd \u4eba \u3002   \u8bcd\u6027\u6807\u6ce8(pattern=pos):  1\n2 GET http://api.ltp-cloud.com/analysis/?api_key=YourApiKey text=\u6211\u662f\u4e2d\u56fd\u4eba\u3002 pattern=pos format=plain\n\u6211_r \u662f_v \u4e2d\u56fd_ns \u4eba_n \u3002_wp   \u547d\u540d\u5b9e\u4f53\u8bc6\u522b(pattern=ner):  1\n2 GET http://api.ltp-cloud.com/analysis/?api_key=YourApiKey text=\u6211\u662f\u4e2d\u56fd\u4eba\u3002 pattern=ner format=plain\n\u6211 \u662f [\u4e2d\u56fd]Ns \u4eba \u3002   \u8bed\u4e49\u4f9d\u5b58\u5206\u6790(pattern=sdp):  1\n2\n3\n4\n5\n6 GET http://api.ltp-cloud.com/analysis/?api_key=YourApiKey text=\u6211\u662f\u4e2d\u56fd\u4eba\u3002 pattern=sdp format=plain\n\u6211_0 \u662f_1 Exp\n\u662f_1 -1 Root\n\u4e2d\u56fd_2 \u4eba_3 Nmod\n\u4eba_3 \u662f_1 Clas\n\u3002_4 \u662f_1 mPunc   \u8bed\u4e49\u89d2\u8272\u6807\u6ce8(pattern=srl):  1\n2 GET http://api.ltp-cloud.com/analysis/?api_key=YourApiKey text=\u6211\u662f\u4e2d\u56fd\u4eba\u3002 pattern=srl format=plain\n[\u6211]A0 [\u662f]v [\u4e2d\u56fd \u4eba]A1 \u3002   \u514d\u8d39\u7ec8\u7a76\u4f1a\u6709\u9650\u5236\uff0c\u65e0\u8bba\u662f\u6d41\u91cf\u8fd8\u662f\u901f\u5ea6\u8fd8\u662f\u4e00\u6b21\u6027\u5206\u6790\u6587\u672c\u5927\u5c0f\uff0cLTP\u5e73\u53f0\u6709\u6709\u4e00\u5b9a\u9650\u5236\uff0c\u8fd9\u4e5f\u662f\u53ef\u4ee5\u7406\u89e3\u7684\uff0c\u6bd5\u7adf\u4e3a\u5927\u5bb6\u5f00\u653e\u4e86\u79d1\u7814\u5fc5\u5907\u7684\u8d44\u6e90\u548c\u6280\u672f\uff0c\u6210\u672c\u4e5f\u662f\u9700\u8981\u63a7\u5236\u7684\u3002", 
            "title": "LTP\u4e91\u5e73\u53f0\u600e\u4e48\u7528\uff1f"
        }, 
        {
            "location": "/13.linguistic-model/", 
            "text": "\u65e0\u8bba\u4ec0\u4e48\u505a\u81ea\u7136\u8bed\u8a00\u5904\u7406\u7684\u5de5\u5177\uff0c\u90fd\u662f\u57fa\u4e8e\u8ba1\u7b97\u673a\u7a0b\u5e8f\u5b9e\u73b0\u7684\uff0c\u800c\u8ba1\u7b97\u673a\u627f\u62c5\u4e86\u6570\u5b66\u8ba1\u7b97\u7684\u804c\u8d23\uff0c\u90a3\u4e48\u81ea\u7136\u8bed\u8a00\u548c\u6570\u5b66\u4e4b\u95f4\u7684\u8054\u7cfb\u5c31\u662f\u8bed\u8a00\u6a21\u578b\uff0c\u53ea\u6709\u7406\u89e3\u8bed\u8a00\u6a21\u578b\u624d\u80fd\u7406\u89e3\u5404\u79cd\u5de5\u5177\u7684\u5b9e\u73b0\u539f\u7406\uff0c\u672c\u8282\u8ba9\u6211\u4eec\u6df1\u7a76\u8bed\u8a00\u6a21\u578b\u7684\u4e16\u754c \n\n\n\u4ec0\u4e48\u662f\u6570\u5b66\u6a21\u578b\n\n\n\u6570\u5b66\u6a21\u578b\u662f\u8fd0\u7528\u6570\u7406\u903b\u8f91\u65b9\u6cd5\u548c\u6570\u5b66\u8bed\u8a00\u5efa\u6784\u7684\u79d1\u5b66\u6216\u5de5\u7a0b\u6a21\u578b\u3002\u8bf4\u767d\u4e86\uff0c\u5c31\u662f\u7528\u6570\u5b66\u7684\u65b9\u5f0f\u6765\u89e3\u91ca\u4e8b\u5b9e\u3002\u4e3e\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50\uff1a\u4f60\u6709\u4e00\u53ea\u94c5\u7b14\uff0c\u53c8\u6361\u4e86\u4e00\u53ea\uff0c\u4e00\u5171\u662f\u4e24\u53ea\uff0c\u6570\u5b66\u6a21\u578b\u5c31\u662f1+1=2\u3002\u4e3e\u4e2a\u590d\u6742\u7684\u4f8b\u5b50\uff1a\u4f60\u5728\u8def\u4e0a\u6bcf\u5468\u80fd\u6361\u52303\u53ea\u94c5\u7b14\uff0c\u6570\u5b66\u6a21\u578b\u5c31\u662fP(X)=3/7\uff0c\u8fd9\u4e2a\u6570\u5b66\u6a21\u578b\u53ef\u4ee5\u5e2e\u4f60\u9884\u6d4b\u660e\u5929\u6361\u5230\u94c5\u7b14\u7684\u53ef\u80fd\u6027\u3002\u5f53\u7136\u89e3\u91ca\u5b9e\u4e8b\u7684\u6570\u5b66\u6a21\u578b\u4e0d\u662f\u552f\u4e00\u7684\uff0c\u6bd4\u5982\u6bcf\u5468\u6361\u4e09\u53ea\u94c5\u7b14\u7684\u6570\u5b66\u6a21\u578b\u8fd8\u53ef\u80fd\u662fP(qt=sj|qt-1=si,qt-2=sk,...)\uff0cs=0,1\uff0c\u4e5f\u5c31\u662f\u6709\u4e24\u4e2a\u72b6\u6001\u7684\u9a6c\u5c14\u53ef\u592b\u6a21\u578b\uff0c\u610f\u601d\u5c31\u662f\u660e\u5929\u662f\u5426\u6361\u5230\u94c5\u7b14\u53d6\u51b3\u4e8e\u524d\u51e0\u5929\u6709\u6ca1\u6709\u6361\u5230\u94c5\u7b14\n\n\n\u4ec0\u4e48\u662f\u6570\u5b66\u5efa\u6a21\n\n\n\u6570\u5b66\u5efa\u6a21\u5c31\u662f\u901a\u8fc7\u8ba1\u7b97\u5f97\u5230\u7684\u7ed3\u679c\u6765\u89e3\u91ca\u5b9e\u9645\u95ee\u9898\uff0c\u5e76\u63a5\u53d7\u5b9e\u9645\u7684\u68c0\u9a8c\uff0c\u6765\u5efa\u7acb\u6570\u5b66\u6a21\u578b\u7684\u5168\u8fc7\u7a0b\u3002\n\n\n\u4ec0\u4e48\u662f\u8bed\u8a00\u6a21\u578b\n\n\n\u8bed\u8a00\u6a21\u578b\u662f\u6839\u636e\u8bed\u8a00\u5ba2\u89c2\u4e8b\u5b9e\u800c\u8fdb\u884c\u7684\u8bed\u8a00\u62bd\u8c61\u6570\u5b66\u5efa\u6a21\u3002\u8bf4\u767d\u4e86\uff0c\u5c31\u662f\u627e\u5230\u4e00\u4e2a\u6570\u5b66\u6a21\u578b\uff0c\u8ba9\u5b83\u6765\u89e3\u91ca\u81ea\u7136\u8bed\u8a00\u7684\u4e8b\u5b9e\u3002\n\n\n\u4e1a\u754c\u8ba4\u53ef\u7684\u8bed\u8a00\u6a21\u578b\n\n\n\u4e1a\u754c\u76ee\u524d\u6bd4\u8f83\u8ba4\u53ef\u800c\u4e14\u6709\u6548\u7684\u8bed\u8a00\u6a21\u578b\u662fn\u5143\u8bed\u6cd5\u6a21\u578b(n-gram model)\uff0c\u5b83\u672c\u8d28\u4e0a\u662f\u9a6c\u5c14\u53ef\u592b\u6a21\u578b\uff0c\u7b80\u5355\u6765\u63cf\u8ff0\u5c31\u662f\uff1a\u4e00\u53e5\u8bdd\u4e2d\u4e0b\u4e00\u4e2a\u8bcd\u7684\u51fa\u73b0\u548c\u6700\u8fd1n\u4e2a\u8bcd\u6709\u5173(\u5305\u62ec\u5b83\u81ea\u8eab)\u3002\u8be6\u7ec6\u89e3\u91ca\u4e00\u4e0b\uff1a\n\n\n\u5982\u679c\u8fd9\u91cc\u7684n=1\u65f6\uff0c\u90a3\u4e48\u6700\u65b0\u4e00\u4e2a\u8bcd\u53ea\u548c\u5b83\u81ea\u5df1\u6709\u5173\uff0c\u4e5f\u5c31\u662f\u5b83\u662f\u72ec\u7acb\u7684\uff0c\u548c\u524d\u9762\u7684\u8bcd\u6ca1\u5173\u7cfb\uff0c\u8fd9\u53eb\u505a\u4e00\u5143\u6587\u6cd5\n\n\n\u5982\u679c\u8fd9\u91cc\u7684n=2\u65f6\uff0c\u90a3\u4e48\u6700\u65b0\u4e00\u4e2a\u8bcd\u548c\u5b83\u524d\u9762\u4e00\u4e2a\u8bcd\u6709\u5173\uff0c\u6bd4\u5982\u524d\u9762\u7684\u8bcd\u662f\u201c\u6211\u201d\uff0c\u90a3\u4e48\u6700\u65b0\u7684\u8fd9\u4e2a\u8bcd\u662f\u201c\u662f\u201d\u7684\u6982\u7387\u6bd4\u8f83\u9ad8\uff0c\u8fd9\u53eb\u505a\u4e8c\u5143\u6587\u6cd5\uff0c\u4e5f\u53eb\u4f5c\u4e00\u9636\u9a6c\u5c14\u79d1\u592b\u94fe\n\n\n\u4f9d\u6b21\u7c7b\u63a8\uff0c\u5de5\u7a0b\u4e0an=3\u7528\u7684\u662f\u6700\u591a\u7684\uff0c\u56e0\u4e3an\u8d8a\u5927\u7ea6\u675f\u4fe1\u606f\u8d8a\u591a\uff0cn\u8d8a\u5c0f\u53ef\u9760\u6027\u66f4\u9ad8\n\n\nn\u5143\u8bed\u6cd5\u6a21\u578b\u5b9e\u9645\u4e0a\u662f\u4e00\u4e2a\u6982\u7387\u6a21\u578b\uff0c\u4e5f\u5c31\u662f\u51fa\u73b0\u4e00\u4e2a\u8bcd\u7684\u6982\u7387\u662f\u591a\u5c11\uff0c\u6216\u8005\u4e00\u4e2a\u53e5\u5b50\u957f\u8fd9\u4e2a\u6837\u5b50\u7684\u6982\u7387\u662f\u591a\u5c11\u3002\n\n\n\u8fd9\u5c31\u53c8\u56de\u5230\u4e86\u4e4b\u524d\u6587\u7ae0\u91cc\u63d0\u5230\u7684\u81ea\u7136\u8bed\u8a00\u5904\u7406\u7814\u7a76\u7684\u4e24\u5927\u65b9\u5411\uff1a\u57fa\u4e8e\u89c4\u5219\u3001\u57fa\u4e8e\u7edf\u8ba1\u3002n\u5143\u8bed\u6cd5\u6a21\u578b\u663e\u7136\u662f\u57fa\u4e8e\u7edf\u8ba1\u7684\u65b9\u5411\u3002\n\n\n\u6982\u7387\u662f\u5982\u4f55\u7edf\u8ba1\u7684\n\n\n\u8bf4\u5230\u57fa\u4e8e\u7edf\u8ba1\uff0c\u90a3\u4e48\u5c31\u8981\u8bf4\u6982\u7387\u662f\u5982\u4f55\u4f30\u8ba1\u7684\u4e86\uff0c\u901a\u5e38\u90fd\u662f\u4f7f\u7528\u6700\u5927\u4f3c\u7136\u4f30\u8ba1\uff0c\u600e\u4e48\u6837\u7406\u89e3\u201c\u6700\u5927\u4f3c\u7136\u4f30\u8ba1\u201d\uff0c\u6700\u5927\u4f3c\u7136\u5c31\u662f\u6700\u6700\u6700\u6700\u6700\u76f8\u4f3c\u7684\uff0c\u90a3\u4e48\u548c\u8c01\u76f8\u4f3c\uff0c\u548c\u5386\u53f2\u76f8\u4f3c\uff0c\u5386\u53f2\u662f\u4ec0\u4e48\u6837\u7684\uff1f10\u4e2a\u8bcd\u91cc\u51fa\u73b0\u8fc72\u6b21\uff0c\u6240\u4ee5\u662f2/10=1/5\uff0c\u6240\u4ee5\u7ecf\u5e38\u542c\u8bf4\u8fc7\u7684\u201c\u6700\u5927\u4f3c\u7136\u4f30\u8ba1\u201d\u5c31\u662f\u7528\u5386\u53f2\u51fa\u73b0\u7684\u9891\u7387\u6765\u4f30\u8ba1\u6982\u7387\u7684\u65b9\u6cd5\u3002\u8fd9\u4e48\u8bf4\u5c31\u61c2\u4e86\u5427\uff1f\n\n\n\u8bed\u8a00\u6a21\u578b\u90fd\u6709\u54ea\u4e9b\u56f0\u96be\n\n\n1. \u5343\u53d8\u4e07\u5316\u7684\u81ea\u7136\u8bed\u8a00\u5bfc\u81f4\u76840\u6982\u7387\u95ee\u9898\n\n\n\u57fa\u4e8e\u7edf\u8ba1\u7684\u81ea\u7136\u8bed\u8a00\u5904\u7406\u9700\u8981\u57fa\u4e8e\u5927\u91cf\u8bed\u6599\u5e93\u8fdb\u884c\uff0c\u800c\u81ea\u7136\u8bed\u8a00\u5343\u53d8\u4e07\u5316\uff0c\u53ef\u4ee5\u7406\u89e3\u6240\u6709\u8bcd\u6c47\u7684\u7b1b\u5361\u5c14\u79ef\uff0c\u6570\u91cf\u5927\u5230\u65e0\u6cd5\u60f3\u8c61\uff0c\u6709\u9650\u7684\u8bed\u6599\u5e93\u662f\u96be\u4ee5\u7a77\u4e3e\u8bed\u8a00\u73b0\u8c61\u7684\uff0c\u56e0\u6b64n\u5143\u8bed\u6cd5\u6a21\u578b\u4f1a\u51fa\u73b0\u67d0\u4e00\u53e5\u8bdd\u51fa\u73b0\u7684\u6982\u7387\u4e3a0\u7684\u60c5\u51b5\uff0c\u6bd4\u5982\u6211\u8fd9\u7bc7\u535a\u5ba2\u5728\u6211\u5199\u51fa\u6765\u4e4b\u524d\u6982\u7387\u5c31\u662f0\uff0c\u56e0\u4e3a\u6211\u662f\u539f\u521b\u3002\u90a3\u4e48\u8fd9\u4e2a0\u6982\u7387\u7684\u95ee\u9898\u5982\u4f55\u89e3\u51b3\u5462\uff1f\u8fd9\u5c31\u662f\u4e1a\u754c\u4e0d\u65ad\u5728\u7814\u7a76\u7684\u6570\u636e\u5e73\u6ed1\u6280\u672f\uff0c\u4e5f\u5c31\u662f\u901a\u8fc7\u5404\u79cd\u6570\u5b66\u65b9\u5f0f\u6765\u8ba9\u6bcf\u4e00\u53e5\u8bdd\u7684\u6982\u7387\u90fd\u5927\u4e8e0\u3002\u5177\u4f53\u65b9\u6cd5\u4e0d\u5217\u4e3e\uff0c\u90fd\u662f\u73a9\u6570\u5b66\u7684\uff0c\u6bd4\u8f83\u7b80\u5355\uff0c\u65e0\u975e\u5c31\u662f\u52a0\u4e2a\u6570\u6216\u8005\u51cf\u4e2a\u6570\u6216\u8005\u505a\u4e2a\u63d2\u503c\u5e73\u6ed1\u4e00\u4e0b\uff0c\u6548\u679c\u4e0a\u5e94\u7528\u5728\u4e0d\u540c\u7279\u70b9\u7684\u6570\u636e\u4e0a\u5404\u6709\u5343\u79cb\u3002\u5e73\u6ed1\u7684\u65b9\u6cd5\u786e\u5b9e\u6709\u6548\uff0c\u5404\u79cd\u81ea\u7136\u8bed\u8a00\u5de5\u5177\u4e2d\u90fd\u5b9e\u73b0\u4e86\uff0c\u76f4\u63a5\u7528\u5c31\u597d\u4e86\u3002\n\n\n2. \u7279\u5b9a\u9886\u57df\u7684\u7279\u5b9a\u8bcd\u6982\u7387\u504f\u5927\u95ee\u9898\n\n\n\u6bcf\u4e00\u79cd\u9886\u57df\u90fd\u4f1a\u6709\u4e00\u4e9b\u8bcd\u6c47\u6bd4\u6b63\u5e38\u6982\u7387\u504f\u5927\uff0c\u6bd4\u5982\u8ba1\u7b97\u673a\u9886\u57df\u4f1a\u7ecf\u5e38\u51fa\u73b0\u201c\u6027\u80fd\u201d\u3001\u201c\u7a0b\u5e8f\u201d\u7b49\u8bcd\u6c47\uff0c\u8fd9\u4e2a\u89e3\u51b3\u529e\u6cd5\u53ef\u4ee5\u901a\u8fc7\u7f13\u5b58\u4e00\u4e9b\u521a\u521a\u51fa\u73b0\u8fc7\u7684\u8bcd\u6c47\u6765\u63d0\u9ad8\u540e\u9762\u51fa\u73b0\u7684\u6982\u7387\u6765\u89e3\u51b3\u3002\u5f53\u7136\u8fd9\u91cc\u9762\u662f\u6709\u5f88\u591a\u6280\u5de7\u7684\uff0c\u6211\u4eec\u5e76\u4e0d\u662f\u8ba4\u4e3a\u6240\u6709\u51fa\u73b0\u8fc7\u7684\u8bcd\u540e\u9762\u6982\u7387\u90fd\u8f83\u5927\uff0c\u800c\u662f\u4f1a\u8003\u8651\u8fd9\u4e9b\u8bcd\u51fa\u73b0\u7684\u9891\u7387\u548c\u89c4\u5f8b(\u5982\uff1a\u8bcd\u8ddd)\u6765\u9884\u6d4b\u3002\n\n\n3. \u5355\u4e00\u8bed\u8a00\u6a21\u578b\u603b\u4f1a\u6709\u5f0a\u7aef\n\n\n\u8fd8\u662f\u56e0\u4e3a\u8bed\u6599\u5e93\u7684\u4e0d\u8db3\uff0c\u6211\u4eec\u4f1a\u878d\u5408\u591a\u79cd\u8bed\u6599\u5e93\uff0c\u4f46\u56e0\u4e3a\u4e0d\u540c\u8bed\u6599\u5e93\u4e4b\u95f4\u7684\u5dee\u5f02\uff0c\u5bfc\u81f4\u6211\u4eec\u7528\u5355\u4e00\u8bed\u8a00\u6a21\u578b\u5f80\u5f80\u4e0d\u591f\u51c6\u786e\uff0c\u56e0\u6b64\uff0c\u6709\u4e00\u79cd\u65b9\u6cd5\u53ef\u4ee5\u7f13\u548c\u8fd9\u79cd\u4e0d\u51c6\u786e\u6027\uff0c\u90a3\u5c31\u662f\u628a\u591a\u79cd\u8bed\u8a00\u6a21\u578b\u6df7\u5230\u4e00\u8d77\u6765\u8ba1\u7b97\uff0c\u8fd9\u5176\u5b9e\u662f\u4e00\u79cd\u6298\u4e2d\uff0c\u8fd9\u79cd\u65b9\u6cd5low\u4e14\u6709\u6548\u3002\n\n\n\u8fd8\u6709\u4e00\u79cd\u65b9\u6cd5\u5c31\u662f\u7528\u591a\u79cd\u8bed\u8a00\u6a21\u578b\u6765\u5206\u522b\u8ba1\u7b97\uff0c\u6700\u540e\u9009\u62e9\u71b5\u6700\u5927\u7684\u4e00\u79cd\uff0c\u8fd9\u5176\u5b9e\u4e5f\u662f\u4e00\u79cd\u6298\u4e2d\uff0c\u7528\u5728\u54ea\u79cd\u5730\u65b9\u5c31\u8ba9\u54ea\u79cd\u6a21\u578b\u751f\u6548\u3002\n\n\n\u795e\u7ecf\u7f51\u7edc\u8bed\u8a00\u6a21\u578b\n\n\n21\u4e16\u7eaa\u4ee5\u6765\uff0c\u7edf\u8ba1\u5b66\u4e60\u9886\u57df\u65e0\u8bba\u4ec0\u4e48\u90fd\u8981\u548c\u6df1\u5ea6\u5b66\u4e60\u642d\u4e2a\u8fb9\uff0c\u6bd5\u7adf\u8ba1\u7b97\u673a\u8ba1\u7b97\u80fd\u529b\u63d0\u5347\u4e86\u5f88\u591a\uff0c\u65e0\u8bba\u591a\u6df1\u90fd\u4e0d\u6015\u3002\u795e\u7ecf\u7f51\u7edc\u8bed\u8a00\u6a21\u578b\u53ef\u4ee5\u770b\u505a\u662f\u4e00\u79cd\u7279\u6b8a\u7684\u6a21\u578b\u5e73\u6ed1\u65b9\u5f0f\uff0c\u672c\u8d28\u4e0a\u8fd8\u662f\u5728\u8ba1\u7b97\u6982\u7387\uff0c\u53ea\u4e0d\u8fc7\u901a\u8fc7\u6df1\u5c42\u7684\u5b66\u4e60\u6765\u5f97\u5230\u66f4\u6b63\u786e\u7684\u6982\u7387\u3002\n\n\n\u8bed\u8a00\u6a21\u578b\u7684\u5e94\u7528\n\n\n\u8fd9\u51e0\u4e4e\u5c31\u662f\u81ea\u7136\u8bed\u8a00\u5904\u7406\u7684\u5e94\u7528\u4e86\uff0c\u6709\uff1a\u4e2d\u6587\u5206\u8bcd\u3001\u673a\u5668\u7ffb\u8bd1\u3001\u62fc\u5199\u7ea0\u9519\u3001\u8bed\u97f3\u8bc6\u522b\u3001\u97f3\u5b50\u8f6c\u6362\u3001\u81ea\u52a8\u6587\u6458\u3001\u95ee\u7b54\u7cfb\u7edf\u3001OCR\u7b49", 
            "title": "\u5341\u4e09-\u63a2\u7a76\u8bed\u8a00\u6a21\u578b"
        }, 
        {
            "location": "/13.linguistic-model/#_1", 
            "text": "\u6570\u5b66\u6a21\u578b\u662f\u8fd0\u7528\u6570\u7406\u903b\u8f91\u65b9\u6cd5\u548c\u6570\u5b66\u8bed\u8a00\u5efa\u6784\u7684\u79d1\u5b66\u6216\u5de5\u7a0b\u6a21\u578b\u3002\u8bf4\u767d\u4e86\uff0c\u5c31\u662f\u7528\u6570\u5b66\u7684\u65b9\u5f0f\u6765\u89e3\u91ca\u4e8b\u5b9e\u3002\u4e3e\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50\uff1a\u4f60\u6709\u4e00\u53ea\u94c5\u7b14\uff0c\u53c8\u6361\u4e86\u4e00\u53ea\uff0c\u4e00\u5171\u662f\u4e24\u53ea\uff0c\u6570\u5b66\u6a21\u578b\u5c31\u662f1+1=2\u3002\u4e3e\u4e2a\u590d\u6742\u7684\u4f8b\u5b50\uff1a\u4f60\u5728\u8def\u4e0a\u6bcf\u5468\u80fd\u6361\u52303\u53ea\u94c5\u7b14\uff0c\u6570\u5b66\u6a21\u578b\u5c31\u662fP(X)=3/7\uff0c\u8fd9\u4e2a\u6570\u5b66\u6a21\u578b\u53ef\u4ee5\u5e2e\u4f60\u9884\u6d4b\u660e\u5929\u6361\u5230\u94c5\u7b14\u7684\u53ef\u80fd\u6027\u3002\u5f53\u7136\u89e3\u91ca\u5b9e\u4e8b\u7684\u6570\u5b66\u6a21\u578b\u4e0d\u662f\u552f\u4e00\u7684\uff0c\u6bd4\u5982\u6bcf\u5468\u6361\u4e09\u53ea\u94c5\u7b14\u7684\u6570\u5b66\u6a21\u578b\u8fd8\u53ef\u80fd\u662fP(qt=sj|qt-1=si,qt-2=sk,...)\uff0cs=0,1\uff0c\u4e5f\u5c31\u662f\u6709\u4e24\u4e2a\u72b6\u6001\u7684\u9a6c\u5c14\u53ef\u592b\u6a21\u578b\uff0c\u610f\u601d\u5c31\u662f\u660e\u5929\u662f\u5426\u6361\u5230\u94c5\u7b14\u53d6\u51b3\u4e8e\u524d\u51e0\u5929\u6709\u6ca1\u6709\u6361\u5230\u94c5\u7b14", 
            "title": "\u4ec0\u4e48\u662f\u6570\u5b66\u6a21\u578b"
        }, 
        {
            "location": "/13.linguistic-model/#_2", 
            "text": "\u6570\u5b66\u5efa\u6a21\u5c31\u662f\u901a\u8fc7\u8ba1\u7b97\u5f97\u5230\u7684\u7ed3\u679c\u6765\u89e3\u91ca\u5b9e\u9645\u95ee\u9898\uff0c\u5e76\u63a5\u53d7\u5b9e\u9645\u7684\u68c0\u9a8c\uff0c\u6765\u5efa\u7acb\u6570\u5b66\u6a21\u578b\u7684\u5168\u8fc7\u7a0b\u3002", 
            "title": "\u4ec0\u4e48\u662f\u6570\u5b66\u5efa\u6a21"
        }, 
        {
            "location": "/13.linguistic-model/#_3", 
            "text": "\u8bed\u8a00\u6a21\u578b\u662f\u6839\u636e\u8bed\u8a00\u5ba2\u89c2\u4e8b\u5b9e\u800c\u8fdb\u884c\u7684\u8bed\u8a00\u62bd\u8c61\u6570\u5b66\u5efa\u6a21\u3002\u8bf4\u767d\u4e86\uff0c\u5c31\u662f\u627e\u5230\u4e00\u4e2a\u6570\u5b66\u6a21\u578b\uff0c\u8ba9\u5b83\u6765\u89e3\u91ca\u81ea\u7136\u8bed\u8a00\u7684\u4e8b\u5b9e\u3002", 
            "title": "\u4ec0\u4e48\u662f\u8bed\u8a00\u6a21\u578b"
        }, 
        {
            "location": "/13.linguistic-model/#_4", 
            "text": "\u4e1a\u754c\u76ee\u524d\u6bd4\u8f83\u8ba4\u53ef\u800c\u4e14\u6709\u6548\u7684\u8bed\u8a00\u6a21\u578b\u662fn\u5143\u8bed\u6cd5\u6a21\u578b(n-gram model)\uff0c\u5b83\u672c\u8d28\u4e0a\u662f\u9a6c\u5c14\u53ef\u592b\u6a21\u578b\uff0c\u7b80\u5355\u6765\u63cf\u8ff0\u5c31\u662f\uff1a\u4e00\u53e5\u8bdd\u4e2d\u4e0b\u4e00\u4e2a\u8bcd\u7684\u51fa\u73b0\u548c\u6700\u8fd1n\u4e2a\u8bcd\u6709\u5173(\u5305\u62ec\u5b83\u81ea\u8eab)\u3002\u8be6\u7ec6\u89e3\u91ca\u4e00\u4e0b\uff1a  \u5982\u679c\u8fd9\u91cc\u7684n=1\u65f6\uff0c\u90a3\u4e48\u6700\u65b0\u4e00\u4e2a\u8bcd\u53ea\u548c\u5b83\u81ea\u5df1\u6709\u5173\uff0c\u4e5f\u5c31\u662f\u5b83\u662f\u72ec\u7acb\u7684\uff0c\u548c\u524d\u9762\u7684\u8bcd\u6ca1\u5173\u7cfb\uff0c\u8fd9\u53eb\u505a\u4e00\u5143\u6587\u6cd5  \u5982\u679c\u8fd9\u91cc\u7684n=2\u65f6\uff0c\u90a3\u4e48\u6700\u65b0\u4e00\u4e2a\u8bcd\u548c\u5b83\u524d\u9762\u4e00\u4e2a\u8bcd\u6709\u5173\uff0c\u6bd4\u5982\u524d\u9762\u7684\u8bcd\u662f\u201c\u6211\u201d\uff0c\u90a3\u4e48\u6700\u65b0\u7684\u8fd9\u4e2a\u8bcd\u662f\u201c\u662f\u201d\u7684\u6982\u7387\u6bd4\u8f83\u9ad8\uff0c\u8fd9\u53eb\u505a\u4e8c\u5143\u6587\u6cd5\uff0c\u4e5f\u53eb\u4f5c\u4e00\u9636\u9a6c\u5c14\u79d1\u592b\u94fe  \u4f9d\u6b21\u7c7b\u63a8\uff0c\u5de5\u7a0b\u4e0an=3\u7528\u7684\u662f\u6700\u591a\u7684\uff0c\u56e0\u4e3an\u8d8a\u5927\u7ea6\u675f\u4fe1\u606f\u8d8a\u591a\uff0cn\u8d8a\u5c0f\u53ef\u9760\u6027\u66f4\u9ad8  n\u5143\u8bed\u6cd5\u6a21\u578b\u5b9e\u9645\u4e0a\u662f\u4e00\u4e2a\u6982\u7387\u6a21\u578b\uff0c\u4e5f\u5c31\u662f\u51fa\u73b0\u4e00\u4e2a\u8bcd\u7684\u6982\u7387\u662f\u591a\u5c11\uff0c\u6216\u8005\u4e00\u4e2a\u53e5\u5b50\u957f\u8fd9\u4e2a\u6837\u5b50\u7684\u6982\u7387\u662f\u591a\u5c11\u3002  \u8fd9\u5c31\u53c8\u56de\u5230\u4e86\u4e4b\u524d\u6587\u7ae0\u91cc\u63d0\u5230\u7684\u81ea\u7136\u8bed\u8a00\u5904\u7406\u7814\u7a76\u7684\u4e24\u5927\u65b9\u5411\uff1a\u57fa\u4e8e\u89c4\u5219\u3001\u57fa\u4e8e\u7edf\u8ba1\u3002n\u5143\u8bed\u6cd5\u6a21\u578b\u663e\u7136\u662f\u57fa\u4e8e\u7edf\u8ba1\u7684\u65b9\u5411\u3002", 
            "title": "\u4e1a\u754c\u8ba4\u53ef\u7684\u8bed\u8a00\u6a21\u578b"
        }, 
        {
            "location": "/13.linguistic-model/#_5", 
            "text": "\u8bf4\u5230\u57fa\u4e8e\u7edf\u8ba1\uff0c\u90a3\u4e48\u5c31\u8981\u8bf4\u6982\u7387\u662f\u5982\u4f55\u4f30\u8ba1\u7684\u4e86\uff0c\u901a\u5e38\u90fd\u662f\u4f7f\u7528\u6700\u5927\u4f3c\u7136\u4f30\u8ba1\uff0c\u600e\u4e48\u6837\u7406\u89e3\u201c\u6700\u5927\u4f3c\u7136\u4f30\u8ba1\u201d\uff0c\u6700\u5927\u4f3c\u7136\u5c31\u662f\u6700\u6700\u6700\u6700\u6700\u76f8\u4f3c\u7684\uff0c\u90a3\u4e48\u548c\u8c01\u76f8\u4f3c\uff0c\u548c\u5386\u53f2\u76f8\u4f3c\uff0c\u5386\u53f2\u662f\u4ec0\u4e48\u6837\u7684\uff1f10\u4e2a\u8bcd\u91cc\u51fa\u73b0\u8fc72\u6b21\uff0c\u6240\u4ee5\u662f2/10=1/5\uff0c\u6240\u4ee5\u7ecf\u5e38\u542c\u8bf4\u8fc7\u7684\u201c\u6700\u5927\u4f3c\u7136\u4f30\u8ba1\u201d\u5c31\u662f\u7528\u5386\u53f2\u51fa\u73b0\u7684\u9891\u7387\u6765\u4f30\u8ba1\u6982\u7387\u7684\u65b9\u6cd5\u3002\u8fd9\u4e48\u8bf4\u5c31\u61c2\u4e86\u5427\uff1f", 
            "title": "\u6982\u7387\u662f\u5982\u4f55\u7edf\u8ba1\u7684"
        }, 
        {
            "location": "/13.linguistic-model/#_6", 
            "text": "", 
            "title": "\u8bed\u8a00\u6a21\u578b\u90fd\u6709\u54ea\u4e9b\u56f0\u96be"
        }, 
        {
            "location": "/13.linguistic-model/#1-0", 
            "text": "\u57fa\u4e8e\u7edf\u8ba1\u7684\u81ea\u7136\u8bed\u8a00\u5904\u7406\u9700\u8981\u57fa\u4e8e\u5927\u91cf\u8bed\u6599\u5e93\u8fdb\u884c\uff0c\u800c\u81ea\u7136\u8bed\u8a00\u5343\u53d8\u4e07\u5316\uff0c\u53ef\u4ee5\u7406\u89e3\u6240\u6709\u8bcd\u6c47\u7684\u7b1b\u5361\u5c14\u79ef\uff0c\u6570\u91cf\u5927\u5230\u65e0\u6cd5\u60f3\u8c61\uff0c\u6709\u9650\u7684\u8bed\u6599\u5e93\u662f\u96be\u4ee5\u7a77\u4e3e\u8bed\u8a00\u73b0\u8c61\u7684\uff0c\u56e0\u6b64n\u5143\u8bed\u6cd5\u6a21\u578b\u4f1a\u51fa\u73b0\u67d0\u4e00\u53e5\u8bdd\u51fa\u73b0\u7684\u6982\u7387\u4e3a0\u7684\u60c5\u51b5\uff0c\u6bd4\u5982\u6211\u8fd9\u7bc7\u535a\u5ba2\u5728\u6211\u5199\u51fa\u6765\u4e4b\u524d\u6982\u7387\u5c31\u662f0\uff0c\u56e0\u4e3a\u6211\u662f\u539f\u521b\u3002\u90a3\u4e48\u8fd9\u4e2a0\u6982\u7387\u7684\u95ee\u9898\u5982\u4f55\u89e3\u51b3\u5462\uff1f\u8fd9\u5c31\u662f\u4e1a\u754c\u4e0d\u65ad\u5728\u7814\u7a76\u7684\u6570\u636e\u5e73\u6ed1\u6280\u672f\uff0c\u4e5f\u5c31\u662f\u901a\u8fc7\u5404\u79cd\u6570\u5b66\u65b9\u5f0f\u6765\u8ba9\u6bcf\u4e00\u53e5\u8bdd\u7684\u6982\u7387\u90fd\u5927\u4e8e0\u3002\u5177\u4f53\u65b9\u6cd5\u4e0d\u5217\u4e3e\uff0c\u90fd\u662f\u73a9\u6570\u5b66\u7684\uff0c\u6bd4\u8f83\u7b80\u5355\uff0c\u65e0\u975e\u5c31\u662f\u52a0\u4e2a\u6570\u6216\u8005\u51cf\u4e2a\u6570\u6216\u8005\u505a\u4e2a\u63d2\u503c\u5e73\u6ed1\u4e00\u4e0b\uff0c\u6548\u679c\u4e0a\u5e94\u7528\u5728\u4e0d\u540c\u7279\u70b9\u7684\u6570\u636e\u4e0a\u5404\u6709\u5343\u79cb\u3002\u5e73\u6ed1\u7684\u65b9\u6cd5\u786e\u5b9e\u6709\u6548\uff0c\u5404\u79cd\u81ea\u7136\u8bed\u8a00\u5de5\u5177\u4e2d\u90fd\u5b9e\u73b0\u4e86\uff0c\u76f4\u63a5\u7528\u5c31\u597d\u4e86\u3002", 
            "title": "1. \u5343\u53d8\u4e07\u5316\u7684\u81ea\u7136\u8bed\u8a00\u5bfc\u81f4\u76840\u6982\u7387\u95ee\u9898"
        }, 
        {
            "location": "/13.linguistic-model/#2", 
            "text": "\u6bcf\u4e00\u79cd\u9886\u57df\u90fd\u4f1a\u6709\u4e00\u4e9b\u8bcd\u6c47\u6bd4\u6b63\u5e38\u6982\u7387\u504f\u5927\uff0c\u6bd4\u5982\u8ba1\u7b97\u673a\u9886\u57df\u4f1a\u7ecf\u5e38\u51fa\u73b0\u201c\u6027\u80fd\u201d\u3001\u201c\u7a0b\u5e8f\u201d\u7b49\u8bcd\u6c47\uff0c\u8fd9\u4e2a\u89e3\u51b3\u529e\u6cd5\u53ef\u4ee5\u901a\u8fc7\u7f13\u5b58\u4e00\u4e9b\u521a\u521a\u51fa\u73b0\u8fc7\u7684\u8bcd\u6c47\u6765\u63d0\u9ad8\u540e\u9762\u51fa\u73b0\u7684\u6982\u7387\u6765\u89e3\u51b3\u3002\u5f53\u7136\u8fd9\u91cc\u9762\u662f\u6709\u5f88\u591a\u6280\u5de7\u7684\uff0c\u6211\u4eec\u5e76\u4e0d\u662f\u8ba4\u4e3a\u6240\u6709\u51fa\u73b0\u8fc7\u7684\u8bcd\u540e\u9762\u6982\u7387\u90fd\u8f83\u5927\uff0c\u800c\u662f\u4f1a\u8003\u8651\u8fd9\u4e9b\u8bcd\u51fa\u73b0\u7684\u9891\u7387\u548c\u89c4\u5f8b(\u5982\uff1a\u8bcd\u8ddd)\u6765\u9884\u6d4b\u3002", 
            "title": "2. \u7279\u5b9a\u9886\u57df\u7684\u7279\u5b9a\u8bcd\u6982\u7387\u504f\u5927\u95ee\u9898"
        }, 
        {
            "location": "/13.linguistic-model/#3", 
            "text": "\u8fd8\u662f\u56e0\u4e3a\u8bed\u6599\u5e93\u7684\u4e0d\u8db3\uff0c\u6211\u4eec\u4f1a\u878d\u5408\u591a\u79cd\u8bed\u6599\u5e93\uff0c\u4f46\u56e0\u4e3a\u4e0d\u540c\u8bed\u6599\u5e93\u4e4b\u95f4\u7684\u5dee\u5f02\uff0c\u5bfc\u81f4\u6211\u4eec\u7528\u5355\u4e00\u8bed\u8a00\u6a21\u578b\u5f80\u5f80\u4e0d\u591f\u51c6\u786e\uff0c\u56e0\u6b64\uff0c\u6709\u4e00\u79cd\u65b9\u6cd5\u53ef\u4ee5\u7f13\u548c\u8fd9\u79cd\u4e0d\u51c6\u786e\u6027\uff0c\u90a3\u5c31\u662f\u628a\u591a\u79cd\u8bed\u8a00\u6a21\u578b\u6df7\u5230\u4e00\u8d77\u6765\u8ba1\u7b97\uff0c\u8fd9\u5176\u5b9e\u662f\u4e00\u79cd\u6298\u4e2d\uff0c\u8fd9\u79cd\u65b9\u6cd5low\u4e14\u6709\u6548\u3002  \u8fd8\u6709\u4e00\u79cd\u65b9\u6cd5\u5c31\u662f\u7528\u591a\u79cd\u8bed\u8a00\u6a21\u578b\u6765\u5206\u522b\u8ba1\u7b97\uff0c\u6700\u540e\u9009\u62e9\u71b5\u6700\u5927\u7684\u4e00\u79cd\uff0c\u8fd9\u5176\u5b9e\u4e5f\u662f\u4e00\u79cd\u6298\u4e2d\uff0c\u7528\u5728\u54ea\u79cd\u5730\u65b9\u5c31\u8ba9\u54ea\u79cd\u6a21\u578b\u751f\u6548\u3002", 
            "title": "3. \u5355\u4e00\u8bed\u8a00\u6a21\u578b\u603b\u4f1a\u6709\u5f0a\u7aef"
        }, 
        {
            "location": "/13.linguistic-model/#_7", 
            "text": "21\u4e16\u7eaa\u4ee5\u6765\uff0c\u7edf\u8ba1\u5b66\u4e60\u9886\u57df\u65e0\u8bba\u4ec0\u4e48\u90fd\u8981\u548c\u6df1\u5ea6\u5b66\u4e60\u642d\u4e2a\u8fb9\uff0c\u6bd5\u7adf\u8ba1\u7b97\u673a\u8ba1\u7b97\u80fd\u529b\u63d0\u5347\u4e86\u5f88\u591a\uff0c\u65e0\u8bba\u591a\u6df1\u90fd\u4e0d\u6015\u3002\u795e\u7ecf\u7f51\u7edc\u8bed\u8a00\u6a21\u578b\u53ef\u4ee5\u770b\u505a\u662f\u4e00\u79cd\u7279\u6b8a\u7684\u6a21\u578b\u5e73\u6ed1\u65b9\u5f0f\uff0c\u672c\u8d28\u4e0a\u8fd8\u662f\u5728\u8ba1\u7b97\u6982\u7387\uff0c\u53ea\u4e0d\u8fc7\u901a\u8fc7\u6df1\u5c42\u7684\u5b66\u4e60\u6765\u5f97\u5230\u66f4\u6b63\u786e\u7684\u6982\u7387\u3002", 
            "title": "\u795e\u7ecf\u7f51\u7edc\u8bed\u8a00\u6a21\u578b"
        }, 
        {
            "location": "/13.linguistic-model/#_8", 
            "text": "\u8fd9\u51e0\u4e4e\u5c31\u662f\u81ea\u7136\u8bed\u8a00\u5904\u7406\u7684\u5e94\u7528\u4e86\uff0c\u6709\uff1a\u4e2d\u6587\u5206\u8bcd\u3001\u673a\u5668\u7ffb\u8bd1\u3001\u62fc\u5199\u7ea0\u9519\u3001\u8bed\u97f3\u8bc6\u522b\u3001\u97f3\u5b50\u8f6c\u6362\u3001\u81ea\u52a8\u6587\u6458\u3001\u95ee\u7b54\u7cfb\u7edf\u3001OCR\u7b49", 
            "title": "\u8bed\u8a00\u6a21\u578b\u7684\u5e94\u7528"
        }, 
        {
            "location": "/14.participles-art/", 
            "text": "\u4e2d\u6587\u662f\u4e16\u754c\u8bed\u8a00\u754c\u7684\u4e00\u6735\u5947\u8469\uff0c\u5b83\u5929\u751f\u628a\u8bcd\u8fde\u5728\u4e00\u8d77\uff0c\u8ba9\u8ba1\u7b97\u673a\u671b\u800c\u5374\u6b65\uff0c\u4e00\u53e5#\u4ed6\u8bf4\u7684\u786e\u5b9e\u5728\u7406#\u8ba9\u8ba1\u7b97\u673a\u5728#\u7684\u786e#\u3001#\u5b9e\u5728#\u3001#\u786e\u5b9e#\u91cc\u9762\u6323\u624e\uff0c\u4f46\u662f\u7edf\u8ba1\u81ea\u7136\u8bed\u8a00\u5904\u7406\u5374\u8ba9\u8ba1\u7b97\u673a\u6709\u4e86\u667a\u80fd \n\n\n\u4e2d\u6587\u5206\u8bcd\u662f\u600e\u4e48\u8d70\u5230\u4eca\u5929\u7684\n\n\n\u8bdd\u8bf4\u4e0a\u4e2a\u4e16\u7eaa\uff0c\u4e2d\u6587\u81ea\u52a8\u5206\u8bcd\u8fd8\u5904\u4e8e\u521d\u7ea7\u9636\u6bb5\uff0c\u6bcf\u53e5\u8bdd\u90fd\u8981\u5230\u6c49\u8bed\u8bcd\u8868\u4e2d\u67e5\u627e\uff0c\u6709\u6ca1\u6709\u8fd9\u4e2a\u8bcd\uff1f\u6709\u6ca1\u6709\u8fd9\u4e2a\u8bcd\uff1f\u6240\u4ee5\u7814\u7a76\u96c6\u4e2d\u5728\uff1a\u600e\u4e48\u67e5\u627e\u6700\u5feb\u3001\u6700\u5168\u3001\u6700\u51c6\u3001\u6700\u72e0......\uff0c\u6240\u4ee5\u5c31\u51fa\u73b0\u4e86\u6b63\u5411\u6700\u5927\u5339\u914d\u6cd5\u3001\u9006\u5411\u6700\u5927\u5339\u914d\u6cd5\u3001\u53cc\u5411\u626b\u63cf\u6cd5\u3001\u52a9\u8bcd\u904d\u5386\u6cd5......\uff0c\u7528\u65b0\u4e16\u7eaa\u6bd4\u8f83\u6d41\u884c\u7684\u4e00\u4e2a\u8bcd\u6765\u5f62\u5bb9\u5c31\u662f\uff1a\u4f60\u592alow\u4e86\uff01\n\n\n\u4e2d\u6587\u81ea\u52a8\u5206\u8bcd\u6700\u96be\u7684\u4e24\u4e2a\u95ee\u9898\uff1a1\uff09\u6b67\u4e49\u6d88\u9664\uff1b2\uff09\u672a\u767b\u9646\u8bcd\u8bc6\u522b\u3002\u8bf4\u53e5\u516c\u9053\u8bdd\uff0c\u6ca1\u6709\u4e0a\u4e2a\u4e16\u7eaa\u90a3\u4e48low\u7684\u5960\u5b9a\u57fa\u7840\uff0c\u4e5f\u5c31\u6ca1\u6709\u8fd9\u4e2a\u4e16\u7eaa\u7814\u7a76\u91cd\u70b9\u63d0\u5347\u5230\u8fd9\u4e24\u4e2a\u9ad8\u7ea7\u7684\u95ee\u9898\n\n\nps:\u672a\u767b\u5f55\u8bcd\u5c31\u662f\u65b0\u8bcd\uff0c\u8bcd\u8868\u91cc\u6ca1\u6709\u7684\u8bcd\n\n\n\u672c\u4e16\u7eaa\u8ba1\u7b97\u673a\u8f6f\u786c\u4ef6\u53d1\u5c55\u8fc5\u731b\uff0c\u8ba1\u7b97\u91cf\u5b58\u50a8\u91cf\u90fd\u4e0d\u518d\u662f\u95ee\u9898\uff0c\u56e0\u6b64\u57fa\u4e8e\u7edf\u8ba1\u5b66\u4e60\u7684\u81ea\u52a8\u5206\u8bcd\u6280\u672f\u6210\u4e3a\u4e3b\u6d41\uff0c\u6240\u4ee5\u5c31\u51fa\u73b0\u4e86\u5404\u79cd\u65b0\u5206\u8bcd\u65b9\u6cd5\uff0c\u4e5f\u66f4\u9002\u7528\u4e8e\u65b0\u4e16\u7eaa\u6587\u672c\u7279\u70b9\n\n\n\u4ecen\u5143\u8bed\u6cd5\u6a21\u578b\u5f00\u59cb\u8bf4\u8d77\n\n\n\u4e0a\u8282\u8bb2\u5230\u4e86n\u5143\u8bed\u6cd5\u6a21\u578b\uff0c\u5728\u524dn-1\u4e2a\u8bcd\u51fa\u73b0\u7684\u6761\u4ef6\u4e0b\uff0c\u4e0b\u4e00\u4e2a\u8bcd\u51fa\u73b0\u7684\u6982\u7387\u662f\u6709\u7edf\u8ba1\u89c4\u5f8b\u7684\uff0c\u8fd9\u4e2a\u89c4\u5f8b\u4e3a\u4e2d\u6587\u81ea\u52a8\u5206\u8bcd\u63d0\u4f9b\u4e86\u7edf\u8ba1\u5b66\u57fa\u7840\uff0c\u6240\u4ee5\u51fa\u73b0\u4e86\u8fd9\u4e48\u51e0\u79cd\u7edf\u8ba1\u5206\u8bcd\u65b9\u6cd5\uff1aN-\u6700\u77ed\u8def\u5f84\u5206\u8bcd\u6cd5\u3001\u57fa\u4e8en\u5143\u8bed\u6cd5\u6a21\u578b\u7684\u5206\u8bcd\u6cd5\n\n\nN-\u6700\u77ed\u8def\u5f84\u5206\u8bcd\u6cd5\u5176\u5b9e\u5c31\u662f\u4e00\u5143\u8bed\u6cd5\u6a21\u578b\uff0c\u6bcf\u4e2a\u8bcd\u6210\u4e3a\u4e00\u5143\uff0c\u72ec\u7acb\u5b58\u5728\uff0c\u51fa\u73b0\u7684\u6982\u7387\u53ef\u4ee5\u57fa\u4e8e\u5927\u91cf\u8bed\u6599\u7edf\u8ba1\u5f97\u51fa\uff0c\u6bd4\u5982\u201c\u786e\u5b9e\u201d\u8fd9\u4e2a\u8bcd\u51fa\u73b0\u6982\u7387\u76840.001\uff08\u5f53\u7136\u8fd9\u662f\u5047\u8bbe\uff0c\u522b\u5f53\u771f\uff09\uff0c\u6211\u4eec\u628a\u4e00\u53e5\u8bdd\u57fa\u4e8e\u8bcd\u8868\u7684\u5404\u79cd\u5207\u8bcd\u7ed3\u679c\u90fd\u5217\u51fa\u6765\uff0c\u56e0\u4e3a\u5b57\u5b57\u7ec4\u5408\u53ef\u80fd\u6709\u5f88\u591a\u79cd\uff0c\u6240\u4ee5\u6709\u591a\u4e2a\u5019\u9009\u7ed3\u679c\uff0c\u8fd9\u65f6\u6211\u4eec\u5229\u7528\u6bcf\u4e2a\u8bcd\u51fa\u73b0\u7684\u6982\u7387\u76f8\u4e58\u8d77\u6765\uff0c\u5f97\u5230\u7684\u6700\u7ec8\u7ed3\u679c\uff0c\u8c01\u6700\u5927\u8c01\u5c31\u6700\u6709\u53ef\u80fd\u662f\u6b63\u786e\u7684\uff0c\u8fd9\u5c31\u662fN-\u6700\u77ed\u8def\u5f84\u5206\u8bcd\u6cd5\u3002\n\n\n\u8fd9\u91cc\u7684N\u7684\u610f\u601d\u662f\u8bf4\u6211\u4eec\u8ba1\u7b97\u6982\u7387\u7684\u65f6\u5019\u6700\u591a\u53ea\u8003\u8651\u524dN\u4e2a\u8bcd\uff0c\u56e0\u4e3a\u4e00\u4e2a\u53e5\u5b50\u53ef\u80fd\u5f88\u957f\u5f88\u957f\uff0c\u8bcd\u79bb\u5f97\u8fdc\uff0c\u76f8\u5173\u6027\u5c31\u6ca1\u6709\u90a3\u4e48\u5f3a\u4e86\n\n\n\u8fd9\u91cc\u7684\u6700\u77ed\u8def\u5f84\u5176\u5b9e\u662f\u4f20\u7edf\u6700\u77ed\u8def\u5f84\u7684\u4e00\u79cd\u5ef6\u4f38\uff0c\u7531\u52a0\u6743\u5ef6\u4f38\u5230\u4e86\u6982\u7387\u4e58\u79ef\n\n\n\u800c\u57fa\u4e8en\u5143\u8bed\u6cd5\u6a21\u578b\u7684\u5206\u8bcd\u6cd5\u5c31\u662f\u5728N-\u6700\u77ed\u8def\u5f84\u5206\u8bcd\u6cd5\u57fa\u7840\u4e0a\u628a\u4e00\u5143\u6a21\u578b\u6269\u5c55\u6210n\u5143\u6a21\u578b\uff0c\u4e5f\u5c31\u662f\u7edf\u8ba1\u51fa\u7684\u6982\u7387\u4e0d\u518d\u662f\u4e00\u4e2a\u8bcd\u7684\u6982\u7387\uff0c\u800c\u662f\u57fa\u4e8e\u524d\u9762n\u4e2a\u8bcd\u7684\u6761\u4ef6\u6982\u7387\n\n\n\u4eba\u5bb6\u57fa\u4e8e\u8bcd\uff0c\u6211\u6765\u57fa\u4e8e\u5b57\n\n\n\u7531\u5b57\u6784\u8bcd\u7684\u5206\u8bcd\u65b9\u6cd5\u51fa\u73b0\u53ef\u4ee5\u8bf4\u662f\u4e00\u9879\u7a81\u7834\uff0c\u53d1\u660e\u8005\u4e5f\u56e0\u6b64\u5f97\u5230\u4e86\u5404\u9879\u7b2c\u4e00\u548c\u5f88\u591a\u5956\u9879\uff0c\u90a3\u4e48\u8fd9\u4e2a\u8457\u540d\u7684\u5206\u8bcd\u6cd5\u662f\u600e\u4e48\u505a\u7684\u5462\uff1f\n\n\n\u6bcf\u4e2a\u5b57\u5728\u8bcd\u8bed\u4e2d\u90fd\u6709\u4e00\u4e2a\u6784\u8bcd\u4f4d\u7f6e\uff1a\u8bcd\u9996\u3001\u8bcd\u4e2d\u3001\u8bcd\u5c3e\u3001\u5355\u72ec\u6784\u8bcd\u3002\u6839\u636e\u4e00\u4e2a\u5b57\u5c5e\u4e8e\u4e0d\u540c\u7684\u6784\u8bcd\u4f4d\u7f6e\uff0c\u6211\u4eec\u8bbe\u8ba1\u51fa\u6765\u4e00\u7cfb\u5217\u7279\u5f81\uff0c\u6bd4\u5982\uff1a\u524d\u4e00\u4e2a\u8bcd\u3001\u524d\u4e24\u4e2a\u8bcd\u3001\u524d\u9762\u8bcd\u957f\u5ea6\u3001\u524d\u9762\u8bcd\u8bcd\u9996\u3001\u524d\u9762\u8bcd\u8bcd\u5c3e\u3001\u524d\u9762\u8bcd\u8bcd\u5c3e\u52a0\u4e0a\u5f53\u524d\u7684\u5b57\u7ec4\u6210\u7684\u8bcd\u2026\u2026\n\n\n\u6211\u4eec\u57fa\u4e8e\u5927\u91cf\u8bed\u6599\u5e93\uff0c\u5229\u7528\u5e73\u5747\u611f\u77e5\u673a\u5206\u7c7b\u5668\u5bf9\u4e0a\u9762\u7279\u5f81\u505a\u6253\u5206\uff0c\u5e76\u8bad\u7ec3\u6743\u91cd\u7cfb\u6570\uff0c\u8fd9\u6837\u5f97\u51fa\u7684\u6a21\u578b\u5c31\u53ef\u4ee5\u7528\u6765\u5206\u8bcd\u4e86\uff0c\u53e5\u5b50\u53f3\u8fb9\u591a\u51fa\u6765\u4e00\u4e2a\u5b57\uff0c\u7528\u6a21\u578b\u8ba1\u7b97\u8fd9\u4e9b\u7279\u5f81\u7684\u52a0\u6743\u5f97\u5206\uff0c\u5f97\u5206\u6700\u9ad8\u7684\u5c31\u662f\u6b63\u786e\u7684\u5206\u8bcd\u65b9\u6cd5\n\n\n\u5206\u8bcd\u65b9\u6cd5\u7eb5\u6709\u5343\u4e07\u79cd\uff0c\u4e00\u5b9a\u6709\u9002\u5408\u4f60\u7684\u90a3\u4e00\u4e2a\n\n\n\u5206\u8bcd\u65b9\u6cd5\u5f88\u591a\uff0c\u6548\u679c\u4e0a\u4e00\u5b9a\u662f\u6709\u533a\u522b\u7684\uff0c\u57fa\u4e8en\u5143\u8bed\u6cd5\u6a21\u578b\u7684\u65b9\u6cd5\u7684\u4f18\u52bf\u5728\u4e8e\u8bcd\u8868\u91cc\u5df2\u6709\u7684\u8bcd\u7684\u5206\u8bcd\u6548\u679c\uff0c\u57fa\u4e8e\u5b57\u6784\u8bcd\u7684\u65b9\u6cd5\u7684\u4f18\u52bf\u5728\u4e8e\u672a\u767b\u9646\u8bcd\u7684\u8bc6\u522b\uff0c\u56e0\u6b64\u5404\u6709\u5343\u79cb\uff0c\u4f60\u9002\u5408\u54ea\u4e2a\u5c31\u7528\u54ea\u4e2a\u3002\n\n\n\u5f02\u6027\u76f8\u5438\uff0c\u4f18\u52bf\u4e92\u8865\n\n\n\u65e2\u7136\u4e24\u79cd\u5206\u8bcd\u5404\u6709\u4f18\u7f3a\u70b9\uff0c\u90a3\u4e48\u5c31\u628a\u4ed6\u4eec\u7ed3\u5408\u8d77\u6765\u5427\uff0c\u6765\u4e2a\u63d2\u503c\u6cd5\u6298\u4e2d\u4e00\u4e0b\uff0c\u7528\u8fc7\u7684\u4eba\u90fd\u8bf4\u597d\n\n\n\u6d41\u884c\u5206\u8bcd\u5de5\u5177\u90fd\u662f\u7528\u7684\u4ec0\u4e48\u5206\u8bcd\u65b9\u6cd5\n\n\njieba\u4e2d\u6587\u5206\u8bcd\n\n\n\u5b98\u65b9\u63cf\u8ff0\uff1a\n\n\n\u57fa\u4e8e\u524d\u7f00\u8bcd\u5178\u5b9e\u73b0\u9ad8\u6548\u7684\u8bcd\u56fe\u626b\u63cf\uff0c\u751f\u6210\u53e5\u5b50\u4e2d\u6c49\u5b57\u6240\u6709\u53ef\u80fd\u6210\u8bcd\u60c5\u51b5\u6240\u6784\u6210\u7684\u6709\u5411\u65e0\u73af\u56fe (DAG)\n\u91c7\u7528\u4e86\u52a8\u6001\u89c4\u5212\u67e5\u627e\u6700\u5927\u6982\u7387\u8def\u5f84, \u627e\u51fa\u57fa\u4e8e\u8bcd\u9891\u7684\u6700\u5927\u5207\u5206 \u7ec4\u5408\n\u5bf9\u4e8e\u672a\u767b\u5f55\u8bcd\uff0c\u91c7\u7528\u4e86\u57fa\u4e8e\u6c49\u5b57\u6210\u8bcd\u80fd\u529b\u7684 HMM \u6a21\u578b\uff0c\u4f7f\u7528\u4e86 Viterbi \u7b97\u6cd5\n\u524d\u4e24\u53e5\u8bdd\u662f\u8bf4\u5b83\u662f\u57fa\u4e8e\u8bcd\u8868\u7684\u5206\u8bcd\uff0c\u6700\u540e\u4e00\u53e5\u662f\u8bf4\u5b83\u4e5f\u7528\u4e86\u7531\u5b57\u6784\u8bcd\uff0c\u6240\u4ee5\u5b83\u7ed3\u5408\u4e86\u4e24\u79cd\u5206\u8bcd\u65b9\u6cd5\n\n\nik\u5206\u8bcd\u5668\n\n\n\u57fa\u4e8e\u8bcd\u8868\u7684\u6700\u77ed\u8def\u5f84\u5207\u8bcd\n\n\nltp\u4e91\u5e73\u53f0\u5206\u8bcd\n\n\n\u4e3b\u8981\u57fa\u4e8e\u673a\u5668\u5b66\u4e60\u6846\u67b6\u5e76\u90e8\u5206\u7ed3\u5408\u8bcd\u8868\u7684\u65b9\u6cd5\n\n\n\u5176\u4ed6\u5206\u8bcd\u5de5\u5177\u5224\u65ad\u65b9\u6cd5\u7c7b\u4f3c\uff0c\u7f51\u4e0a\u5bf9\u5404\u79cd\u5206\u8bcd\u5de5\u5177\u597d\u574f\u7684\u5224\u65ad\u591a\u6570\u662f\u529f\u80fd\u4e0a\u6bd4\u8f83\uff0c\u4e2a\u4eba\u5efa\u8bae\u901a\u8fc7\u539f\u7406\u6765\u5224\u65ad\uff0c\u5982\u679c\u7ed3\u5408\u4e86\u57fa\u4e8e\u8bcd\u8868\u548c\u7531\u5b57\u6784\u8bcd\u5e76\u4e14\u5145\u5206\u5229\u7528\u7edf\u8ba1\u5b66\u4e60\u7684\u65b9\u6cd5\uff0c\u8fd9\u6837\u7684\u5206\u8bcd\u5de5\u5177\u624d\u662f\u6700\u597d\u7684", 
            "title": "\u5341\u56db-\u63a2\u7a76\u4e2d\u6587\u5206\u8bcd"
        }, 
        {
            "location": "/14.participles-art/#_1", 
            "text": "\u8bdd\u8bf4\u4e0a\u4e2a\u4e16\u7eaa\uff0c\u4e2d\u6587\u81ea\u52a8\u5206\u8bcd\u8fd8\u5904\u4e8e\u521d\u7ea7\u9636\u6bb5\uff0c\u6bcf\u53e5\u8bdd\u90fd\u8981\u5230\u6c49\u8bed\u8bcd\u8868\u4e2d\u67e5\u627e\uff0c\u6709\u6ca1\u6709\u8fd9\u4e2a\u8bcd\uff1f\u6709\u6ca1\u6709\u8fd9\u4e2a\u8bcd\uff1f\u6240\u4ee5\u7814\u7a76\u96c6\u4e2d\u5728\uff1a\u600e\u4e48\u67e5\u627e\u6700\u5feb\u3001\u6700\u5168\u3001\u6700\u51c6\u3001\u6700\u72e0......\uff0c\u6240\u4ee5\u5c31\u51fa\u73b0\u4e86\u6b63\u5411\u6700\u5927\u5339\u914d\u6cd5\u3001\u9006\u5411\u6700\u5927\u5339\u914d\u6cd5\u3001\u53cc\u5411\u626b\u63cf\u6cd5\u3001\u52a9\u8bcd\u904d\u5386\u6cd5......\uff0c\u7528\u65b0\u4e16\u7eaa\u6bd4\u8f83\u6d41\u884c\u7684\u4e00\u4e2a\u8bcd\u6765\u5f62\u5bb9\u5c31\u662f\uff1a\u4f60\u592alow\u4e86\uff01  \u4e2d\u6587\u81ea\u52a8\u5206\u8bcd\u6700\u96be\u7684\u4e24\u4e2a\u95ee\u9898\uff1a1\uff09\u6b67\u4e49\u6d88\u9664\uff1b2\uff09\u672a\u767b\u9646\u8bcd\u8bc6\u522b\u3002\u8bf4\u53e5\u516c\u9053\u8bdd\uff0c\u6ca1\u6709\u4e0a\u4e2a\u4e16\u7eaa\u90a3\u4e48low\u7684\u5960\u5b9a\u57fa\u7840\uff0c\u4e5f\u5c31\u6ca1\u6709\u8fd9\u4e2a\u4e16\u7eaa\u7814\u7a76\u91cd\u70b9\u63d0\u5347\u5230\u8fd9\u4e24\u4e2a\u9ad8\u7ea7\u7684\u95ee\u9898  ps:\u672a\u767b\u5f55\u8bcd\u5c31\u662f\u65b0\u8bcd\uff0c\u8bcd\u8868\u91cc\u6ca1\u6709\u7684\u8bcd  \u672c\u4e16\u7eaa\u8ba1\u7b97\u673a\u8f6f\u786c\u4ef6\u53d1\u5c55\u8fc5\u731b\uff0c\u8ba1\u7b97\u91cf\u5b58\u50a8\u91cf\u90fd\u4e0d\u518d\u662f\u95ee\u9898\uff0c\u56e0\u6b64\u57fa\u4e8e\u7edf\u8ba1\u5b66\u4e60\u7684\u81ea\u52a8\u5206\u8bcd\u6280\u672f\u6210\u4e3a\u4e3b\u6d41\uff0c\u6240\u4ee5\u5c31\u51fa\u73b0\u4e86\u5404\u79cd\u65b0\u5206\u8bcd\u65b9\u6cd5\uff0c\u4e5f\u66f4\u9002\u7528\u4e8e\u65b0\u4e16\u7eaa\u6587\u672c\u7279\u70b9", 
            "title": "\u4e2d\u6587\u5206\u8bcd\u662f\u600e\u4e48\u8d70\u5230\u4eca\u5929\u7684"
        }, 
        {
            "location": "/14.participles-art/#n", 
            "text": "\u4e0a\u8282\u8bb2\u5230\u4e86n\u5143\u8bed\u6cd5\u6a21\u578b\uff0c\u5728\u524dn-1\u4e2a\u8bcd\u51fa\u73b0\u7684\u6761\u4ef6\u4e0b\uff0c\u4e0b\u4e00\u4e2a\u8bcd\u51fa\u73b0\u7684\u6982\u7387\u662f\u6709\u7edf\u8ba1\u89c4\u5f8b\u7684\uff0c\u8fd9\u4e2a\u89c4\u5f8b\u4e3a\u4e2d\u6587\u81ea\u52a8\u5206\u8bcd\u63d0\u4f9b\u4e86\u7edf\u8ba1\u5b66\u57fa\u7840\uff0c\u6240\u4ee5\u51fa\u73b0\u4e86\u8fd9\u4e48\u51e0\u79cd\u7edf\u8ba1\u5206\u8bcd\u65b9\u6cd5\uff1aN-\u6700\u77ed\u8def\u5f84\u5206\u8bcd\u6cd5\u3001\u57fa\u4e8en\u5143\u8bed\u6cd5\u6a21\u578b\u7684\u5206\u8bcd\u6cd5  N-\u6700\u77ed\u8def\u5f84\u5206\u8bcd\u6cd5\u5176\u5b9e\u5c31\u662f\u4e00\u5143\u8bed\u6cd5\u6a21\u578b\uff0c\u6bcf\u4e2a\u8bcd\u6210\u4e3a\u4e00\u5143\uff0c\u72ec\u7acb\u5b58\u5728\uff0c\u51fa\u73b0\u7684\u6982\u7387\u53ef\u4ee5\u57fa\u4e8e\u5927\u91cf\u8bed\u6599\u7edf\u8ba1\u5f97\u51fa\uff0c\u6bd4\u5982\u201c\u786e\u5b9e\u201d\u8fd9\u4e2a\u8bcd\u51fa\u73b0\u6982\u7387\u76840.001\uff08\u5f53\u7136\u8fd9\u662f\u5047\u8bbe\uff0c\u522b\u5f53\u771f\uff09\uff0c\u6211\u4eec\u628a\u4e00\u53e5\u8bdd\u57fa\u4e8e\u8bcd\u8868\u7684\u5404\u79cd\u5207\u8bcd\u7ed3\u679c\u90fd\u5217\u51fa\u6765\uff0c\u56e0\u4e3a\u5b57\u5b57\u7ec4\u5408\u53ef\u80fd\u6709\u5f88\u591a\u79cd\uff0c\u6240\u4ee5\u6709\u591a\u4e2a\u5019\u9009\u7ed3\u679c\uff0c\u8fd9\u65f6\u6211\u4eec\u5229\u7528\u6bcf\u4e2a\u8bcd\u51fa\u73b0\u7684\u6982\u7387\u76f8\u4e58\u8d77\u6765\uff0c\u5f97\u5230\u7684\u6700\u7ec8\u7ed3\u679c\uff0c\u8c01\u6700\u5927\u8c01\u5c31\u6700\u6709\u53ef\u80fd\u662f\u6b63\u786e\u7684\uff0c\u8fd9\u5c31\u662fN-\u6700\u77ed\u8def\u5f84\u5206\u8bcd\u6cd5\u3002  \u8fd9\u91cc\u7684N\u7684\u610f\u601d\u662f\u8bf4\u6211\u4eec\u8ba1\u7b97\u6982\u7387\u7684\u65f6\u5019\u6700\u591a\u53ea\u8003\u8651\u524dN\u4e2a\u8bcd\uff0c\u56e0\u4e3a\u4e00\u4e2a\u53e5\u5b50\u53ef\u80fd\u5f88\u957f\u5f88\u957f\uff0c\u8bcd\u79bb\u5f97\u8fdc\uff0c\u76f8\u5173\u6027\u5c31\u6ca1\u6709\u90a3\u4e48\u5f3a\u4e86  \u8fd9\u91cc\u7684\u6700\u77ed\u8def\u5f84\u5176\u5b9e\u662f\u4f20\u7edf\u6700\u77ed\u8def\u5f84\u7684\u4e00\u79cd\u5ef6\u4f38\uff0c\u7531\u52a0\u6743\u5ef6\u4f38\u5230\u4e86\u6982\u7387\u4e58\u79ef  \u800c\u57fa\u4e8en\u5143\u8bed\u6cd5\u6a21\u578b\u7684\u5206\u8bcd\u6cd5\u5c31\u662f\u5728N-\u6700\u77ed\u8def\u5f84\u5206\u8bcd\u6cd5\u57fa\u7840\u4e0a\u628a\u4e00\u5143\u6a21\u578b\u6269\u5c55\u6210n\u5143\u6a21\u578b\uff0c\u4e5f\u5c31\u662f\u7edf\u8ba1\u51fa\u7684\u6982\u7387\u4e0d\u518d\u662f\u4e00\u4e2a\u8bcd\u7684\u6982\u7387\uff0c\u800c\u662f\u57fa\u4e8e\u524d\u9762n\u4e2a\u8bcd\u7684\u6761\u4ef6\u6982\u7387", 
            "title": "\u4ecen\u5143\u8bed\u6cd5\u6a21\u578b\u5f00\u59cb\u8bf4\u8d77"
        }, 
        {
            "location": "/14.participles-art/#_2", 
            "text": "\u7531\u5b57\u6784\u8bcd\u7684\u5206\u8bcd\u65b9\u6cd5\u51fa\u73b0\u53ef\u4ee5\u8bf4\u662f\u4e00\u9879\u7a81\u7834\uff0c\u53d1\u660e\u8005\u4e5f\u56e0\u6b64\u5f97\u5230\u4e86\u5404\u9879\u7b2c\u4e00\u548c\u5f88\u591a\u5956\u9879\uff0c\u90a3\u4e48\u8fd9\u4e2a\u8457\u540d\u7684\u5206\u8bcd\u6cd5\u662f\u600e\u4e48\u505a\u7684\u5462\uff1f  \u6bcf\u4e2a\u5b57\u5728\u8bcd\u8bed\u4e2d\u90fd\u6709\u4e00\u4e2a\u6784\u8bcd\u4f4d\u7f6e\uff1a\u8bcd\u9996\u3001\u8bcd\u4e2d\u3001\u8bcd\u5c3e\u3001\u5355\u72ec\u6784\u8bcd\u3002\u6839\u636e\u4e00\u4e2a\u5b57\u5c5e\u4e8e\u4e0d\u540c\u7684\u6784\u8bcd\u4f4d\u7f6e\uff0c\u6211\u4eec\u8bbe\u8ba1\u51fa\u6765\u4e00\u7cfb\u5217\u7279\u5f81\uff0c\u6bd4\u5982\uff1a\u524d\u4e00\u4e2a\u8bcd\u3001\u524d\u4e24\u4e2a\u8bcd\u3001\u524d\u9762\u8bcd\u957f\u5ea6\u3001\u524d\u9762\u8bcd\u8bcd\u9996\u3001\u524d\u9762\u8bcd\u8bcd\u5c3e\u3001\u524d\u9762\u8bcd\u8bcd\u5c3e\u52a0\u4e0a\u5f53\u524d\u7684\u5b57\u7ec4\u6210\u7684\u8bcd\u2026\u2026  \u6211\u4eec\u57fa\u4e8e\u5927\u91cf\u8bed\u6599\u5e93\uff0c\u5229\u7528\u5e73\u5747\u611f\u77e5\u673a\u5206\u7c7b\u5668\u5bf9\u4e0a\u9762\u7279\u5f81\u505a\u6253\u5206\uff0c\u5e76\u8bad\u7ec3\u6743\u91cd\u7cfb\u6570\uff0c\u8fd9\u6837\u5f97\u51fa\u7684\u6a21\u578b\u5c31\u53ef\u4ee5\u7528\u6765\u5206\u8bcd\u4e86\uff0c\u53e5\u5b50\u53f3\u8fb9\u591a\u51fa\u6765\u4e00\u4e2a\u5b57\uff0c\u7528\u6a21\u578b\u8ba1\u7b97\u8fd9\u4e9b\u7279\u5f81\u7684\u52a0\u6743\u5f97\u5206\uff0c\u5f97\u5206\u6700\u9ad8\u7684\u5c31\u662f\u6b63\u786e\u7684\u5206\u8bcd\u65b9\u6cd5", 
            "title": "\u4eba\u5bb6\u57fa\u4e8e\u8bcd\uff0c\u6211\u6765\u57fa\u4e8e\u5b57"
        }, 
        {
            "location": "/14.participles-art/#_3", 
            "text": "\u5206\u8bcd\u65b9\u6cd5\u5f88\u591a\uff0c\u6548\u679c\u4e0a\u4e00\u5b9a\u662f\u6709\u533a\u522b\u7684\uff0c\u57fa\u4e8en\u5143\u8bed\u6cd5\u6a21\u578b\u7684\u65b9\u6cd5\u7684\u4f18\u52bf\u5728\u4e8e\u8bcd\u8868\u91cc\u5df2\u6709\u7684\u8bcd\u7684\u5206\u8bcd\u6548\u679c\uff0c\u57fa\u4e8e\u5b57\u6784\u8bcd\u7684\u65b9\u6cd5\u7684\u4f18\u52bf\u5728\u4e8e\u672a\u767b\u9646\u8bcd\u7684\u8bc6\u522b\uff0c\u56e0\u6b64\u5404\u6709\u5343\u79cb\uff0c\u4f60\u9002\u5408\u54ea\u4e2a\u5c31\u7528\u54ea\u4e2a\u3002", 
            "title": "\u5206\u8bcd\u65b9\u6cd5\u7eb5\u6709\u5343\u4e07\u79cd\uff0c\u4e00\u5b9a\u6709\u9002\u5408\u4f60\u7684\u90a3\u4e00\u4e2a"
        }, 
        {
            "location": "/14.participles-art/#_4", 
            "text": "\u65e2\u7136\u4e24\u79cd\u5206\u8bcd\u5404\u6709\u4f18\u7f3a\u70b9\uff0c\u90a3\u4e48\u5c31\u628a\u4ed6\u4eec\u7ed3\u5408\u8d77\u6765\u5427\uff0c\u6765\u4e2a\u63d2\u503c\u6cd5\u6298\u4e2d\u4e00\u4e0b\uff0c\u7528\u8fc7\u7684\u4eba\u90fd\u8bf4\u597d", 
            "title": "\u5f02\u6027\u76f8\u5438\uff0c\u4f18\u52bf\u4e92\u8865"
        }, 
        {
            "location": "/14.participles-art/#_5", 
            "text": "", 
            "title": "\u6d41\u884c\u5206\u8bcd\u5de5\u5177\u90fd\u662f\u7528\u7684\u4ec0\u4e48\u5206\u8bcd\u65b9\u6cd5"
        }, 
        {
            "location": "/14.participles-art/#jieba", 
            "text": "\u5b98\u65b9\u63cf\u8ff0\uff1a  \u57fa\u4e8e\u524d\u7f00\u8bcd\u5178\u5b9e\u73b0\u9ad8\u6548\u7684\u8bcd\u56fe\u626b\u63cf\uff0c\u751f\u6210\u53e5\u5b50\u4e2d\u6c49\u5b57\u6240\u6709\u53ef\u80fd\u6210\u8bcd\u60c5\u51b5\u6240\u6784\u6210\u7684\u6709\u5411\u65e0\u73af\u56fe (DAG)\n\u91c7\u7528\u4e86\u52a8\u6001\u89c4\u5212\u67e5\u627e\u6700\u5927\u6982\u7387\u8def\u5f84, \u627e\u51fa\u57fa\u4e8e\u8bcd\u9891\u7684\u6700\u5927\u5207\u5206 \u7ec4\u5408\n\u5bf9\u4e8e\u672a\u767b\u5f55\u8bcd\uff0c\u91c7\u7528\u4e86\u57fa\u4e8e\u6c49\u5b57\u6210\u8bcd\u80fd\u529b\u7684 HMM \u6a21\u578b\uff0c\u4f7f\u7528\u4e86 Viterbi \u7b97\u6cd5\n\u524d\u4e24\u53e5\u8bdd\u662f\u8bf4\u5b83\u662f\u57fa\u4e8e\u8bcd\u8868\u7684\u5206\u8bcd\uff0c\u6700\u540e\u4e00\u53e5\u662f\u8bf4\u5b83\u4e5f\u7528\u4e86\u7531\u5b57\u6784\u8bcd\uff0c\u6240\u4ee5\u5b83\u7ed3\u5408\u4e86\u4e24\u79cd\u5206\u8bcd\u65b9\u6cd5", 
            "title": "jieba\u4e2d\u6587\u5206\u8bcd"
        }, 
        {
            "location": "/14.participles-art/#ik", 
            "text": "\u57fa\u4e8e\u8bcd\u8868\u7684\u6700\u77ed\u8def\u5f84\u5207\u8bcd", 
            "title": "ik\u5206\u8bcd\u5668"
        }, 
        {
            "location": "/14.participles-art/#ltp", 
            "text": "\u4e3b\u8981\u57fa\u4e8e\u673a\u5668\u5b66\u4e60\u6846\u67b6\u5e76\u90e8\u5206\u7ed3\u5408\u8bcd\u8868\u7684\u65b9\u6cd5  \u5176\u4ed6\u5206\u8bcd\u5de5\u5177\u5224\u65ad\u65b9\u6cd5\u7c7b\u4f3c\uff0c\u7f51\u4e0a\u5bf9\u5404\u79cd\u5206\u8bcd\u5de5\u5177\u597d\u574f\u7684\u5224\u65ad\u591a\u6570\u662f\u529f\u80fd\u4e0a\u6bd4\u8f83\uff0c\u4e2a\u4eba\u5efa\u8bae\u901a\u8fc7\u539f\u7406\u6765\u5224\u65ad\uff0c\u5982\u679c\u7ed3\u5408\u4e86\u57fa\u4e8e\u8bcd\u8868\u548c\u7531\u5b57\u6784\u8bcd\u5e76\u4e14\u5145\u5206\u5229\u7528\u7edf\u8ba1\u5b66\u4e60\u7684\u65b9\u6cd5\uff0c\u8fd9\u6837\u7684\u5206\u8bcd\u5de5\u5177\u624d\u662f\u6700\u597d\u7684", 
            "title": "ltp\u4e91\u5e73\u53f0\u5206\u8bcd"
        }, 
        {
            "location": "/15.probabilistic-model/", 
            "text": "\u6982\u7387\u56fe\u6a21\u578b\u662f\u6982\u7387\u8bba\u548c\u56fe\u8bba\u7684\u7ed3\u5408\uff0c\u7ecf\u5e38\u89c1\u5230\u7684\u8d1d\u53f6\u65af\u7f51\u7edc\u3001\u9a6c\u5c14\u53ef\u592b\u6a21\u578b\u3001\u6700\u5927\u71b5\u6a21\u578b\u3001\u6761\u4ef6\u968f\u673a\u573a\u90fd\u5c5e\u4e8e\u6982\u7387\u56fe\u6a21\u578b\uff0c\u8fd9\u4e9b\u6a21\u578b\u6709\u6548\u7684\u89e3\u51b3\u4e86\u5f88\u591a\u5b9e\u9645\u95ee\u9898\uff0c\u6bd4\u5982\u81ea\u7136\u8bed\u8a00\u5904\u7406\u4e2d\u7684\u8bcd\u6027\u6807\u6ce8\u3001\u5b9e\u4f53\u8bc6\u522b\u7b49\uff0c\u4e66\u91cc\u7684\u63cf\u8ff0\u90fd\u516c\u5f0f\u7eb5\u6a2a\u3001\u6666\u6da9\u96be\u61c2\uff0c\u6211\u4eec\u4e0d\u59a8\u8bd5\u8bd5\u8f7b\u8f7b\u677e\u677e\u7684\u6765\u8bf4\u4e00\u8bf4\u6982\u7387\u56fe\u6a21\u578b \n\n\n\u9996\u5148\u6211\u4eec\u8bf4\u8bf4\u4ec0\u4e48\u662f\u56fe\u8bba\n\n\n\u80fd\u70b9\u8fdb\u8fd9\u7bc7\u6587\u7ae0\u8bf4\u660e\u4f60\u4e00\u5b9a\u662f\u6709\u4e00\u5b9a\u6570\u5b66\u57fa\u7840\u7684\uff0c\u6240\u4ee5\u6211\u505a\u4e2a\u6bd4\u55bb\uff0c\u4f60\u6765\u770b\u770b\u662f\u4e0d\u662f\u8fd9\u4e48\u56de\u4e8b\u3002\u7cd6\u846b\u82a6\u5403\u8fc7\u5427\uff1f\u51e0\u4e2a\u5c71\u6942\u4e32\u5728\u4e00\u6839\u6746\u4e0a\uff0c\u8fd9\u5176\u5b9e\u5c31\u662f\u4e00\u4e2a\u56fe\u3002\n\n\n\u7a0d\u7a0d\u6b63\u5f0f\u4e00\u70b9\u8bf4\uff1a\u56fe\u5c31\u662f\u628a\u4e00\u4e9b\u5b64\u7acb\u7684\u70b9\u7528\u7ebf\u8fde\u8d77\u6765\uff0c\u4efb\u4f55\u70b9\u4e4b\u95f4\u90fd\u6709\u53ef\u80fd\u8fde\u7740\u3002\u5b83\u533a\u522b\u4e8e\u6811\uff0c\u6811\u662f\u6709\u7236\u5b50\u5173\u7cfb\uff0c\u56fe\u6ca1\u6709\u3002\n\n\n\u518d\u6df1\u5165\u4e00\u70b9\u70b9\uff1a\u4ece\u8d28\u4e0a\u6765\u8bf4\uff0c\u56fe\u53ef\u4ee5\u8868\u8fbe\u7684\u67d0\u4e9b\u4e8b\u7269\u4e4b\u95f4\u7684\u5173\u8054\u5173\u7cfb\uff0c\u4e5f\u53ef\u4ee5\u8868\u8fbe\u7684\u662f\u4e00\u79cd\u8f6c\u5316\u5173\u7cfb\uff1b\u4ece\u91cf\u4e0a\u6765\u8bf4\uff0c\u5b83\u80fd\u8868\u8fbe\u51fa\u5173\u8054\u7a0b\u5ea6\uff0c\u4e5f\u80fd\u8868\u8fbe\u51fa\u8f6c\u5316\u7684\u53ef\u80fd\u6027\u5927\u5c0f\n\n\n\u56fe\u8bba\u4e00\u822c\u6709\u4ec0\u4e48\u7528\u9014\u5462\uff1f\u8457\u540d\u7684\u4e03\u6865\u95ee\u9898\u3001\u56db\u8272\u95ee\u9898\u3001\u6b27\u62c9\u5b9a\u7406\u90fd\u662f\u5728\u56fe\u8bba\u57fa\u7840\u4e0a\u8bf4\u4e8b\u513f\u7684\n\n\n\u518d\u8bf4\u8bf4\u6982\u7387\u8bba\n\n\n\u6982\u7387\u8bba\u4ece\u4e2d\u5b66\u5230\u5927\u5b66\u518d\u5230\u5de5\u4f5c\u4e2d\u90fd\u5728\u5b66\uff0c\u5b83\u539f\u7406\u5f88\u7b80\u5355\uff1a\u6295\u4e2a\u786c\u5e01\u51fa\u73b0\u4eba\u5934\u7684\u6982\u7387\u662f1/2\uff0c\u6700\u5e38\u7528\u7684\u5c31\u662f\u6761\u4ef6\u6982\u7387P(B|A)\uff0c\u8054\u5408\u6982\u7387P(A,B)\uff0c\u8d1d\u53f6\u65af\u516c\u5f0f:P(B|A)=P(A|B)P(B)/P(A)\uff0c\u5404\u79cd\u4f30\u8ba1\u65b9\u6cd5\u3002\n\n\n\u63d0\u524d\u89e3\u91ca\u4e00\u4e0b\u6982\u7387\u56fe\u6a21\u578b\u91cc\u7684\u51e0\u4e2a\u5e38\u89c1\u8bcd\u6c47\n\n\n\u8d1d\u53f6\u65af(Bayes)\uff1a\u65e0\u8bba\u4ec0\u4e48\u7406\u8bba\u4ec0\u4e48\u6a21\u578b\uff0c\u53ea\u8981\u4e00\u63d0\u5230\u4ed6\uff0c\u90a3\u4e48\u91cc\u9762\u4e00\u5b9a\u662f\u57fa\u4e8e\u6761\u4ef6\u6982\u7387P(B|A)\u6765\u505a\u6587\u7ae0\u7684\u3002ps\uff1a\u8d1d\u53f6\u65af\u8001\u7237\u7237\u53ef\u662f18\u4e16\u7eaa\u7684\u4eba\u7269\uff0c\u4ed6\u7684\u7406\u8bba\u5230\u73b0\u5728\u8fd8\u8fd9\u4e48\u706b\uff0c\u53ef\u89c1\u4ed6\u7684\u5f71\u54cd\u529b\u7edd\u4e0d\u4e0b\u4e8e\u725b\u987f\u3001\u7231\u56e0\u65af\u5766\n\n\n\u9a6c\u5c14\u53ef\u592b(Markov)\uff1a\u65e0\u8bba\u4ec0\u4e48\u7406\u8bba\u4ec0\u4e48\u6a21\u578b\uff0c\u53ea\u8981\u4e00\u63d0\u5230\u4ed6\uff0c\u90a3\u4e48\u91cc\u9762\u4e00\u5b9a\u6709\u4e00\u6761\u94fe\u5f0f\u7ed3\u6784\u6216\u8fc7\u7a0b\uff0c\u524dn\u4e2a\u503c\u51b3\u5b9a\u5f53\u524d\u8fd9\u4e2a\u503c\uff0c\u6216\u8005\u8bf4\u5f53\u524d\u8fd9\u4e2a\u503c\u8ddf\u524dn\u4e2a\u503c\u6709\u5173\n\n\n\u71b5(entropy)\uff1a\u71b5\u6709\u706b\u5b57\u65c1\uff0c\u672c\u6765\u662f\u4e00\u4e2a\u70ed\u529b\u5b66\u672f\u8bed\uff0c\u8868\u793a\u7269\u8d28\u7cfb\u7edf\u7684\u6df7\u4e71\u72b6\u6001\u3002\u5ef6\u4f38\u6570\u5b66\u4e0a\u8868\u8fbe\u7684\u662f\u4e00\u79cd\u4e0d\u786e\u5b9a\u6027\u3002\u5ef6\u4f38\u5230\u4fe1\u606f\u8bba\u4e0a\u662f\u5982\u4eca\u8ba1\u7b97\u673a\u7f51\u7edc\u4fe1\u606f\u4f20\u8f93\u7684\u57fa\u7840\u7406\u8bba\uff0c\u4e0d\u786e\u5b9a\u6027\u51fd\u6570\u662ff(p)=-logp\uff0c\u4fe1\u606f\u71b5H(p)=-\u2211plogp\u3002\u63d0\u5230\u71b5\u5fc5\u987b\u8981\u63d0\u5230\u4fe1\u606f\u8bba\u9f3b\u7956\u9999\u519c(Shannon)\n\n\n\u573a(field)\uff1a\u53ea\u8981\u5728\u6570\u5b66\u91cc\u89c1\u5230\u573a\uff0c\u5b83\u90fd\u662f\u82f1\u6587\u91cc\u7684\u201c\u57df\u201d\u7684\u6982\u5ff5\uff0c\u4e5f\u5c31\u662f\u53d6\u503c\u7a7a\u95f4\uff0c\u5982\u679c\u8bf4\u201c\u968f\u673a\u573a\u201d\uff0c\u90a3\u4e48\u5c31\u8868\u793a\u4e00\u4e2a\u968f\u673a\u53d8\u91cf\u80fd\u591f\u8d4b\u503c\u7684\u5168\u4f53\u7a7a\u95f4\n\n\n\u518d\u8bf4\u6982\u7387\u56fe\u6a21\u578b\n\n\n\u6982\u7387\u56fe\u6a21\u578b\u4e00\u822c\u662f\u7528\u56fe\u6765\u8bf4\u660e\uff0c\u7528\u6982\u7387\u6765\u8ba1\u7b97\u7684\u3002\u6240\u4ee5\u4e3a\u4e86\u6e05\u6670\u7684\u8bf4\u660e\uff0c\u6211\u4eec\u6bcf\u4e00\u79cd\u65b9\u6cd5\u6211\u5c3d\u91cf\u914d\u4e2a\u56fe\uff0c\u5e76\u914d\u4e2a\u516c\u5f0f\u3002\n\n\n\u9996\u5148\uff0c\u4e3a\u4e86\u8111\u5b50\u91cc\u6709\u4e2a\u4f53\u7cfb\uff0c\u6211\u4eec\u505a\u4e00\u4e2a\u5206\u7c7b\uff0c\u5206\u6210\u6709\u5411\u56fe\u6a21\u578b\u548c\u65e0\u5411\u56fe\u6a21\u578b\uff0c\u987e\u540d\u601d\u4e49\uff0c\u5c31\u662f\u56fe\u91cc\u9762\u7684\u8fb9\u662f\u5426\u6709\u65b9\u5411\u3002\u90a3\u4e48\u4ec0\u4e48\u6837\u7684\u6a21\u578b\u7684\u8fb9\u6709\u65b9\u5411\uff0c\u800c\u4ec0\u4e48\u6837\u7684\u6ca1\u65b9\u5411\u5462\uff1f\u8fd9\u4e2a\u5f88\u597d\u60f3\u5230\uff0c\u6709\u65b9\u5411\u7684\u8868\u8fbe\u7684\u662f\u4e00\u79cd\u63a8\u6f14\u5173\u7cfb\uff0c\u4e5f\u5c31\u662f\u5728A\u7684\u524d\u63d0\u4e0b\u51fa\u73b0\u4e86B\uff0c\u8fd9\u79cd\u6a21\u578b\u53c8\u53eb\u505a\u751f\u6210\u5f0f\u6a21\u578b\u3002\u800c\u6ca1\u6709\u65b9\u5411\u8868\u8fbe\u7684\u662f\u4e00\u79cd\u201c\u8fd9\u6837\u5c31\u5bf9\u4e86\u201d\u7684\u5173\u7cfb\uff0c\u4e5f\u5c31\u662fA\u548cB\u540c\u65f6\u5b58\u5728\u5c31\u5bf9\u4e86\uff0c\u8fd9\u79cd\u6a21\u578b\u53c8\u53eb\u505a\u5224\u522b\u5f0f\u6a21\u578b\u3002\u751f\u6210\u5f0f\u6a21\u578b\u4e00\u822c\u7528\u8054\u5408\u6982\u7387\u8ba1\u7b97(\u56e0\u4e3a\u6211\u4eec\u77e5\u9053A\u7684\u524d\u63d0\u4e86\uff0c\u53ef\u4ee5\u7b97\u8054\u5408\u6982\u7387)\uff0c\u5224\u522b\u5f0f\u6a21\u578b\u4e00\u822c\u7528\u6761\u4ef6\u6982\u7387\u8ba1\u7b97(\u56e0\u4e3a\u6211\u4eec\u4e0d\u77e5\u9053\u524d\u63d0\uff0c\u6240\u4ee5\u53ea\u80fd\"\u5047\u8bbe\"A\u6761\u4ef6\u4e0bB\u7684\u6982\u7387)\u3002\u751f\u6210\u5f0f\u6a21\u578b\u7684\u4ee3\u8868\u662f\uff1an\u5143\u8bed\u6cd5\u6a21\u578b\u3001\u9690\u9a6c\u5c14\u53ef\u592b\u6a21\u578b\u3001\u6734\u7d20\u8d1d\u53f6\u65af\u6a21\u578b\u7b49\u3002\u5224\u522b\u5f0f\u6a21\u578b\u7684\u4ee3\u8868\u662f\uff1a\u6700\u5927\u71b5\u6a21\u578b\u3001\u652f\u6301\u5411\u91cf\u673a\u3001\u6761\u4ef6\u968f\u673a\u573a\u3001\u611f\u77e5\u673a\u6a21\u578b\u7b49\n\n\n\u8d1d\u53f6\u65af\u7f51\u7edc\n\n\n\u6309\u7167\u524d\u9762\u8bf4\u7684\uff0c\u63d0\u5230\u8d1d\u53f6\u65af\u5c31\u662f\u6761\u4ef6\u6982\u7387\uff0c\u6240\u4ee5\u4e5f\u5c31\u662f\u751f\u6210\u5f0f\u6a21\u578b\uff0c\u4e5f\u5c31\u662f\u6709\u5411\u56fe\u6a21\u578b\u3002\n\n\n\u4e3a\u4e86\u8bf4\u660e\u4ec0\u4e48\u662f\u8d1d\u53f6\u65af\u7f51\u7edc\uff0c\u6211\u4ece\u7f51\u4e0a\u76d7\u53d6\u4e00\u4e2a\u56fe\n\n\n\n\n\u56fe\u4e2d\u6bcf\u4e00\u4e2a\u70b9\u90fd\u53ef\u80fd\u672aTrue\u6216False\uff0c\u4ed6\u4eec\u7684\u6982\u7387\u662f\u5df2\u77e5\u7684\uff0c\u6bd4\u5982x7\u7684\u6982\u7387\u9700\u8981\u6709x4\u548cx5\u6765\u51b3\u5b9a\uff0c\u53ef\u80fd\u662f\u8fd9\u6837\u7684\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\nx4 x5  T   F\n\nT  T   0.5 0.5\n\nT  F   0.4 0.6\n\nF  T   0.7 0.3\n\nF  F   0.2 0.8\n\n\n\n\n\n\n\u90a3\u4e48\u53ef\u4ee5\u901a\u8fc7\u4e0a\u9762\u7684\u8d1d\u53f6\u65af\u7f51\u7edc\u6765\u4f30\u8ba1\u5982\u679cx1\u4e3aFalse\u60c5\u51b5\u4e0bx6\u4e3aTrue\u7684\u6982\u7387\uff1a\n\n\nP(x6=T|x1=F)=P(x6=T,x1=F)/P(x1=F)\n\n\n\u8fd9\u4e2a\u503c\u7ee7\u7eed\u63a8\u5bfc\uff0c\u6700\u7ec8\u53ef\u4ee5\u7531\u6bcf\u4e2a\u8282\u70b9\u7684\u6982\u7387\u6570\u636e\u8ba1\u7b97\u6c42\u5f97\uff0c\u8fd9\u4e48\u8bf4\u6765\uff0c\u8d1d\u53f6\u65af\u7f51\u7edc\u6a21\u578b\u53ef\u4ee5\u901a\u8fc7\u6837\u672c\u5b66\u4e60\u6765\u4f30\u8ba1\u6bcf\u4e2a\u8282\u70b9\u7684\u6982\u7387\uff0c\u4ece\u800c\u8fbe\u5230\u53ef\u4ee5\u9884\u6d4b\u5404\u79cd\u95ee\u9898\u7684\u7ed3\u679c\n\n\n\u8d1d\u53f6\u65af\u7f51\u7edc\u80fd\u591f\u5728\u5df2\u77e5\u6709\u9650\u7684\u3001\u4e0d\u5b8c\u6574\u7684\u3001\u4e0d\u786e\u5b9a\u4fe1\u606f\u6761\u4ef6\u4e0b\u8fdb\u884c\u5b66\u4e60\u63a8\u7406\uff0c\u6240\u4ee5\u5e7f\u6cdb\u5e94\u7528\u5728\u6545\u969c\u8bca\u65ad\u3001\u7ef4\u4fee\u51b3\u7b56\u3001\u6c49\u8bed\u81ea\u52a8\u5206\u8bcd\u3001\u8bcd\u4e49\u6d88\u6b67\u7b49\u95ee\u9898\u4e0a\n\n\n\u9a6c\u5c14\u53ef\u592b\u6a21\u578b\u548c\u9690\u9a6c\u5c14\u53ef\u592b\u6a21\u578b\n\n\n\u6309\u7167\u524d\u9762\u8bf4\u7684\uff0c\u63d0\u5230\u9a6c\u5c14\u53ef\u592b\u5c31\u662f\u4e00\u4e2a\u503c\u8ddf\u524d\u9762n\u4e2a\u503c\u6709\u5173\uff0c\u6240\u4ee5\u4e5f\u5c31\u662f\u6761\u4ef6\u6982\u7387\uff0c\u4e5f\u5c31\u662f\u751f\u6210\u5f0f\u6a21\u578b\uff0c\u4e5f\u5c31\u662f\u6709\u5411\u56fe\u6a21\u578b\u3002\n\n\n\u7ee7\u7eed\u76d7\u56fe\n\n\n\n\n\u97f3\u4e50\u7684\u6bcf\u4e00\u4e2a\u97f3\u4e0d\u662f\u968f\u610f\u4f5c\u51fa\u6765\u7684\uff0c\u662f\u6839\u636e\u66f2\u5b50\u7684\u98ce\u683c\u3001\u548c\u5f26\u3001\u5927\u5c0f\u8c03\u5f0f\u7b49\u6765\u51b3\u5b9a\u7684\uff0c\u4f46\u662f\u56e0\u4e3a\u53ef\u9009\u7684\u97f3\u9ad8\u6709\u591a\u79cd\uff0c\u4e5f\u5c31\u51fa\u73b0\u4e86\u65e0\u6570\u7f8e\u5999\u7684\u65cb\u5f8b\u3002\u56e0\u4e3a\u6709\u7ea6\u675f\uff0c\u6240\u4ee5\u5176\u5b9e\u53ef\u4ee5\u8bf4\u65b0\u7684\u97f3\u548c\u524d\u9762\u7684n\u4e2a\u97f3\u6709\u5173\uff0c\u8fd9\u5176\u5b9e\u662f\u4e00\u4e2a\u9a6c\u5c14\u53ef\u592b\u6a21\u578b\u53ef\u4ee5\u89e3\u91ca\u7684\u4e8b\u60c5\u3002\n\n\n\u9a6c\u5c14\u53ef\u592b\u6a21\u578b\u8fd8\u53ef\u4ee5\u770b\u6210\u662f\u4e00\u4e2a\u5173\u4e8e\u65f6\u95f4t\u7684\u72b6\u6001\u8f6c\u6362\u8fc7\u7a0b\uff0c\u4e5f\u5c31\u662f\u968f\u673a\u7684\u6709\u9650\u72b6\u6001\u673a\uff0c\u90a3\u4e48\u72b6\u6001\u5e8f\u5217\u7684\u6982\u7387\u53ef\u4ee5\u901a\u8fc7\u8ba1\u7b97\u5f62\u6210\u8be5\u5e8f\u5217\u6240\u6709\u72b6\u6001\u4e4b\u95f4\u8f6c\u79fb\u5f27\u4e0a\u7684\u6982\u7387\u4e58\u79ef\u5f97\u51fa\u3002\n\n\n\u5982\u679c\u8bf4\u8fd9\u4e2a\u9a6c\u5c14\u53ef\u592b\u662f\u4e24\u9636\u7684\uff0c\u90a3\u4e48\u8f6c\u79fb\u6982\u7387\u53ef\u80fd\u662f\u8fd9\u4e2a\u6837\u5b50\uff1a\n\n\n\n\n\u5f53\u7136\u540e\u9762\u7684\u6982\u7387\u53ea\u662f\u4e3e\u4e86\u4e2a\u4f8b\u5b50\uff0c\u8fd9\u79cd\u60c5\u51b5\u7531\u524d\u4e24\u5217\u51b3\u5b9a\u7684\u7b2c\u4e09\u5217\u4efb\u610f\u503c\u90fd\u4f1a\u6709\u4e00\u4e2a\u6982\u7387\n\n\n\u6211\u4eec\u901a\u8fc7\u8bad\u7ec3\u6837\u672c\u6765\u5f97\u51fa\u6bcf\u4e00\u4e2a\u6982\u7387\u503c\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u901a\u8fc7\u8bad\u7ec3\u51fa\u7684\u6a21\u578b\u6765\u6839\u636e\u524d\u4e24\u4e2a\u97f3\u662f\u4ec0\u4e48\u800c\u9884\u6d4b\u4e0b\u4e00\u4e2a\u97f3\u662f1\u30012\u30013\u30014\u30015\u4efb\u610f\u4e00\u4e2a\u7684\u6982\u7387\u662f\u591a\u5c11\u4e86\uff0c\u4e5f\u5c31\u662f\u53ef\u4ee5\u81ea\u52a8\u4f5c\u66f2\u4e86\uff0c\u5f53\u7136\u8fd9\u6837\u505a\u51fa\u7684\u66f2\u5b50\u80af\u5b9a\u662f\u4e00\u4e2a\u65e0\u7ebf\u5faa\u73af\u7684\u65cb\u5f8b\uff0c\u4f60\u731c\u731c\u4e3a\u4ec0\u4e48\u3002\n\n\n\u90a3\u4e48\u6211\u4eec\u518d\u8bf4\u9690\u9a6c\u5c14\u53ef\u592b\u6a21\u578b\uff0c\u8fd9\u91cc\u7684\u201c\u9690\u201d\u6307\u7684\u662f\u5176\u4e2d\u67d0\u4e00\u9636\u7684\u4fe1\u606f\u6211\u4eec\u4e0d\u77e5\u9053\uff0c\u5c31\u50cf\u662f\u6211\u4eec\u77e5\u9053\u4eba\u7684\u7956\u5148\u662f\u4e09\u53f6\u866b\uff0c\u4f46\u662f\u7531\u4e09\u53f6\u866b\u7ecf\u5386\u4e86\u600e\u6837\u7684\u6f14\u53d8\u8fc7\u7a0b\u624d\u6f14\u53d8\u5230\u4eba\u7684\u6837\u5b50\u6211\u4eec\u662f\u4e0d\u77e5\u9053\u7684\uff0c\u6211\u4eec\u53ea\u80fd\u901a\u8fc7\u5316\u77f3\u8d44\u6599\u4e86\u89e3\u5206\u5e03\u4fe1\u606f\uff0c\u5982\u679c\u8fd9\u7c7b\u8d44\u6599\u5f88\u591a\uff0c\u90a3\u4e48\u5c31\u53ef\u4ee5\u5229\u7528\u9690\u9a6c\u5c14\u53ef\u592b\u6a21\u578b\u6765\u5efa\u6a21\uff0c\u56e0\u4e3a\u7f3a\u5c11\u7684\u4fe1\u606f\u8f83\u591a\uff0c\u6240\u4ee5\u8fd9\u4e00\u6a21\u578b\u7684\u7b97\u6cd5\u6bd4\u8f83\u590d\u6742\uff0c\u6bd4\u5982\u524d\u5411\u7b97\u6cd5\u3001\u540e\u5411\u7b97\u6cd5\u4e4b\u7c7b\u6666\u6da9\u7684\u4e1c\u897f\u5c31\u4e0d\u8bf4\u4e86\u3002\u76f8\u5bf9\u4e8e\u539f\u7406\uff0c\u6211\u4eec\u66f4\u5173\u6ce8\u5b83\u7684\u5e94\u7528\uff0c\u9690\u9a6c\u5c14\u53ef\u592b\u6a21\u578b\u5e7f\u6cdb\u5e94\u7528\u5728\u8bcd\u6027\u6807\u6ce8\u3001\u4e2d\u6587\u5206\u8bcd\u7b49\uff0c\u4e3a\u4ec0\u4e48\u80fd\u7528\u5728\u8fd9\u4e24\u4e2a\u5e94\u7528\u4e0a\u5462\uff1f\u4ed4\u7ec6\u60f3\u4e00\u4e0b\u80fd\u770b\u5f97\u51fa\u6765\uff0c\u6bd4\u5982\u4e2d\u6587\u5206\u8bcd\uff0c\u6700\u521d\u4f60\u662f\u4e0d\u77e5\u9053\u600e\u4e48\u5206\u8bcd\u7684\uff0c\u524d\u9762\u7684\u8bcd\u5206\u51fa\u6765\u4e86\uff0c\u4f60\u624d\u4e4b\u540e\u540e\u9762\u7684\u8fb9\u754c\u5728\u54ea\u91cc\uff0c\u4f46\u662f\u5f53\u4f60\u540e\u9762\u505a\u4e86\u5206\u8bcd\u4e4b\u540e\u8fd8\u8981\u9a8c\u8bc1\u524d\u9762\u7684\u5206\u8bcd\u662f\u5426\u6b63\u786e\uff0c\u8fd9\u6837\u524d\u540e\u6709\u4f9d\u8d56\u5173\u7cfb\uff0c\u800c\u4e0d\u786e\u5b9a\u4e2d\u95f4\u72b6\u6001\u7684\u60c5\u51b5\u6700\u9002\u5408\u7528\u9690\u9a6c\u5c14\u53ef\u592b\u6a21\u578b\u6765\u89e3\u91ca\n\n\n\u6700\u5927\u71b5\u6a21\u578b\n\n\n\u6309\u7167\u524d\u9762\u6240\u8bf4\u7684\uff0c\u770b\u5230\u71b5\u90a3\u4e48\u4e00\u5b9a\u4f1a\u7528\u5230H(p)=-\u2211plogp\uff0c\u600e\u4e48\u7406\u89e3\u6700\u5927\u71b5\u6a21\u578b\u5462\uff1f\u6211\u4eec\u7684\u6700\u7ec8\u76ee\u7684\u662f\u60f3\u77e5\u9053\u5728\u67d0\u4e00\u4e2a\u4fe1\u606f\u6761\u4ef6B\u4e0b\uff0c\u5f97\u51fa\u67d0\u79cd\u53ef\u80fd\u7684\u7ed3\u679cA\u7684\u6700\u5927\u7684\u6982\u7387\uff0c\u4e5f\u5c31\u662f\u6761\u4ef6\u6982\u7387P(A|B)\u6700\u5927\u7684\u5019\u9009\u7ed3\u679c\u3002\u56e0\u4e3a\u6700\u5927\u71b5\u5c31\u662f\u4e0d\u786e\u5b9a\u6027\u6700\u5927\uff0c\u5176\u5b9e\u4e5f\u5c31\u662f\u6761\u4ef6\u6982\u7387\u6700\u5927\uff0c\u6240\u4ee5\u6c42\u6700\u5927\u7684\u6761\u4ef6\u6982\u7387\u7b49\u540c\u4e8e\u6c42\u6700\u5927\u71b5\uff0c\u800c\u6211\u4eec\u8fd9\u91cc\u7684\u71b5\u5176\u5b9e\u662fH(p)=H(A|B)=-\u2211p(b)p(a|b)log(p(a|b))\uff0c\u4e3a\u4e86\u4f7f\u7528\u8bad\u7ec3\u6570\u636e\u505a\u4f30\u8ba1\uff0c\u8fd9\u91cc\u7684p(a|b)\u53ef\u4ee5\u901a\u8fc7\u8bad\u7ec3\u6570\u636e\u7684\u67d0\u4e9b\u7279\u5f81\u6765\u4f30\u8ba1\uff0c\u6bd4\u5982\u8fd9\u4e9b\u7279\u5f81\u662ffi(a,b)\uff0c\u90a3\u4e48\u505a\u6a21\u578b\u8bad\u7ec3\u7684\u8fc7\u7a0b\u5c31\u7f16\u7a0b\u4e86\u8bad\u7ec3\u2211\u03bbf(a,b)\u4e2d\u7684\u03bb\u53c2\u6570\u7684\u8fc7\u7a0b\uff0c\u81f3\u6b64\u5c31\u6709\u4e9b\u50cf\u673a\u5668\u5b66\u4e60\u7684\u7ebf\u6027\u56de\u5f52\u4e86\uff0c\u8be5\u600e\u4e48\u505a\u5c31\u6e05\u6670\u4e86\u3002\u6240\u4ee5\u5176\u5b9e\u6700\u5927\u71b5\u6a21\u578b\u5c31\u662f\u5229\u7528\u71b5\u7684\u539f\u7406\u548c\u71b5\u7684\u516c\u5f0f\u6765\u7528\u53e6\u5916\u4e00\u79cd\u5f62\u5f0f\u6765\u63cf\u8ff0\u5177\u6709\u6982\u7387\u89c4\u5f8b\u7684\u73b0\u5b9e\u7684\n\n\n\u6761\u4ef6\u968f\u673a\u573a\n\n\n\u573a\u8868\u793a\u53d6\u503c\u8303\u56f4\uff0c\u968f\u673a\u573a\u8868\u793a\u968f\u673a\u53d8\u91cf\u6709\u53d6\u503c\u8303\u56f4\uff0c\u4e5f\u5c31\u662f\u6bcf\u4e2a\u968f\u673a\u53d8\u91cf\u6709\u56fa\u5b9a\u7684\u53d6\u503c\uff0c\u6761\u4ef6\u6307\u7684\u662f\u968f\u673a\u53d8\u91cf\u7684\u53d6\u503c\u7531\u4e00\u5b9a\u7684\u6761\u4ef6\u6982\u7387\u51b3\u5b9a\uff0c\u800c\u8fd9\u91cc\u7684\u6761\u4ef6\u6765\u81ea\u4e8e\u6211\u4eec\u6709\u4e00\u4e9b\u89c2\u5bdf\u503c\uff0c\u8fd9\u662f\u5b83\u533a\u522b\u4e8e\u5176\u4ed6\u968f\u673a\u573a\u7684\u5730\u65b9\u3002\u6761\u4ef6\u968f\u673a\u573a\u4e5f\u53ef\u4ee5\u770b\u505a\u662f\u4e00\u4e2a\u65e0\u5411\u56fe\u6a21\u578b\uff0c\u5b83\u7279\u6b8a\u5c31\u7279\u6b8a\u5728\u7ed9\u5b9a\u89c2\u5bdf\u5e8f\u5217X\u65f6\u67d0\u4e2a\u7279\u5b9a\u7684\u6807\u8bb0\u5e8f\u5217Y\u7684\u6982\u7387\u662f\u4e00\u4e2a\u6307\u6570\u51fd\u6570exp(\u2211\u03bbt+\u2211\u03bcs)\uff0c\u5176\u4e2dt\u662f\u8f6c\u79fb\u51fd\u6570\uff0cs\u662f\u72b6\u6001\u51fd\u6570\uff0c\u6211\u4eec\u9700\u8981\u8bad\u7ec3\u7684\u662f\u03bb\u548c\u03bc\u3002\u6761\u4ef6\u968f\u673a\u573a\u4e3b\u8981\u5e94\u7528\u5728\u6807\u6ce8\u548c\u5207\u5206\u6709\u5e8f\u6570\u636e\u4e0a\uff0c\u5c24\u5176\u5728\u81ea\u7136\u8bed\u8a00\u5904\u7406\u3001\u751f\u7269\u4fe1\u606f\u5b66\u3001\u673a\u5668\u89c6\u89c9\u3001\u7f51\u7edc\u667a\u80fd\u7b49\u65b9\u9762\n\n\n\u603b\u7ed3\u4e00\u4e0b\uff0c\u6982\u7387\u56fe\u6a21\u578b\u5305\u62ec\u591a\u79cd\u7ed3\u5408\u6982\u7387\u8bba\u548c\u56fe\u8bba\u7684\u6a21\u578b\uff0c\u6839\u636e\u7279\u5b9a\u573a\u666f\u7279\u5b9a\u9700\u6c42\u9009\u62e9\u4e0d\u540c\u7684\u6a21\u578b\uff0c\u6bcf\u79cd\u6a21\u578b\u7684\u53c2\u6570\u90fd\u9700\u8981\u5927\u91cf\u6837\u672c\u8bad\u7ec3\u5f97\u51fa\uff0c\u6bcf\u79cd\u6a21\u578b\u90fd\u662f\u7528\u6765\u6839\u636e\u8bad\u7ec3\u51fa\u6765\u7684\u6982\u7387\u505a\u6700\u4f18\u7ed3\u8bba\u9009\u62e9\u7684\uff0c\u6bd4\u5982\u6839\u636e\u8bad\u7ec3\u51fa\u6765\u7684\u6a21\u578b\u5bf9\u53e5\u5b50\u505a\u6700\u6b63\u786e\u7684\u8bcd\u6027\u6807\u6ce8\u3001\u5b9e\u4f53\u6807\u6ce8\u3001\u5206\u8bcd\u5e8f\u5217\u7b49\uff0c\u672c\u6587\u53ea\u662f\u4ece\u7406\u5ff5\u4e0a\u7684\u89e3\u91ca\u548c\u603b\u7ed3\uff0c\u771f\u7684\u7528\u5230\u67d0\u4e00\u79cd\u6a21\u578b\u8fd8\u662f\u9700\u8981\u6df1\u5165\u7814\u7a76\u539f\u7406\u548c\u516c\u5f0f\u63a8\u5bfc\u4ee5\u53ca\u7f16\u7a0b\u5b9e\u73b0\uff0c\u90a3\u5c31\u4e0d\u662f\u672c\u6587\u8fd9\u79cd\u5c0f\u7bc7\u5e45\u80fd\u591f\u89e3\u91ca\u7684\u5b8c\u7684\u4e86\uff0c\u7b49\u6211\u4eec\u540e\u9762\u8981\u9047\u5230\u5fc5\u987b\u7528\u67d0\u4e00\u79cd\u6a21\u578b\u6765\u5b9e\u73b0\u65f6\u518d\u72e0\u72e0\u5730\u6df1\u5165\u4e00\u4e0b\u3002", 
            "title": "\u5341\u4e94-\u6982\u7387\u56fe\u6a21\u578b"
        }, 
        {
            "location": "/15.probabilistic-model/#_1", 
            "text": "\u80fd\u70b9\u8fdb\u8fd9\u7bc7\u6587\u7ae0\u8bf4\u660e\u4f60\u4e00\u5b9a\u662f\u6709\u4e00\u5b9a\u6570\u5b66\u57fa\u7840\u7684\uff0c\u6240\u4ee5\u6211\u505a\u4e2a\u6bd4\u55bb\uff0c\u4f60\u6765\u770b\u770b\u662f\u4e0d\u662f\u8fd9\u4e48\u56de\u4e8b\u3002\u7cd6\u846b\u82a6\u5403\u8fc7\u5427\uff1f\u51e0\u4e2a\u5c71\u6942\u4e32\u5728\u4e00\u6839\u6746\u4e0a\uff0c\u8fd9\u5176\u5b9e\u5c31\u662f\u4e00\u4e2a\u56fe\u3002  \u7a0d\u7a0d\u6b63\u5f0f\u4e00\u70b9\u8bf4\uff1a\u56fe\u5c31\u662f\u628a\u4e00\u4e9b\u5b64\u7acb\u7684\u70b9\u7528\u7ebf\u8fde\u8d77\u6765\uff0c\u4efb\u4f55\u70b9\u4e4b\u95f4\u90fd\u6709\u53ef\u80fd\u8fde\u7740\u3002\u5b83\u533a\u522b\u4e8e\u6811\uff0c\u6811\u662f\u6709\u7236\u5b50\u5173\u7cfb\uff0c\u56fe\u6ca1\u6709\u3002  \u518d\u6df1\u5165\u4e00\u70b9\u70b9\uff1a\u4ece\u8d28\u4e0a\u6765\u8bf4\uff0c\u56fe\u53ef\u4ee5\u8868\u8fbe\u7684\u67d0\u4e9b\u4e8b\u7269\u4e4b\u95f4\u7684\u5173\u8054\u5173\u7cfb\uff0c\u4e5f\u53ef\u4ee5\u8868\u8fbe\u7684\u662f\u4e00\u79cd\u8f6c\u5316\u5173\u7cfb\uff1b\u4ece\u91cf\u4e0a\u6765\u8bf4\uff0c\u5b83\u80fd\u8868\u8fbe\u51fa\u5173\u8054\u7a0b\u5ea6\uff0c\u4e5f\u80fd\u8868\u8fbe\u51fa\u8f6c\u5316\u7684\u53ef\u80fd\u6027\u5927\u5c0f  \u56fe\u8bba\u4e00\u822c\u6709\u4ec0\u4e48\u7528\u9014\u5462\uff1f\u8457\u540d\u7684\u4e03\u6865\u95ee\u9898\u3001\u56db\u8272\u95ee\u9898\u3001\u6b27\u62c9\u5b9a\u7406\u90fd\u662f\u5728\u56fe\u8bba\u57fa\u7840\u4e0a\u8bf4\u4e8b\u513f\u7684", 
            "title": "\u9996\u5148\u6211\u4eec\u8bf4\u8bf4\u4ec0\u4e48\u662f\u56fe\u8bba"
        }, 
        {
            "location": "/15.probabilistic-model/#_2", 
            "text": "\u6982\u7387\u8bba\u4ece\u4e2d\u5b66\u5230\u5927\u5b66\u518d\u5230\u5de5\u4f5c\u4e2d\u90fd\u5728\u5b66\uff0c\u5b83\u539f\u7406\u5f88\u7b80\u5355\uff1a\u6295\u4e2a\u786c\u5e01\u51fa\u73b0\u4eba\u5934\u7684\u6982\u7387\u662f1/2\uff0c\u6700\u5e38\u7528\u7684\u5c31\u662f\u6761\u4ef6\u6982\u7387P(B|A)\uff0c\u8054\u5408\u6982\u7387P(A,B)\uff0c\u8d1d\u53f6\u65af\u516c\u5f0f:P(B|A)=P(A|B)P(B)/P(A)\uff0c\u5404\u79cd\u4f30\u8ba1\u65b9\u6cd5\u3002", 
            "title": "\u518d\u8bf4\u8bf4\u6982\u7387\u8bba"
        }, 
        {
            "location": "/15.probabilistic-model/#_3", 
            "text": "\u8d1d\u53f6\u65af(Bayes)\uff1a\u65e0\u8bba\u4ec0\u4e48\u7406\u8bba\u4ec0\u4e48\u6a21\u578b\uff0c\u53ea\u8981\u4e00\u63d0\u5230\u4ed6\uff0c\u90a3\u4e48\u91cc\u9762\u4e00\u5b9a\u662f\u57fa\u4e8e\u6761\u4ef6\u6982\u7387P(B|A)\u6765\u505a\u6587\u7ae0\u7684\u3002ps\uff1a\u8d1d\u53f6\u65af\u8001\u7237\u7237\u53ef\u662f18\u4e16\u7eaa\u7684\u4eba\u7269\uff0c\u4ed6\u7684\u7406\u8bba\u5230\u73b0\u5728\u8fd8\u8fd9\u4e48\u706b\uff0c\u53ef\u89c1\u4ed6\u7684\u5f71\u54cd\u529b\u7edd\u4e0d\u4e0b\u4e8e\u725b\u987f\u3001\u7231\u56e0\u65af\u5766  \u9a6c\u5c14\u53ef\u592b(Markov)\uff1a\u65e0\u8bba\u4ec0\u4e48\u7406\u8bba\u4ec0\u4e48\u6a21\u578b\uff0c\u53ea\u8981\u4e00\u63d0\u5230\u4ed6\uff0c\u90a3\u4e48\u91cc\u9762\u4e00\u5b9a\u6709\u4e00\u6761\u94fe\u5f0f\u7ed3\u6784\u6216\u8fc7\u7a0b\uff0c\u524dn\u4e2a\u503c\u51b3\u5b9a\u5f53\u524d\u8fd9\u4e2a\u503c\uff0c\u6216\u8005\u8bf4\u5f53\u524d\u8fd9\u4e2a\u503c\u8ddf\u524dn\u4e2a\u503c\u6709\u5173  \u71b5(entropy)\uff1a\u71b5\u6709\u706b\u5b57\u65c1\uff0c\u672c\u6765\u662f\u4e00\u4e2a\u70ed\u529b\u5b66\u672f\u8bed\uff0c\u8868\u793a\u7269\u8d28\u7cfb\u7edf\u7684\u6df7\u4e71\u72b6\u6001\u3002\u5ef6\u4f38\u6570\u5b66\u4e0a\u8868\u8fbe\u7684\u662f\u4e00\u79cd\u4e0d\u786e\u5b9a\u6027\u3002\u5ef6\u4f38\u5230\u4fe1\u606f\u8bba\u4e0a\u662f\u5982\u4eca\u8ba1\u7b97\u673a\u7f51\u7edc\u4fe1\u606f\u4f20\u8f93\u7684\u57fa\u7840\u7406\u8bba\uff0c\u4e0d\u786e\u5b9a\u6027\u51fd\u6570\u662ff(p)=-logp\uff0c\u4fe1\u606f\u71b5H(p)=-\u2211plogp\u3002\u63d0\u5230\u71b5\u5fc5\u987b\u8981\u63d0\u5230\u4fe1\u606f\u8bba\u9f3b\u7956\u9999\u519c(Shannon)  \u573a(field)\uff1a\u53ea\u8981\u5728\u6570\u5b66\u91cc\u89c1\u5230\u573a\uff0c\u5b83\u90fd\u662f\u82f1\u6587\u91cc\u7684\u201c\u57df\u201d\u7684\u6982\u5ff5\uff0c\u4e5f\u5c31\u662f\u53d6\u503c\u7a7a\u95f4\uff0c\u5982\u679c\u8bf4\u201c\u968f\u673a\u573a\u201d\uff0c\u90a3\u4e48\u5c31\u8868\u793a\u4e00\u4e2a\u968f\u673a\u53d8\u91cf\u80fd\u591f\u8d4b\u503c\u7684\u5168\u4f53\u7a7a\u95f4", 
            "title": "\u63d0\u524d\u89e3\u91ca\u4e00\u4e0b\u6982\u7387\u56fe\u6a21\u578b\u91cc\u7684\u51e0\u4e2a\u5e38\u89c1\u8bcd\u6c47"
        }, 
        {
            "location": "/15.probabilistic-model/#_4", 
            "text": "\u6982\u7387\u56fe\u6a21\u578b\u4e00\u822c\u662f\u7528\u56fe\u6765\u8bf4\u660e\uff0c\u7528\u6982\u7387\u6765\u8ba1\u7b97\u7684\u3002\u6240\u4ee5\u4e3a\u4e86\u6e05\u6670\u7684\u8bf4\u660e\uff0c\u6211\u4eec\u6bcf\u4e00\u79cd\u65b9\u6cd5\u6211\u5c3d\u91cf\u914d\u4e2a\u56fe\uff0c\u5e76\u914d\u4e2a\u516c\u5f0f\u3002  \u9996\u5148\uff0c\u4e3a\u4e86\u8111\u5b50\u91cc\u6709\u4e2a\u4f53\u7cfb\uff0c\u6211\u4eec\u505a\u4e00\u4e2a\u5206\u7c7b\uff0c\u5206\u6210\u6709\u5411\u56fe\u6a21\u578b\u548c\u65e0\u5411\u56fe\u6a21\u578b\uff0c\u987e\u540d\u601d\u4e49\uff0c\u5c31\u662f\u56fe\u91cc\u9762\u7684\u8fb9\u662f\u5426\u6709\u65b9\u5411\u3002\u90a3\u4e48\u4ec0\u4e48\u6837\u7684\u6a21\u578b\u7684\u8fb9\u6709\u65b9\u5411\uff0c\u800c\u4ec0\u4e48\u6837\u7684\u6ca1\u65b9\u5411\u5462\uff1f\u8fd9\u4e2a\u5f88\u597d\u60f3\u5230\uff0c\u6709\u65b9\u5411\u7684\u8868\u8fbe\u7684\u662f\u4e00\u79cd\u63a8\u6f14\u5173\u7cfb\uff0c\u4e5f\u5c31\u662f\u5728A\u7684\u524d\u63d0\u4e0b\u51fa\u73b0\u4e86B\uff0c\u8fd9\u79cd\u6a21\u578b\u53c8\u53eb\u505a\u751f\u6210\u5f0f\u6a21\u578b\u3002\u800c\u6ca1\u6709\u65b9\u5411\u8868\u8fbe\u7684\u662f\u4e00\u79cd\u201c\u8fd9\u6837\u5c31\u5bf9\u4e86\u201d\u7684\u5173\u7cfb\uff0c\u4e5f\u5c31\u662fA\u548cB\u540c\u65f6\u5b58\u5728\u5c31\u5bf9\u4e86\uff0c\u8fd9\u79cd\u6a21\u578b\u53c8\u53eb\u505a\u5224\u522b\u5f0f\u6a21\u578b\u3002\u751f\u6210\u5f0f\u6a21\u578b\u4e00\u822c\u7528\u8054\u5408\u6982\u7387\u8ba1\u7b97(\u56e0\u4e3a\u6211\u4eec\u77e5\u9053A\u7684\u524d\u63d0\u4e86\uff0c\u53ef\u4ee5\u7b97\u8054\u5408\u6982\u7387)\uff0c\u5224\u522b\u5f0f\u6a21\u578b\u4e00\u822c\u7528\u6761\u4ef6\u6982\u7387\u8ba1\u7b97(\u56e0\u4e3a\u6211\u4eec\u4e0d\u77e5\u9053\u524d\u63d0\uff0c\u6240\u4ee5\u53ea\u80fd\"\u5047\u8bbe\"A\u6761\u4ef6\u4e0bB\u7684\u6982\u7387)\u3002\u751f\u6210\u5f0f\u6a21\u578b\u7684\u4ee3\u8868\u662f\uff1an\u5143\u8bed\u6cd5\u6a21\u578b\u3001\u9690\u9a6c\u5c14\u53ef\u592b\u6a21\u578b\u3001\u6734\u7d20\u8d1d\u53f6\u65af\u6a21\u578b\u7b49\u3002\u5224\u522b\u5f0f\u6a21\u578b\u7684\u4ee3\u8868\u662f\uff1a\u6700\u5927\u71b5\u6a21\u578b\u3001\u652f\u6301\u5411\u91cf\u673a\u3001\u6761\u4ef6\u968f\u673a\u573a\u3001\u611f\u77e5\u673a\u6a21\u578b\u7b49", 
            "title": "\u518d\u8bf4\u6982\u7387\u56fe\u6a21\u578b"
        }, 
        {
            "location": "/15.probabilistic-model/#_5", 
            "text": "\u6309\u7167\u524d\u9762\u8bf4\u7684\uff0c\u63d0\u5230\u8d1d\u53f6\u65af\u5c31\u662f\u6761\u4ef6\u6982\u7387\uff0c\u6240\u4ee5\u4e5f\u5c31\u662f\u751f\u6210\u5f0f\u6a21\u578b\uff0c\u4e5f\u5c31\u662f\u6709\u5411\u56fe\u6a21\u578b\u3002  \u4e3a\u4e86\u8bf4\u660e\u4ec0\u4e48\u662f\u8d1d\u53f6\u65af\u7f51\u7edc\uff0c\u6211\u4ece\u7f51\u4e0a\u76d7\u53d6\u4e00\u4e2a\u56fe   \u56fe\u4e2d\u6bcf\u4e00\u4e2a\u70b9\u90fd\u53ef\u80fd\u672aTrue\u6216False\uff0c\u4ed6\u4eec\u7684\u6982\u7387\u662f\u5df2\u77e5\u7684\uff0c\u6bd4\u5982x7\u7684\u6982\u7387\u9700\u8981\u6709x4\u548cx5\u6765\u51b3\u5b9a\uff0c\u53ef\u80fd\u662f\u8fd9\u6837\u7684  1\n2\n3\n4\n5\n6\n7\n8\n9 x4 x5  T   F\n\nT  T   0.5 0.5\n\nT  F   0.4 0.6\n\nF  T   0.7 0.3\n\nF  F   0.2 0.8   \u90a3\u4e48\u53ef\u4ee5\u901a\u8fc7\u4e0a\u9762\u7684\u8d1d\u53f6\u65af\u7f51\u7edc\u6765\u4f30\u8ba1\u5982\u679cx1\u4e3aFalse\u60c5\u51b5\u4e0bx6\u4e3aTrue\u7684\u6982\u7387\uff1a  P(x6=T|x1=F)=P(x6=T,x1=F)/P(x1=F)  \u8fd9\u4e2a\u503c\u7ee7\u7eed\u63a8\u5bfc\uff0c\u6700\u7ec8\u53ef\u4ee5\u7531\u6bcf\u4e2a\u8282\u70b9\u7684\u6982\u7387\u6570\u636e\u8ba1\u7b97\u6c42\u5f97\uff0c\u8fd9\u4e48\u8bf4\u6765\uff0c\u8d1d\u53f6\u65af\u7f51\u7edc\u6a21\u578b\u53ef\u4ee5\u901a\u8fc7\u6837\u672c\u5b66\u4e60\u6765\u4f30\u8ba1\u6bcf\u4e2a\u8282\u70b9\u7684\u6982\u7387\uff0c\u4ece\u800c\u8fbe\u5230\u53ef\u4ee5\u9884\u6d4b\u5404\u79cd\u95ee\u9898\u7684\u7ed3\u679c  \u8d1d\u53f6\u65af\u7f51\u7edc\u80fd\u591f\u5728\u5df2\u77e5\u6709\u9650\u7684\u3001\u4e0d\u5b8c\u6574\u7684\u3001\u4e0d\u786e\u5b9a\u4fe1\u606f\u6761\u4ef6\u4e0b\u8fdb\u884c\u5b66\u4e60\u63a8\u7406\uff0c\u6240\u4ee5\u5e7f\u6cdb\u5e94\u7528\u5728\u6545\u969c\u8bca\u65ad\u3001\u7ef4\u4fee\u51b3\u7b56\u3001\u6c49\u8bed\u81ea\u52a8\u5206\u8bcd\u3001\u8bcd\u4e49\u6d88\u6b67\u7b49\u95ee\u9898\u4e0a", 
            "title": "\u8d1d\u53f6\u65af\u7f51\u7edc"
        }, 
        {
            "location": "/15.probabilistic-model/#_6", 
            "text": "\u6309\u7167\u524d\u9762\u8bf4\u7684\uff0c\u63d0\u5230\u9a6c\u5c14\u53ef\u592b\u5c31\u662f\u4e00\u4e2a\u503c\u8ddf\u524d\u9762n\u4e2a\u503c\u6709\u5173\uff0c\u6240\u4ee5\u4e5f\u5c31\u662f\u6761\u4ef6\u6982\u7387\uff0c\u4e5f\u5c31\u662f\u751f\u6210\u5f0f\u6a21\u578b\uff0c\u4e5f\u5c31\u662f\u6709\u5411\u56fe\u6a21\u578b\u3002  \u7ee7\u7eed\u76d7\u56fe   \u97f3\u4e50\u7684\u6bcf\u4e00\u4e2a\u97f3\u4e0d\u662f\u968f\u610f\u4f5c\u51fa\u6765\u7684\uff0c\u662f\u6839\u636e\u66f2\u5b50\u7684\u98ce\u683c\u3001\u548c\u5f26\u3001\u5927\u5c0f\u8c03\u5f0f\u7b49\u6765\u51b3\u5b9a\u7684\uff0c\u4f46\u662f\u56e0\u4e3a\u53ef\u9009\u7684\u97f3\u9ad8\u6709\u591a\u79cd\uff0c\u4e5f\u5c31\u51fa\u73b0\u4e86\u65e0\u6570\u7f8e\u5999\u7684\u65cb\u5f8b\u3002\u56e0\u4e3a\u6709\u7ea6\u675f\uff0c\u6240\u4ee5\u5176\u5b9e\u53ef\u4ee5\u8bf4\u65b0\u7684\u97f3\u548c\u524d\u9762\u7684n\u4e2a\u97f3\u6709\u5173\uff0c\u8fd9\u5176\u5b9e\u662f\u4e00\u4e2a\u9a6c\u5c14\u53ef\u592b\u6a21\u578b\u53ef\u4ee5\u89e3\u91ca\u7684\u4e8b\u60c5\u3002  \u9a6c\u5c14\u53ef\u592b\u6a21\u578b\u8fd8\u53ef\u4ee5\u770b\u6210\u662f\u4e00\u4e2a\u5173\u4e8e\u65f6\u95f4t\u7684\u72b6\u6001\u8f6c\u6362\u8fc7\u7a0b\uff0c\u4e5f\u5c31\u662f\u968f\u673a\u7684\u6709\u9650\u72b6\u6001\u673a\uff0c\u90a3\u4e48\u72b6\u6001\u5e8f\u5217\u7684\u6982\u7387\u53ef\u4ee5\u901a\u8fc7\u8ba1\u7b97\u5f62\u6210\u8be5\u5e8f\u5217\u6240\u6709\u72b6\u6001\u4e4b\u95f4\u8f6c\u79fb\u5f27\u4e0a\u7684\u6982\u7387\u4e58\u79ef\u5f97\u51fa\u3002  \u5982\u679c\u8bf4\u8fd9\u4e2a\u9a6c\u5c14\u53ef\u592b\u662f\u4e24\u9636\u7684\uff0c\u90a3\u4e48\u8f6c\u79fb\u6982\u7387\u53ef\u80fd\u662f\u8fd9\u4e2a\u6837\u5b50\uff1a   \u5f53\u7136\u540e\u9762\u7684\u6982\u7387\u53ea\u662f\u4e3e\u4e86\u4e2a\u4f8b\u5b50\uff0c\u8fd9\u79cd\u60c5\u51b5\u7531\u524d\u4e24\u5217\u51b3\u5b9a\u7684\u7b2c\u4e09\u5217\u4efb\u610f\u503c\u90fd\u4f1a\u6709\u4e00\u4e2a\u6982\u7387  \u6211\u4eec\u901a\u8fc7\u8bad\u7ec3\u6837\u672c\u6765\u5f97\u51fa\u6bcf\u4e00\u4e2a\u6982\u7387\u503c\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u901a\u8fc7\u8bad\u7ec3\u51fa\u7684\u6a21\u578b\u6765\u6839\u636e\u524d\u4e24\u4e2a\u97f3\u662f\u4ec0\u4e48\u800c\u9884\u6d4b\u4e0b\u4e00\u4e2a\u97f3\u662f1\u30012\u30013\u30014\u30015\u4efb\u610f\u4e00\u4e2a\u7684\u6982\u7387\u662f\u591a\u5c11\u4e86\uff0c\u4e5f\u5c31\u662f\u53ef\u4ee5\u81ea\u52a8\u4f5c\u66f2\u4e86\uff0c\u5f53\u7136\u8fd9\u6837\u505a\u51fa\u7684\u66f2\u5b50\u80af\u5b9a\u662f\u4e00\u4e2a\u65e0\u7ebf\u5faa\u73af\u7684\u65cb\u5f8b\uff0c\u4f60\u731c\u731c\u4e3a\u4ec0\u4e48\u3002  \u90a3\u4e48\u6211\u4eec\u518d\u8bf4\u9690\u9a6c\u5c14\u53ef\u592b\u6a21\u578b\uff0c\u8fd9\u91cc\u7684\u201c\u9690\u201d\u6307\u7684\u662f\u5176\u4e2d\u67d0\u4e00\u9636\u7684\u4fe1\u606f\u6211\u4eec\u4e0d\u77e5\u9053\uff0c\u5c31\u50cf\u662f\u6211\u4eec\u77e5\u9053\u4eba\u7684\u7956\u5148\u662f\u4e09\u53f6\u866b\uff0c\u4f46\u662f\u7531\u4e09\u53f6\u866b\u7ecf\u5386\u4e86\u600e\u6837\u7684\u6f14\u53d8\u8fc7\u7a0b\u624d\u6f14\u53d8\u5230\u4eba\u7684\u6837\u5b50\u6211\u4eec\u662f\u4e0d\u77e5\u9053\u7684\uff0c\u6211\u4eec\u53ea\u80fd\u901a\u8fc7\u5316\u77f3\u8d44\u6599\u4e86\u89e3\u5206\u5e03\u4fe1\u606f\uff0c\u5982\u679c\u8fd9\u7c7b\u8d44\u6599\u5f88\u591a\uff0c\u90a3\u4e48\u5c31\u53ef\u4ee5\u5229\u7528\u9690\u9a6c\u5c14\u53ef\u592b\u6a21\u578b\u6765\u5efa\u6a21\uff0c\u56e0\u4e3a\u7f3a\u5c11\u7684\u4fe1\u606f\u8f83\u591a\uff0c\u6240\u4ee5\u8fd9\u4e00\u6a21\u578b\u7684\u7b97\u6cd5\u6bd4\u8f83\u590d\u6742\uff0c\u6bd4\u5982\u524d\u5411\u7b97\u6cd5\u3001\u540e\u5411\u7b97\u6cd5\u4e4b\u7c7b\u6666\u6da9\u7684\u4e1c\u897f\u5c31\u4e0d\u8bf4\u4e86\u3002\u76f8\u5bf9\u4e8e\u539f\u7406\uff0c\u6211\u4eec\u66f4\u5173\u6ce8\u5b83\u7684\u5e94\u7528\uff0c\u9690\u9a6c\u5c14\u53ef\u592b\u6a21\u578b\u5e7f\u6cdb\u5e94\u7528\u5728\u8bcd\u6027\u6807\u6ce8\u3001\u4e2d\u6587\u5206\u8bcd\u7b49\uff0c\u4e3a\u4ec0\u4e48\u80fd\u7528\u5728\u8fd9\u4e24\u4e2a\u5e94\u7528\u4e0a\u5462\uff1f\u4ed4\u7ec6\u60f3\u4e00\u4e0b\u80fd\u770b\u5f97\u51fa\u6765\uff0c\u6bd4\u5982\u4e2d\u6587\u5206\u8bcd\uff0c\u6700\u521d\u4f60\u662f\u4e0d\u77e5\u9053\u600e\u4e48\u5206\u8bcd\u7684\uff0c\u524d\u9762\u7684\u8bcd\u5206\u51fa\u6765\u4e86\uff0c\u4f60\u624d\u4e4b\u540e\u540e\u9762\u7684\u8fb9\u754c\u5728\u54ea\u91cc\uff0c\u4f46\u662f\u5f53\u4f60\u540e\u9762\u505a\u4e86\u5206\u8bcd\u4e4b\u540e\u8fd8\u8981\u9a8c\u8bc1\u524d\u9762\u7684\u5206\u8bcd\u662f\u5426\u6b63\u786e\uff0c\u8fd9\u6837\u524d\u540e\u6709\u4f9d\u8d56\u5173\u7cfb\uff0c\u800c\u4e0d\u786e\u5b9a\u4e2d\u95f4\u72b6\u6001\u7684\u60c5\u51b5\u6700\u9002\u5408\u7528\u9690\u9a6c\u5c14\u53ef\u592b\u6a21\u578b\u6765\u89e3\u91ca", 
            "title": "\u9a6c\u5c14\u53ef\u592b\u6a21\u578b\u548c\u9690\u9a6c\u5c14\u53ef\u592b\u6a21\u578b"
        }, 
        {
            "location": "/15.probabilistic-model/#_7", 
            "text": "\u6309\u7167\u524d\u9762\u6240\u8bf4\u7684\uff0c\u770b\u5230\u71b5\u90a3\u4e48\u4e00\u5b9a\u4f1a\u7528\u5230H(p)=-\u2211plogp\uff0c\u600e\u4e48\u7406\u89e3\u6700\u5927\u71b5\u6a21\u578b\u5462\uff1f\u6211\u4eec\u7684\u6700\u7ec8\u76ee\u7684\u662f\u60f3\u77e5\u9053\u5728\u67d0\u4e00\u4e2a\u4fe1\u606f\u6761\u4ef6B\u4e0b\uff0c\u5f97\u51fa\u67d0\u79cd\u53ef\u80fd\u7684\u7ed3\u679cA\u7684\u6700\u5927\u7684\u6982\u7387\uff0c\u4e5f\u5c31\u662f\u6761\u4ef6\u6982\u7387P(A|B)\u6700\u5927\u7684\u5019\u9009\u7ed3\u679c\u3002\u56e0\u4e3a\u6700\u5927\u71b5\u5c31\u662f\u4e0d\u786e\u5b9a\u6027\u6700\u5927\uff0c\u5176\u5b9e\u4e5f\u5c31\u662f\u6761\u4ef6\u6982\u7387\u6700\u5927\uff0c\u6240\u4ee5\u6c42\u6700\u5927\u7684\u6761\u4ef6\u6982\u7387\u7b49\u540c\u4e8e\u6c42\u6700\u5927\u71b5\uff0c\u800c\u6211\u4eec\u8fd9\u91cc\u7684\u71b5\u5176\u5b9e\u662fH(p)=H(A|B)=-\u2211p(b)p(a|b)log(p(a|b))\uff0c\u4e3a\u4e86\u4f7f\u7528\u8bad\u7ec3\u6570\u636e\u505a\u4f30\u8ba1\uff0c\u8fd9\u91cc\u7684p(a|b)\u53ef\u4ee5\u901a\u8fc7\u8bad\u7ec3\u6570\u636e\u7684\u67d0\u4e9b\u7279\u5f81\u6765\u4f30\u8ba1\uff0c\u6bd4\u5982\u8fd9\u4e9b\u7279\u5f81\u662ffi(a,b)\uff0c\u90a3\u4e48\u505a\u6a21\u578b\u8bad\u7ec3\u7684\u8fc7\u7a0b\u5c31\u7f16\u7a0b\u4e86\u8bad\u7ec3\u2211\u03bbf(a,b)\u4e2d\u7684\u03bb\u53c2\u6570\u7684\u8fc7\u7a0b\uff0c\u81f3\u6b64\u5c31\u6709\u4e9b\u50cf\u673a\u5668\u5b66\u4e60\u7684\u7ebf\u6027\u56de\u5f52\u4e86\uff0c\u8be5\u600e\u4e48\u505a\u5c31\u6e05\u6670\u4e86\u3002\u6240\u4ee5\u5176\u5b9e\u6700\u5927\u71b5\u6a21\u578b\u5c31\u662f\u5229\u7528\u71b5\u7684\u539f\u7406\u548c\u71b5\u7684\u516c\u5f0f\u6765\u7528\u53e6\u5916\u4e00\u79cd\u5f62\u5f0f\u6765\u63cf\u8ff0\u5177\u6709\u6982\u7387\u89c4\u5f8b\u7684\u73b0\u5b9e\u7684", 
            "title": "\u6700\u5927\u71b5\u6a21\u578b"
        }, 
        {
            "location": "/15.probabilistic-model/#_8", 
            "text": "\u573a\u8868\u793a\u53d6\u503c\u8303\u56f4\uff0c\u968f\u673a\u573a\u8868\u793a\u968f\u673a\u53d8\u91cf\u6709\u53d6\u503c\u8303\u56f4\uff0c\u4e5f\u5c31\u662f\u6bcf\u4e2a\u968f\u673a\u53d8\u91cf\u6709\u56fa\u5b9a\u7684\u53d6\u503c\uff0c\u6761\u4ef6\u6307\u7684\u662f\u968f\u673a\u53d8\u91cf\u7684\u53d6\u503c\u7531\u4e00\u5b9a\u7684\u6761\u4ef6\u6982\u7387\u51b3\u5b9a\uff0c\u800c\u8fd9\u91cc\u7684\u6761\u4ef6\u6765\u81ea\u4e8e\u6211\u4eec\u6709\u4e00\u4e9b\u89c2\u5bdf\u503c\uff0c\u8fd9\u662f\u5b83\u533a\u522b\u4e8e\u5176\u4ed6\u968f\u673a\u573a\u7684\u5730\u65b9\u3002\u6761\u4ef6\u968f\u673a\u573a\u4e5f\u53ef\u4ee5\u770b\u505a\u662f\u4e00\u4e2a\u65e0\u5411\u56fe\u6a21\u578b\uff0c\u5b83\u7279\u6b8a\u5c31\u7279\u6b8a\u5728\u7ed9\u5b9a\u89c2\u5bdf\u5e8f\u5217X\u65f6\u67d0\u4e2a\u7279\u5b9a\u7684\u6807\u8bb0\u5e8f\u5217Y\u7684\u6982\u7387\u662f\u4e00\u4e2a\u6307\u6570\u51fd\u6570exp(\u2211\u03bbt+\u2211\u03bcs)\uff0c\u5176\u4e2dt\u662f\u8f6c\u79fb\u51fd\u6570\uff0cs\u662f\u72b6\u6001\u51fd\u6570\uff0c\u6211\u4eec\u9700\u8981\u8bad\u7ec3\u7684\u662f\u03bb\u548c\u03bc\u3002\u6761\u4ef6\u968f\u673a\u573a\u4e3b\u8981\u5e94\u7528\u5728\u6807\u6ce8\u548c\u5207\u5206\u6709\u5e8f\u6570\u636e\u4e0a\uff0c\u5c24\u5176\u5728\u81ea\u7136\u8bed\u8a00\u5904\u7406\u3001\u751f\u7269\u4fe1\u606f\u5b66\u3001\u673a\u5668\u89c6\u89c9\u3001\u7f51\u7edc\u667a\u80fd\u7b49\u65b9\u9762  \u603b\u7ed3\u4e00\u4e0b\uff0c\u6982\u7387\u56fe\u6a21\u578b\u5305\u62ec\u591a\u79cd\u7ed3\u5408\u6982\u7387\u8bba\u548c\u56fe\u8bba\u7684\u6a21\u578b\uff0c\u6839\u636e\u7279\u5b9a\u573a\u666f\u7279\u5b9a\u9700\u6c42\u9009\u62e9\u4e0d\u540c\u7684\u6a21\u578b\uff0c\u6bcf\u79cd\u6a21\u578b\u7684\u53c2\u6570\u90fd\u9700\u8981\u5927\u91cf\u6837\u672c\u8bad\u7ec3\u5f97\u51fa\uff0c\u6bcf\u79cd\u6a21\u578b\u90fd\u662f\u7528\u6765\u6839\u636e\u8bad\u7ec3\u51fa\u6765\u7684\u6982\u7387\u505a\u6700\u4f18\u7ed3\u8bba\u9009\u62e9\u7684\uff0c\u6bd4\u5982\u6839\u636e\u8bad\u7ec3\u51fa\u6765\u7684\u6a21\u578b\u5bf9\u53e5\u5b50\u505a\u6700\u6b63\u786e\u7684\u8bcd\u6027\u6807\u6ce8\u3001\u5b9e\u4f53\u6807\u6ce8\u3001\u5206\u8bcd\u5e8f\u5217\u7b49\uff0c\u672c\u6587\u53ea\u662f\u4ece\u7406\u5ff5\u4e0a\u7684\u89e3\u91ca\u548c\u603b\u7ed3\uff0c\u771f\u7684\u7528\u5230\u67d0\u4e00\u79cd\u6a21\u578b\u8fd8\u662f\u9700\u8981\u6df1\u5165\u7814\u7a76\u539f\u7406\u548c\u516c\u5f0f\u63a8\u5bfc\u4ee5\u53ca\u7f16\u7a0b\u5b9e\u73b0\uff0c\u90a3\u5c31\u4e0d\u662f\u672c\u6587\u8fd9\u79cd\u5c0f\u7bc7\u5e45\u80fd\u591f\u89e3\u91ca\u7684\u5b8c\u7684\u4e86\uff0c\u7b49\u6211\u4eec\u540e\u9762\u8981\u9047\u5230\u5fc5\u987b\u7528\u67d0\u4e00\u79cd\u6a21\u578b\u6765\u5b9e\u73b0\u65f6\u518d\u72e0\u72e0\u5730\u6df1\u5165\u4e00\u4e0b\u3002", 
            "title": "\u6761\u4ef6\u968f\u673a\u573a"
        }, 
        {
            "location": "/16.bag-material/", 
            "text": "\u5927\u6570\u636e\u98ce\u9761\u7684\u4eca\u5929\uff0c\u4e0d\u4ece\u91cc\u9762\u6316\u51fa\u70b9\u6709\u7528\u7684\u4fe1\u606f\u90fd\u4e0d\u597d\u610f\u601d\u89c1\u4eba\uff0c\u4eba\u5de5\u667a\u80fd\u53f7\u79f0\u8de8\u8fc7\u5947\u70b9\uff0c\u7edf\u9738\u4e16\u754c\uff0c\u4ece\u4e00\u53e5\u8bdd\u91cc\u90fd\u8bc6\u522b\u4e0d\u51fa\u4e00\u4e2a\u547d\u540d\u5b9e\u4f53\uff1f\u4e0d\u4f1a\u7684\uff0c\u8ba9\u6211\u4eec\u5927\u8bdd\u81ea\u7136\u8bed\u8a00\u5904\u7406\u7684\u56ca\u4e2d\u53d6\u7269\uff0c\u770b\u770b\u600e\u4e48\u6837\u80fd\u8ba9\u8ba1\u7b97\u673a\u50cf\u4eba\u4e00\u6837\u770b\u51fa\u4e00\u53e5\u8bdd\u91cc\u54ea\u4e2a\u50cf\u4eba\u3001\u54ea\u4e2a\u50cf\u7269 \n\n\n\u672c\u7bc7\u6545\u4e8b\u7eaf\u5c5e\u9152\u540e\u6027\u60c5\u5927\u4f5c\uff0c\u5982\u6709\u5de7\u5408\uff0c\u7eaf\u5c5e\u96f7\u540c\n\n\n\u8bdd\u8bf4\u5929\u4e0b\u5927\u4e8b\uff0c\u5206\u4e45\u5fc5\u5408\uff0c\u5408\u4e45\u5fc5\u5206\u3002\n\n\n\u4e4b\u524d\u8c08\u5230\u4e2d\u6587\u5206\u8bcd\u628a\u6587\u672c\u5207\u5206\u6210\u4e00\u4e2a\u4e00\u4e2a\u8bcd\u8bed\uff0c\u73b0\u5728\u6211\u4eec\u8981\u53cd\u8fc7\u6765\uff0c\u628a\u8be5\u62fc\u4e00\u8d77\u7684\u8bcd\u518d\u62fc\u5230\u4e00\u8d77\uff0c\u627e\u5230\u4e00\u4e2a\u547d\u540d\u5b9e\u4f53\uff0c\u6bd4\u5982\uff1a\u201c\u4e9a\u592a\u7ecf\u5408\u7ec4\u7ec7\u201d\n\n\n\u6761\u4ef6\u968f\u673a\u573a\u7684\u7528\u6b66\u4e4b\u5730\n\n\n\u4e0a\u56de\u4e66\u8bf4\u5230\uff0c\u6982\u7387\u56fe\u6a21\u578b\u4e2d\u7684\u6761\u4ef6\u968f\u673a\u573a\u9002\u7528\u4e8e\u5728\u4e00\u5b9a\u89c2\u6d4b\u503c\u6761\u4ef6\u4e0b\u51b3\u5b9a\u7684\u968f\u673a\u53d8\u91cf\u6709\u6709\u9650\u4e2a\u53d6\u503c\u7684\u60c5\u51b5\uff0c\u5b83\u7279\u6b8a\u5c31\u7279\u6b8a\u5728\u7ed9\u5b9a\u89c2\u5bdf\u5e8f\u5217X\u65f6\u67d0\u4e2a\u7279\u5b9a\u7684\u6807\u8bb0\u5e8f\u5217Y\u7684\u6982\u7387\u662f\u4e00\u4e2a\u6307\u6570\u51fd\u6570exp(\u2211\u03bbt+\u2211\u03bcs)\uff0c\u8fd9\u4e5f\u6b63\u7b26\u5408\u6700\u5927\u71b5\u539f\u7406\u3002\u57fa\u4e8e\u6761\u4ef6\u968f\u673a\u573a\u7684\u547d\u540d\u5b9e\u4f53\u8bc6\u522b\u65b9\u6cd5\u5c5e\u4e8e\u6709\u76d1\u7763\u7684\u5b66\u4e60\u65b9\u6cd5\uff0c\u9700\u8981\u5229\u7528\u5df2\u7ecf\u6807\u6ce8\u597d\u7684\u5927\u89c4\u6a21\u8bed\u6599\u5e93\u8fdb\u884c\u8bad\u7ec3\uff0c\u90a3\u4e48\u5df2\u7ecf\u6807\u6ce8\u597d\u7684\u8bed\u6599\u91cc\u9762\u6709\u4ec0\u4e48\u6837\u7684\u7279\u5f81\u80fd\u591f\u8ba9\u6a21\u578b\u5f97\u4ee5\u5b66\u4e60\u5462\uff1f\n\n\n\u8c08\u547d\u540d\u5b9e\u4f53\u7684\u653e\u5c04\u6027\n\n\n\u4e3a\u4ec0\u4e48\u8bf4\u547d\u540d\u5b9e\u4f53\u662f\u6709\u653e\u5c04\u6027\u7684\u5462\uff1f\u4e3e\u4e2a\u6817\u5b50\uff1a\u201c\u4e2d\u56fd\u79ef\u6781\u53c2\u4e0e\u4e9a\u592a\u7ecf\u5408\u7ec4\u7ec7\u7684\u6d3b\u52a8\u201d\uff0c\u8fd9\u91cc\u9762\u7684\u201c\u4e9a\u592a\u7ecf\u5408\u7ec4\u7ec7\u201d\u662f\u4e00\u4e2a\u547d\u540d\u5b9e\u4f53\uff0c\u5b9a\u775b\u4e00\u77a7\uff0c\u8fd9\u4e2a\u5b9e\u4f53\u7740\u5b9e\u4e0d\u51e1\u554a\uff0c\u6709\u201c\u7ec4\u7ec7\u201d\u4e24\u4e2a\u5b57\uff0c\u8fd9\u4e48\u8bf4\u6765\u8fd9\u4e2a\u5b9e\u4f53\u662f\u4e00\u79cd\u7ec4\u7ec7\u6216\u673a\u6784\uff0c\u8bb0\u4f4f\uff0c\u4e0b\u4e00\u6b21\u5f53\u4f60\u770b\u5230\u201c\u7ec4\u7ec7\u201d\u7684\u65f6\u5019\u548c\u524d\u9762\u51e0\u4e2a\u5b57\u7ec4\u6210\u7684\u4e00\u5b9a\u662f\u4e00\u4e2a\u547d\u540d\u5b9e\u4f53\u3002\u7ee7\u7eed\u89c2\u5bdf\uff0c\u5728\u5b83\u4e4b\u524d\u8f90\u5c04\u51fa\u4e86\u201c\u53c2\u4e0e\u201d\u4e00\u6b21\uff0c\u7ecf\u8fc7\u5927\u89c4\u6a21\u8bed\u6599\u8bad\u7ec3\u540e\u80fd\u53d1\u73b0\uff0c\u624d\u201c\u53c2\u4e0e\u201d\u540e\u9762\u6709\u8f83\u5927\u6982\u7387\u8ddf\u7740\u4e00\u4e2a\u547d\u540d\u5b9e\u4f53\u3002\u7ee7\u7eed\u89c2\u5bdf\uff0c\u5728\u5b83\u4e4b\u540e\u6709\u201c\u7684\u6d3b\u52a8\u201d\uff0c\u90a3\u4e48\u8bf4\u660e\u524d\u9762\u5f88\u53ef\u80fd\u662f\u4e00\u4e2a\u7ec4\u7ec7\u8005\uff0c\u7ec4\u7ec7\u8005\u591a\u534a\u662f\u4e00\u4e2a\u547d\u540d\u5b9e\u4f53\u3002\u8fd9\u5c31\u662f\u57fa\u4e8e\u6761\u4ef6\u968f\u673a\u573a\u505a\u547d\u540d\u5b9e\u4f53\u8bc6\u522b\u7684\u5965\u79d8\uff0c\u8fd9\u5c31\u662f\u547d\u540d\u5b9e\u4f53\u7684\u653e\u5c04\u6027\n\n\n\u7279\u5f81\u6a21\u677f\n\n\n\u524d\u9762\u8bb2\u4e86\u653e\u5c04\u6027\uff0c\u90a3\u4e48\u8bbe\u8ba1\u7279\u5f81\u6a21\u677f\u5c31\u6bd4\u8f83\u5bb9\u6613\u4e86\uff0c\u6211\u4eec\u91c7\u7528\u5f53\u524d\u4f4d\u7f6e\u7684\u524d\u540en\u4e2a\u4f4d\u7f6e\u4e0a\u7684\u5b57/\u8bcd/\u5b57\u6bcd/\u6570\u5b57/\u6807\u70b9\u7b49\u4f5c\u4e3a\u7279\u5f81\uff0c\u56e0\u4e3a\u662f\u57fa\u4e8e\u5df2\u7ecf\u6807\u6ce8\u597d\u7684\u8bed\u6599\uff0c\u6240\u4ee5\u8fd9\u4e9b\u7279\u5f81\u662f\u4ec0\u4e48\u6837\u7684\u8bcd\u6027\u3001\u8bcd\u5f62\u90fd\u662f\u5df2\u77e5\u7684\u3002\n\n\n\u7279\u5f81\u6a21\u677f\u7684\u9009\u62e9\u662f\u548c\u5177\u4f53\u6211\u4eec\u8981\u8bc6\u522b\u7684\u5b9e\u4f53\u7c7b\u522b\u6709\u5173\u7cfb\u7684\uff0c\u8bc6\u522b\u4eba\u540d\u548c\u8bc6\u522b\u673a\u6784\u540d\u7528\u7684\u7279\u5f81\u6a21\u677f\u662f\u4e0d\u4e00\u6837\u7684\uff0c\u56e0\u4e3a\u4ed6\u4eec\u7684\u7279\u70b9\u5c31\u4e0d\u4e00\u6837\uff0c\u4e8b\u5b9e\u4e0a\u8bc6\u522b\u4e2d\u6587\u4eba\u540d\u548c\u8bc6\u522b\u82f1\u6587\u4eba\u540d\u7528\u7684\u7279\u5f81\u6a21\u677f\u4e5f\u662f\u4e0d\u4e00\u6837\u7684\uff0c\u56e0\u4e3a\u4ed6\u4eec\u7684\u7279\u70b9\u5c31\u4e0d\u4e00\u6837\n\n\n\u4e14\u8bf4\u547d\u540d\u5b9e\u4f53\n\n\n\u524d\u9762\u8bb2\u4e86\u4e00\u63fd\u5b50\u539f\u7406\uff0c\u56de\u8fc7\u5934\u6765\u8bb2\u8bb2\u547d\u540d\u5b9e\u4f53\u662f\u4ec0\u4e48\uff0c\u547d\u540d\u5b9e\u4f53\u5305\u62ec\uff1a\u4eba\u540d(\u653f\u6cbb\u5bb6\u3001\u827a\u4eba\u7b49)\u3001\u5730\u540d(\u57ce\u5e02\u3001\u5dde\u3001\u56fd\u5bb6\u3001\u5efa\u7b51\u7b49)\u3001\u7ec4\u7ec7\u673a\u6784\u540d\u3001\u65f6\u95f4\u3001\u6570\u5b57\u3001\u4e13\u6709\u540d\u8bcd(\u7535\u5f71\u540d\u3001\u4e66\u540d\u3001\u9879\u76ee\u540d\u3001\u7535\u8bdd\u53f7\u7801\u7b49)\u3001\u2026\u2026\u3002\u5176\u5b9e\u9886\u57df\u5f88\u591a\uff0c\u4e0d\u540c\u4eba\u9700\u6c42\u4e0d\u4e00\u6837\uff0c\u5173\u6ce8\u7684\u8303\u56f4\u4e5f\u4e0d\u4e00\u6837\u3002\u603b\u4e4b\u4e0d\u5916\u4e4e\u547d\u540d\u6027\u6307\u79f0\u3001\u540d\u8bcd\u6027\u6307\u79f0\u548c\u4ee3\u8bcd\u6027\u6307\u79f0\n\n\n\u81ea\u53e4\u82f1\u96c4\u5468\u56f4\u603b\u6709\u8c0b\u58eb\n\n\n\u57fa\u4e8e\u6761\u4ef6\u968f\u673a\u573a\u7684\u547d\u540d\u5b9e\u4f53\u65b9\u6cd5\u867d\u597d\uff0c\u4f46\u5982\u4f55\u5229\u7528\u597d\u8fd8\u662f\u9700\u8981\u5404\u8def\u8c0b\u58eb\u732e\u8ba1\u732e\u7b56\u3002\u6709\u7684\u4eba\u63d0\u51fa\u901a\u8fc7\u8bcd\u5f62\u4e0a\u4e0b\u6587\u8bad\u7ec3\u6a21\u578b\uff0c\u4e5f\u5c31\u662f\u7ed9\u5b9a\u8bcd\u5f62\u4e0a\u4e0b\u6587\u8bed\u5883\u4e2d\u4ea7\u751f\u5b9e\u4f53\u7684\u6982\u7387\uff1b\u6709\u7684\u4eba\u63d0\u51fa\u901a\u8fc7\u8bcd\u6027\u4e0a\u4e0b\u6587\u8bad\u7ec3\u6a21\u578b\uff0c\u4e5f\u5c31\u662f\u7ed9\u5b9a\u8bcd\u6027\u4e0a\u4e0b\u6587\u8bed\u5883\u4e2d\u4ea7\u751f\u5b9e\u4f53\u7684\u6982\u7387\uff1b\u6709\u7684\u4eba\u63d0\u51fa\u901a\u8fc7\u7ed9\u5b9a\u5b9e\u4f53\u7684\u8bcd\u5f62\u4e32\u4f5c\u4e3a\u5b9e\u4f53\u7684\u6982\u7387\uff1b\u6709\u7684\u4eba\u63d0\u51fa\u901a\u8fc7\u7ed9\u5b9a\u5b9e\u4f53\u7684\u8bcd\u6027\u4e32\u4f5c\u4e3a\u5b9e\u4f53\u7684\u6982\u7387\uff1b\u5f53\u5927\u5bb6\u53d1\u73b0\u8fd9\u56db\u70b9\u603b\u6709\u4e0d\u8db3\u65f6\uff0c\u6709\u8c0b\u58eb\u63d0\u51fa\uff1a\u628a\u56db\u4e2a\u7ed3\u5408\u8d77\u6765\uff01\u8fd9\u771f\u662f\uff1a\u82f1\u96c4\u4ee3\u6709\u4eba\u624d\u51fa\uff0c\u80fd\u6446\u51e0\u51fa\u6446\u51e0\u51fa\u554a\n\n\n\u8bed\u6599\u8bad\u7ec3\u90a3\u4e9b\u4e8b\u513f\n\n\n\u8bed\u6599\u8bad\u7ec3\u90a3\u4e9b\u4e8b\u513f\uff0c\u4e14\u770b\u6211\u673a\u5668\u5b66\u4e60\u6559\u7a0b\u76f8\u5173\u6587\u7ae0\u300a\u673a\u5668\u5b66\u4e60\u7cbe\u7b80\u5165\u95e8\u6559\u7a0b\u300b\uff0c\u9884\u77e5\u540e\u4e8b\u5982\u4f55\uff0c\u4e0b\u56de\u6211\u4e5f\u4e0d\u5206\u89e3\u4e86", 
            "title": "\u5341\u516d-\u81ea\u7136\u8bed\u8a00\u5904\u7406\u4e2d\u7684\u56ca\u4e2d\u53d6\u7269"
        }, 
        {
            "location": "/16.bag-material/#_1", 
            "text": "\u4e4b\u524d\u8c08\u5230\u4e2d\u6587\u5206\u8bcd\u628a\u6587\u672c\u5207\u5206\u6210\u4e00\u4e2a\u4e00\u4e2a\u8bcd\u8bed\uff0c\u73b0\u5728\u6211\u4eec\u8981\u53cd\u8fc7\u6765\uff0c\u628a\u8be5\u62fc\u4e00\u8d77\u7684\u8bcd\u518d\u62fc\u5230\u4e00\u8d77\uff0c\u627e\u5230\u4e00\u4e2a\u547d\u540d\u5b9e\u4f53\uff0c\u6bd4\u5982\uff1a\u201c\u4e9a\u592a\u7ecf\u5408\u7ec4\u7ec7\u201d", 
            "title": "\u8bdd\u8bf4\u5929\u4e0b\u5927\u4e8b\uff0c\u5206\u4e45\u5fc5\u5408\uff0c\u5408\u4e45\u5fc5\u5206\u3002"
        }, 
        {
            "location": "/16.bag-material/#_2", 
            "text": "\u4e0a\u56de\u4e66\u8bf4\u5230\uff0c\u6982\u7387\u56fe\u6a21\u578b\u4e2d\u7684\u6761\u4ef6\u968f\u673a\u573a\u9002\u7528\u4e8e\u5728\u4e00\u5b9a\u89c2\u6d4b\u503c\u6761\u4ef6\u4e0b\u51b3\u5b9a\u7684\u968f\u673a\u53d8\u91cf\u6709\u6709\u9650\u4e2a\u53d6\u503c\u7684\u60c5\u51b5\uff0c\u5b83\u7279\u6b8a\u5c31\u7279\u6b8a\u5728\u7ed9\u5b9a\u89c2\u5bdf\u5e8f\u5217X\u65f6\u67d0\u4e2a\u7279\u5b9a\u7684\u6807\u8bb0\u5e8f\u5217Y\u7684\u6982\u7387\u662f\u4e00\u4e2a\u6307\u6570\u51fd\u6570exp(\u2211\u03bbt+\u2211\u03bcs)\uff0c\u8fd9\u4e5f\u6b63\u7b26\u5408\u6700\u5927\u71b5\u539f\u7406\u3002\u57fa\u4e8e\u6761\u4ef6\u968f\u673a\u573a\u7684\u547d\u540d\u5b9e\u4f53\u8bc6\u522b\u65b9\u6cd5\u5c5e\u4e8e\u6709\u76d1\u7763\u7684\u5b66\u4e60\u65b9\u6cd5\uff0c\u9700\u8981\u5229\u7528\u5df2\u7ecf\u6807\u6ce8\u597d\u7684\u5927\u89c4\u6a21\u8bed\u6599\u5e93\u8fdb\u884c\u8bad\u7ec3\uff0c\u90a3\u4e48\u5df2\u7ecf\u6807\u6ce8\u597d\u7684\u8bed\u6599\u91cc\u9762\u6709\u4ec0\u4e48\u6837\u7684\u7279\u5f81\u80fd\u591f\u8ba9\u6a21\u578b\u5f97\u4ee5\u5b66\u4e60\u5462\uff1f", 
            "title": "\u6761\u4ef6\u968f\u673a\u573a\u7684\u7528\u6b66\u4e4b\u5730"
        }, 
        {
            "location": "/16.bag-material/#_3", 
            "text": "\u4e3a\u4ec0\u4e48\u8bf4\u547d\u540d\u5b9e\u4f53\u662f\u6709\u653e\u5c04\u6027\u7684\u5462\uff1f\u4e3e\u4e2a\u6817\u5b50\uff1a\u201c\u4e2d\u56fd\u79ef\u6781\u53c2\u4e0e\u4e9a\u592a\u7ecf\u5408\u7ec4\u7ec7\u7684\u6d3b\u52a8\u201d\uff0c\u8fd9\u91cc\u9762\u7684\u201c\u4e9a\u592a\u7ecf\u5408\u7ec4\u7ec7\u201d\u662f\u4e00\u4e2a\u547d\u540d\u5b9e\u4f53\uff0c\u5b9a\u775b\u4e00\u77a7\uff0c\u8fd9\u4e2a\u5b9e\u4f53\u7740\u5b9e\u4e0d\u51e1\u554a\uff0c\u6709\u201c\u7ec4\u7ec7\u201d\u4e24\u4e2a\u5b57\uff0c\u8fd9\u4e48\u8bf4\u6765\u8fd9\u4e2a\u5b9e\u4f53\u662f\u4e00\u79cd\u7ec4\u7ec7\u6216\u673a\u6784\uff0c\u8bb0\u4f4f\uff0c\u4e0b\u4e00\u6b21\u5f53\u4f60\u770b\u5230\u201c\u7ec4\u7ec7\u201d\u7684\u65f6\u5019\u548c\u524d\u9762\u51e0\u4e2a\u5b57\u7ec4\u6210\u7684\u4e00\u5b9a\u662f\u4e00\u4e2a\u547d\u540d\u5b9e\u4f53\u3002\u7ee7\u7eed\u89c2\u5bdf\uff0c\u5728\u5b83\u4e4b\u524d\u8f90\u5c04\u51fa\u4e86\u201c\u53c2\u4e0e\u201d\u4e00\u6b21\uff0c\u7ecf\u8fc7\u5927\u89c4\u6a21\u8bed\u6599\u8bad\u7ec3\u540e\u80fd\u53d1\u73b0\uff0c\u624d\u201c\u53c2\u4e0e\u201d\u540e\u9762\u6709\u8f83\u5927\u6982\u7387\u8ddf\u7740\u4e00\u4e2a\u547d\u540d\u5b9e\u4f53\u3002\u7ee7\u7eed\u89c2\u5bdf\uff0c\u5728\u5b83\u4e4b\u540e\u6709\u201c\u7684\u6d3b\u52a8\u201d\uff0c\u90a3\u4e48\u8bf4\u660e\u524d\u9762\u5f88\u53ef\u80fd\u662f\u4e00\u4e2a\u7ec4\u7ec7\u8005\uff0c\u7ec4\u7ec7\u8005\u591a\u534a\u662f\u4e00\u4e2a\u547d\u540d\u5b9e\u4f53\u3002\u8fd9\u5c31\u662f\u57fa\u4e8e\u6761\u4ef6\u968f\u673a\u573a\u505a\u547d\u540d\u5b9e\u4f53\u8bc6\u522b\u7684\u5965\u79d8\uff0c\u8fd9\u5c31\u662f\u547d\u540d\u5b9e\u4f53\u7684\u653e\u5c04\u6027", 
            "title": "\u8c08\u547d\u540d\u5b9e\u4f53\u7684\u653e\u5c04\u6027"
        }, 
        {
            "location": "/16.bag-material/#_4", 
            "text": "\u524d\u9762\u8bb2\u4e86\u653e\u5c04\u6027\uff0c\u90a3\u4e48\u8bbe\u8ba1\u7279\u5f81\u6a21\u677f\u5c31\u6bd4\u8f83\u5bb9\u6613\u4e86\uff0c\u6211\u4eec\u91c7\u7528\u5f53\u524d\u4f4d\u7f6e\u7684\u524d\u540en\u4e2a\u4f4d\u7f6e\u4e0a\u7684\u5b57/\u8bcd/\u5b57\u6bcd/\u6570\u5b57/\u6807\u70b9\u7b49\u4f5c\u4e3a\u7279\u5f81\uff0c\u56e0\u4e3a\u662f\u57fa\u4e8e\u5df2\u7ecf\u6807\u6ce8\u597d\u7684\u8bed\u6599\uff0c\u6240\u4ee5\u8fd9\u4e9b\u7279\u5f81\u662f\u4ec0\u4e48\u6837\u7684\u8bcd\u6027\u3001\u8bcd\u5f62\u90fd\u662f\u5df2\u77e5\u7684\u3002  \u7279\u5f81\u6a21\u677f\u7684\u9009\u62e9\u662f\u548c\u5177\u4f53\u6211\u4eec\u8981\u8bc6\u522b\u7684\u5b9e\u4f53\u7c7b\u522b\u6709\u5173\u7cfb\u7684\uff0c\u8bc6\u522b\u4eba\u540d\u548c\u8bc6\u522b\u673a\u6784\u540d\u7528\u7684\u7279\u5f81\u6a21\u677f\u662f\u4e0d\u4e00\u6837\u7684\uff0c\u56e0\u4e3a\u4ed6\u4eec\u7684\u7279\u70b9\u5c31\u4e0d\u4e00\u6837\uff0c\u4e8b\u5b9e\u4e0a\u8bc6\u522b\u4e2d\u6587\u4eba\u540d\u548c\u8bc6\u522b\u82f1\u6587\u4eba\u540d\u7528\u7684\u7279\u5f81\u6a21\u677f\u4e5f\u662f\u4e0d\u4e00\u6837\u7684\uff0c\u56e0\u4e3a\u4ed6\u4eec\u7684\u7279\u70b9\u5c31\u4e0d\u4e00\u6837", 
            "title": "\u7279\u5f81\u6a21\u677f"
        }, 
        {
            "location": "/16.bag-material/#_5", 
            "text": "\u524d\u9762\u8bb2\u4e86\u4e00\u63fd\u5b50\u539f\u7406\uff0c\u56de\u8fc7\u5934\u6765\u8bb2\u8bb2\u547d\u540d\u5b9e\u4f53\u662f\u4ec0\u4e48\uff0c\u547d\u540d\u5b9e\u4f53\u5305\u62ec\uff1a\u4eba\u540d(\u653f\u6cbb\u5bb6\u3001\u827a\u4eba\u7b49)\u3001\u5730\u540d(\u57ce\u5e02\u3001\u5dde\u3001\u56fd\u5bb6\u3001\u5efa\u7b51\u7b49)\u3001\u7ec4\u7ec7\u673a\u6784\u540d\u3001\u65f6\u95f4\u3001\u6570\u5b57\u3001\u4e13\u6709\u540d\u8bcd(\u7535\u5f71\u540d\u3001\u4e66\u540d\u3001\u9879\u76ee\u540d\u3001\u7535\u8bdd\u53f7\u7801\u7b49)\u3001\u2026\u2026\u3002\u5176\u5b9e\u9886\u57df\u5f88\u591a\uff0c\u4e0d\u540c\u4eba\u9700\u6c42\u4e0d\u4e00\u6837\uff0c\u5173\u6ce8\u7684\u8303\u56f4\u4e5f\u4e0d\u4e00\u6837\u3002\u603b\u4e4b\u4e0d\u5916\u4e4e\u547d\u540d\u6027\u6307\u79f0\u3001\u540d\u8bcd\u6027\u6307\u79f0\u548c\u4ee3\u8bcd\u6027\u6307\u79f0", 
            "title": "\u4e14\u8bf4\u547d\u540d\u5b9e\u4f53"
        }, 
        {
            "location": "/16.bag-material/#_6", 
            "text": "\u57fa\u4e8e\u6761\u4ef6\u968f\u673a\u573a\u7684\u547d\u540d\u5b9e\u4f53\u65b9\u6cd5\u867d\u597d\uff0c\u4f46\u5982\u4f55\u5229\u7528\u597d\u8fd8\u662f\u9700\u8981\u5404\u8def\u8c0b\u58eb\u732e\u8ba1\u732e\u7b56\u3002\u6709\u7684\u4eba\u63d0\u51fa\u901a\u8fc7\u8bcd\u5f62\u4e0a\u4e0b\u6587\u8bad\u7ec3\u6a21\u578b\uff0c\u4e5f\u5c31\u662f\u7ed9\u5b9a\u8bcd\u5f62\u4e0a\u4e0b\u6587\u8bed\u5883\u4e2d\u4ea7\u751f\u5b9e\u4f53\u7684\u6982\u7387\uff1b\u6709\u7684\u4eba\u63d0\u51fa\u901a\u8fc7\u8bcd\u6027\u4e0a\u4e0b\u6587\u8bad\u7ec3\u6a21\u578b\uff0c\u4e5f\u5c31\u662f\u7ed9\u5b9a\u8bcd\u6027\u4e0a\u4e0b\u6587\u8bed\u5883\u4e2d\u4ea7\u751f\u5b9e\u4f53\u7684\u6982\u7387\uff1b\u6709\u7684\u4eba\u63d0\u51fa\u901a\u8fc7\u7ed9\u5b9a\u5b9e\u4f53\u7684\u8bcd\u5f62\u4e32\u4f5c\u4e3a\u5b9e\u4f53\u7684\u6982\u7387\uff1b\u6709\u7684\u4eba\u63d0\u51fa\u901a\u8fc7\u7ed9\u5b9a\u5b9e\u4f53\u7684\u8bcd\u6027\u4e32\u4f5c\u4e3a\u5b9e\u4f53\u7684\u6982\u7387\uff1b\u5f53\u5927\u5bb6\u53d1\u73b0\u8fd9\u56db\u70b9\u603b\u6709\u4e0d\u8db3\u65f6\uff0c\u6709\u8c0b\u58eb\u63d0\u51fa\uff1a\u628a\u56db\u4e2a\u7ed3\u5408\u8d77\u6765\uff01\u8fd9\u771f\u662f\uff1a\u82f1\u96c4\u4ee3\u6709\u4eba\u624d\u51fa\uff0c\u80fd\u6446\u51e0\u51fa\u6446\u51e0\u51fa\u554a", 
            "title": "\u81ea\u53e4\u82f1\u96c4\u5468\u56f4\u603b\u6709\u8c0b\u58eb"
        }, 
        {
            "location": "/16.bag-material/#_7", 
            "text": "\u8bed\u6599\u8bad\u7ec3\u90a3\u4e9b\u4e8b\u513f\uff0c\u4e14\u770b\u6211\u673a\u5668\u5b66\u4e60\u6559\u7a0b\u76f8\u5173\u6587\u7ae0\u300a\u673a\u5668\u5b66\u4e60\u7cbe\u7b80\u5165\u95e8\u6559\u7a0b\u300b\uff0c\u9884\u77e5\u540e\u4e8b\u5982\u4f55\uff0c\u4e0b\u56de\u6211\u4e5f\u4e0d\u5206\u89e3\u4e86", 
            "title": "\u8bed\u6599\u8bad\u7ec3\u90a3\u4e9b\u4e8b\u513f"
        }, 
        {
            "location": "/17.specific-mehtod/", 
            "text": "\u5206\u8bcd\u3001\u547d\u540d\u5b9e\u4f53\u8bc6\u522b\u548c\u8bcd\u6027\u6807\u6ce8\u8fd9\u4e09\u9879\u6280\u672f\u5982\u679c\u8fbe\u4e0d\u5230\u5f88\u9ad8\u7684\u6c34\u5e73\uff0c\u662f\u96be\u4ee5\u5efa\u7acb\u8d77\u9ad8\u6027\u80fd\u7684\u81ea\u7136\u8bed\u8a00\u5904\u7406\u7cfb\u7edf\uff0c\u4e5f\u5c31\u96be\u4ee5\u5b9e\u73b0\u9ad8\u8d28\u91cf\u7684\u804a\u5929\u673a\u5668\u4eba\uff0c\u800c\u8bcd\u6027\u662f\u5e2e\u52a9\u8ba1\u7b97\u673a\u7406\u89e3\u8bed\u8a00\u542b\u4e49\u7684\u5173\u952e\uff0c\u672c\u8282\u6765\u4ecb\u7ecd\u4e00\u4e9b\u8bcd\u6027\u6807\u6ce8\u7684\u5177\u4f53\u65b9\u6cd5 \n\n\n\u4f55\u4e3a\u8bcd\u6027\n\n\n\u5e38\u8bf4\u7684\u8bcd\u6027\u5305\u62ec\uff1a\u540d\u3001\u52a8\u3001\u5f62\u3001\u6570\u3001\u91cf\u3001\u4ee3\u3001\u526f\u3001\u4ecb\u3001\u8fde\u3001\u52a9\u3001\u53f9\u3001\u62df\u58f0\u3002\u4f46\u81ea\u7136\u8bed\u8a00\u5904\u7406\u4e2d\u8981\u5206\u8fa8\u7684\u8bcd\u6027\u8981\u66f4\u591a\u66f4\u7cbe\u7ec6\uff0c\u6bd4\u5982\uff1a\u533a\u522b\u8bcd\u3001\u65b9\u4f4d\u8bcd\u3001\u6210\u8bed\u3001\u4e60\u7528\u8bed\u3001\u673a\u6784\u56e2\u4f53\u3001\u65f6\u95f4\u8bcd\u7b49\uff0c\u591a\u8fbe100\u591a\u79cd\u3002\n\n\n\u6c49\u8bed\u8bcd\u6027\u6807\u6ce8\u6700\u5927\u7684\u56f0\u96be\u662f\u201c\u517c\u7c7b\u201d\uff0c\u4e5f\u5c31\u662f\u4e00\u4e2a\u8bcd\u5728\u4e0d\u540c\u8bed\u5883\u4e2d\u6709\u4e0d\u540c\u7684\u8bcd\u6027\uff0c\u800c\u4e14\u5f88\u96be\u4ece\u5f62\u5f0f\u4e0a\u8bc6\u522b\u3002\n\n\n\u8bcd\u6027\u6807\u6ce8\u8fc7\u7a0b\n\n\n\u4e3a\u4e86\u89e3\u51b3\u8bcd\u6027\u6807\u6ce8\u65e0\u6cd5\u8fbe\u5230100%\u51c6\u786e\u7684\u95ee\u9898\uff0c\u8bcd\u6027\u6807\u6ce8\u4e00\u822c\u8981\u7ecf\u8fc7\u201c\u6807\u6ce8\u201d\u548c\u201c\u6821\u9a8c\u201d\u4e24\u4e2a\u8fc7\u7a0b\uff0c\u7b2c\u4e00\u6b65\u201c\u6807\u6ce8\u201d\u6839\u636e\u89c4\u5219\u6216\u7edf\u8ba1\u7684\u65b9\u6cd5\u505a\u8bcd\u6027\u6807\u6ce8\uff0c\u7b2c\u4e8c\u6b65\u201c\u6821\u9a8c\u201d\u901a\u8fc7\u4e00\u81f4\u6027\u68c0\u67e5\u548c\u81ea\u52a8\u6821\u5bf9\u7b49\u65b9\u6cd5\u6765\u4fee\u6b63\u3002\n\n\n\u8bcd\u6027\u6807\u6ce8\u7684\u5177\u4f53\u65b9\u6cd5\n\n\n\u8bcd\u6027\u6807\u6ce8\u5177\u4f53\u65b9\u6cd5\u5305\u62ec\uff1a\u57fa\u4e8e\u7edf\u8ba1\u6a21\u578b\u7684\u65b9\u6cd5\u3001\u57fa\u4e8e\u89c4\u5219\u7684\u65b9\u6cd5\u548c\u4e24\u8005\u7ed3\u5408\u7684\u65b9\u6cd5\u3002\u4e0b\u9762\u6211\u4eec\u5206\u522b\u6765\u4ecb\u7ecd\u3002\n\n\n\u57fa\u4e8e\u7edf\u8ba1\u6a21\u578b\u7684\u8bcd\u6027\u6807\u6ce8\u65b9\u6cd5\n\n\n\u63d0\u5230\u57fa\u4e8e\u7edf\u8ba1\u6a21\u578b\uff0c\u52bf\u5fc5\u610f\u5473\u7740\u6211\u4eec\u8981\u5229\u7528\u5927\u91cf\u5df2\u7ecf\u6807\u6ce8\u597d\u7684\u8bed\u6599\u5e93\u6765\u505a\u8bad\u7ec3\uff0c\u540c\u65f6\u8981\u5148\u9009\u62e9\u4e00\u4e2a\u5408\u9002\u7684\u8bad\u7ec3\u7528\u7684\u6570\u5b66\u6a21\u578b\uff0c\u300a\u81ea\u5df1\u52a8\u624b\u505a\u804a\u5929\u673a\u5668\u4eba \u5341\u4e94-\u4e00\u7bc7\u6587\u7ae0\u8bfb\u61c2\u62ff\u4e86\u56fe\u7075\u5956\u548c\u8bfa\u8d1d\u5c14\u5956\u7684\u6982\u7387\u56fe\u6a21\u578b\u300b\u4e2d\u6211\u4eec\u4ecb\u7ecd\u4e86\u6982\u7387\u56fe\u6a21\u578b\u4e2d\u7684\u9690\u9a6c\u5c14\u79d1\u592b\u6a21\u578b(HMM)\u6bd4\u8f83\u9002\u5408\u8bcd\u6027\u6807\u6ce8\u8fd9\u79cd\u57fa\u4e8e\u89c2\u5bdf\u5e8f\u5217\u6765\u505a\u6807\u6ce8\u7684\u60c5\u5f62\u3002\u8bed\u8a00\u6a21\u578b\u9009\u62e9\u597d\u4e86\uff0c\u4e0b\u9762\u8981\u505a\u7684\u5c31\u662f\u57fa\u4e8e\u8bed\u6599\u5e93\u6765\u8bad\u7ec3\u6a21\u578b\u53c2\u6570\uff0c\u90a3\u4e48\u6211\u4eec\u6a21\u578b\u53c2\u6570\u521d\u503c\u5982\u4f55\u8bbe\u7f6e\u5462\uff1f\u8fd9\u91cc\u9762\u5c31\u6709\u6280\u5de7\u4e86\n\n\n\u9690\u9a6c\u5c14\u53ef\u592b\u6a21\u578b\u53c2\u6570\u521d\u59cb\u5316\u7684\u6280\u5de7\n\n\n\u6a21\u578b\u53c2\u6570\u521d\u59cb\u5316\u662f\u5728\u6211\u4eec\u5c1a\u672a\u5229\u7528\u8bed\u6599\u5e93\u4e4b\u524d\u7528\u6700\u5c0f\u7684\u6210\u672c\u548c\u6700\u63a5\u8fd1\u6700\u4f18\u89e3\u7684\u76ee\u6807\u6765\u8bbe\u5b9a\u521d\u503c\u3002HMM\u662f\u4e00\u79cd\u57fa\u4e8e\u6761\u4ef6\u6982\u7387\u7684\u751f\u6210\u5f0f\u6a21\u578b\uff0c\u6240\u4ee5\u6a21\u578b\u53c2\u6570\u662f\u751f\u6210\u6982\u7387\uff0c\u90a3\u4e48\u6211\u4eec\u4e0d\u59a8\u5c31\u5047\u8bbe\u6bcf\u4e2a\u8bcd\u7684\u751f\u6210\u6982\u7387\u5c31\u662f\u5b83\u6240\u6709\u53ef\u80fd\u7684\u8bcd\u6027\u4e2a\u6570\u7684\u5012\u6570\uff0c\u8fd9\u4e2a\u662f\u8ba1\u7b97\u6700\u7b80\u5355\u53c8\u6700\u6709\u53ef\u80fd\u63a5\u8fd1\u6700\u4f18\u89e3\u7684\u751f\u6210\u6982\u7387\u4e86\u3002\u6bcf\u4e2a\u8bcd\u7684\u6240\u6709\u53ef\u80fd\u7684\u8bcd\u6027\u662f\u6211\u4eec\u5df2\u7ecf\u6709\u7684\u8bcd\u8868\u91cc\u6807\u8bb0\u597d\u7684\uff0c\u8fd9\u4e2a\u8bcd\u8868\u7684\u751f\u6210\u65b9\u6cd5\u5c31\u6bd4\u8f83\u7b80\u5355\u4e86\uff0c\u6211\u4eec\u4e0d\u662f\u6709\u5df2\u7ecf\u6807\u6ce8\u597d\u7684\u8bed\u6599\u5e93\u561b\uff0c\u5f88\u597d\u7edf\u8ba1\u3002\u90a3\u4e48\u5982\u679c\u67d0\u4e2a\u8bcd\u5728\u8bcd\u8868\u91cc\u6ca1\u6709\u5462\uff1f\u8fd9\u65f6\u6211\u4eec\u53ef\u4ee5\u628a\u5b83\u7684\u751f\u6210\u6982\u7387\u521d\u503c\u8bbe\u7f6e\u4e3a0\u3002\u8fd9\u5c31\u662f\u9690\u9a6c\u5c14\u53ef\u592b\u6a21\u578b\u53c2\u6570\u521d\u59cb\u5316\u7684\u6280\u5de7\uff0c\u603b\u4e4b\u539f\u5219\u5c31\u662f\u7528\u6700\u5c0f\u7684\u6210\u672c\u548c\u6700\u63a5\u8fd1\u6700\u4f18\u89e3\u7684\u76ee\u6807\u6765\u8bbe\u5b9a\u521d\u503c\u3002\u4e00\u65e6\u5b8c\u6210\u521d\u59cb\u503c\u8bbe\u5b9a\u540e\u5c31\u53ef\u4ee5\u5229\u7528\u524d\u5411\u540e\u5411\u7b97\u6cd5\u8fdb\u884c\u8bad\u7ec3\u4e86\u3002\n\n\n\u57fa\u4e8e\u89c4\u5219\u7684\u8bcd\u6027\u6807\u6ce8\u65b9\u6cd5\n\n\n\u89c4\u5219\u5c31\u662f\u6211\u4eec\u65e2\u5b9a\u597d\u4e00\u6279\u642d\u914d\u5173\u7cfb\u548c\u4e0a\u4e0b\u6587\u8bed\u5883\u7684\u89c4\u5219\uff0c\u5224\u65ad\u5b9e\u9645\u8bed\u5883\u7b26\u5408\u54ea\u4e00\u79cd\u5219\u6309\u7167\u89c4\u5219\u6765\u6807\u6ce8\u8bcd\u6027\u3002\u8fd9\u79cd\u65b9\u6cd5\u6bd4\u8f83\u53e4\u8001\uff0c\u9002\u5408\u4e8e\u65e2\u6709\u89c4\u5219\uff0c\u5bf9\u4e8e\u517c\u8bcd\u7684\u8bcd\u6027\u8bc6\u522b\u6548\u679c\u8f83\u597d\uff0c\u4f46\u4e0d\u9002\u5408\u4e8e\u5982\u4eca\u7f51\u7edc\u65b0\u8bcd\u5c42\u51fa\u4e0d\u7a77\u3001\u7f51\u7edc\u7528\u8bed\u65b0\u89c4\u5219\u7684\u60c5\u51b5\u3002\u4e8e\u662f\u4e4e\uff0c\u6709\u4eba\u5f00\u59cb\u7814\u7a76\u901a\u8fc7\u673a\u5668\u5b66\u4e60\u6765\u81ea\u52a8\u63d0\u53d6\u89c4\u5219\uff0c\u600e\u4e48\u63d0\u53d6\u5462\uff1f\u4e0d\u662f\u968f\u4fbf\u7ed9\u4e00\u5806\u8bed\u6599\uff0c\u5b83\u76f4\u63a5\u6765\u751f\u6210\u89c4\u5219\uff0c\u800c\u662f\u6839\u636e\u521d\u59cb\u6807\u6ce8\u5668\u6807\u6ce8\u51fa\u6765\u7684\u7ed3\u679c\u548c\u4eba\u5de5\u6807\u6ce8\u7684\u7ed3\u679c\u7684\u5dee\u8ddd\uff0c\u6765\u751f\u6210\u4e00\u79cd\u4fee\u6b63\u6807\u6ce8\u7684\u8f6c\u6362\u89c4\u5219\uff0c\u8fd9\u662f\u4e00\u79cd\u9519\u8bef\u9a71\u52a8\u7684\u5b66\u4e60\u65b9\u6cd5\u3002\u57fa\u4e8e\u89c4\u5219\u7684\u65b9\u6cd5\u8fd8\u6709\u4e00\u4e2a\u597d\u5904\u5728\u4e8e\uff1a\u7ecf\u8fc7\u4eba\u5de5\u6821\u603b\u7ed3\u51fa\u7684\u5927\u91cf\u6709\u7528\u4fe1\u606f\u53ef\u4ee5\u8865\u5145\u548c\u8c03\u6574\u89c4\u5219\u5e93\uff0c\u8fd9\u662f\u7edf\u8ba1\u65b9\u6cd5\u505a\u4e0d\u5230\u7684\u3002\n\n\n\u7edf\u8ba1\u65b9\u6cd5\u548c\u89c4\u5219\u65b9\u6cd5\u76f8\u7ed3\u5408\u7684\u8bcd\u6027\u6807\u6ce8\u65b9\u6cd5\n\n\n\u7edf\u8ba1\u65b9\u6cd5\u8986\u76d6\u9762\u6bd4\u8f83\u5e7f\uff0c\u65b0\u8bcd\u8001\u8bcd\u901a\u5403\uff0c\u5e38\u89c4\u975e\u5e38\u89c4\u901a\u5403\uff0c\u4f46\u5bf9\u517c\u8bcd\u3001\u6b67\u4e49\u7b49\u603b\u662f\u7528\u7ecf\u9a8c\u5224\u65ad\uff0c\u6548\u679c\u4e0d\u597d\u3002\u89c4\u5219\u65b9\u6cd5\u5bf9\u517c\u8bcd\u3001\u6b67\u4e49\u8bc6\u522b\u6bd4\u8f83\u64c5\u957f\uff0c\u4f46\u662f\u89c4\u5219\u603b\u662f\u8986\u76d6\u4e0d\u5168\u3002\u56e0\u6b64\u4e24\u8005\u7ed3\u5408\u518d\u597d\u4e0d\u8fc7\uff0c\u5148\u901a\u8fc7\u89c4\u5219\u6392\u6b67\uff0c\u518d\u901a\u8fc7\u7edf\u8ba1\u6807\u6ce8\uff0c\u6700\u540e\u7ecf\u8fc7\u6821\u5bf9\uff0c\u53ef\u4ee5\u5f97\u5230\u6b63\u786e\u7684\u6807\u6ce8\u7ed3\u679c\u3002\u5728\u4e24\u8005\u7ed3\u5408\u7684\u8bcd\u6027\u6807\u6ce8\u65b9\u6cd5\u4e2d\uff0c\u6709\u4e00\u79cd\u601d\u8def\u53ef\u4ee5\u5145\u5206\u53d1\u6325\u4e24\u8005\u4f18\u52bf\uff0c\u907f\u514d\u52a3\u52bf\uff0c\u5c31\u662f\u9996\u9009\u7edf\u8ba1\u65b9\u6cd5\u6807\u6ce8\uff0c\u540c\u65f6\u8ba1\u7b97\u8ba1\u7b97\u5b83\u7684\u7f6e\u4fe1\u5ea6\u6216\u9519\u8bef\u7387\uff0c\u8fd9\u6837\u6765\u5224\u65ad\u662f\u5426\u7ed3\u679c\u662f\u5426\u53ef\u7591\uff0c\u5728\u53ef\u7591\u60c5\u51b5\u4e0b\u91c7\u7528\u89c4\u5219\u65b9\u6cd5\u6765\u8fdb\u884c\u6b67\u4e49\u6d88\u89e3\uff0c\u8fd9\u6837\u8fbe\u5230\u6700\u4f73\u6548\u679c\u3002\n\n\n\u8bcd\u6027\u6807\u6ce8\u7684\u6821\u9a8c\n\n\n\u505a\u5b8c\u8bcd\u6027\u6807\u6ce8\u5e76\u6ca1\u6709\u7ed3\u675f\uff0c\u9700\u8981\u7ecf\u8fc7\u6821\u9a8c\u6765\u786e\u5b9a\u6b63\u786e\u6027\u4ee5\u53ca\u4fee\u6b63\u7ed3\u679c\u3002\n\n\n\u7b2c\u4e00\u79cd\u6821\u9a8c\u65b9\u6cd5\u5c31\u662f\u68c0\u67e5\u8bcd\u6027\u6807\u6ce8\u7684\u4e00\u81f4\u6027\u3002\u4e00\u81f4\u6027\u6307\u7684\u662f\u5728\u6240\u6709\u6807\u6ce8\u7684\u7ed3\u679c\u4e2d\uff0c\u5177\u6709\u76f8\u540c\u8bed\u5883\u4e0b\u540c\u4e00\u4e2a\u8bcd\u7684\u6807\u6ce8\u662f\u5426\u90fd\u76f8\u540c\uff0c\u90a3\u4e48\u662f\u4ec0\u4e48\u539f\u56e0\u5bfc\u81f4\u7684\u8fd9\u79cd\u4e0d\u4e00\u81f4\u5462\uff1f\u4e00\u79cd\u60c5\u51b5\u5c31\u662f\u8fd9\u7c7b\u8bcd\u5c31\u662f\u517c\u7c7b\u8bcd\uff0c\u53ef\u80fd\u88ab\u6807\u8bb0\u4e3a\u4e0d\u540c\u8bcd\u6027\u3002\u53e6\u4e00\u79cd\u60c5\u51b5\u662f\u975e\u517c\u7c7b\u8bcd\uff0c\u4f46\u662f\u7531\u4e8e\u4eba\u5de5\u6821\u9a8c\u6216\u8005\u5176\u4ed6\u539f\u56e0\u5bfc\u81f4\u6807\u8bb0\u4e3a\u4e0d\u540c\u8bcd\u6027\u3002\u8fbe\u5230100%\u7684\u4e00\u81f4\u6027\u662f\u4e0d\u53ef\u80fd\u7684\uff0c\u6240\u4ee5\u6211\u4eec\u9700\u8981\u4fdd\u8bc1\u4e00\u81f4\u6027\u5904\u4e8e\u67d0\u4e2a\u8303\u56f4\u5185\uff0c\u7531\u4e8e\u8bcd\u6570\u76ee\u8f83\u591a\uff0c\u8bcd\u6027\u8f83\u591a\uff0c\u4e00\u81f4\u6027\u6307\u6807\u65e0\u6cd5\u901a\u8fc7\u67d0\u4e00\u79cd\u8ba1\u7b97\u516c\u5f0f\u6765\u6c42\u5f97\uff0c\u56e0\u6b64\u53ef\u4ee5\u57fa\u4e8e\u805a\u7c7b\u548c\u5206\u7c7b\u7684\u65b9\u6cd5\uff0c\u6839\u636e\u6b27\u5f0f\u8ddd\u79bb\u6765\u5b9a\u4e49\u4e00\u81f4\u6027\u6307\u6807\uff0c\u5e76\u8bbe\u5b9a\u4e00\u4e2a\u9608\u503c\uff0c\u4fdd\u8bc1\u4e00\u81f4\u6027\u5728\u9608\u503c\u8303\u56f4\u5185\u3002\n\n\n\u7b2c\u4e8c\u79cd\u6821\u9a8c\u65b9\u6cd5\u5c31\u662f\u8bcd\u6027\u6807\u6ce8\u7684\u81ea\u52a8\u6821\u5bf9\u3002\u81ea\u52a8\u6821\u5bf9\u987e\u540d\u601d\u4e49\u5c31\u662f\u4e0d\u9700\u8981\u4eba\u53c2\u4e0e\uff0c\u76f4\u63a5\u627e\u51fa\u9519\u8bef\u7684\u6807\u6ce8\u5e76\u4fee\u6b63\uff0c\u8fd9\u79cd\u65b9\u6cd5\u66f4\u9002\u7528\u4e8e\u4e00\u4e2a\u8bcd\u7684\u8bcd\u6027\u6807\u6ce8\u901a\u7bc7\u5168\u9519\u7684\u60c5\u51b5\uff0c\u56e0\u4e3a\u8fd9\u79cd\u60c5\u51b5\u57fa\u4e8e\u6570\u636e\u6316\u6398\u548c\u89c4\u5219\u5b66\u4e60\u65b9\u6cd5\u6765\u505a\u5224\u65ad\u4f1a\u76f8\u5bf9\u6bd4\u8f83\u51c6\u786e\u3002\u901a\u8fc7\u5927\u89c4\u6a21\u8bad\u7ec3\u8bed\u6599\u6765\u751f\u6210\u8bcd\u6027\u6821\u5bf9\u51b3\u7b56\u8868\uff0c\u7136\u540e\u6839\u636e\u8fd9\u4e2a\u51b3\u7b56\u8868\u6765\u627e\u901a\u7bc7\u5168\u9519\u7684\u8bcd\u6027\u6807\u6ce8\u5e76\u505a\u81ea\u52a8\u4fee\u6b63\u3002\n\n\n\u603b\u7ed3\n\n\n\u8bcd\u6027\u6807\u6ce8\u7684\u65b9\u6cd5\u4e3b\u8981\u6709\u57fa\u4e8e\u7edf\u8ba1\u548c\u57fa\u4e8e\u89c4\u5219\u7684\u65b9\u6cd5\uff0c\u53e6\u5916\u8fd8\u5305\u62ec\u540e\u671f\u6821\u9a8c\u7684\u8fc7\u7a0b\u3002\u8bcd\u6027\u6807\u6ce8\u662f\u5e2e\u52a9\u8ba1\u7b97\u673a\u7406\u89e3\u8bed\u8a00\u542b\u4e49\u7684\u5173\u952e\uff0c\u6709\u4e86\u8bcd\u6027\u6807\u6ce8\uff0c\u6211\u4eec\u624d\u53ef\u4ee5\u8fdb\u4e00\u6b65\u786e\u5b9a\u53e5\u6cd5\u548c\u8bed\u4e49\uff0c\u624d\u6709\u53ef\u80fd\u8ba9\u673a\u5668\u7406\u89e3\u8bed\u8a00\u7684\u542b\u4e49\uff0c\u624d\u6709\u53ef\u80fd\u5b9e\u73b0\u804a\u5929\u673a\u5668\u4eba\u7684\u68a6\u60f3", 
            "title": "\u5341\u4e03-\u8bcd\u6027\u81ea\u52a8\u6807\u6ce8"
        }, 
        {
            "location": "/17.specific-mehtod/#_1", 
            "text": "\u5e38\u8bf4\u7684\u8bcd\u6027\u5305\u62ec\uff1a\u540d\u3001\u52a8\u3001\u5f62\u3001\u6570\u3001\u91cf\u3001\u4ee3\u3001\u526f\u3001\u4ecb\u3001\u8fde\u3001\u52a9\u3001\u53f9\u3001\u62df\u58f0\u3002\u4f46\u81ea\u7136\u8bed\u8a00\u5904\u7406\u4e2d\u8981\u5206\u8fa8\u7684\u8bcd\u6027\u8981\u66f4\u591a\u66f4\u7cbe\u7ec6\uff0c\u6bd4\u5982\uff1a\u533a\u522b\u8bcd\u3001\u65b9\u4f4d\u8bcd\u3001\u6210\u8bed\u3001\u4e60\u7528\u8bed\u3001\u673a\u6784\u56e2\u4f53\u3001\u65f6\u95f4\u8bcd\u7b49\uff0c\u591a\u8fbe100\u591a\u79cd\u3002  \u6c49\u8bed\u8bcd\u6027\u6807\u6ce8\u6700\u5927\u7684\u56f0\u96be\u662f\u201c\u517c\u7c7b\u201d\uff0c\u4e5f\u5c31\u662f\u4e00\u4e2a\u8bcd\u5728\u4e0d\u540c\u8bed\u5883\u4e2d\u6709\u4e0d\u540c\u7684\u8bcd\u6027\uff0c\u800c\u4e14\u5f88\u96be\u4ece\u5f62\u5f0f\u4e0a\u8bc6\u522b\u3002", 
            "title": "\u4f55\u4e3a\u8bcd\u6027"
        }, 
        {
            "location": "/17.specific-mehtod/#_2", 
            "text": "\u4e3a\u4e86\u89e3\u51b3\u8bcd\u6027\u6807\u6ce8\u65e0\u6cd5\u8fbe\u5230100%\u51c6\u786e\u7684\u95ee\u9898\uff0c\u8bcd\u6027\u6807\u6ce8\u4e00\u822c\u8981\u7ecf\u8fc7\u201c\u6807\u6ce8\u201d\u548c\u201c\u6821\u9a8c\u201d\u4e24\u4e2a\u8fc7\u7a0b\uff0c\u7b2c\u4e00\u6b65\u201c\u6807\u6ce8\u201d\u6839\u636e\u89c4\u5219\u6216\u7edf\u8ba1\u7684\u65b9\u6cd5\u505a\u8bcd\u6027\u6807\u6ce8\uff0c\u7b2c\u4e8c\u6b65\u201c\u6821\u9a8c\u201d\u901a\u8fc7\u4e00\u81f4\u6027\u68c0\u67e5\u548c\u81ea\u52a8\u6821\u5bf9\u7b49\u65b9\u6cd5\u6765\u4fee\u6b63\u3002", 
            "title": "\u8bcd\u6027\u6807\u6ce8\u8fc7\u7a0b"
        }, 
        {
            "location": "/17.specific-mehtod/#_3", 
            "text": "\u8bcd\u6027\u6807\u6ce8\u5177\u4f53\u65b9\u6cd5\u5305\u62ec\uff1a\u57fa\u4e8e\u7edf\u8ba1\u6a21\u578b\u7684\u65b9\u6cd5\u3001\u57fa\u4e8e\u89c4\u5219\u7684\u65b9\u6cd5\u548c\u4e24\u8005\u7ed3\u5408\u7684\u65b9\u6cd5\u3002\u4e0b\u9762\u6211\u4eec\u5206\u522b\u6765\u4ecb\u7ecd\u3002", 
            "title": "\u8bcd\u6027\u6807\u6ce8\u7684\u5177\u4f53\u65b9\u6cd5"
        }, 
        {
            "location": "/17.specific-mehtod/#_4", 
            "text": "\u63d0\u5230\u57fa\u4e8e\u7edf\u8ba1\u6a21\u578b\uff0c\u52bf\u5fc5\u610f\u5473\u7740\u6211\u4eec\u8981\u5229\u7528\u5927\u91cf\u5df2\u7ecf\u6807\u6ce8\u597d\u7684\u8bed\u6599\u5e93\u6765\u505a\u8bad\u7ec3\uff0c\u540c\u65f6\u8981\u5148\u9009\u62e9\u4e00\u4e2a\u5408\u9002\u7684\u8bad\u7ec3\u7528\u7684\u6570\u5b66\u6a21\u578b\uff0c\u300a\u81ea\u5df1\u52a8\u624b\u505a\u804a\u5929\u673a\u5668\u4eba \u5341\u4e94-\u4e00\u7bc7\u6587\u7ae0\u8bfb\u61c2\u62ff\u4e86\u56fe\u7075\u5956\u548c\u8bfa\u8d1d\u5c14\u5956\u7684\u6982\u7387\u56fe\u6a21\u578b\u300b\u4e2d\u6211\u4eec\u4ecb\u7ecd\u4e86\u6982\u7387\u56fe\u6a21\u578b\u4e2d\u7684\u9690\u9a6c\u5c14\u79d1\u592b\u6a21\u578b(HMM)\u6bd4\u8f83\u9002\u5408\u8bcd\u6027\u6807\u6ce8\u8fd9\u79cd\u57fa\u4e8e\u89c2\u5bdf\u5e8f\u5217\u6765\u505a\u6807\u6ce8\u7684\u60c5\u5f62\u3002\u8bed\u8a00\u6a21\u578b\u9009\u62e9\u597d\u4e86\uff0c\u4e0b\u9762\u8981\u505a\u7684\u5c31\u662f\u57fa\u4e8e\u8bed\u6599\u5e93\u6765\u8bad\u7ec3\u6a21\u578b\u53c2\u6570\uff0c\u90a3\u4e48\u6211\u4eec\u6a21\u578b\u53c2\u6570\u521d\u503c\u5982\u4f55\u8bbe\u7f6e\u5462\uff1f\u8fd9\u91cc\u9762\u5c31\u6709\u6280\u5de7\u4e86", 
            "title": "\u57fa\u4e8e\u7edf\u8ba1\u6a21\u578b\u7684\u8bcd\u6027\u6807\u6ce8\u65b9\u6cd5"
        }, 
        {
            "location": "/17.specific-mehtod/#_5", 
            "text": "\u6a21\u578b\u53c2\u6570\u521d\u59cb\u5316\u662f\u5728\u6211\u4eec\u5c1a\u672a\u5229\u7528\u8bed\u6599\u5e93\u4e4b\u524d\u7528\u6700\u5c0f\u7684\u6210\u672c\u548c\u6700\u63a5\u8fd1\u6700\u4f18\u89e3\u7684\u76ee\u6807\u6765\u8bbe\u5b9a\u521d\u503c\u3002HMM\u662f\u4e00\u79cd\u57fa\u4e8e\u6761\u4ef6\u6982\u7387\u7684\u751f\u6210\u5f0f\u6a21\u578b\uff0c\u6240\u4ee5\u6a21\u578b\u53c2\u6570\u662f\u751f\u6210\u6982\u7387\uff0c\u90a3\u4e48\u6211\u4eec\u4e0d\u59a8\u5c31\u5047\u8bbe\u6bcf\u4e2a\u8bcd\u7684\u751f\u6210\u6982\u7387\u5c31\u662f\u5b83\u6240\u6709\u53ef\u80fd\u7684\u8bcd\u6027\u4e2a\u6570\u7684\u5012\u6570\uff0c\u8fd9\u4e2a\u662f\u8ba1\u7b97\u6700\u7b80\u5355\u53c8\u6700\u6709\u53ef\u80fd\u63a5\u8fd1\u6700\u4f18\u89e3\u7684\u751f\u6210\u6982\u7387\u4e86\u3002\u6bcf\u4e2a\u8bcd\u7684\u6240\u6709\u53ef\u80fd\u7684\u8bcd\u6027\u662f\u6211\u4eec\u5df2\u7ecf\u6709\u7684\u8bcd\u8868\u91cc\u6807\u8bb0\u597d\u7684\uff0c\u8fd9\u4e2a\u8bcd\u8868\u7684\u751f\u6210\u65b9\u6cd5\u5c31\u6bd4\u8f83\u7b80\u5355\u4e86\uff0c\u6211\u4eec\u4e0d\u662f\u6709\u5df2\u7ecf\u6807\u6ce8\u597d\u7684\u8bed\u6599\u5e93\u561b\uff0c\u5f88\u597d\u7edf\u8ba1\u3002\u90a3\u4e48\u5982\u679c\u67d0\u4e2a\u8bcd\u5728\u8bcd\u8868\u91cc\u6ca1\u6709\u5462\uff1f\u8fd9\u65f6\u6211\u4eec\u53ef\u4ee5\u628a\u5b83\u7684\u751f\u6210\u6982\u7387\u521d\u503c\u8bbe\u7f6e\u4e3a0\u3002\u8fd9\u5c31\u662f\u9690\u9a6c\u5c14\u53ef\u592b\u6a21\u578b\u53c2\u6570\u521d\u59cb\u5316\u7684\u6280\u5de7\uff0c\u603b\u4e4b\u539f\u5219\u5c31\u662f\u7528\u6700\u5c0f\u7684\u6210\u672c\u548c\u6700\u63a5\u8fd1\u6700\u4f18\u89e3\u7684\u76ee\u6807\u6765\u8bbe\u5b9a\u521d\u503c\u3002\u4e00\u65e6\u5b8c\u6210\u521d\u59cb\u503c\u8bbe\u5b9a\u540e\u5c31\u53ef\u4ee5\u5229\u7528\u524d\u5411\u540e\u5411\u7b97\u6cd5\u8fdb\u884c\u8bad\u7ec3\u4e86\u3002", 
            "title": "\u9690\u9a6c\u5c14\u53ef\u592b\u6a21\u578b\u53c2\u6570\u521d\u59cb\u5316\u7684\u6280\u5de7"
        }, 
        {
            "location": "/17.specific-mehtod/#_6", 
            "text": "\u89c4\u5219\u5c31\u662f\u6211\u4eec\u65e2\u5b9a\u597d\u4e00\u6279\u642d\u914d\u5173\u7cfb\u548c\u4e0a\u4e0b\u6587\u8bed\u5883\u7684\u89c4\u5219\uff0c\u5224\u65ad\u5b9e\u9645\u8bed\u5883\u7b26\u5408\u54ea\u4e00\u79cd\u5219\u6309\u7167\u89c4\u5219\u6765\u6807\u6ce8\u8bcd\u6027\u3002\u8fd9\u79cd\u65b9\u6cd5\u6bd4\u8f83\u53e4\u8001\uff0c\u9002\u5408\u4e8e\u65e2\u6709\u89c4\u5219\uff0c\u5bf9\u4e8e\u517c\u8bcd\u7684\u8bcd\u6027\u8bc6\u522b\u6548\u679c\u8f83\u597d\uff0c\u4f46\u4e0d\u9002\u5408\u4e8e\u5982\u4eca\u7f51\u7edc\u65b0\u8bcd\u5c42\u51fa\u4e0d\u7a77\u3001\u7f51\u7edc\u7528\u8bed\u65b0\u89c4\u5219\u7684\u60c5\u51b5\u3002\u4e8e\u662f\u4e4e\uff0c\u6709\u4eba\u5f00\u59cb\u7814\u7a76\u901a\u8fc7\u673a\u5668\u5b66\u4e60\u6765\u81ea\u52a8\u63d0\u53d6\u89c4\u5219\uff0c\u600e\u4e48\u63d0\u53d6\u5462\uff1f\u4e0d\u662f\u968f\u4fbf\u7ed9\u4e00\u5806\u8bed\u6599\uff0c\u5b83\u76f4\u63a5\u6765\u751f\u6210\u89c4\u5219\uff0c\u800c\u662f\u6839\u636e\u521d\u59cb\u6807\u6ce8\u5668\u6807\u6ce8\u51fa\u6765\u7684\u7ed3\u679c\u548c\u4eba\u5de5\u6807\u6ce8\u7684\u7ed3\u679c\u7684\u5dee\u8ddd\uff0c\u6765\u751f\u6210\u4e00\u79cd\u4fee\u6b63\u6807\u6ce8\u7684\u8f6c\u6362\u89c4\u5219\uff0c\u8fd9\u662f\u4e00\u79cd\u9519\u8bef\u9a71\u52a8\u7684\u5b66\u4e60\u65b9\u6cd5\u3002\u57fa\u4e8e\u89c4\u5219\u7684\u65b9\u6cd5\u8fd8\u6709\u4e00\u4e2a\u597d\u5904\u5728\u4e8e\uff1a\u7ecf\u8fc7\u4eba\u5de5\u6821\u603b\u7ed3\u51fa\u7684\u5927\u91cf\u6709\u7528\u4fe1\u606f\u53ef\u4ee5\u8865\u5145\u548c\u8c03\u6574\u89c4\u5219\u5e93\uff0c\u8fd9\u662f\u7edf\u8ba1\u65b9\u6cd5\u505a\u4e0d\u5230\u7684\u3002", 
            "title": "\u57fa\u4e8e\u89c4\u5219\u7684\u8bcd\u6027\u6807\u6ce8\u65b9\u6cd5"
        }, 
        {
            "location": "/17.specific-mehtod/#_7", 
            "text": "\u7edf\u8ba1\u65b9\u6cd5\u8986\u76d6\u9762\u6bd4\u8f83\u5e7f\uff0c\u65b0\u8bcd\u8001\u8bcd\u901a\u5403\uff0c\u5e38\u89c4\u975e\u5e38\u89c4\u901a\u5403\uff0c\u4f46\u5bf9\u517c\u8bcd\u3001\u6b67\u4e49\u7b49\u603b\u662f\u7528\u7ecf\u9a8c\u5224\u65ad\uff0c\u6548\u679c\u4e0d\u597d\u3002\u89c4\u5219\u65b9\u6cd5\u5bf9\u517c\u8bcd\u3001\u6b67\u4e49\u8bc6\u522b\u6bd4\u8f83\u64c5\u957f\uff0c\u4f46\u662f\u89c4\u5219\u603b\u662f\u8986\u76d6\u4e0d\u5168\u3002\u56e0\u6b64\u4e24\u8005\u7ed3\u5408\u518d\u597d\u4e0d\u8fc7\uff0c\u5148\u901a\u8fc7\u89c4\u5219\u6392\u6b67\uff0c\u518d\u901a\u8fc7\u7edf\u8ba1\u6807\u6ce8\uff0c\u6700\u540e\u7ecf\u8fc7\u6821\u5bf9\uff0c\u53ef\u4ee5\u5f97\u5230\u6b63\u786e\u7684\u6807\u6ce8\u7ed3\u679c\u3002\u5728\u4e24\u8005\u7ed3\u5408\u7684\u8bcd\u6027\u6807\u6ce8\u65b9\u6cd5\u4e2d\uff0c\u6709\u4e00\u79cd\u601d\u8def\u53ef\u4ee5\u5145\u5206\u53d1\u6325\u4e24\u8005\u4f18\u52bf\uff0c\u907f\u514d\u52a3\u52bf\uff0c\u5c31\u662f\u9996\u9009\u7edf\u8ba1\u65b9\u6cd5\u6807\u6ce8\uff0c\u540c\u65f6\u8ba1\u7b97\u8ba1\u7b97\u5b83\u7684\u7f6e\u4fe1\u5ea6\u6216\u9519\u8bef\u7387\uff0c\u8fd9\u6837\u6765\u5224\u65ad\u662f\u5426\u7ed3\u679c\u662f\u5426\u53ef\u7591\uff0c\u5728\u53ef\u7591\u60c5\u51b5\u4e0b\u91c7\u7528\u89c4\u5219\u65b9\u6cd5\u6765\u8fdb\u884c\u6b67\u4e49\u6d88\u89e3\uff0c\u8fd9\u6837\u8fbe\u5230\u6700\u4f73\u6548\u679c\u3002", 
            "title": "\u7edf\u8ba1\u65b9\u6cd5\u548c\u89c4\u5219\u65b9\u6cd5\u76f8\u7ed3\u5408\u7684\u8bcd\u6027\u6807\u6ce8\u65b9\u6cd5"
        }, 
        {
            "location": "/17.specific-mehtod/#_8", 
            "text": "\u505a\u5b8c\u8bcd\u6027\u6807\u6ce8\u5e76\u6ca1\u6709\u7ed3\u675f\uff0c\u9700\u8981\u7ecf\u8fc7\u6821\u9a8c\u6765\u786e\u5b9a\u6b63\u786e\u6027\u4ee5\u53ca\u4fee\u6b63\u7ed3\u679c\u3002  \u7b2c\u4e00\u79cd\u6821\u9a8c\u65b9\u6cd5\u5c31\u662f\u68c0\u67e5\u8bcd\u6027\u6807\u6ce8\u7684\u4e00\u81f4\u6027\u3002\u4e00\u81f4\u6027\u6307\u7684\u662f\u5728\u6240\u6709\u6807\u6ce8\u7684\u7ed3\u679c\u4e2d\uff0c\u5177\u6709\u76f8\u540c\u8bed\u5883\u4e0b\u540c\u4e00\u4e2a\u8bcd\u7684\u6807\u6ce8\u662f\u5426\u90fd\u76f8\u540c\uff0c\u90a3\u4e48\u662f\u4ec0\u4e48\u539f\u56e0\u5bfc\u81f4\u7684\u8fd9\u79cd\u4e0d\u4e00\u81f4\u5462\uff1f\u4e00\u79cd\u60c5\u51b5\u5c31\u662f\u8fd9\u7c7b\u8bcd\u5c31\u662f\u517c\u7c7b\u8bcd\uff0c\u53ef\u80fd\u88ab\u6807\u8bb0\u4e3a\u4e0d\u540c\u8bcd\u6027\u3002\u53e6\u4e00\u79cd\u60c5\u51b5\u662f\u975e\u517c\u7c7b\u8bcd\uff0c\u4f46\u662f\u7531\u4e8e\u4eba\u5de5\u6821\u9a8c\u6216\u8005\u5176\u4ed6\u539f\u56e0\u5bfc\u81f4\u6807\u8bb0\u4e3a\u4e0d\u540c\u8bcd\u6027\u3002\u8fbe\u5230100%\u7684\u4e00\u81f4\u6027\u662f\u4e0d\u53ef\u80fd\u7684\uff0c\u6240\u4ee5\u6211\u4eec\u9700\u8981\u4fdd\u8bc1\u4e00\u81f4\u6027\u5904\u4e8e\u67d0\u4e2a\u8303\u56f4\u5185\uff0c\u7531\u4e8e\u8bcd\u6570\u76ee\u8f83\u591a\uff0c\u8bcd\u6027\u8f83\u591a\uff0c\u4e00\u81f4\u6027\u6307\u6807\u65e0\u6cd5\u901a\u8fc7\u67d0\u4e00\u79cd\u8ba1\u7b97\u516c\u5f0f\u6765\u6c42\u5f97\uff0c\u56e0\u6b64\u53ef\u4ee5\u57fa\u4e8e\u805a\u7c7b\u548c\u5206\u7c7b\u7684\u65b9\u6cd5\uff0c\u6839\u636e\u6b27\u5f0f\u8ddd\u79bb\u6765\u5b9a\u4e49\u4e00\u81f4\u6027\u6307\u6807\uff0c\u5e76\u8bbe\u5b9a\u4e00\u4e2a\u9608\u503c\uff0c\u4fdd\u8bc1\u4e00\u81f4\u6027\u5728\u9608\u503c\u8303\u56f4\u5185\u3002  \u7b2c\u4e8c\u79cd\u6821\u9a8c\u65b9\u6cd5\u5c31\u662f\u8bcd\u6027\u6807\u6ce8\u7684\u81ea\u52a8\u6821\u5bf9\u3002\u81ea\u52a8\u6821\u5bf9\u987e\u540d\u601d\u4e49\u5c31\u662f\u4e0d\u9700\u8981\u4eba\u53c2\u4e0e\uff0c\u76f4\u63a5\u627e\u51fa\u9519\u8bef\u7684\u6807\u6ce8\u5e76\u4fee\u6b63\uff0c\u8fd9\u79cd\u65b9\u6cd5\u66f4\u9002\u7528\u4e8e\u4e00\u4e2a\u8bcd\u7684\u8bcd\u6027\u6807\u6ce8\u901a\u7bc7\u5168\u9519\u7684\u60c5\u51b5\uff0c\u56e0\u4e3a\u8fd9\u79cd\u60c5\u51b5\u57fa\u4e8e\u6570\u636e\u6316\u6398\u548c\u89c4\u5219\u5b66\u4e60\u65b9\u6cd5\u6765\u505a\u5224\u65ad\u4f1a\u76f8\u5bf9\u6bd4\u8f83\u51c6\u786e\u3002\u901a\u8fc7\u5927\u89c4\u6a21\u8bad\u7ec3\u8bed\u6599\u6765\u751f\u6210\u8bcd\u6027\u6821\u5bf9\u51b3\u7b56\u8868\uff0c\u7136\u540e\u6839\u636e\u8fd9\u4e2a\u51b3\u7b56\u8868\u6765\u627e\u901a\u7bc7\u5168\u9519\u7684\u8bcd\u6027\u6807\u6ce8\u5e76\u505a\u81ea\u52a8\u4fee\u6b63\u3002", 
            "title": "\u8bcd\u6027\u6807\u6ce8\u7684\u6821\u9a8c"
        }, 
        {
            "location": "/17.specific-mehtod/#_9", 
            "text": "\u8bcd\u6027\u6807\u6ce8\u7684\u65b9\u6cd5\u4e3b\u8981\u6709\u57fa\u4e8e\u7edf\u8ba1\u548c\u57fa\u4e8e\u89c4\u5219\u7684\u65b9\u6cd5\uff0c\u53e6\u5916\u8fd8\u5305\u62ec\u540e\u671f\u6821\u9a8c\u7684\u8fc7\u7a0b\u3002\u8bcd\u6027\u6807\u6ce8\u662f\u5e2e\u52a9\u8ba1\u7b97\u673a\u7406\u89e3\u8bed\u8a00\u542b\u4e49\u7684\u5173\u952e\uff0c\u6709\u4e86\u8bcd\u6027\u6807\u6ce8\uff0c\u6211\u4eec\u624d\u53ef\u4ee5\u8fdb\u4e00\u6b65\u786e\u5b9a\u53e5\u6cd5\u548c\u8bed\u4e49\uff0c\u624d\u6709\u53ef\u80fd\u8ba9\u673a\u5668\u7406\u89e3\u8bed\u8a00\u7684\u542b\u4e49\uff0c\u624d\u6709\u53ef\u80fd\u5b9e\u73b0\u804a\u5929\u673a\u5668\u4eba\u7684\u68a6\u60f3", 
            "title": "\u603b\u7ed3"
        }, 
        {
            "location": "/18.tree/", 
            "text": "\u628a\u4e00\u53e5\u8bdd\u6309\u7167\u53e5\u6cd5\u903b\u8f91\u7ec4\u7ec7\u6210\u4e00\u68f5\u6811\uff0c\u7531\u4eba\u6765\u505a\u8fd9\u4ef6\u4e8b\u662f\u53ef\u884c\u7684\uff0c\u4f46\u662f\u7531\u673a\u5668\u6765\u5b9e\u73b0\u662f\u4e0d\u53ef\u601d\u8bae\u7684\uff0c\u7136\u800c\u7b97\u6cd5\u4e16\u754c\u5c31\u662f\u8fd9\u4e48\u795e\u5947\uff0c\u628a\u4e00\u4e2a\u5341\u5206\u590d\u6742\u7684\u8fc7\u7a0b\u62bd\u8c61\u6210\u4ec5\u4ec5\u51e0\u6b65\u64cd\u4f5c\uff0c\u751a\u81f3\u4e0d\u8db310\u884c\u4ee3\u7801\uff0c\u5c31\u80fd\u8ba9\u673a\u5668\u5b8c\u6210\u9700\u8981\u8017\u8d39\u4eba\u8111\u51e0\u5341\u4ebf\u8111\u7ec6\u80de\u7684\u5de5\u4f5c\uff0c\u672c\u6587\u6211\u4eec\u6765\u89c1\u8bc6\u4e00\u4e0b\u795e\u5947\u7684\u53e5\u6cd5\u5206\u6790\u6811\u751f\u6210\u7b97\u6cd5 \n\n\n\u53e5\u6cd5\u5206\u6790\n\n\n\u5148\u6765\u89e3\u91ca\u4e00\u4e0b\u53e5\u6cd5\u5206\u6790\u3002\u53e5\u6cd5\u5206\u6790\u5206\u4e3a\u53e5\u6cd5\u7ed3\u6784\u5206\u6790\u548c\u4f9d\u5b58\u5173\u7cfb\u5206\u6790\u3002\n\n\n\u53e5\u6cd5\u7ed3\u6784\u5206\u6790\u4e5f\u5c31\u662f\u77ed\u8bed\u7ed3\u6784\u5206\u6790\uff0c\u6bd4\u5982\u63d0\u53d6\u51fa\u53e5\u5b50\u4e2d\u7684\u540d\u6b21\u77ed\u8bed\u3001\u52a8\u8bcd\u77ed\u8bed\u7b49\uff0c\u6700\u5173\u952e\u7684\u662f\u4eba\u53ef\u4ee5\u901a\u8fc7\u7ecf\u9a8c\u6765\u5224\u65ad\u7684\u77ed\u8bed\u7ed3\u6784\uff0c\u90a3\u4e48\u600e\u4e48\u7531\u673a\u5668\u6765\u5224\u65ad\u5462\uff1f\n\n\n\uff08\u6709\u5173\u4f9d\u5b58\u5173\u7cfb\u5206\u6790\u7684\u5185\u5bb9\uff0c\u5177\u4f53\u53ef\u4ee5\u770b\u300a\u81ea\u5df1\u52a8\u624b\u505a\u804a\u5929\u673a\u5668\u4eba \u5341\u4e8c-\u6559\u4f60\u5982\u4f55\u5229\u7528\u5f3a\u5927\u7684\u4e2d\u6587\u8bed\u8a00\u6280\u672f\u5e73\u53f0\u505a\u4f9d\u5b58\u53e5\u6cd5\u548c\u8bed\u4e49\u4f9d\u5b58\u5206\u6790\u300b\uff09\n\n\n\u53e5\u6cd5\u5206\u6790\u6811\n\n\n\u6837\u5b50\u5982\u4e0b\uff1a\n\n\n1\n2\n3\n         -\u5403(v)-\n|                      |\n\u6211(rr)            \u8089(n)\n\n\n\n\n\n\n\u53e5\u6cd5\u7ed3\u6784\u5206\u6790\u57fa\u672c\u65b9\u6cd5\n\n\n\u5206\u4e3a\u57fa\u4e8e\u89c4\u5219\u7684\u5206\u6790\u65b9\u6cd5\u548c\u57fa\u4e8e\u7edf\u8ba1\u7684\u5206\u6790\u65b9\u6cd5\u3002\u57fa\u4e8e\u89c4\u5219\u7684\u65b9\u6cd5\u5b58\u5728\u5f88\u591a\u5c40\u9650\u6027\uff0c\u6240\u4ee5\u6211\u4eec\u91c7\u53d6\u57fa\u4e8e\u7edf\u8ba1\u7684\u65b9\u6cd5\uff0c\u76ee\u524d\u6700\u6210\u529f\u7684\u662f\u57fa\u4e8e\u6982\u7387\u4e0a\u4e0b\u6587\u65e0\u5173\u6587\u6cd5(PCFG)\u3002\u57fa\u4e8ePCFG\u5206\u6790\u9700\u8981\u6709\u5982\u4e0b\u51e0\u4e2a\u8981\u7d20\uff1a\u7ec8\u7ed3\u7b26\u96c6\u5408\u3001\u975e\u7ec8\u7ed3\u7b26\u96c6\u5408\u3001\u89c4\u5219\u96c6\u3002\n\n\n\u76f8\u5bf9\u4e8e\u5148\u53d9\u8ff0\u7406\u8bba\u518d\u4e3e\u5b9e\u4f8b\u7684\u4f20\u7edf\u8bb2\u89e3\u65b9\u6cd5\uff0c\u6211\u66f4\u503e\u5411\u4e8e\u5148\u7ed9\u4f60\u5c55\u793a\u4e00\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50\uff0c\u5148\u611f\u53d7\u4e00\u4e0b\u8ba1\u7b97\u8fc7\u7a0b\uff0c\u7136\u540e\u518d\u53d9\u8ff0\u7406\u8bba\uff0c\u8fd9\u6837\u4f1a\u66f4\u6709\u8da3\u3002\n\n\n\u4f8b\u5b50\u662f\u8fd9\u6837\u7684\uff1a\u6211\u4eec\u7684\u7ec8\u7ed3\u7b26\u96c6\u5408\u662f\uff1a\u2211={\u6211, \u5403, \u8089,\u2026\u2026}\uff0c\u8fd9\u4e2a\u96c6\u5408\u8868\u793a\u8fd9\u4e09\u4e2a\u5b57\u53ef\u4ee5\u4f5c\u4e3a\u53e5\u6cd5\u5206\u6790\u6811\u7684\u53f6\u5b50\u8282\u70b9\uff0c\u5f53\u7136\u8fd9\u4e2a\u96c6\u5408\u91cc\u8fd8\u6709\u5f88\u591a\u5f88\u591a\u7684\u8bcd\n\n\n\u6211\u4eec\u7684\u975e\u7ec8\u7ed3\u7b26\u96c6\u5408\u662f\uff1aN={S, VP, \u2026\u2026}\uff0c\u8fd9\u4e2a\u96c6\u5408\u8868\u793a\u6811\u7684\u975e\u9875\u5b50\u8282\u70b9\uff0c\u4e5f\u5c31\u662f\u8fde\u63a5\u591a\u4e2a\u8282\u70b9\u8868\u8fbe\u67d0\u79cd\u5173\u7cfb\u7684\u8282\u70b9\uff0c\u8fd9\u4e2a\u96c6\u5408\u91cc\u4e5f\u662f\u6709\u5f88\u591a\u5143\u7d20\n\n\n\u6211\u4eec\u7684\u89c4\u5219\u96c6\uff1a\n\n\n1\n2\n3\n4\n5\n6\n7\n8\nR={ \n  NN-\n\u6211    0.5\n  Vt-\n\u5403     1.0\n  NN-\n\u8089   0.5\n  VP-\nVt NN    1.0\n  S-\nNN VP 1.0\n  \u2026\u2026\n}\n\n\n\n\n\n\n\u8fd9\u91cc\u7684\u53e5\u6cd5\u89c4\u5219\u7b26\u53f7\u53ef\u4ee5\u53c2\u8003\u8bcd\u6027\u6807\u6ce8\uff0c\u540e\u9762\u4e00\u5217\u662f\u6a21\u578b\u8bad\u7ec3\u51fa\u6765\u7684\u6982\u7387\u503c\uff0c\u4e5f\u5c31\u662f\u5728\u4e00\u4e2a\u56fa\u5b9a\u53e5\u6cd5\u89c4\u5219\u4e2dNN\u7684\u4f4d\u7f6e\u662f\u201c\u6211\u201d\u7684\u6982\u7387\u662f0.5\uff0cNN\u63a8\u51fa\u201c\u8089\u201d\u7684\u6982\u7387\u662f0.5\uff0c0.5+0.5=1\uff0c\u4e5f\u5c31\u662f\u5de6\u90e8\u76f8\u540c\u7684\u6982\u7387\u548c\u4e00\u5b9a\u662f1\u3002\u4e0d\u77e5\u9053\u4f60\u662f\u5426\u7406\u89e3\u4e86\u8fd9\u4e2a\u89c4\u5219\u7684\u5185\u6db5\n\n\n\u518d\u6362\u4e00\u79cd\u65b9\u6cd5\u89e3\u91ca\u4e00\u4e0b\uff0c\u6709\u4e00\u79cd\u53e5\u6cd5\u89c4\u5219\u662f\uff1a\n\n\n1\n2\n3\n4\n5\nS\u2014\u2014|\n|        |\nNN    VP\n          |\u2014\u2014|\n          Vt     NN\n\n\n\n\n\n\n\u5176\u4e2dNN\u7684\u4f4d\u7f6e\u53ef\u80fd\u662f\u201c\u6211\u201d\uff0c\u4e5f\u53ef\u80fd\u662f\u201c\u8089\u201d\uff0c\u662f\u201c\u6211\u201d\u7684\u6982\u7387\u662f0.5\uff0c\u662f\u201c\u8089\u201d\u7684\u6982\u7387\u662f0.5\uff0c\u4e24\u4e2a\u6982\u7387\u548c\u5fc5\u4e3a1\u3002\u5176\u4e2dVt\u7684\u4f4d\u7f6e\u4e00\u5b9a\u662f\u201c\u5403\u201d\uff0c\u4e5f\u5c31\u662f\u6982\u7387\u662f1.0\u2026\u2026\u3002\u8fd9\u6837\u4e00\u8bf4\u662f\u4e0d\u662f\u5c31\u7406\u89e3\u4e86\uff1f\n\n\n\u89c4\u5219\u96c6\u91cc\u5b9e\u9645\u4e0a\u8fd8\u6709\u5f88\u591a\u89c4\u5219\uff0c\u53ea\u662f\u5217\u4e3e\u51fa\u4f1a\u7528\u5230\u7684\u51e0\u4e2a\n\n\n\u4ee5\u4e0a\u7684\u2211\u3001N\u3001R\u90fd\u662f\u7ecf\u8fc7\u673a\u5668\u5b66\u4e60\u8bad\u7ec3\u51fa\u6765\u7684\u6570\u636e\u96c6\u53ca\u6982\u7387\uff0c\u5177\u4f53\u8bad\u7ec3\u65b9\u6cd5\u4e0b\u9762\u6211\u4eec\u4f1a\u8bb2\u5230\n\n\n\u90a3\u4e48\u5982\u4f55\u6839\u636e\u4ee5\u4e0a\u7684\u51e0\u4e2a\u8981\u7d20\u6765\u751f\u6210\u53e5\u6cd5\u5206\u6790\u6811\u5462\uff1f\n\n\n\n\n\u201c\u6211\u201d  \u8bcd\u6027\u662fNN\uff0c\u63a8\u5bfc\u6982\u7387\u662f0.5\uff0c\u6811\u7684\u8def\u5f84\u662f\u201c\u6211\u201d\n\n\n\u201c\u5403\u201d  \u8bcd\u6027\u662fVt\uff0c\u63a8\u5bfc\u6982\u7387\u662f1.0\uff0c\u6811\u7684\u8def\u5f84\u662f\u201c\u5403\u201d\n\n\n\u201c\u8089\u201d  \u8bcd\u6027\u662fNN\uff0c\u6982\u7387\u662f0.5\uff0c\u548cVt\u7ec4\u5408\u7b26\u5408VP\u89c4\u5219\uff0c\u63a8\u5bfc\u6982\u7387\u662f0.5\n1.0\n1.0=0.5\uff0c\u6811\u7684\u8def\u5f84\u662f\u201c\u5403\u8089\u201d\n\n\n\n\nNN\u548cVP\u7ec4\u5408\u7b26\u5408S\u89c4\u5219\uff0c\u63a8\u5bfc\u6982\u7387\u662f0.5\n0.5\n1.0=0.25\uff0c\u6811\u7684\u8def\u5f84\u662f\u201c\u6211\u5403\u8089\u201d\n\n\n\u6240\u4ee5\u6700\u7ec8\u7684\u6811\u7ed3\u6784\u662f\uff1a\n\n\n1\n2\n3\n4\n5\n6\nS\u2014\u2014|\n|        |\nNN    VP\n\u6211      |\u2014\u2014|\n          Vt     NN\n          \u5403     \u8089\n\n\n\n\n\n\n\u4e0a\u9762\u7684\u4f8b\u5b50\u662f\u6bd4\u8f83\u7b80\u5355\u7684\uff0c\u5b9e\u9645\u7684\u53e5\u5b50\u4f1a\u66f4\u590d\u6742\uff0c\u4f46\u662f\u90fd\u662f\u901a\u8fc7\u8fd9\u6837\u7684\u52a8\u6001\u89c4\u5212\u7b97\u6cd5\u5b8c\u6210\u7684\n\n\n\u63d0\u5230\u52a8\u6001\u89c4\u5212\u7b97\u6cd5\uff0c\u5c31\u5c11\u4e0d\u4e86\u201c\u9009\u62e9\u201d\u7684\u8fc7\u7a0b\uff0c\u4e00\u53e5\u8bdd\u7684\u53e5\u6cd5\u7ed3\u6784\u6811\u53ef\u80fd\u6709\u591a\u79cd\uff0c\u6211\u4eec\u53ea\u9009\u62e9\u6982\u7387\u6700\u5927\u7684\u90a3\u4e00\u79cd\u4f5c\u4e3a\u53e5\u5b50\u7684\u6700\u4f73\u7ed3\u6784\uff0c\u8fd9\u4e5f\u662f\u201c\u57fa\u4e8e\u6982\u7387\u201d\u4e0a\u4e0b\u6587\u65e0\u5173\u6587\u6cd5\u7684\u540d\u5b57\u8d77\u6e90\u3002\n\n\n\u4e0a\u9762\u7684\u8ba1\u7b97\u8fc7\u7a0b\u603b\u7ed3\u8d77\u6765\u5c31\u662f\uff1a\u8bbeW={\u03c91\u03c92\u03c93\u2026\u2026}\u8868\u793a\u4e00\u4e2a\u53e5\u5b50\uff0c\u5176\u4e2d\u7684\u03c9\u8868\u793a\u4e00\u4e2a\u8bcd(word)\uff0c\u5229\u7528\u52a8\u6001\u89c4\u5212\u7b97\u6cd5\u8ba1\u7b97\u975e\u7ec8\u7ed3\u7b26A\u63a8\u5bfc\u51faW\u4e2d\u5b50\u4e32\u03c9i\u03c9i+1\u03c9i+2\u2026\u2026\u03c9j\u7684\u6982\u7387\uff0c\u5047\u8bbe\u6982\u7387\u4e3a\u03b1ij(A)\uff0c\u90a3\u4e48\u6709\u5982\u4e0b\u9012\u5f52\u516c\u5f0f\uff1a\n\n\n1\n2\n\u03b1ij(A)=P(A-\n\u03c9i)\n\u03b1ij(A)=\u2211\u2211P(A-\nBC)\u03b1ik(B)\u03b1(k+1)j(C)\n\n\n\n\n\n\n\u4ee5\u4e0a\u4e24\u4e2a\u5f0f\u5b50\u597d\u597d\u7406\u89e3\u4e00\u4e0b\u5176\u5b9e\u5c31\u662f\u4e0a\u9762\u201c\u6211\u5403\u8089\u201d\u7684\u8ba1\u7b97\u8fc7\u7a0b\n\n\n\u4ee5\u4e0a\u8fc7\u7a0b\u7406\u89e3\u4e86\u4e4b\u540e\u4f60\u4e00\u5b9a\u4f1a\u95ee\uff0c\u8fd9\u91cc\u9762\u6700\u5173\u952e\u7684\u7684\u975e\u7ec8\u7ed3\u7b26\u3001\u7ec8\u7ed3\u7b26\u4ee5\u53ca\u89c4\u5219\u96c6\u662f\u600e\u4e48\u5f97\u6765\u7684\uff0c\u6982\u7387\u53c8\u662f\u600e\u4e48\u786e\u5b9a\u7684\uff1f\u4e0b\u9762\u6211\u4eec\u5c31\u6765\u8bf4\u660e\n\n\n\u53e5\u6cd5\u89c4\u5219\u63d0\u53d6\u65b9\u6cd5\u4e0ePCFG\u7684\u6982\u7387\u53c2\u6570\u4f30\u8ba1\n\n\n\u8fd9\u90e8\u5206\u5c31\u662f\u673a\u5668\u5b66\u4e60\u7684\u77e5\u8bc6\u4e86\uff0c\u6709\u5173\u673a\u5668\u5b66\u4e60\u53ef\u4ee5\u53c2\u8003\u300a\u673a\u5668\u5b66\u4e60\u6559\u7a0b\u300b\n\n\n\u9996\u5148\u6211\u4eec\u9700\u8981\u5927\u91cf\u7684\u6811\u5e93\uff0c\u4e5f\u5c31\u662f\u8bad\u7ec3\u6570\u636e\u3002\u7136\u540e\u6211\u4eec\u628a\u6811\u5e93\u4e2d\u7684\u53e5\u6cd5\u89c4\u5219\u63d0\u53d6\u51fa\u6765\u751f\u6210\u6211\u4eec\u60f3\u8981\u7684\u7ed3\u6784\u5f62\u5f0f\uff0c\u5e76\u8fdb\u884c\u5408\u5e76\u3001\u5f52\u7eb3\u7b49\u5904\u7406\uff0c\u6700\u7ec8\u5f97\u5230\u4e0a\u9762\u2211\u3001N\u3001R\u7684\u6837\u5b50\u3002\u5176\u4e2d\u7684\u6982\u7387\u53c2\u6570\u8ba1\u7b97\u65b9\u6cd5\u662f\u8fd9\u6837\u7684\uff1a\n\n\n\u5148\u7ed9\u5b9a\u53c2\u6570\u4e3a\u4e00\u4e2a\u968f\u673a\u521d\u59cb\u503c\uff0c\u7136\u540e\u91c7\u7528EM\u8fed\u4ee3\u7b97\u6cd5\uff0c\u4e0d\u65ad\u8bad\u7ec3\u6570\u636e\uff0c\u5e76\u8ba1\u7b97\u6bcf\u6761\u89c4\u5219\u4f7f\u7528\u6b21\u6570\u4f5c\u4e3a\u6700\u5927\u4f3c\u7136\u8ba1\u7b97\u5f97\u5230\u6982\u7387\u7684\u4f30\u503c\uff0c\u8fd9\u6837\u4e0d\u65ad\u8fed\u4ee3\u66f4\u65b0\u6982\u7387\uff0c\u6700\u7ec8\u5f97\u51fa\u7684\u6982\u7387\u53ef\u4ee5\u8ba4\u4e3a\u662f\u7b26\u5408\u6700\u5927\u4f3c\u7136\u4f30\u8ba1\u7684\u7cbe\u786e\u503c\u3002\n\n\n\u603b\u7ed3\u4e00\u4e0b\n\n\n\u53e5\u6cd5\u5206\u6790\u6811\u751f\u6210\u7b97\u6cd5\u662f\u57fa\u4e8e\u7edf\u8ba1\u5b66\u4e60\u7684\u539f\u7406\uff0c\u6839\u636e\u5927\u91cf\u6807\u6ce8\u7684\u8bed\u6599\u5e93\uff08\u6811\u5e93\uff09\uff0c\u901a\u8fc7\u673a\u5668\u5b66\u4e60\u7b97\u6cd5\u5f97\u51fa\u975e\u7ec8\u7ed3\u7b26\u3001\u7ec8\u7ed3\u7b26\u3001\u89c4\u5219\u96c6\u53ca\u5176\u6982\u7387\u53c2\u6570\uff0c\u7136\u540e\u5229\u7528\u52a8\u6001\u89c4\u5212\u7b97\u6cd5\u751f\u6210\u6bcf\u4e00\u53e5\u8bdd\u7684\u53e5\u6cd5\u5206\u6790\u6811\uff0c\u5728\u53e5\u6cd5\u5206\u6790\u6811\u751f\u6210\u8fc7\u7a0b\u4e2d\u5982\u679c\u9047\u5230\u591a\u79cd\u6811\u7ed3\u6784\uff0c\u9009\u62e9\u6982\u7387\u6700\u5927\u7684\u90a3\u4e00\u79cd\u4f5c\u4e3a\u6700\u4f73\u53e5\u5b50\u7ed3\u6784", 
            "title": "\u5341\u516b-\u751f\u6210\u53e5\u6cd5\u5206\u6790\u6811"
        }, 
        {
            "location": "/18.tree/#_1", 
            "text": "\u5148\u6765\u89e3\u91ca\u4e00\u4e0b\u53e5\u6cd5\u5206\u6790\u3002\u53e5\u6cd5\u5206\u6790\u5206\u4e3a\u53e5\u6cd5\u7ed3\u6784\u5206\u6790\u548c\u4f9d\u5b58\u5173\u7cfb\u5206\u6790\u3002  \u53e5\u6cd5\u7ed3\u6784\u5206\u6790\u4e5f\u5c31\u662f\u77ed\u8bed\u7ed3\u6784\u5206\u6790\uff0c\u6bd4\u5982\u63d0\u53d6\u51fa\u53e5\u5b50\u4e2d\u7684\u540d\u6b21\u77ed\u8bed\u3001\u52a8\u8bcd\u77ed\u8bed\u7b49\uff0c\u6700\u5173\u952e\u7684\u662f\u4eba\u53ef\u4ee5\u901a\u8fc7\u7ecf\u9a8c\u6765\u5224\u65ad\u7684\u77ed\u8bed\u7ed3\u6784\uff0c\u90a3\u4e48\u600e\u4e48\u7531\u673a\u5668\u6765\u5224\u65ad\u5462\uff1f  \uff08\u6709\u5173\u4f9d\u5b58\u5173\u7cfb\u5206\u6790\u7684\u5185\u5bb9\uff0c\u5177\u4f53\u53ef\u4ee5\u770b\u300a\u81ea\u5df1\u52a8\u624b\u505a\u804a\u5929\u673a\u5668\u4eba \u5341\u4e8c-\u6559\u4f60\u5982\u4f55\u5229\u7528\u5f3a\u5927\u7684\u4e2d\u6587\u8bed\u8a00\u6280\u672f\u5e73\u53f0\u505a\u4f9d\u5b58\u53e5\u6cd5\u548c\u8bed\u4e49\u4f9d\u5b58\u5206\u6790\u300b\uff09", 
            "title": "\u53e5\u6cd5\u5206\u6790"
        }, 
        {
            "location": "/18.tree/#_2", 
            "text": "\u6837\u5b50\u5982\u4e0b\uff1a  1\n2\n3          -\u5403(v)-\n|                      |\n\u6211(rr)            \u8089(n)", 
            "title": "\u53e5\u6cd5\u5206\u6790\u6811"
        }, 
        {
            "location": "/18.tree/#_3", 
            "text": "\u5206\u4e3a\u57fa\u4e8e\u89c4\u5219\u7684\u5206\u6790\u65b9\u6cd5\u548c\u57fa\u4e8e\u7edf\u8ba1\u7684\u5206\u6790\u65b9\u6cd5\u3002\u57fa\u4e8e\u89c4\u5219\u7684\u65b9\u6cd5\u5b58\u5728\u5f88\u591a\u5c40\u9650\u6027\uff0c\u6240\u4ee5\u6211\u4eec\u91c7\u53d6\u57fa\u4e8e\u7edf\u8ba1\u7684\u65b9\u6cd5\uff0c\u76ee\u524d\u6700\u6210\u529f\u7684\u662f\u57fa\u4e8e\u6982\u7387\u4e0a\u4e0b\u6587\u65e0\u5173\u6587\u6cd5(PCFG)\u3002\u57fa\u4e8ePCFG\u5206\u6790\u9700\u8981\u6709\u5982\u4e0b\u51e0\u4e2a\u8981\u7d20\uff1a\u7ec8\u7ed3\u7b26\u96c6\u5408\u3001\u975e\u7ec8\u7ed3\u7b26\u96c6\u5408\u3001\u89c4\u5219\u96c6\u3002  \u76f8\u5bf9\u4e8e\u5148\u53d9\u8ff0\u7406\u8bba\u518d\u4e3e\u5b9e\u4f8b\u7684\u4f20\u7edf\u8bb2\u89e3\u65b9\u6cd5\uff0c\u6211\u66f4\u503e\u5411\u4e8e\u5148\u7ed9\u4f60\u5c55\u793a\u4e00\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50\uff0c\u5148\u611f\u53d7\u4e00\u4e0b\u8ba1\u7b97\u8fc7\u7a0b\uff0c\u7136\u540e\u518d\u53d9\u8ff0\u7406\u8bba\uff0c\u8fd9\u6837\u4f1a\u66f4\u6709\u8da3\u3002  \u4f8b\u5b50\u662f\u8fd9\u6837\u7684\uff1a\u6211\u4eec\u7684\u7ec8\u7ed3\u7b26\u96c6\u5408\u662f\uff1a\u2211={\u6211, \u5403, \u8089,\u2026\u2026}\uff0c\u8fd9\u4e2a\u96c6\u5408\u8868\u793a\u8fd9\u4e09\u4e2a\u5b57\u53ef\u4ee5\u4f5c\u4e3a\u53e5\u6cd5\u5206\u6790\u6811\u7684\u53f6\u5b50\u8282\u70b9\uff0c\u5f53\u7136\u8fd9\u4e2a\u96c6\u5408\u91cc\u8fd8\u6709\u5f88\u591a\u5f88\u591a\u7684\u8bcd  \u6211\u4eec\u7684\u975e\u7ec8\u7ed3\u7b26\u96c6\u5408\u662f\uff1aN={S, VP, \u2026\u2026}\uff0c\u8fd9\u4e2a\u96c6\u5408\u8868\u793a\u6811\u7684\u975e\u9875\u5b50\u8282\u70b9\uff0c\u4e5f\u5c31\u662f\u8fde\u63a5\u591a\u4e2a\u8282\u70b9\u8868\u8fbe\u67d0\u79cd\u5173\u7cfb\u7684\u8282\u70b9\uff0c\u8fd9\u4e2a\u96c6\u5408\u91cc\u4e5f\u662f\u6709\u5f88\u591a\u5143\u7d20  \u6211\u4eec\u7684\u89c4\u5219\u96c6\uff1a  1\n2\n3\n4\n5\n6\n7\n8 R={ \n  NN- \u6211    0.5\n  Vt- \u5403     1.0\n  NN- \u8089   0.5\n  VP- Vt NN    1.0\n  S- NN VP 1.0\n  \u2026\u2026\n}   \u8fd9\u91cc\u7684\u53e5\u6cd5\u89c4\u5219\u7b26\u53f7\u53ef\u4ee5\u53c2\u8003\u8bcd\u6027\u6807\u6ce8\uff0c\u540e\u9762\u4e00\u5217\u662f\u6a21\u578b\u8bad\u7ec3\u51fa\u6765\u7684\u6982\u7387\u503c\uff0c\u4e5f\u5c31\u662f\u5728\u4e00\u4e2a\u56fa\u5b9a\u53e5\u6cd5\u89c4\u5219\u4e2dNN\u7684\u4f4d\u7f6e\u662f\u201c\u6211\u201d\u7684\u6982\u7387\u662f0.5\uff0cNN\u63a8\u51fa\u201c\u8089\u201d\u7684\u6982\u7387\u662f0.5\uff0c0.5+0.5=1\uff0c\u4e5f\u5c31\u662f\u5de6\u90e8\u76f8\u540c\u7684\u6982\u7387\u548c\u4e00\u5b9a\u662f1\u3002\u4e0d\u77e5\u9053\u4f60\u662f\u5426\u7406\u89e3\u4e86\u8fd9\u4e2a\u89c4\u5219\u7684\u5185\u6db5  \u518d\u6362\u4e00\u79cd\u65b9\u6cd5\u89e3\u91ca\u4e00\u4e0b\uff0c\u6709\u4e00\u79cd\u53e5\u6cd5\u89c4\u5219\u662f\uff1a  1\n2\n3\n4\n5 S\u2014\u2014|\n|        |\nNN    VP\n          |\u2014\u2014|\n          Vt     NN   \u5176\u4e2dNN\u7684\u4f4d\u7f6e\u53ef\u80fd\u662f\u201c\u6211\u201d\uff0c\u4e5f\u53ef\u80fd\u662f\u201c\u8089\u201d\uff0c\u662f\u201c\u6211\u201d\u7684\u6982\u7387\u662f0.5\uff0c\u662f\u201c\u8089\u201d\u7684\u6982\u7387\u662f0.5\uff0c\u4e24\u4e2a\u6982\u7387\u548c\u5fc5\u4e3a1\u3002\u5176\u4e2dVt\u7684\u4f4d\u7f6e\u4e00\u5b9a\u662f\u201c\u5403\u201d\uff0c\u4e5f\u5c31\u662f\u6982\u7387\u662f1.0\u2026\u2026\u3002\u8fd9\u6837\u4e00\u8bf4\u662f\u4e0d\u662f\u5c31\u7406\u89e3\u4e86\uff1f  \u89c4\u5219\u96c6\u91cc\u5b9e\u9645\u4e0a\u8fd8\u6709\u5f88\u591a\u89c4\u5219\uff0c\u53ea\u662f\u5217\u4e3e\u51fa\u4f1a\u7528\u5230\u7684\u51e0\u4e2a  \u4ee5\u4e0a\u7684\u2211\u3001N\u3001R\u90fd\u662f\u7ecf\u8fc7\u673a\u5668\u5b66\u4e60\u8bad\u7ec3\u51fa\u6765\u7684\u6570\u636e\u96c6\u53ca\u6982\u7387\uff0c\u5177\u4f53\u8bad\u7ec3\u65b9\u6cd5\u4e0b\u9762\u6211\u4eec\u4f1a\u8bb2\u5230  \u90a3\u4e48\u5982\u4f55\u6839\u636e\u4ee5\u4e0a\u7684\u51e0\u4e2a\u8981\u7d20\u6765\u751f\u6210\u53e5\u6cd5\u5206\u6790\u6811\u5462\uff1f   \u201c\u6211\u201d  \u8bcd\u6027\u662fNN\uff0c\u63a8\u5bfc\u6982\u7387\u662f0.5\uff0c\u6811\u7684\u8def\u5f84\u662f\u201c\u6211\u201d  \u201c\u5403\u201d  \u8bcd\u6027\u662fVt\uff0c\u63a8\u5bfc\u6982\u7387\u662f1.0\uff0c\u6811\u7684\u8def\u5f84\u662f\u201c\u5403\u201d  \u201c\u8089\u201d  \u8bcd\u6027\u662fNN\uff0c\u6982\u7387\u662f0.5\uff0c\u548cVt\u7ec4\u5408\u7b26\u5408VP\u89c4\u5219\uff0c\u63a8\u5bfc\u6982\u7387\u662f0.5 1.0 1.0=0.5\uff0c\u6811\u7684\u8def\u5f84\u662f\u201c\u5403\u8089\u201d   NN\u548cVP\u7ec4\u5408\u7b26\u5408S\u89c4\u5219\uff0c\u63a8\u5bfc\u6982\u7387\u662f0.5 0.5 1.0=0.25\uff0c\u6811\u7684\u8def\u5f84\u662f\u201c\u6211\u5403\u8089\u201d  \u6240\u4ee5\u6700\u7ec8\u7684\u6811\u7ed3\u6784\u662f\uff1a  1\n2\n3\n4\n5\n6 S\u2014\u2014|\n|        |\nNN    VP\n\u6211      |\u2014\u2014|\n          Vt     NN\n          \u5403     \u8089   \u4e0a\u9762\u7684\u4f8b\u5b50\u662f\u6bd4\u8f83\u7b80\u5355\u7684\uff0c\u5b9e\u9645\u7684\u53e5\u5b50\u4f1a\u66f4\u590d\u6742\uff0c\u4f46\u662f\u90fd\u662f\u901a\u8fc7\u8fd9\u6837\u7684\u52a8\u6001\u89c4\u5212\u7b97\u6cd5\u5b8c\u6210\u7684  \u63d0\u5230\u52a8\u6001\u89c4\u5212\u7b97\u6cd5\uff0c\u5c31\u5c11\u4e0d\u4e86\u201c\u9009\u62e9\u201d\u7684\u8fc7\u7a0b\uff0c\u4e00\u53e5\u8bdd\u7684\u53e5\u6cd5\u7ed3\u6784\u6811\u53ef\u80fd\u6709\u591a\u79cd\uff0c\u6211\u4eec\u53ea\u9009\u62e9\u6982\u7387\u6700\u5927\u7684\u90a3\u4e00\u79cd\u4f5c\u4e3a\u53e5\u5b50\u7684\u6700\u4f73\u7ed3\u6784\uff0c\u8fd9\u4e5f\u662f\u201c\u57fa\u4e8e\u6982\u7387\u201d\u4e0a\u4e0b\u6587\u65e0\u5173\u6587\u6cd5\u7684\u540d\u5b57\u8d77\u6e90\u3002  \u4e0a\u9762\u7684\u8ba1\u7b97\u8fc7\u7a0b\u603b\u7ed3\u8d77\u6765\u5c31\u662f\uff1a\u8bbeW={\u03c91\u03c92\u03c93\u2026\u2026}\u8868\u793a\u4e00\u4e2a\u53e5\u5b50\uff0c\u5176\u4e2d\u7684\u03c9\u8868\u793a\u4e00\u4e2a\u8bcd(word)\uff0c\u5229\u7528\u52a8\u6001\u89c4\u5212\u7b97\u6cd5\u8ba1\u7b97\u975e\u7ec8\u7ed3\u7b26A\u63a8\u5bfc\u51faW\u4e2d\u5b50\u4e32\u03c9i\u03c9i+1\u03c9i+2\u2026\u2026\u03c9j\u7684\u6982\u7387\uff0c\u5047\u8bbe\u6982\u7387\u4e3a\u03b1ij(A)\uff0c\u90a3\u4e48\u6709\u5982\u4e0b\u9012\u5f52\u516c\u5f0f\uff1a  1\n2 \u03b1ij(A)=P(A- \u03c9i)\n\u03b1ij(A)=\u2211\u2211P(A- BC)\u03b1ik(B)\u03b1(k+1)j(C)   \u4ee5\u4e0a\u4e24\u4e2a\u5f0f\u5b50\u597d\u597d\u7406\u89e3\u4e00\u4e0b\u5176\u5b9e\u5c31\u662f\u4e0a\u9762\u201c\u6211\u5403\u8089\u201d\u7684\u8ba1\u7b97\u8fc7\u7a0b  \u4ee5\u4e0a\u8fc7\u7a0b\u7406\u89e3\u4e86\u4e4b\u540e\u4f60\u4e00\u5b9a\u4f1a\u95ee\uff0c\u8fd9\u91cc\u9762\u6700\u5173\u952e\u7684\u7684\u975e\u7ec8\u7ed3\u7b26\u3001\u7ec8\u7ed3\u7b26\u4ee5\u53ca\u89c4\u5219\u96c6\u662f\u600e\u4e48\u5f97\u6765\u7684\uff0c\u6982\u7387\u53c8\u662f\u600e\u4e48\u786e\u5b9a\u7684\uff1f\u4e0b\u9762\u6211\u4eec\u5c31\u6765\u8bf4\u660e", 
            "title": "\u53e5\u6cd5\u7ed3\u6784\u5206\u6790\u57fa\u672c\u65b9\u6cd5"
        }, 
        {
            "location": "/18.tree/#pcfg", 
            "text": "\u8fd9\u90e8\u5206\u5c31\u662f\u673a\u5668\u5b66\u4e60\u7684\u77e5\u8bc6\u4e86\uff0c\u6709\u5173\u673a\u5668\u5b66\u4e60\u53ef\u4ee5\u53c2\u8003\u300a\u673a\u5668\u5b66\u4e60\u6559\u7a0b\u300b  \u9996\u5148\u6211\u4eec\u9700\u8981\u5927\u91cf\u7684\u6811\u5e93\uff0c\u4e5f\u5c31\u662f\u8bad\u7ec3\u6570\u636e\u3002\u7136\u540e\u6211\u4eec\u628a\u6811\u5e93\u4e2d\u7684\u53e5\u6cd5\u89c4\u5219\u63d0\u53d6\u51fa\u6765\u751f\u6210\u6211\u4eec\u60f3\u8981\u7684\u7ed3\u6784\u5f62\u5f0f\uff0c\u5e76\u8fdb\u884c\u5408\u5e76\u3001\u5f52\u7eb3\u7b49\u5904\u7406\uff0c\u6700\u7ec8\u5f97\u5230\u4e0a\u9762\u2211\u3001N\u3001R\u7684\u6837\u5b50\u3002\u5176\u4e2d\u7684\u6982\u7387\u53c2\u6570\u8ba1\u7b97\u65b9\u6cd5\u662f\u8fd9\u6837\u7684\uff1a  \u5148\u7ed9\u5b9a\u53c2\u6570\u4e3a\u4e00\u4e2a\u968f\u673a\u521d\u59cb\u503c\uff0c\u7136\u540e\u91c7\u7528EM\u8fed\u4ee3\u7b97\u6cd5\uff0c\u4e0d\u65ad\u8bad\u7ec3\u6570\u636e\uff0c\u5e76\u8ba1\u7b97\u6bcf\u6761\u89c4\u5219\u4f7f\u7528\u6b21\u6570\u4f5c\u4e3a\u6700\u5927\u4f3c\u7136\u8ba1\u7b97\u5f97\u5230\u6982\u7387\u7684\u4f30\u503c\uff0c\u8fd9\u6837\u4e0d\u65ad\u8fed\u4ee3\u66f4\u65b0\u6982\u7387\uff0c\u6700\u7ec8\u5f97\u51fa\u7684\u6982\u7387\u53ef\u4ee5\u8ba4\u4e3a\u662f\u7b26\u5408\u6700\u5927\u4f3c\u7136\u4f30\u8ba1\u7684\u7cbe\u786e\u503c\u3002", 
            "title": "\u53e5\u6cd5\u89c4\u5219\u63d0\u53d6\u65b9\u6cd5\u4e0ePCFG\u7684\u6982\u7387\u53c2\u6570\u4f30\u8ba1"
        }, 
        {
            "location": "/18.tree/#_4", 
            "text": "\u53e5\u6cd5\u5206\u6790\u6811\u751f\u6210\u7b97\u6cd5\u662f\u57fa\u4e8e\u7edf\u8ba1\u5b66\u4e60\u7684\u539f\u7406\uff0c\u6839\u636e\u5927\u91cf\u6807\u6ce8\u7684\u8bed\u6599\u5e93\uff08\u6811\u5e93\uff09\uff0c\u901a\u8fc7\u673a\u5668\u5b66\u4e60\u7b97\u6cd5\u5f97\u51fa\u975e\u7ec8\u7ed3\u7b26\u3001\u7ec8\u7ed3\u7b26\u3001\u89c4\u5219\u96c6\u53ca\u5176\u6982\u7387\u53c2\u6570\uff0c\u7136\u540e\u5229\u7528\u52a8\u6001\u89c4\u5212\u7b97\u6cd5\u751f\u6210\u6bcf\u4e00\u53e5\u8bdd\u7684\u53e5\u6cd5\u5206\u6790\u6811\uff0c\u5728\u53e5\u6cd5\u5206\u6790\u6811\u751f\u6210\u8fc7\u7a0b\u4e2d\u5982\u679c\u9047\u5230\u591a\u79cd\u6811\u7ed3\u6784\uff0c\u9009\u62e9\u6982\u7387\u6700\u5927\u7684\u90a3\u4e00\u79cd\u4f5c\u4e3a\u6700\u4f73\u53e5\u5b50\u7ed3\u6784", 
            "title": "\u603b\u7ed3\u4e00\u4e0b"
        }, 
        {
            "location": "/19.understand/", 
            "text": "\u65e5\u540e\u518d\u8bf4\u8fd9\u4e2a\u6210\u8bed\u5230\u4e86\u5f53\u4ee3\u53ef\u4ee5\u8bf4\u542b\u4e49\u5341\u5206\u6df1\u523b\uff0c\u4f60\u61c2\u7684\uff0c\u4f46\u662f\u5982\u4f55\u8ba9\u8ba1\u7b97\u673a\u61c2\u5f97\u53ef\u80fd\u6709\u4e24\u79cd\u542b\u4e49\u7684\u4e00\u4e2a\u8bcd\u5230\u5e95\u662f\u60f3\u8868\u8fbe\u54ea\u4e2a\u542b\u4e49\u5462\uff1f\u8fd9\u5728\u81ea\u7136\u8bed\u8a00\u5904\u7406\u4e2d\u53eb\u505a\u8bcd\u4e49\u6d88\u6b67\uff0c\u4ece\u672c\u8282\u5f00\u59cb\u6211\u4eec\u4ece\u57fa\u672c\u7684\u7ed3\u6784\u5206\u6790\u8de8\u5165\u8bed\u4e49\u5206\u6790\uff0c\u5f00\u59cb\u8ba9\u8ba1\u7b97\u673a\u5bf9\u8bed\u8a00\u505a\u6df1\u5c42\u6b21\u7684\u7406\u89e3 \n\n\n\u8bcd\u4e49\u6d88\u6b67\n\n\n\u8bcd\u4e49\u6d88\u6b67\u662f\u53e5\u5b50\u548c\u7bc7\u7ae0\u8bed\u4e49\u7406\u89e3\u7684\u57fa\u7840\uff0c\u662f\u5fc5\u987b\u89e3\u51b3\u7684\u95ee\u9898\u3002\u4efb\u4f55\u4e00\u79cd\u8bed\u8a00\u90fd\u6709\u5927\u91cf\u5177\u6709\u591a\u79cd\u542b\u4e49\u7684\u8bcd\u6c47\uff0c\u4e2d\u6587\u7684\u201c\u65e5\u201d\uff0c\u82f1\u6587\u7684\u201cbank\u201d\uff0c\u6cd5\u8bed\u7684\u201cprendre\u201d\u2026\u2026\u3002\n\n\n\u8bcd\u4e49\u6d88\u6b67\u53ef\u4ee5\u901a\u8fc7\u673a\u5668\u5b66\u4e60\u7684\u65b9\u6cd5\u6765\u89e3\u51b3\u3002\u8c08\u5230\u673a\u5668\u5b66\u4e60\u5c31\u4f1a\u5206\u6210\u6709\u76d1\u7763\u548c\u65e0\u76d1\u7763\u7684\u673a\u5668\u5b66\u4e60\u3002\u8bcd\u4e49\u6d88\u6b67\u6709\u76d1\u7763\u7684\u673a\u5668\u5b66\u4e60\u65b9\u6cd5\u4e5f\u5c31\u662f\u5206\u7c7b\u7b97\u6cd5\uff0c\u5373\u5224\u65ad\u8bcd\u4e49\u6240\u5c5e\u7684\u5206\u7c7b\u3002\u8bcd\u4e49\u6d88\u6b67\u65e0\u76d1\u7763\u7684\u673a\u5668\u5b66\u4e60\u65b9\u6cd5\u4e5f\u5c31\u662f\u805a\u7c7b\u7b97\u6cd5\uff0c\u628a\u8bcd\u4e49\u805a\u6210\u591a\u7c7b\uff0c\u6bcf\u4e00\u7c7b\u662f\u4e00\u79cd\u542b\u4e49\u3002\n\n\n\u6709\u76d1\u7763\u7684\u8bcd\u4e49\u6d88\u6b67\u65b9\u6cd5\n\n\n\u57fa\u4e8e\u4e92\u4fe1\u606f\u7684\u8bcd\u4e49\u6d88\u6b67\u65b9\u6cd5\n\u8fd9\u4e2a\u65b9\u6cd5\u7684\u540d\u5b57\u4e0d\u597d\u7406\u89e3\uff0c\u4f46\u662f\u539f\u7406\u5374\u975e\u5e38\u7b80\u5355\uff1a\u7528\u4e24\u79cd\u8bed\u8a00\u5bf9\u7167\u7740\u770b\uff0c\u6bd4\u5982\uff1a\u4e2d\u6587\u201c\u6253\u4eba\u201d\u5bf9\u5e94\u82f1\u6587\u201cbeat a man\u201d\uff0c\u800c\u4e2d\u6587\u201c\u6253\u9171\u6cb9\u201d\u5bf9\u5e94\u82f1\u6587\u201cbuy some sauce\u201d\u3002\u8fd9\u6837\u5c31\u77e5\u9053\u5f53\u4e0a\u4e0b\u6587\u8bed\u5883\u91cc\u6709\u201c\u4eba\u201d\u7684\u65f6\u5019\u201c\u6253\u201d\u7684\u542b\u4e49\u662fbeat\uff0c\u5f53\u4e0a\u4e0b\u6587\u8bed\u5883\u91cc\u6709\u201c\u9171\u6cb9\u201d\u7684\u65f6\u5019\u201c\u6253\u201d\u7684\u542b\u4e49\u662fbuy\u3002\u6309\u7167\u8fd9\u79cd\u601d\u8def\uff0c\u57fa\u4e8e\u5927\u91cf\u4e2d\u82f1\u6587\u5bf9\u7167\u7684\u8bed\u6599\u5e93\u8bad\u7ec3\u51fa\u6765\u7684\u6a21\u578b\u5c31\u53ef\u4ee5\u7528\u6765\u505a\u8bcd\u4e49\u6d88\u6b67\u4e86\uff0c\u8fd9\u79cd\u65b9\u6cd5\u5c31\u53eb\u505a\u57fa\u4e8e\u201c\u4e92\u4fe1\u606f\u201d\u7684\u8bcd\u4e49\u6d88\u6b67\u65b9\u6cd5\u3002\u8bb2\u5230\u201c\u4e92\u4fe1\u606f\u201d\u8fd8\u8981\u8bf4\u4e00\u4e0b\u5b83\u7684\u8d77\u6e90\uff0c\u5b83\u6765\u6e90\u4e8e\u4fe1\u606f\u8bba\uff0c\u8868\u8fbe\u7684\u662f\u4e00\u4e2a\u968f\u673a\u53d8\u91cf\u4e2d\u5305\u542b\u53e6\u4e00\u4e2a\u968f\u673a\u53d8\u91cf\u7684\u4fe1\u606f\u91cf(\u4e5f\u5c31\u662f\u82f1\u6587\u4fe1\u606f\u4e2d\u5305\u542b\u4e2d\u6587\u4fe1\u606f\u7684\u4fe1\u606f\u91cf)\uff0c\u5047\u8bbe\u4e24\u4e2a\u968f\u673a\u53d8\u91cfX\u3001Y\u7684\u6982\u7387\u5206\u522b\u662fp(x), p(y)\uff0c\u5b83\u4eec\u7684\u8054\u5408\u5206\u5e03\u6982\u7387\u662fp(x,y)\uff0c\u90a3\u4e48\u4e92\u4fe1\u606f\u8ba1\u7b97\u516c\u5f0f\u662f\uff1a\n\n\n1\nI(X; Y) = \u2211\u2211p(x,y)log(p(x,y)/(p(x)p(y)))\n\n\n\n\n\n\n\u4ee5\u4e0a\u516c\u5f0f\u662f\u600e\u4e48\u63a8\u5bfc\u51fa\u6765\u7684\u5462\uff1f\u6bd4\u8f83\u7b80\u5355\uff0c\u201c\u4e92\u4fe1\u606f\u201d\u53ef\u4ee5\u7406\u89e3\u4e3a\u4e00\u4e2a\u968f\u673a\u53d8\u91cf\u7531\u4e8e\u5df2\u77e5\u53e6\u4e00\u4e2a\u968f\u673a\u53d8\u91cf\u800c\u51cf\u5c11\u7684\u4e0d\u786e\u5b9a\u6027(\u4e5f\u5c31\u662f\u7406\u89e3\u4e2d\u6587\u65f6\u7531\u4e8e\u5df2\u77e5\u4e86\u82f1\u6587\u7684\u542b\u4e49\u800c\u8ba9\u4e2d\u6587\u7406\u89e3\u66f4\u786e\u5b9a\u4e86)\uff0c\u56e0\u4e3a\u201c\u4e0d\u786e\u5b9a\u6027\u201d\u5c31\u662f\u71b5\u6240\u8868\u8fbe\u7684\u542b\u4e49\uff0c\u6240\u4ee5\uff1a\n\n\n1\nI(X; Y) = H(X) - H(X|Y)\n\n\n\n\n\n\n\u7b49\u5f0f\u540e\u9762\u7ecf\u8fc7\u4e0d\u65ad\u63a8\u5bfc\u5c31\u53ef\u4ee5\u5f97\u51fa\u4e0a\u9762\u7684\u516c\u5f0f\uff0c\u5bf9\u5177\u4f53\u63a8\u5bfc\u8fc7\u7a0b\u611f\u5174\u8da3\u53ef\u4ee5\u767e\u5ea6\u4e00\u4e0b\u3002\n\n\n\u90a3\u4e48\u6211\u4eec\u5728\u5bf9\u8bed\u6599\u4e0d\u65ad\u8fed\u4ee3\u8bad\u7ec3\u8fc7\u7a0b\u4e2dI(X; Y)\u662f\u4e0d\u65ad\u51cf\u5c0f\u7684\uff0c\u7b97\u6cd5\u7ec8\u6b62\u7684\u6761\u4ef6\u5c31\u662fI(X; Y)\u4e0d\u518d\u51cf\u5c0f\u3002\n\n\n\u57fa\u4e8e\u4e92\u4fe1\u606f\u7684\u8bcd\u4e49\u6d88\u6b67\u65b9\u6cd5\u81ea\u7136\u5bf9\u673a\u5668\u7ffb\u8bd1\u7cfb\u7edf\u7684\u6548\u679c\u662f\u6700\u597d\u7684\uff0c\u4f46\u5b83\u7684\u7f3a\u70b9\u662f\uff1a\u53cc\u8bed\u8bed\u6599\u6709\u9650\uff0c\u591a\u79cd\u8bed\u8a00\u80fd\u8bc6\u522b\u51fa\u6b67\u4e49\u7684\u60c5\u51b5\u4e5f\u662f\u6709\u9650\u7684(\u6bd4\u5982\u4e2d\u82f1\u6587\u540c\u4e00\u4e2a\u8bcd\u90fd\u6709\u6b67\u4e49\u5c31\u4e0d\u884c\u4e86)\u3002\n\n\n\u57fa\u4e8e\u8d1d\u53f6\u65af\u5206\u7c7b\u5668\u7684\u6d88\u6b67\u65b9\u6cd5\n\n\n\u63d0\u5230\u8d1d\u53f6\u65af\u90a3\u4e48\u4e00\u5b9a\u5c11\u4e0d\u4e86\u6761\u4ef6\u6982\u7387\uff0c\u8fd9\u91cc\u7684\u6761\u4ef6\u6307\u7684\u5c31\u662f\u4e0a\u4e0b\u6587\u8bed\u5883\u8fd9\u4e2a\u6761\u4ef6\uff0c\u4efb\u4f55\u591a\u4e49\u8bcd\u7684\u542b\u4e49\u90fd\u662f\u8ddf\u4e0a\u4e0b\u6587\u8bed\u5883\u76f8\u5173\u7684\u3002\u5047\u8bbe\u8bed\u5883(context)\u8bb0\u4f5cc\uff0c\u8bed\u4e49(semantic)\u8bb0\u4f5cs\uff0c\u591a\u4e49\u8bcd(word)\u8bb0\u4f5cw\uff0c\u90a3\u4e48\u6211\u8981\u8ba1\u7b97\u7684\u5c31\u662f\u591a\u4e49\u8bcdw\u5728\u8bed\u5883c\u4e0b\u5177\u6709\u8bed\u4e49s\u7684\u6982\u7387\uff0c\u5373\uff1a\n\n\n1\np(s|c)\n\n\n\n\n\n\n\u90a3\u4e48\u6839\u636e\u8d1d\u53f6\u65af\u516c\u5f0f\uff1a\n\n\n1\np(s|c) = p(c|s)p(s)/p(c)\n\n\n\n\n\n\n\u6211\u8981\u8ba1\u7b97\u7684\u5c31\u662fp(s|c)\u4e2ds\u53d6\u67d0\u4e00\u4e2a\u8bed\u4e49\u7684\u6700\u5927\u6982\u7387\uff0c\u56e0\u4e3ap(c)\u662f\u65e2\u5b9a\u7684\uff0c\u6240\u4ee5\u53ea\u8003\u8651\u5206\u5b50\u7684\u6700\u5927\u503c\uff1a\n\n\n1\ns\u7684\u4f30\u8ba1=max(p(c|s)p(s))\n\n\n\n\n\n\n\u56e0\u4e3a\u8bed\u5883c\u5728\u81ea\u7136\u8bed\u8a00\u5904\u7406\u4e2d\u5fc5\u987b\u901a\u8fc7\u8bcd\u6765\u8868\u8fbe\uff0c\u4e5f\u5c31\u662f\u7531\u591a\u4e2av(\u8bcd)\u7ec4\u6210\uff0c\u90a3\u4e48\u4e5f\u5c31\u662f\u8ba1\u7b97\uff1a\n\n\n1\nmax(p(s)\u220fp(v|s))\n\n\n\n\n\n\n\u4e0b\u9762\u5c31\u662f\u8bad\u7ec3\u7684\u8fc7\u7a0b\u4e86\uff1a\n\n\np(s)\u8868\u8fbe\u7684\u662f\u591a\u4e49\u8bcdw\u7684\u67d0\u4e2a\u8bed\u4e49s\u7684\u6982\u7387\uff0c\u53ef\u4ee5\u7edf\u8ba1\u5927\u91cf\u8bed\u6599\u901a\u8fc7\u6700\u5927\u4f3c\u7136\u4f30\u8ba1\u6c42\u5f97\uff1a\n\n\n1\np(s) = N(s)/N(w)\n\n\n\n\n\n\np(v|s)\u8868\u8fbe\u7684\u662f\u591a\u4e49\u8bcdw\u7684\u67d0\u4e2a\u8bed\u4e49s\u7684\u6761\u4ef6\u4e0b\u51fa\u73b0\u8bcdv\u7684\u6982\u7387\uff0c\u53ef\u4ee5\u7edf\u8ba1\u5927\u91cf\u8bed\u6599\u901a\u8fc7\u6700\u5927\u4f3c\u7136\u4f30\u8ba1\u6c42\u5f97\uff1a\n\n\n1\np\n(\nv\n|\ns\n)\n \n=\n \nN\n(\nv\n,\n \ns\n)\n/\nN\n(\ns\n)\n\n\n\n\n\n\n\n\u8bad\u7ec3\u51fap(s)\u548cp(v|s)\u4e4b\u540e\u6211\u4eec\u5bf9\u4e00\u4e2a\u591a\u4e49\u8bcdw\u6d88\u6b67\u7684\u8fc7\u7a0b\u5c31\u662f\u8ba1\u7b97(p(c|s)p(s))\u7684\u6700\u5927\u6982\u7387\u7684\u8fc7\u7a0b\n\n\n\u65e0\u76d1\u7763\u7684\u8bcd\u4e49\u6d88\u6b67\u65b9\u6cd5\n\n\n\u5b8c\u5168\u65e0\u76d1\u7763\u7684\u8bcd\u4e49\u6d88\u6b67\u662f\u4e0d\u53ef\u80fd\u7684\uff0c\u56e0\u4e3a\u6ca1\u6709\u6807\u6ce8\u662f\u65e0\u6cd5\u5b9a\u4e49\u662f\u4ec0\u4e48\u8bcd\u4e49\u7684\uff0c\u4f46\u662f\u53ef\u4ee5\u901a\u8fc7\u65e0\u76d1\u7763\u7684\u65b9\u6cd5\u6765\u505a\u8bcd\u4e49\u8fa8\u8bc6\u3002\u65e0\u76d1\u7763\u7684\u8bcd\u4e49\u8fa8\u8bc6\u5176\u5b9e\u4e5f\u662f\u4e00\u79cd\u8d1d\u53f6\u65af\u5206\u7c7b\u5668\uff0c\u548c\u4e0a\u9762\u8bb2\u5230\u7684\u8d1d\u53f6\u65af\u5206\u7c7b\u5668\u6d88\u6b67\u65b9\u6cd5\u4e0d\u540c\u5728\u4e8e\uff1a\u8fd9\u91cc\u7684\u53c2\u6570\u4f30\u8ba1\u4e0d\u662f\u57fa\u4e8e\u6709\u6807\u6ce8\u7684\u8bad\u7ec3\u9884\u6599\uff0c\u800c\u662f\u5148\u968f\u673a\u521d\u59cb\u5316\u53c2\u6570p(v|s)\uff0c\u7136\u540e\u6839\u636eEM\u7b97\u6cd5\u91cd\u65b0\u4f30\u8ba1\u8fd9\u4e2a\u6982\u7387\u503c\uff0c\u4e5f\u5c31\u662f\u5bf9w\u7684\u6bcf\u4e00\u4e2a\u4e0a\u4e0b\u6587c\u8ba1\u7b97p(c|s)\uff0c\u8fd9\u6837\u53ef\u4ee5\u5f97\u5230\u771f\u5b9e\u6570\u636e\u7684\u4f3c\u7136\u503c\uff0c\u56de\u8fc7\u6765\u518d\u91cd\u65b0\u4f30\u8ba1p(v|s)\uff0c\u91cd\u65b0\u8ba1\u7b97\u4f3c\u7136\u503c\uff0c\u8fd9\u6837\u4e0d\u65ad\u8fed\u4ee3\u4e0d\u65ad\u66f4\u65b0\u6a21\u578b\u53c2\u6570\uff0c\u6700\u7ec8\u5f97\u5230\u5206\u7c7b\u6a21\u578b\uff0c\u53ef\u4ee5\u5bf9\u8bcd\u8fdb\u884c\u5206\u7c7b\uff0c\u90a3\u4e48\u6709\u6b67\u4e49\u7684\u8bcd\u5728\u4e0d\u540c\u8bed\u5883\u4e2d\u4f1a\u88ab\u5206\u5230\u4e0d\u540c\u7684\u7c7b\u522b\u91cc\u3002\n\n\n\u4ed4\u7ec6\u601d\u8003\u4e00\u4e0b\u8fd9\u79cd\u65b9\u6cd5\uff0c\u5176\u5b9e\u662f\u57fa\u4e8e\u5355\u8bed\u8a00\u7684\u4e0a\u4e0b\u6587\u5411\u91cf\u7684\uff0c\u90a3\u4e48\u6211\u4eec\u8fdb\u4e00\u6b65\u601d\u8003\u4e0b\u4e00\u8bdd\u9898\uff0c\u5982\u679c\u4e00\u4e2a\u65b0\u7684\u8bed\u5883\u6ca1\u6709\u8bad\u7ec3\u6a21\u578b\u4e2d\u4e00\u6837\u7684\u5411\u91cf\u600e\u4e48\u6765\u8bc6\u522b\u8bed\u4e49\uff1f\n\n\n\u8fd9\u91cc\u5c31\u6d89\u53ca\u5230\u5411\u91cf\u76f8\u4f3c\u6027\u7684\u6982\u5ff5\u4e86\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u8ba1\u7b97\u4e24\u4e2a\u5411\u91cf\u4e4b\u95f4\u5939\u89d2\u4f59\u5f26\u503c\u6765\u6bd4\u8f83\u76f8\u4f3c\u6027\uff0c\u5373\uff1a\n\n\n1\ncos\n(\na\n,\nb\n)\n \n=\n \n\u2211\nab\n/\nsqrt\n(\n\u2211\na\n^\n2\n\u2211\nb\n^\n2\n)\n\n\n\n\n\n\n\n\u673a\u5668\u4eba\u662f\u600e\u4e48\u7406\u89e3\u201c\u65e5\u540e\u518d\u8bf4\u201d\u7684\n\u56de\u5230\u6700\u521d\u7684\u8bdd\u9898\uff0c\u600e\u4e48\u8ba9\u673a\u5668\u4eba\u7406\u89e3\u201c\u65e5\u540e\u518d\u8bf4\u201d\uff0c\u8fd9\u672c\u8d28\u4e0a\u662f\u4e00\u4e2a\u8bcd\u4e49\u6d88\u6b67\u7684\u95ee\u9898\uff0c\u5047\u8bbe\u6211\u4eec\u5229\u7528\u65e0\u76d1\u7763\u7684\u65b9\u6cd5\u6765\u8fa8\u8bc6\u8fd9\u4e2a\u8bcd\u4e49\uff0c\u90a3\u4e48\u5c31\u8ba9\u673a\u5668\u4eba\u201c\u9605\u8bfb\u201d\u5927\u91cf\u8bed\u6599\u8fdb\u884c\u201c\u5b66\u4e60\u201d\uff0c\u751f\u6210\u8bed\u4e49\u8fa8\u8bc6\u6a21\u578b\uff0c\u8fd9\u6837\u5f53\u5b83\u542c\u5230\u8fd9\u6837\u4e00\u5219\u5bf9\u8bdd\u65f6\uff1a\n\n\n\u6709\u4e00\u4f4d\u8001\u5ad6\u5ba2\u53bb\u627e\u5c0f\u59d0\uff0c\u5c0f\u59d0\u95ee\u4ed6\u4ec0\u4e48\u65f6\u5019\u7ed3\u8d26\u554a\u3002\u5ad6\u5ba2\u8bf4\uff1a\u201c\u94b1\u7684\u4e8b\u60c5\u65e5\u540e\u518d\u8bf4\u3002\u201d\u5c31\u5f00\u59cb\u4e86\uff0c\u5b8c\u4e8b\u540e\uff0c\u5c0f\u59d0\u5bf9\u5ad6\u5ba2\u8bf4\uff1a\u201c\u7ed9\u94b1\u5427\u3002\u201d\u5ad6\u5ba2\u61f5\u4e86\uff0c\u8bf4\uff1a\u201c\u4e0d\u662f\u8bf4\u65e5\u540e\u518d\u8bf4\u5417\uff1f\u201d\u5c0f\u59d0\u8bf4\uff1a\u201c\u662f\u554a\uff0c\u4f60\u73b0\u5728\u4e0d\u662f\u5df2\u7ecf\u65e5\u540e\u4e86\u5417\uff1f\u201d\n\u8fa8\u8bc6\u4e86\u8fd9\u91cc\u7684\u201c\u65e5\u540e\u518d\u8bf4\u201d\u7684\u8bcd\u4e49\u540e\uff0c\u5b83\u4f1a\u5fc3\u7684\u7b11\u4e86", 
            "title": "\u5341\u4e5d-\u673a\u5668\u4eba\u662f\u600e\u4e48\u7406\u89e3\u201c\u65e5\u540e\u518d\u8bf4\u201d\u7684"
        }, 
        {
            "location": "/19.understand/#_1", 
            "text": "\u8bcd\u4e49\u6d88\u6b67\u662f\u53e5\u5b50\u548c\u7bc7\u7ae0\u8bed\u4e49\u7406\u89e3\u7684\u57fa\u7840\uff0c\u662f\u5fc5\u987b\u89e3\u51b3\u7684\u95ee\u9898\u3002\u4efb\u4f55\u4e00\u79cd\u8bed\u8a00\u90fd\u6709\u5927\u91cf\u5177\u6709\u591a\u79cd\u542b\u4e49\u7684\u8bcd\u6c47\uff0c\u4e2d\u6587\u7684\u201c\u65e5\u201d\uff0c\u82f1\u6587\u7684\u201cbank\u201d\uff0c\u6cd5\u8bed\u7684\u201cprendre\u201d\u2026\u2026\u3002  \u8bcd\u4e49\u6d88\u6b67\u53ef\u4ee5\u901a\u8fc7\u673a\u5668\u5b66\u4e60\u7684\u65b9\u6cd5\u6765\u89e3\u51b3\u3002\u8c08\u5230\u673a\u5668\u5b66\u4e60\u5c31\u4f1a\u5206\u6210\u6709\u76d1\u7763\u548c\u65e0\u76d1\u7763\u7684\u673a\u5668\u5b66\u4e60\u3002\u8bcd\u4e49\u6d88\u6b67\u6709\u76d1\u7763\u7684\u673a\u5668\u5b66\u4e60\u65b9\u6cd5\u4e5f\u5c31\u662f\u5206\u7c7b\u7b97\u6cd5\uff0c\u5373\u5224\u65ad\u8bcd\u4e49\u6240\u5c5e\u7684\u5206\u7c7b\u3002\u8bcd\u4e49\u6d88\u6b67\u65e0\u76d1\u7763\u7684\u673a\u5668\u5b66\u4e60\u65b9\u6cd5\u4e5f\u5c31\u662f\u805a\u7c7b\u7b97\u6cd5\uff0c\u628a\u8bcd\u4e49\u805a\u6210\u591a\u7c7b\uff0c\u6bcf\u4e00\u7c7b\u662f\u4e00\u79cd\u542b\u4e49\u3002", 
            "title": "\u8bcd\u4e49\u6d88\u6b67"
        }, 
        {
            "location": "/19.understand/#_2", 
            "text": "\u57fa\u4e8e\u4e92\u4fe1\u606f\u7684\u8bcd\u4e49\u6d88\u6b67\u65b9\u6cd5\n\u8fd9\u4e2a\u65b9\u6cd5\u7684\u540d\u5b57\u4e0d\u597d\u7406\u89e3\uff0c\u4f46\u662f\u539f\u7406\u5374\u975e\u5e38\u7b80\u5355\uff1a\u7528\u4e24\u79cd\u8bed\u8a00\u5bf9\u7167\u7740\u770b\uff0c\u6bd4\u5982\uff1a\u4e2d\u6587\u201c\u6253\u4eba\u201d\u5bf9\u5e94\u82f1\u6587\u201cbeat a man\u201d\uff0c\u800c\u4e2d\u6587\u201c\u6253\u9171\u6cb9\u201d\u5bf9\u5e94\u82f1\u6587\u201cbuy some sauce\u201d\u3002\u8fd9\u6837\u5c31\u77e5\u9053\u5f53\u4e0a\u4e0b\u6587\u8bed\u5883\u91cc\u6709\u201c\u4eba\u201d\u7684\u65f6\u5019\u201c\u6253\u201d\u7684\u542b\u4e49\u662fbeat\uff0c\u5f53\u4e0a\u4e0b\u6587\u8bed\u5883\u91cc\u6709\u201c\u9171\u6cb9\u201d\u7684\u65f6\u5019\u201c\u6253\u201d\u7684\u542b\u4e49\u662fbuy\u3002\u6309\u7167\u8fd9\u79cd\u601d\u8def\uff0c\u57fa\u4e8e\u5927\u91cf\u4e2d\u82f1\u6587\u5bf9\u7167\u7684\u8bed\u6599\u5e93\u8bad\u7ec3\u51fa\u6765\u7684\u6a21\u578b\u5c31\u53ef\u4ee5\u7528\u6765\u505a\u8bcd\u4e49\u6d88\u6b67\u4e86\uff0c\u8fd9\u79cd\u65b9\u6cd5\u5c31\u53eb\u505a\u57fa\u4e8e\u201c\u4e92\u4fe1\u606f\u201d\u7684\u8bcd\u4e49\u6d88\u6b67\u65b9\u6cd5\u3002\u8bb2\u5230\u201c\u4e92\u4fe1\u606f\u201d\u8fd8\u8981\u8bf4\u4e00\u4e0b\u5b83\u7684\u8d77\u6e90\uff0c\u5b83\u6765\u6e90\u4e8e\u4fe1\u606f\u8bba\uff0c\u8868\u8fbe\u7684\u662f\u4e00\u4e2a\u968f\u673a\u53d8\u91cf\u4e2d\u5305\u542b\u53e6\u4e00\u4e2a\u968f\u673a\u53d8\u91cf\u7684\u4fe1\u606f\u91cf(\u4e5f\u5c31\u662f\u82f1\u6587\u4fe1\u606f\u4e2d\u5305\u542b\u4e2d\u6587\u4fe1\u606f\u7684\u4fe1\u606f\u91cf)\uff0c\u5047\u8bbe\u4e24\u4e2a\u968f\u673a\u53d8\u91cfX\u3001Y\u7684\u6982\u7387\u5206\u522b\u662fp(x), p(y)\uff0c\u5b83\u4eec\u7684\u8054\u5408\u5206\u5e03\u6982\u7387\u662fp(x,y)\uff0c\u90a3\u4e48\u4e92\u4fe1\u606f\u8ba1\u7b97\u516c\u5f0f\u662f\uff1a  1 I(X; Y) = \u2211\u2211p(x,y)log(p(x,y)/(p(x)p(y)))   \u4ee5\u4e0a\u516c\u5f0f\u662f\u600e\u4e48\u63a8\u5bfc\u51fa\u6765\u7684\u5462\uff1f\u6bd4\u8f83\u7b80\u5355\uff0c\u201c\u4e92\u4fe1\u606f\u201d\u53ef\u4ee5\u7406\u89e3\u4e3a\u4e00\u4e2a\u968f\u673a\u53d8\u91cf\u7531\u4e8e\u5df2\u77e5\u53e6\u4e00\u4e2a\u968f\u673a\u53d8\u91cf\u800c\u51cf\u5c11\u7684\u4e0d\u786e\u5b9a\u6027(\u4e5f\u5c31\u662f\u7406\u89e3\u4e2d\u6587\u65f6\u7531\u4e8e\u5df2\u77e5\u4e86\u82f1\u6587\u7684\u542b\u4e49\u800c\u8ba9\u4e2d\u6587\u7406\u89e3\u66f4\u786e\u5b9a\u4e86)\uff0c\u56e0\u4e3a\u201c\u4e0d\u786e\u5b9a\u6027\u201d\u5c31\u662f\u71b5\u6240\u8868\u8fbe\u7684\u542b\u4e49\uff0c\u6240\u4ee5\uff1a  1 I(X; Y) = H(X) - H(X|Y)   \u7b49\u5f0f\u540e\u9762\u7ecf\u8fc7\u4e0d\u65ad\u63a8\u5bfc\u5c31\u53ef\u4ee5\u5f97\u51fa\u4e0a\u9762\u7684\u516c\u5f0f\uff0c\u5bf9\u5177\u4f53\u63a8\u5bfc\u8fc7\u7a0b\u611f\u5174\u8da3\u53ef\u4ee5\u767e\u5ea6\u4e00\u4e0b\u3002  \u90a3\u4e48\u6211\u4eec\u5728\u5bf9\u8bed\u6599\u4e0d\u65ad\u8fed\u4ee3\u8bad\u7ec3\u8fc7\u7a0b\u4e2dI(X; Y)\u662f\u4e0d\u65ad\u51cf\u5c0f\u7684\uff0c\u7b97\u6cd5\u7ec8\u6b62\u7684\u6761\u4ef6\u5c31\u662fI(X; Y)\u4e0d\u518d\u51cf\u5c0f\u3002  \u57fa\u4e8e\u4e92\u4fe1\u606f\u7684\u8bcd\u4e49\u6d88\u6b67\u65b9\u6cd5\u81ea\u7136\u5bf9\u673a\u5668\u7ffb\u8bd1\u7cfb\u7edf\u7684\u6548\u679c\u662f\u6700\u597d\u7684\uff0c\u4f46\u5b83\u7684\u7f3a\u70b9\u662f\uff1a\u53cc\u8bed\u8bed\u6599\u6709\u9650\uff0c\u591a\u79cd\u8bed\u8a00\u80fd\u8bc6\u522b\u51fa\u6b67\u4e49\u7684\u60c5\u51b5\u4e5f\u662f\u6709\u9650\u7684(\u6bd4\u5982\u4e2d\u82f1\u6587\u540c\u4e00\u4e2a\u8bcd\u90fd\u6709\u6b67\u4e49\u5c31\u4e0d\u884c\u4e86)\u3002", 
            "title": "\u6709\u76d1\u7763\u7684\u8bcd\u4e49\u6d88\u6b67\u65b9\u6cd5"
        }, 
        {
            "location": "/19.understand/#_3", 
            "text": "\u63d0\u5230\u8d1d\u53f6\u65af\u90a3\u4e48\u4e00\u5b9a\u5c11\u4e0d\u4e86\u6761\u4ef6\u6982\u7387\uff0c\u8fd9\u91cc\u7684\u6761\u4ef6\u6307\u7684\u5c31\u662f\u4e0a\u4e0b\u6587\u8bed\u5883\u8fd9\u4e2a\u6761\u4ef6\uff0c\u4efb\u4f55\u591a\u4e49\u8bcd\u7684\u542b\u4e49\u90fd\u662f\u8ddf\u4e0a\u4e0b\u6587\u8bed\u5883\u76f8\u5173\u7684\u3002\u5047\u8bbe\u8bed\u5883(context)\u8bb0\u4f5cc\uff0c\u8bed\u4e49(semantic)\u8bb0\u4f5cs\uff0c\u591a\u4e49\u8bcd(word)\u8bb0\u4f5cw\uff0c\u90a3\u4e48\u6211\u8981\u8ba1\u7b97\u7684\u5c31\u662f\u591a\u4e49\u8bcdw\u5728\u8bed\u5883c\u4e0b\u5177\u6709\u8bed\u4e49s\u7684\u6982\u7387\uff0c\u5373\uff1a  1 p(s|c)   \u90a3\u4e48\u6839\u636e\u8d1d\u53f6\u65af\u516c\u5f0f\uff1a  1 p(s|c) = p(c|s)p(s)/p(c)   \u6211\u8981\u8ba1\u7b97\u7684\u5c31\u662fp(s|c)\u4e2ds\u53d6\u67d0\u4e00\u4e2a\u8bed\u4e49\u7684\u6700\u5927\u6982\u7387\uff0c\u56e0\u4e3ap(c)\u662f\u65e2\u5b9a\u7684\uff0c\u6240\u4ee5\u53ea\u8003\u8651\u5206\u5b50\u7684\u6700\u5927\u503c\uff1a  1 s\u7684\u4f30\u8ba1=max(p(c|s)p(s))   \u56e0\u4e3a\u8bed\u5883c\u5728\u81ea\u7136\u8bed\u8a00\u5904\u7406\u4e2d\u5fc5\u987b\u901a\u8fc7\u8bcd\u6765\u8868\u8fbe\uff0c\u4e5f\u5c31\u662f\u7531\u591a\u4e2av(\u8bcd)\u7ec4\u6210\uff0c\u90a3\u4e48\u4e5f\u5c31\u662f\u8ba1\u7b97\uff1a  1 max(p(s)\u220fp(v|s))   \u4e0b\u9762\u5c31\u662f\u8bad\u7ec3\u7684\u8fc7\u7a0b\u4e86\uff1a  p(s)\u8868\u8fbe\u7684\u662f\u591a\u4e49\u8bcdw\u7684\u67d0\u4e2a\u8bed\u4e49s\u7684\u6982\u7387\uff0c\u53ef\u4ee5\u7edf\u8ba1\u5927\u91cf\u8bed\u6599\u901a\u8fc7\u6700\u5927\u4f3c\u7136\u4f30\u8ba1\u6c42\u5f97\uff1a  1 p(s) = N(s)/N(w)   p(v|s)\u8868\u8fbe\u7684\u662f\u591a\u4e49\u8bcdw\u7684\u67d0\u4e2a\u8bed\u4e49s\u7684\u6761\u4ef6\u4e0b\u51fa\u73b0\u8bcdv\u7684\u6982\u7387\uff0c\u53ef\u4ee5\u7edf\u8ba1\u5927\u91cf\u8bed\u6599\u901a\u8fc7\u6700\u5927\u4f3c\u7136\u4f30\u8ba1\u6c42\u5f97\uff1a  1 p ( v | s )   =   N ( v ,   s ) / N ( s )    \u8bad\u7ec3\u51fap(s)\u548cp(v|s)\u4e4b\u540e\u6211\u4eec\u5bf9\u4e00\u4e2a\u591a\u4e49\u8bcdw\u6d88\u6b67\u7684\u8fc7\u7a0b\u5c31\u662f\u8ba1\u7b97(p(c|s)p(s))\u7684\u6700\u5927\u6982\u7387\u7684\u8fc7\u7a0b", 
            "title": "\u57fa\u4e8e\u8d1d\u53f6\u65af\u5206\u7c7b\u5668\u7684\u6d88\u6b67\u65b9\u6cd5"
        }, 
        {
            "location": "/19.understand/#_4", 
            "text": "\u5b8c\u5168\u65e0\u76d1\u7763\u7684\u8bcd\u4e49\u6d88\u6b67\u662f\u4e0d\u53ef\u80fd\u7684\uff0c\u56e0\u4e3a\u6ca1\u6709\u6807\u6ce8\u662f\u65e0\u6cd5\u5b9a\u4e49\u662f\u4ec0\u4e48\u8bcd\u4e49\u7684\uff0c\u4f46\u662f\u53ef\u4ee5\u901a\u8fc7\u65e0\u76d1\u7763\u7684\u65b9\u6cd5\u6765\u505a\u8bcd\u4e49\u8fa8\u8bc6\u3002\u65e0\u76d1\u7763\u7684\u8bcd\u4e49\u8fa8\u8bc6\u5176\u5b9e\u4e5f\u662f\u4e00\u79cd\u8d1d\u53f6\u65af\u5206\u7c7b\u5668\uff0c\u548c\u4e0a\u9762\u8bb2\u5230\u7684\u8d1d\u53f6\u65af\u5206\u7c7b\u5668\u6d88\u6b67\u65b9\u6cd5\u4e0d\u540c\u5728\u4e8e\uff1a\u8fd9\u91cc\u7684\u53c2\u6570\u4f30\u8ba1\u4e0d\u662f\u57fa\u4e8e\u6709\u6807\u6ce8\u7684\u8bad\u7ec3\u9884\u6599\uff0c\u800c\u662f\u5148\u968f\u673a\u521d\u59cb\u5316\u53c2\u6570p(v|s)\uff0c\u7136\u540e\u6839\u636eEM\u7b97\u6cd5\u91cd\u65b0\u4f30\u8ba1\u8fd9\u4e2a\u6982\u7387\u503c\uff0c\u4e5f\u5c31\u662f\u5bf9w\u7684\u6bcf\u4e00\u4e2a\u4e0a\u4e0b\u6587c\u8ba1\u7b97p(c|s)\uff0c\u8fd9\u6837\u53ef\u4ee5\u5f97\u5230\u771f\u5b9e\u6570\u636e\u7684\u4f3c\u7136\u503c\uff0c\u56de\u8fc7\u6765\u518d\u91cd\u65b0\u4f30\u8ba1p(v|s)\uff0c\u91cd\u65b0\u8ba1\u7b97\u4f3c\u7136\u503c\uff0c\u8fd9\u6837\u4e0d\u65ad\u8fed\u4ee3\u4e0d\u65ad\u66f4\u65b0\u6a21\u578b\u53c2\u6570\uff0c\u6700\u7ec8\u5f97\u5230\u5206\u7c7b\u6a21\u578b\uff0c\u53ef\u4ee5\u5bf9\u8bcd\u8fdb\u884c\u5206\u7c7b\uff0c\u90a3\u4e48\u6709\u6b67\u4e49\u7684\u8bcd\u5728\u4e0d\u540c\u8bed\u5883\u4e2d\u4f1a\u88ab\u5206\u5230\u4e0d\u540c\u7684\u7c7b\u522b\u91cc\u3002  \u4ed4\u7ec6\u601d\u8003\u4e00\u4e0b\u8fd9\u79cd\u65b9\u6cd5\uff0c\u5176\u5b9e\u662f\u57fa\u4e8e\u5355\u8bed\u8a00\u7684\u4e0a\u4e0b\u6587\u5411\u91cf\u7684\uff0c\u90a3\u4e48\u6211\u4eec\u8fdb\u4e00\u6b65\u601d\u8003\u4e0b\u4e00\u8bdd\u9898\uff0c\u5982\u679c\u4e00\u4e2a\u65b0\u7684\u8bed\u5883\u6ca1\u6709\u8bad\u7ec3\u6a21\u578b\u4e2d\u4e00\u6837\u7684\u5411\u91cf\u600e\u4e48\u6765\u8bc6\u522b\u8bed\u4e49\uff1f  \u8fd9\u91cc\u5c31\u6d89\u53ca\u5230\u5411\u91cf\u76f8\u4f3c\u6027\u7684\u6982\u5ff5\u4e86\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u8ba1\u7b97\u4e24\u4e2a\u5411\u91cf\u4e4b\u95f4\u5939\u89d2\u4f59\u5f26\u503c\u6765\u6bd4\u8f83\u76f8\u4f3c\u6027\uff0c\u5373\uff1a  1 cos ( a , b )   =   \u2211 ab / sqrt ( \u2211 a ^ 2 \u2211 b ^ 2 )    \u673a\u5668\u4eba\u662f\u600e\u4e48\u7406\u89e3\u201c\u65e5\u540e\u518d\u8bf4\u201d\u7684\n\u56de\u5230\u6700\u521d\u7684\u8bdd\u9898\uff0c\u600e\u4e48\u8ba9\u673a\u5668\u4eba\u7406\u89e3\u201c\u65e5\u540e\u518d\u8bf4\u201d\uff0c\u8fd9\u672c\u8d28\u4e0a\u662f\u4e00\u4e2a\u8bcd\u4e49\u6d88\u6b67\u7684\u95ee\u9898\uff0c\u5047\u8bbe\u6211\u4eec\u5229\u7528\u65e0\u76d1\u7763\u7684\u65b9\u6cd5\u6765\u8fa8\u8bc6\u8fd9\u4e2a\u8bcd\u4e49\uff0c\u90a3\u4e48\u5c31\u8ba9\u673a\u5668\u4eba\u201c\u9605\u8bfb\u201d\u5927\u91cf\u8bed\u6599\u8fdb\u884c\u201c\u5b66\u4e60\u201d\uff0c\u751f\u6210\u8bed\u4e49\u8fa8\u8bc6\u6a21\u578b\uff0c\u8fd9\u6837\u5f53\u5b83\u542c\u5230\u8fd9\u6837\u4e00\u5219\u5bf9\u8bdd\u65f6\uff1a  \u6709\u4e00\u4f4d\u8001\u5ad6\u5ba2\u53bb\u627e\u5c0f\u59d0\uff0c\u5c0f\u59d0\u95ee\u4ed6\u4ec0\u4e48\u65f6\u5019\u7ed3\u8d26\u554a\u3002\u5ad6\u5ba2\u8bf4\uff1a\u201c\u94b1\u7684\u4e8b\u60c5\u65e5\u540e\u518d\u8bf4\u3002\u201d\u5c31\u5f00\u59cb\u4e86\uff0c\u5b8c\u4e8b\u540e\uff0c\u5c0f\u59d0\u5bf9\u5ad6\u5ba2\u8bf4\uff1a\u201c\u7ed9\u94b1\u5427\u3002\u201d\u5ad6\u5ba2\u61f5\u4e86\uff0c\u8bf4\uff1a\u201c\u4e0d\u662f\u8bf4\u65e5\u540e\u518d\u8bf4\u5417\uff1f\u201d\u5c0f\u59d0\u8bf4\uff1a\u201c\u662f\u554a\uff0c\u4f60\u73b0\u5728\u4e0d\u662f\u5df2\u7ecf\u65e5\u540e\u4e86\u5417\uff1f\u201d\n\u8fa8\u8bc6\u4e86\u8fd9\u91cc\u7684\u201c\u65e5\u540e\u518d\u8bf4\u201d\u7684\u8bcd\u4e49\u540e\uff0c\u5b83\u4f1a\u5fc3\u7684\u7b11\u4e86", 
            "title": "\u65e0\u76d1\u7763\u7684\u8bcd\u4e49\u6d88\u6b67\u65b9\u6cd5"
        }, 
        {
            "location": "/20.pos-base-method/", 
            "text": "\u6d45\u5c42\u8bed\u4e49\u6807\u6ce8\u662f\u884c\u4e4b\u6709\u6548\u7684\u8bed\u8a00\u5206\u6790\u65b9\u6cd5\uff0c\u57fa\u4e8e\u8bed\u4e49\u89d2\u8272\u7684\u6d45\u5c42\u5206\u6790\u65b9\u6cd5\u53ef\u4ee5\u63cf\u8ff0\u53e5\u5b50\u4e2d\u8bed\u4e49\u89d2\u8272\u4e4b\u95f4\u7684\u5173\u7cfb\uff0c\u662f\u8bed\u4e49\u5206\u6790\u7684\u91cd\u8981\u65b9\u6cd5\uff0c\u4e5f\u662f\u7bc7\u7ae0\u5206\u6790\u7684\u57fa\u7840\uff0c\u672c\u8282\u4ecb\u7ecd\u57fa\u4e8e\u673a\u5668\u5b66\u4e60\u7684\u8bed\u4e49\u89d2\u8272\u6807\u6ce8\u65b9\u6cd5 \n\n\n\u8bed\u4e49\u89d2\u8272\n\n\n\u4e3e\u4e2a\u6817\u5b50\uff1a\u201c\u6211\u6628\u5929\u5403\u4e86\u4e00\u5757\u8089\u201d\uff0c\u6309\u7167\u5e38\u89c4\u7406\u89e3\u201c\u6211\u5403\u8089\u201d\u5e94\u8be5\u662f\u53e5\u5b50\u7684\u6838\u5fc3\uff0c\u4f46\u662f\u5bf9\u4e8e\u673a\u5668\u6765\u8bf4\u201c\u6211\u5403\u8089\u201d\u5b9e\u9645\u4e0a\u5df2\u7ecf\u4e22\u5931\u4e86\u975e\u5e38\u591a\u7684\u91cd\u8981\u4fe1\u606f\uff0c\u6ca1\u6709\u4e86\u65f6\u95f4\uff0c\u6ca1\u6709\u4e86\u6570\u91cf\u3002\u4e3a\u4e86\u8ba9\u673a\u5668\u8bb0\u5f55\u5e76\u63d0\u53d6\u51fa\u8fd9\u4e9b\u91cd\u8981\u4fe1\u606f\uff0c\u53e5\u5b50\u7684\u6838\u5fc3\u5e76\u4e0d\u662f\u201c\u6211\u5403\u8089\u201d\uff0c\u800c\u662f\u4ee5\u8c13\u8bcd\u201c\u5403\u201d\u4e3a\u6838\u5fc3\u7684\u5168\u90e8\u4fe1\u606f\u3002\n\n\n\u201c\u5403\u201d\u662f\u8c13\u8bcd\uff0c\u201c\u6211\u201d\u662f\u65bd\u4e8b\u8005\uff0c\u201c\u8089\u201d\u662f\u53d7\u4e8b\u8005\uff0c\u201c\u6628\u5929\u201d\u662f\u4e8b\u60c5\u53d1\u751f\u7684\u65f6\u95f4\uff0c\u201c\u4e00\u5757\u201d\u662f\u6570\u91cf\u3002\u8bed\u4e49\u89d2\u8272\u6807\u6ce8\u5c31\u662f\u8981\u5206\u6790\u51fa\u8fd9\u4e00\u4e9b\u89d2\u8272\u4fe1\u606f\uff0c\u4ece\u800c\u53ef\u4ee5\u8ba9\u8ba1\u7b97\u673a\u63d0\u53d6\u51fa\u91cd\u8981\u7684\u7ed3\u6784\u5316\u4fe1\u606f\uff0c\u6765\u201c\u7406\u89e3\u201d\u8bed\u8a00\u7684\u542b\u4e49\u3002\n\n\n\u8bed\u4e49\u89d2\u8272\u6807\u6ce8\u7684\u57fa\u672c\u65b9\u6cd5\n\n\n\u8bed\u4e49\u89d2\u8272\u6807\u6ce8\u9700\u8981\u4f9d\u8d56\u53e5\u6cd5\u5206\u6790\u7684\u7ed3\u679c\u8fdb\u884c\uff0c\u56e0\u4e3a\u53e5\u6cd5\u5206\u6790\u5305\u62ec\u77ed\u8bed\u7ed3\u6784\u5206\u6790\u3001\u6d45\u5c42\u53e5\u6cd5\u5206\u6790\u3001\u4f9d\u5b58\u5173\u7cfb\u5206\u6790\uff0c\u6240\u4ee5\u8bed\u4e49\u89d2\u8272\u6807\u6ce8\u4e5f\u5206\u4e3a\uff1a\u57fa\u4e8e\u77ed\u8bed\u7ed3\u6784\u6811\u7684\u8bed\u4e49\u89d2\u8272\u6807\u6ce8\u65b9\u6cd5\u3001\u57fa\u4e8e\u6d45\u5c42\u53e5\u6cd5\u5206\u6790\u7ed3\u679c\u7684\u8bed\u4e49\u89d2\u8272\u6807\u6ce8\u65b9\u6cd5\u3001\u57fa\u4e8e\u4f9d\u5b58\u53e5\u6cd5\u5206\u6790\u7ed3\u679c\u7684\u8bed\u4e49\u89d2\u8272\u6807\u6ce8\u65b9\u6cd5\u3002\u4f46\u65e0\u8bba\u54ea\u79cd\u65b9\u6cd5\uff0c\u8fc7\u7a0b\u90fd\u662f\uff1a\n\n\n\u53e5\u6cd5\u5206\u6790-\n\u5019\u9009\u8bba\u5143\u526a\u9664-\n\u8bba\u5143\u8bc6\u522b-\n\u8bba\u5143\u6807\u6ce8-\n\u8bed\u4e49\u89d2\u8272\u6807\u6ce8\u7ed3\u679c\n\n\n\u5176\u4e2d\u8bba\u5143\u526a\u9664\u5c31\u662f\u5728\u8f83\u591a\u5019\u9009\u9879\u4e2d\u53bb\u6389\u80af\u5b9a\u4e0d\u662f\u8bba\u5143\u7684\u90e8\u5206\n\n\n\u5176\u4e2d\u8bba\u5143\u8bc6\u522b\u662f\u4e00\u4e2a\u4e8c\u503c\u5206\u7c7b\u95ee\u9898\uff0c\u5373\uff1a\u662f\u8bba\u5143\u548c\u4e0d\u662f\u8bba\u5143\n\n\n\u5176\u4e2d\u8bba\u5143\u6807\u6ce8\u662f\u4e00\u4e2a\u591a\u503c\u5206\u7c7b\u95ee\u9898\n\n\n\u4e0b\u9762\u5206\u522b\u9488\u5bf9\u4e09\u79cd\u65b9\u6cd5\u5206\u522b\u8bf4\u660e\u8fd9\u51e0\u4e2a\u8fc7\u7a0b\u7684\u5177\u4f53\u65b9\u6cd5\n\n\n\u57fa\u4e8e\u77ed\u8bed\u7ed3\u6784\u6811\u7684\u8bed\u4e49\u89d2\u8272\u6807\u6ce8\u65b9\u6cd5\n\u77ed\u8bed\u7ed3\u6784\u6811\u662f\u8fd9\u6837\u7684\u7ed3\u6784\uff1a\n\n\n1\n2\n3\n4\n5\n6\nS\u2014\u2014|\n|        |\nNN    VP\n\u6211      |\u2014\u2014|\n          Vt     NN\n          \u5403     \u8089\n\n\n\n\n\n\n\u77ed\u8bed\u7ed3\u6784\u6811\u91cc\u9762\u5df2\u7ecf\u8868\u8fbe\u4e86\u4e00\u79cd\u7ed3\u6784\u5173\u7cfb\uff0c\u56e0\u6b64\u8bed\u4e49\u89d2\u8272\u6807\u6ce8\u7684\u8fc7\u7a0b\u5c31\u662f\u4f9d\u8d56\u4e8e\u8fd9\u4e2a\u7ed3\u6784\u5173\u7cfb\u6765\u8bbe\u8ba1\u7684\u4e00\u79cd\u590d\u6742\u7b56\u7565\uff0c\u7b56\u7565\u7684\u5185\u5bb9\u968f\u7740\u8bed\u8a00\u7ed3\u6784\u7684\u590d\u6742\u800c\u590d\u6742\u5316\uff0c\u56e0\u6b64\u6211\u4eec\u4e3e\u51e0\u4e2a\u7b80\u5355\u7684\u7b56\u7565\u6765\u8bf4\u660e\u3002\n\n\n\u9996\u5148\u6211\u4eec\u5206\u6790\u8bba\u5143\u526a\u9664\u7684\u7b56\u7565\uff1a\n\n\n\u56e0\u4e3a\u8bed\u4e49\u89d2\u8272\u662f\u4ee5\u8c13\u8bcd\u4e3a\u4e2d\u5fc3\u7684\uff0c\u56e0\u6b64\u5728\u77ed\u8bed\u7ed3\u6784\u6811\u4e2d\u6211\u4eec\u4e5f\u4ee5\u8c13\u8bcd\u6240\u5728\u7684\u8282\u70b9\u4e3a\u4e2d\u5fc3\uff0c\u5148\u5e73\u884c\u5206\u6790\uff0c\u6bd4\u5982\u8fd9\u91cc\u7684\u201c\u5403\u201d\u662f\u8c13\u8bcd\uff0c\u548c\u4ed6\u5e76\u5217\u7684\u662f\u201c\u8089\u201d\uff0c\u660e\u663e\u201c\u8089\u201d\u662f\u53d7\u4e8b\u8005\uff0c\u90a3\u4e48\u8bbe\u8ba1\u4ec0\u4e48\u6837\u7684\u7b56\u7565\u80fd\u4f7f\u5f97\u5b83\u6210\u4e3a\u5019\u9009\u8bba\u5143\u5462\uff1f\u6211\u4eec\u77e5\u9053\u5982\u679c\u201c\u8089\u201d\u5b58\u5728\u4e00\u4e2a\u77ed\u8bed\u7ed3\u6784\u7684\u8bdd\uff0c\u90a3\u4e48\u4e00\u5b9a\u4f1a\u591a\u5904\u4e00\u4e2a\u6811\u5206\u652f\uff0c\u90a3\u4e48\u201c\u8089\u201d\u548c\u201c\u5403\u201d\u4e00\u5b9a\u4e0d\u4f1a\u5728\u6811\u7684\u540c\u4e00\u5c42\uff0c\u56e0\u6b64\u6211\u4eec\u8bbe\u8ba1\u8fd9\u6837\u7684\u7b56\u7565\u6765\u4fdd\u8bc1\u201c\u8089\u201d\u88ab\u9009\u4e3a\u5019\u9009\u8bba\u5143\uff1a\u5982\u679c\u5f53\u524d\u8282\u70b9\u7684\u5144\u5f1f\u8282\u70b9\u548c\u5f53\u524d\u8282\u70b9\u4e0d\u662f\u53e5\u6cd5\u7ed3\u6784\u7684\u5e76\u5217\u5173\u7cfb\uff0c\u90a3\u4e48\u5c06\u5b83\u4f5c\u4e3a\u5019\u9009\u8bba\u5143\u3002\u5f53\u7136\u8fd8\u6709\u5176\u4ed6\u7b56\u7565\u4e0d\u9700\u8981\u8bb0\u5f97\u5f88\u6e05\u695a\uff0c\u73b0\u7528\u73b0\u67e5\u5c31\u884c\u4e86\uff0c\u4f46\u5b83\u7684\u7cbe\u9ad3\u5c31\u662f\u57fa\u4e8e\u77ed\u8bed\u7ed3\u6784\u6811\u7684\u7ed3\u6784\u7279\u70b9\u6765\u8bbe\u8ba1\u7b56\u7565\u7684\u3002\n\n\n\u7136\u540e\u5c31\u662f\u8bba\u5143\u8bc6\u522b\u8fc7\u7a0b\u4e86\u3002\u8bba\u5143\u8bc6\u522b\u662f\u4e00\u4e2a\u4e8c\u503c\u5206\u7c7b\u95ee\u9898\uff0c\u56e0\u6b64\u4e00\u5b9a\u662f\u57fa\u4e8e\u6807\u6ce8\u7684\u8bed\u6599\u5e93\u505a\u673a\u5668\u5b66\u4e60\u7684\uff0c\u673a\u5668\u5b66\u4e60\u7684\u4e8c\u503c\u5206\u7c7b\u65b9\u6cd5\u90fd\u662f\u56fa\u5b9a\u7684\uff0c\u552f\u4e00\u7684\u533a\u522b\u5c31\u662f\u7279\u5f81\u7684\u8bbe\u8ba1\uff0c\u8fd9\u91cc\u9762\u4e00\u822c\u8bbe\u8ba1\u5982\u4e0b\u7279\u5f81\u6548\u679c\u6bd4\u8f83\u597d\uff1a\u8c13\u8bcd\u672c\u8eab\u3001\u77ed\u8bed\u7ed3\u6784\u6811\u8def\u5f84\u3001\u77ed\u8bed\u7c7b\u578b\u3001\u8bba\u5143\u5728\u8c13\u8bcd\u7684\u4f4d\u7f6e\u3001\u8c13\u8bcd\u8bed\u6001\u3001\u8bba\u5143\u4e2d\u5fc3\u8bcd\u3001\u4ece\u5c5e\u7c7b\u522b\u3001\u8bba\u5143\u7b2c\u4e00\u4e2a\u8bcd\u548c\u6700\u540e\u4e00\u4e2a\u8bcd\u3001\u7ec4\u5408\u7279\u5f81\u3002\n\n\n\u8bba\u5143\u8bc6\u522b\u4e4b\u540e\u5c31\u662f\u8bba\u5143\u6807\u6ce8\u8fc7\u7a0b\u4e86\u3002\u8fd9\u53c8\u662f\u4e00\u4e2a\u5229\u7528\u673a\u5668\u5b66\u4e60\u7684\u591a\u503c\u5206\u7c7b\u5668\u8fdb\u884c\u7684\uff0c\u5177\u4f53\u65b9\u6cd5\u4e0d\u518d\u8d58\u8ff0\u3002\n\n\n\u57fa\u4e8e\u4f9d\u5b58\u53e5\u6cd5\u5206\u6790\u7ed3\u679c\u548c\u57fa\u4e8e\u8bed\u5757\u7684\u8bed\u4e49\u89d2\u8272\u6807\u6ce8\u65b9\u6cd5\n\n\n\u8fd9\u4e24\u79cd\u8bed\u4e49\u89d2\u8272\u6807\u6ce8\u65b9\u6cd5\u548c\u57fa\u4e8e\u77ed\u8bed\u7ed3\u6784\u6811\u7684\u8bed\u4e49\u89d2\u8272\u6807\u6ce8\u65b9\u6cd5\u7684\u4e3b\u8981\u533a\u522b\u5728\u4e8e\u8bba\u5143\u526a\u9664\u7684\u8fc7\u7a0b\uff0c\u539f\u56e0\u5c31\u662f\u4ed6\u4eec\u57fa\u4e8e\u7684\u53e5\u6cd5\u7ed3\u6784\u4e0d\u540c\u3002\n\n\n\u57fa\u4e8e\u4f9d\u5b58\u53e5\u6cd5\u5206\u6790\u7ed3\u679c\u7684\u8bed\u4e49\u89d2\u8272\u6807\u6ce8\u65b9\u6cd5\u4f1a\u57fa\u4e8e\u4f9d\u5b58\u53e5\u6cd5\u76f4\u63a5\u63d0\u53d6\u51fa\u8c13\u8bcd-\u8bba\u5143\u5173\u7cfb\uff0c\u8fd9\u548c\u4f9d\u5b58\u5173\u7cfb\u7684\u8868\u8ff0\u662f\u5f88\u63a5\u8fd1\u7684\uff0c\u56e0\u6b64\u526a\u9664\u7b56\u7565\u7684\u8bbe\u8ba1\u4e5f\u5c31\u6bd4\u8f83\u7b80\u5355\uff1a\u4ee5\u8c13\u8bcd\u4f5c\u4e3a\u5f53\u524d\u8282\u70b9\uff0c\u5f53\u524d\u8282\u70b9\u6240\u6709\u5b50\u8282\u70b9\u90fd\u662f\u5019\u9009\u8bba\u5143\uff0c\u5c06\u5f53\u524d\u8282\u70b9\u7684\u7236\u8282\u70b9\u4f5c\u4e3a\u5f53\u524d\u8282\u70b9\u91cd\u590d\u4ee5\u4e0a\u8fc7\u7a0b\u76f4\u81f3\u5230\u6839\u8282\u70b9\u4e3a\u6b62\u3002\n\n\n\u57fa\u4e8e\u4f9d\u5b58\u53e5\u6cd5\u5206\u6790\u7ed3\u679c\u7684\u8bed\u4e49\u89d2\u8272\u6807\u6ce8\u65b9\u6cd5\u4e2d\u7684\u8bba\u5143\u8bc6\u522b\u7b97\u6cd5\u7684\u7279\u5f81\u8bbe\u8ba1\u4e5f\u7a0d\u6709\u4e0d\u540c\uff0c\u591a\u4e86\u6709\u5173\u7236\u5b50\u8282\u70b9\u7684\u4e00\u4e9b\u7279\u5f81\u3002\n\n\n\u6709\u4e86\u4ee5\u4e0a\u51e0\u79cd\u8bed\u4e49\u89d2\u8272\u6807\u6ce8\u65b9\u6cd5\u4e00\u5b9a\u4f1a\u5404\u6709\u4f18\u7f3a\u70b9\uff0c\u56e0\u6b64\u5c31\u6709\u4eba\u60f3\u5230\u4e86\u591a\u79cd\u65b9\u6cd5\u76f8\u878d\u5408\u7684\u65b9\u6cd5\uff0c\u878d\u5408\u7684\u65b9\u5f0f\u53ef\u4ee5\u662f\uff1a\u52a0\u6743\u6c42\u548c\u3001\u63d2\u503c\u2026\u2026\uff0c\u6700\u7ec8\u6548\u679c\u80af\u5b9a\u662f\u66f4\u597d\uff0c\u5c31\u4e0d\u591a\u8bf4\u4e86\u3002\n\n\n\u591a\u8bf4\u51e0\u53e5\n\n\n\u8bed\u4e49\u89d2\u8272\u6807\u6ce8\u5f53\u524d\u8fd8\u662f\u4e0d\u662f\u975e\u5e38\u6709\u6548\uff0c\u539f\u56e0\u6709\u8bf8\u591a\u65b9\u9762\uff0c\u6bd4\u5982\uff1a\u4f9d\u8d56\u4e8e\u53e5\u6cd5\u5206\u6790\u7684\u51c6\u786e\u6027\u3001\u9886\u57df\u9002\u5e94\u80fd\u529b\u5dee\u3002\u56e0\u6b64\u4e0d\u65ad\u6709\u65b0\u65b9\u6cd5\u6765\u89e3\u51b3\u8fd9\u4e9b\u95ee\u9898\uff0c\u6bd4\u5982\u8bf4\u53ef\u4ee5\u5229\u7528\u53cc\u8bed\u5e73\u884c\u8bed\u6599\u6765\u5f25\u8865\u51c6\u786e\u6027\u7684\u95ee\u9898\uff0c\u4e2d\u6587\u4e0d\u884c\u82f1\u6587\u6765\uff0c\u82f1\u6587\u4e0d\u884c\u6cd5\u8bed\u6765\uff0c\u53cd\u6b63\u591a\u591a\u76ca\u5584\uff0c\u8fd9\u786e\u5b9e\u6709\u52a9\u4e8e\u6539\u8fdb\u6548\u679c\uff0c\u4f46\u662f\u6210\u672c\u63d0\u9ad8\u4e86\u8bb8\u591a\u3002\u8bed\u4e49\u89d2\u8272\u6807\u6ce8\u8fd8\u6709\u4e00\u6bb5\u76f8\u5f53\u957f\u7684\u8def\u8981\u8d70\uff0c\u5e0c\u671b\u5b66\u672f\u754c\u7814\u7a76\u80fd\u4e0d\u65ad\u5f00\u82b1\u7ed3\u679c\u5427", 
            "title": "\u4e8c\u5341-\u8bed\u4e49\u89d2\u8272\u6807\u6ce8"
        }, 
        {
            "location": "/20.pos-base-method/#_1", 
            "text": "\u4e3e\u4e2a\u6817\u5b50\uff1a\u201c\u6211\u6628\u5929\u5403\u4e86\u4e00\u5757\u8089\u201d\uff0c\u6309\u7167\u5e38\u89c4\u7406\u89e3\u201c\u6211\u5403\u8089\u201d\u5e94\u8be5\u662f\u53e5\u5b50\u7684\u6838\u5fc3\uff0c\u4f46\u662f\u5bf9\u4e8e\u673a\u5668\u6765\u8bf4\u201c\u6211\u5403\u8089\u201d\u5b9e\u9645\u4e0a\u5df2\u7ecf\u4e22\u5931\u4e86\u975e\u5e38\u591a\u7684\u91cd\u8981\u4fe1\u606f\uff0c\u6ca1\u6709\u4e86\u65f6\u95f4\uff0c\u6ca1\u6709\u4e86\u6570\u91cf\u3002\u4e3a\u4e86\u8ba9\u673a\u5668\u8bb0\u5f55\u5e76\u63d0\u53d6\u51fa\u8fd9\u4e9b\u91cd\u8981\u4fe1\u606f\uff0c\u53e5\u5b50\u7684\u6838\u5fc3\u5e76\u4e0d\u662f\u201c\u6211\u5403\u8089\u201d\uff0c\u800c\u662f\u4ee5\u8c13\u8bcd\u201c\u5403\u201d\u4e3a\u6838\u5fc3\u7684\u5168\u90e8\u4fe1\u606f\u3002  \u201c\u5403\u201d\u662f\u8c13\u8bcd\uff0c\u201c\u6211\u201d\u662f\u65bd\u4e8b\u8005\uff0c\u201c\u8089\u201d\u662f\u53d7\u4e8b\u8005\uff0c\u201c\u6628\u5929\u201d\u662f\u4e8b\u60c5\u53d1\u751f\u7684\u65f6\u95f4\uff0c\u201c\u4e00\u5757\u201d\u662f\u6570\u91cf\u3002\u8bed\u4e49\u89d2\u8272\u6807\u6ce8\u5c31\u662f\u8981\u5206\u6790\u51fa\u8fd9\u4e00\u4e9b\u89d2\u8272\u4fe1\u606f\uff0c\u4ece\u800c\u53ef\u4ee5\u8ba9\u8ba1\u7b97\u673a\u63d0\u53d6\u51fa\u91cd\u8981\u7684\u7ed3\u6784\u5316\u4fe1\u606f\uff0c\u6765\u201c\u7406\u89e3\u201d\u8bed\u8a00\u7684\u542b\u4e49\u3002", 
            "title": "\u8bed\u4e49\u89d2\u8272"
        }, 
        {
            "location": "/20.pos-base-method/#_2", 
            "text": "\u8bed\u4e49\u89d2\u8272\u6807\u6ce8\u9700\u8981\u4f9d\u8d56\u53e5\u6cd5\u5206\u6790\u7684\u7ed3\u679c\u8fdb\u884c\uff0c\u56e0\u4e3a\u53e5\u6cd5\u5206\u6790\u5305\u62ec\u77ed\u8bed\u7ed3\u6784\u5206\u6790\u3001\u6d45\u5c42\u53e5\u6cd5\u5206\u6790\u3001\u4f9d\u5b58\u5173\u7cfb\u5206\u6790\uff0c\u6240\u4ee5\u8bed\u4e49\u89d2\u8272\u6807\u6ce8\u4e5f\u5206\u4e3a\uff1a\u57fa\u4e8e\u77ed\u8bed\u7ed3\u6784\u6811\u7684\u8bed\u4e49\u89d2\u8272\u6807\u6ce8\u65b9\u6cd5\u3001\u57fa\u4e8e\u6d45\u5c42\u53e5\u6cd5\u5206\u6790\u7ed3\u679c\u7684\u8bed\u4e49\u89d2\u8272\u6807\u6ce8\u65b9\u6cd5\u3001\u57fa\u4e8e\u4f9d\u5b58\u53e5\u6cd5\u5206\u6790\u7ed3\u679c\u7684\u8bed\u4e49\u89d2\u8272\u6807\u6ce8\u65b9\u6cd5\u3002\u4f46\u65e0\u8bba\u54ea\u79cd\u65b9\u6cd5\uff0c\u8fc7\u7a0b\u90fd\u662f\uff1a  \u53e5\u6cd5\u5206\u6790- \u5019\u9009\u8bba\u5143\u526a\u9664- \u8bba\u5143\u8bc6\u522b- \u8bba\u5143\u6807\u6ce8- \u8bed\u4e49\u89d2\u8272\u6807\u6ce8\u7ed3\u679c  \u5176\u4e2d\u8bba\u5143\u526a\u9664\u5c31\u662f\u5728\u8f83\u591a\u5019\u9009\u9879\u4e2d\u53bb\u6389\u80af\u5b9a\u4e0d\u662f\u8bba\u5143\u7684\u90e8\u5206  \u5176\u4e2d\u8bba\u5143\u8bc6\u522b\u662f\u4e00\u4e2a\u4e8c\u503c\u5206\u7c7b\u95ee\u9898\uff0c\u5373\uff1a\u662f\u8bba\u5143\u548c\u4e0d\u662f\u8bba\u5143  \u5176\u4e2d\u8bba\u5143\u6807\u6ce8\u662f\u4e00\u4e2a\u591a\u503c\u5206\u7c7b\u95ee\u9898  \u4e0b\u9762\u5206\u522b\u9488\u5bf9\u4e09\u79cd\u65b9\u6cd5\u5206\u522b\u8bf4\u660e\u8fd9\u51e0\u4e2a\u8fc7\u7a0b\u7684\u5177\u4f53\u65b9\u6cd5  \u57fa\u4e8e\u77ed\u8bed\u7ed3\u6784\u6811\u7684\u8bed\u4e49\u89d2\u8272\u6807\u6ce8\u65b9\u6cd5\n\u77ed\u8bed\u7ed3\u6784\u6811\u662f\u8fd9\u6837\u7684\u7ed3\u6784\uff1a  1\n2\n3\n4\n5\n6 S\u2014\u2014|\n|        |\nNN    VP\n\u6211      |\u2014\u2014|\n          Vt     NN\n          \u5403     \u8089   \u77ed\u8bed\u7ed3\u6784\u6811\u91cc\u9762\u5df2\u7ecf\u8868\u8fbe\u4e86\u4e00\u79cd\u7ed3\u6784\u5173\u7cfb\uff0c\u56e0\u6b64\u8bed\u4e49\u89d2\u8272\u6807\u6ce8\u7684\u8fc7\u7a0b\u5c31\u662f\u4f9d\u8d56\u4e8e\u8fd9\u4e2a\u7ed3\u6784\u5173\u7cfb\u6765\u8bbe\u8ba1\u7684\u4e00\u79cd\u590d\u6742\u7b56\u7565\uff0c\u7b56\u7565\u7684\u5185\u5bb9\u968f\u7740\u8bed\u8a00\u7ed3\u6784\u7684\u590d\u6742\u800c\u590d\u6742\u5316\uff0c\u56e0\u6b64\u6211\u4eec\u4e3e\u51e0\u4e2a\u7b80\u5355\u7684\u7b56\u7565\u6765\u8bf4\u660e\u3002  \u9996\u5148\u6211\u4eec\u5206\u6790\u8bba\u5143\u526a\u9664\u7684\u7b56\u7565\uff1a  \u56e0\u4e3a\u8bed\u4e49\u89d2\u8272\u662f\u4ee5\u8c13\u8bcd\u4e3a\u4e2d\u5fc3\u7684\uff0c\u56e0\u6b64\u5728\u77ed\u8bed\u7ed3\u6784\u6811\u4e2d\u6211\u4eec\u4e5f\u4ee5\u8c13\u8bcd\u6240\u5728\u7684\u8282\u70b9\u4e3a\u4e2d\u5fc3\uff0c\u5148\u5e73\u884c\u5206\u6790\uff0c\u6bd4\u5982\u8fd9\u91cc\u7684\u201c\u5403\u201d\u662f\u8c13\u8bcd\uff0c\u548c\u4ed6\u5e76\u5217\u7684\u662f\u201c\u8089\u201d\uff0c\u660e\u663e\u201c\u8089\u201d\u662f\u53d7\u4e8b\u8005\uff0c\u90a3\u4e48\u8bbe\u8ba1\u4ec0\u4e48\u6837\u7684\u7b56\u7565\u80fd\u4f7f\u5f97\u5b83\u6210\u4e3a\u5019\u9009\u8bba\u5143\u5462\uff1f\u6211\u4eec\u77e5\u9053\u5982\u679c\u201c\u8089\u201d\u5b58\u5728\u4e00\u4e2a\u77ed\u8bed\u7ed3\u6784\u7684\u8bdd\uff0c\u90a3\u4e48\u4e00\u5b9a\u4f1a\u591a\u5904\u4e00\u4e2a\u6811\u5206\u652f\uff0c\u90a3\u4e48\u201c\u8089\u201d\u548c\u201c\u5403\u201d\u4e00\u5b9a\u4e0d\u4f1a\u5728\u6811\u7684\u540c\u4e00\u5c42\uff0c\u56e0\u6b64\u6211\u4eec\u8bbe\u8ba1\u8fd9\u6837\u7684\u7b56\u7565\u6765\u4fdd\u8bc1\u201c\u8089\u201d\u88ab\u9009\u4e3a\u5019\u9009\u8bba\u5143\uff1a\u5982\u679c\u5f53\u524d\u8282\u70b9\u7684\u5144\u5f1f\u8282\u70b9\u548c\u5f53\u524d\u8282\u70b9\u4e0d\u662f\u53e5\u6cd5\u7ed3\u6784\u7684\u5e76\u5217\u5173\u7cfb\uff0c\u90a3\u4e48\u5c06\u5b83\u4f5c\u4e3a\u5019\u9009\u8bba\u5143\u3002\u5f53\u7136\u8fd8\u6709\u5176\u4ed6\u7b56\u7565\u4e0d\u9700\u8981\u8bb0\u5f97\u5f88\u6e05\u695a\uff0c\u73b0\u7528\u73b0\u67e5\u5c31\u884c\u4e86\uff0c\u4f46\u5b83\u7684\u7cbe\u9ad3\u5c31\u662f\u57fa\u4e8e\u77ed\u8bed\u7ed3\u6784\u6811\u7684\u7ed3\u6784\u7279\u70b9\u6765\u8bbe\u8ba1\u7b56\u7565\u7684\u3002  \u7136\u540e\u5c31\u662f\u8bba\u5143\u8bc6\u522b\u8fc7\u7a0b\u4e86\u3002\u8bba\u5143\u8bc6\u522b\u662f\u4e00\u4e2a\u4e8c\u503c\u5206\u7c7b\u95ee\u9898\uff0c\u56e0\u6b64\u4e00\u5b9a\u662f\u57fa\u4e8e\u6807\u6ce8\u7684\u8bed\u6599\u5e93\u505a\u673a\u5668\u5b66\u4e60\u7684\uff0c\u673a\u5668\u5b66\u4e60\u7684\u4e8c\u503c\u5206\u7c7b\u65b9\u6cd5\u90fd\u662f\u56fa\u5b9a\u7684\uff0c\u552f\u4e00\u7684\u533a\u522b\u5c31\u662f\u7279\u5f81\u7684\u8bbe\u8ba1\uff0c\u8fd9\u91cc\u9762\u4e00\u822c\u8bbe\u8ba1\u5982\u4e0b\u7279\u5f81\u6548\u679c\u6bd4\u8f83\u597d\uff1a\u8c13\u8bcd\u672c\u8eab\u3001\u77ed\u8bed\u7ed3\u6784\u6811\u8def\u5f84\u3001\u77ed\u8bed\u7c7b\u578b\u3001\u8bba\u5143\u5728\u8c13\u8bcd\u7684\u4f4d\u7f6e\u3001\u8c13\u8bcd\u8bed\u6001\u3001\u8bba\u5143\u4e2d\u5fc3\u8bcd\u3001\u4ece\u5c5e\u7c7b\u522b\u3001\u8bba\u5143\u7b2c\u4e00\u4e2a\u8bcd\u548c\u6700\u540e\u4e00\u4e2a\u8bcd\u3001\u7ec4\u5408\u7279\u5f81\u3002  \u8bba\u5143\u8bc6\u522b\u4e4b\u540e\u5c31\u662f\u8bba\u5143\u6807\u6ce8\u8fc7\u7a0b\u4e86\u3002\u8fd9\u53c8\u662f\u4e00\u4e2a\u5229\u7528\u673a\u5668\u5b66\u4e60\u7684\u591a\u503c\u5206\u7c7b\u5668\u8fdb\u884c\u7684\uff0c\u5177\u4f53\u65b9\u6cd5\u4e0d\u518d\u8d58\u8ff0\u3002", 
            "title": "\u8bed\u4e49\u89d2\u8272\u6807\u6ce8\u7684\u57fa\u672c\u65b9\u6cd5"
        }, 
        {
            "location": "/20.pos-base-method/#_3", 
            "text": "\u8fd9\u4e24\u79cd\u8bed\u4e49\u89d2\u8272\u6807\u6ce8\u65b9\u6cd5\u548c\u57fa\u4e8e\u77ed\u8bed\u7ed3\u6784\u6811\u7684\u8bed\u4e49\u89d2\u8272\u6807\u6ce8\u65b9\u6cd5\u7684\u4e3b\u8981\u533a\u522b\u5728\u4e8e\u8bba\u5143\u526a\u9664\u7684\u8fc7\u7a0b\uff0c\u539f\u56e0\u5c31\u662f\u4ed6\u4eec\u57fa\u4e8e\u7684\u53e5\u6cd5\u7ed3\u6784\u4e0d\u540c\u3002  \u57fa\u4e8e\u4f9d\u5b58\u53e5\u6cd5\u5206\u6790\u7ed3\u679c\u7684\u8bed\u4e49\u89d2\u8272\u6807\u6ce8\u65b9\u6cd5\u4f1a\u57fa\u4e8e\u4f9d\u5b58\u53e5\u6cd5\u76f4\u63a5\u63d0\u53d6\u51fa\u8c13\u8bcd-\u8bba\u5143\u5173\u7cfb\uff0c\u8fd9\u548c\u4f9d\u5b58\u5173\u7cfb\u7684\u8868\u8ff0\u662f\u5f88\u63a5\u8fd1\u7684\uff0c\u56e0\u6b64\u526a\u9664\u7b56\u7565\u7684\u8bbe\u8ba1\u4e5f\u5c31\u6bd4\u8f83\u7b80\u5355\uff1a\u4ee5\u8c13\u8bcd\u4f5c\u4e3a\u5f53\u524d\u8282\u70b9\uff0c\u5f53\u524d\u8282\u70b9\u6240\u6709\u5b50\u8282\u70b9\u90fd\u662f\u5019\u9009\u8bba\u5143\uff0c\u5c06\u5f53\u524d\u8282\u70b9\u7684\u7236\u8282\u70b9\u4f5c\u4e3a\u5f53\u524d\u8282\u70b9\u91cd\u590d\u4ee5\u4e0a\u8fc7\u7a0b\u76f4\u81f3\u5230\u6839\u8282\u70b9\u4e3a\u6b62\u3002  \u57fa\u4e8e\u4f9d\u5b58\u53e5\u6cd5\u5206\u6790\u7ed3\u679c\u7684\u8bed\u4e49\u89d2\u8272\u6807\u6ce8\u65b9\u6cd5\u4e2d\u7684\u8bba\u5143\u8bc6\u522b\u7b97\u6cd5\u7684\u7279\u5f81\u8bbe\u8ba1\u4e5f\u7a0d\u6709\u4e0d\u540c\uff0c\u591a\u4e86\u6709\u5173\u7236\u5b50\u8282\u70b9\u7684\u4e00\u4e9b\u7279\u5f81\u3002  \u6709\u4e86\u4ee5\u4e0a\u51e0\u79cd\u8bed\u4e49\u89d2\u8272\u6807\u6ce8\u65b9\u6cd5\u4e00\u5b9a\u4f1a\u5404\u6709\u4f18\u7f3a\u70b9\uff0c\u56e0\u6b64\u5c31\u6709\u4eba\u60f3\u5230\u4e86\u591a\u79cd\u65b9\u6cd5\u76f8\u878d\u5408\u7684\u65b9\u6cd5\uff0c\u878d\u5408\u7684\u65b9\u5f0f\u53ef\u4ee5\u662f\uff1a\u52a0\u6743\u6c42\u548c\u3001\u63d2\u503c\u2026\u2026\uff0c\u6700\u7ec8\u6548\u679c\u80af\u5b9a\u662f\u66f4\u597d\uff0c\u5c31\u4e0d\u591a\u8bf4\u4e86\u3002", 
            "title": "\u57fa\u4e8e\u4f9d\u5b58\u53e5\u6cd5\u5206\u6790\u7ed3\u679c\u548c\u57fa\u4e8e\u8bed\u5757\u7684\u8bed\u4e49\u89d2\u8272\u6807\u6ce8\u65b9\u6cd5"
        }, 
        {
            "location": "/20.pos-base-method/#_4", 
            "text": "\u8bed\u4e49\u89d2\u8272\u6807\u6ce8\u5f53\u524d\u8fd8\u662f\u4e0d\u662f\u975e\u5e38\u6709\u6548\uff0c\u539f\u56e0\u6709\u8bf8\u591a\u65b9\u9762\uff0c\u6bd4\u5982\uff1a\u4f9d\u8d56\u4e8e\u53e5\u6cd5\u5206\u6790\u7684\u51c6\u786e\u6027\u3001\u9886\u57df\u9002\u5e94\u80fd\u529b\u5dee\u3002\u56e0\u6b64\u4e0d\u65ad\u6709\u65b0\u65b9\u6cd5\u6765\u89e3\u51b3\u8fd9\u4e9b\u95ee\u9898\uff0c\u6bd4\u5982\u8bf4\u53ef\u4ee5\u5229\u7528\u53cc\u8bed\u5e73\u884c\u8bed\u6599\u6765\u5f25\u8865\u51c6\u786e\u6027\u7684\u95ee\u9898\uff0c\u4e2d\u6587\u4e0d\u884c\u82f1\u6587\u6765\uff0c\u82f1\u6587\u4e0d\u884c\u6cd5\u8bed\u6765\uff0c\u53cd\u6b63\u591a\u591a\u76ca\u5584\uff0c\u8fd9\u786e\u5b9e\u6709\u52a9\u4e8e\u6539\u8fdb\u6548\u679c\uff0c\u4f46\u662f\u6210\u672c\u63d0\u9ad8\u4e86\u8bb8\u591a\u3002\u8bed\u4e49\u89d2\u8272\u6807\u6ce8\u8fd8\u6709\u4e00\u6bb5\u76f8\u5f53\u957f\u7684\u8def\u8981\u8d70\uff0c\u5e0c\u671b\u5b66\u672f\u754c\u7814\u7a76\u80fd\u4e0d\u65ad\u5f00\u82b1\u7ed3\u679c\u5427", 
            "title": "\u591a\u8bf4\u51e0\u53e5"
        }, 
        {
            "location": "/21.tf-idf/", 
            "text": "\u6211\u66fe\u7ecf\u7684\u4e00\u7bc7\u6587\u7ae0\u66fe\u8bf4\u52300\u5b57\u8282\u5b58\u50a8\u6d77\u91cf\u8bed\u6599\u8d44\u6e90\uff0c\u90a3\u4e48\u4ece\u6d77\u91cf\u8bed\u6599\u8d44\u6e90\u4e2d\u627e\u5bfb\u4fe1\u606f\u9700\u8981\u4f9d\u8d56\u4e8e\u4fe1\u606f\u68c0\u7d22\u7684\u65b9\u6cd5\uff0c\u4fe1\u606f\u68c0\u7d22\u65e0\u8bba\u662f\u8c37\u6b4c\u8fd8\u662f\u767e\u5ea6\u90fd\u79bb\u4e0d\u5f00TF-IDF\u7b97\u6cd5\uff0c\u4f46TF-IDF\u662f\u4e07\u80fd\u7684\u5417\uff1f\u5e76\u4e0d\u662f\uff0c\u5b83\u7b80\u5355\u6709\u6548\u4f46\u7f3a\u4e4f\u8bed\u4e49\u7279\u5f81\uff0c\u672c\u8282\u4ecb\u7ecd\u6bd4TF-IDF\u8fd8\u725b\u903c\u7684\u542b\u6709\u8bed\u4e49\u7279\u5f81\u7684\u4fe1\u606f\u68c0\u7d22\u65b9\u6cd5 \n\n\nTF-IDF\nTF(term frequency)\uff0c\u8868\u793a\u4e00\u4e2a\u8bcd\u5728\u4e00\u4e2a\u6587\u6863\u4e2d\u51fa\u73b0\u7684\u9891\u7387\uff1bIDF(inverse document frequency)\uff0c\u8868\u793a\u4e00\u4e2a\u8bcd\u51fa\u73b0\u5728\u591a\u5c11\u4e2a\u6587\u6863\u4e2d\u3002\n\n\n\u5b83\u7684\u601d\u8def\u662f\u8fd9\u6837\u7684\uff1a\u540c\u4e00\u4e2a\u8bcd\u5728\u77ed\u6587\u6863\u4e2d\u51fa\u73b0\u7684\u6b21\u6570\u548c\u5728\u957f\u6587\u6863\u4e2d\u51fa\u73b0\u7684\u6b21\u6570\u4e00\u6837\u591a\u65f6\uff0c\u5bf9\u4e8e\u77ed\u6587\u6863\u4ef7\u503c\u66f4\u5927\uff1b\u4e00\u4e2a\u51fa\u73b0\u6982\u7387\u5f88\u4f4e\u7684\u8bcd\u4e00\u65e6\u51fa\u73b0\u5728\u6587\u6863\u4e2d\uff0c\u5176\u4ef7\u503c\u5e94\u8be5\u5927\u4e8e\u5176\u4ed6\u666e\u904d\u51fa\u73b0\u7684\u8bcd\u3002\n\n\n\u8fd9\u5728\u4fe1\u606f\u68c0\u7d22\u9886\u57df\u7684\u5411\u91cf\u6a21\u578b\u4e2d\u505a\u76f8\u4f3c\u5ea6\u8ba1\u7b97\u975e\u5e38\u6709\u6548\uff0c\u5c61\u8bd5\u4e0d\u723d\uff0c\u66fe\u7ecf\u662fgoogle\u8001\u5927\u54e5\u53d1\u5bb6\u7684\u5fc5\u6740\u6280\u3002\u4f46\u662f\u5728\u5f00\u53d1\u804a\u5929\u673a\u5668\u4eba\u8fd9\u4e2a\u4e8b\u60c5\u4e0a\u770b\u5230\u4e86\u5b83\u7684\u8f6f\u808b\uff0c\u90a3\u5c31\u662f\u5b83\u53ea\u662f\u8003\u8651\u72ec\u7acb\u7684\u8bcd\u4e0a\u7684\u4e8b\u60c5\uff0c\u5e76\u6ca1\u6709\u4efb\u4f55\u8bed\u4e49\u4fe1\u606f\u5728\u91cc\u9762\uff0c\u56e0\u6b64\u6211\u4eec\u9700\u8981\u9009\u62e9\u52a0\u5165\u4e86\u8bed\u4e49\u7279\u5f81\u7684\u66f4\u6709\u6548\u7684\u4fe1\u606f\u68c0\u7d22\u6a21\u578b\u3002\n\n\n\u9690\u542b\u8bed\u4e49\u7d22\u5f15\u6a21\u578b\n\n\n\u5728TF-IDF\u6a21\u578b\u4e2d\uff0c\u6240\u6709\u8bcd\u6784\u6210\u4e00\u4e2a\u9ad8\u7ef4\u7684\u8bed\u4e49\u7a7a\u95f4\uff0c\u6bcf\u4e2a\u6587\u6863\u5728\u8fd9\u4e2a\u7a7a\u95f4\u4e2d\u88ab\u6620\u5c04\u4e3a\u4e00\u4e2a\u70b9\uff0c\u8fd9\u79cd\u65b9\u6cd5\u7ef4\u6570\u4e00\u822c\u6bd4\u8f83\u9ad8\u800c\u4e14\u6bcf\u4e2a\u8bcd\u4f5c\u4e3a\u4e00\u7ef4\u5272\u88c2\u4e86\u8bcd\u4e0e\u8bcd\u4e4b\u95f4\u7684\u5173\u7cfb\u3002\u6240\u4ee5\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u6211\u4eec\u8981\u628a\u8bcd\u548c\u6587\u6863\u540c\u7b49\u5bf9\u5f85\uff0c\u6784\u9020\u4e00\u4e2a\u7ef4\u6570\u4e0d\u9ad8\u7684\u8bed\u4e49\u7a7a\u95f4\uff0c\u6bcf\u4e2a\u8bcd\u548c\u6bcf\u4e2a\u6587\u6863\u90fd\u662f\u88ab\u6620\u5c04\u5230\u8fd9\u4e2a\u7a7a\u95f4\u4e2d\u7684\u4e00\u4e2a\u70b9\u3002\u7528\u6570\u5b66\u6765\u8868\u793a\u8fd9\u4e2a\u601d\u60f3\u5c31\u662f\u8bf4\uff0c\u6211\u4eec\u8003\u5bdf\u7684\u6982\u7387\u5373\u5305\u62ec\u6587\u6863\u7684\u6982\u7387\uff0c\u4e5f\u5305\u62ec\u8bcd\u7684\u6982\u7387\uff0c\u4ee5\u53ca\u4ed6\u4eec\u7684\u8054\u5408\u6982\u7387\u3002\n\n\n\u4e3a\u4e86\u52a0\u5165\u8bed\u4e49\u65b9\u9762\u7684\u4fe1\u606f\uff0c\u6211\u4eec\u8bbe\u8ba1\u4e00\u4e2a\u5047\u60f3\u7684\u9690\u542b\u7c7b\u5305\u62ec\u5728\u6587\u6863\u548c\u8bcd\u4e4b\u95f4\uff0c\u5177\u4f53\u601d\u8def\u662f\u8fd9\u6837\u7684\uff1a\n\n\n\uff081\uff09\u9009\u62e9\u4e00\u4e2a\u6587\u6863\u7684\u6982\u7387\u662fp(d);\n\n\n\uff082\uff09\u627e\u5230\u4e00\u4e2a\u9690\u542b\u7c7b\u7684\u6982\u7387\u662fp(z|d);\n\n\n\uff083\uff09\u751f\u6210\u4e00\u4e2a\u8bcdw\u7684\u6982\u7387\u4e3ap(w|z);\n\n\n\u4ee5\u4e0a\u662f\u5047\u8bbe\u7684\u6761\u4ef6\u6982\u7387\uff0c\u6211\u4eec\u6839\u636e\u89c2\u6d4b\u6570\u636e\u80fd\u4f30\u8ba1\u51fa\u6765\u7684\u662fp(d, w)\u8054\u5408\u6982\u7387\uff0c\u8fd9\u91cc\u9762\u7684z\u662f\u4e00\u4e2a\u9690\u542b\u53d8\u91cf\uff0c\u8868\u8fbe\u7684\u662f\u4e00\u79cd\u8bed\u4e49\u7279\u5f81\u3002\u90a3\u4e48\u6211\u4eec\u8981\u505a\u7684\u5c31\u662f\u5229\u7528p(d, w)\u6765\u4f30\u8ba1p(d)\u3001p(z|d)\u548cp(w|z)\uff0c\u6700\u7ec8\u6839\u636ep(d)\u3001p(z|d)\u548cp(w|z)\u6765\u6c42\u5f97\u66f4\u7cbe\u786e\u7684p(w, d)\uff0c\u5373\u8bcd\u4e0e\u6587\u6863\u4e4b\u95f4\u7684\u76f8\u5173\u5ea6\u3002\n\n\n\u4e3a\u4e86\u505a\u66f4\u7cbe\u786e\u7684\u4f30\u8ba1\uff0c\u8bbe\u8ba1\u4f18\u5316\u7684\u76ee\u6807\u51fd\u6570\u662f\u5bf9\u6570\u4f3c\u7136\u51fd\u6570\uff1a\n\n\n1\nL=\u2211\u2211n(d, w) log P(d, w)\n\n\n\n\n\n\n\u90a3\u4e48\u5982\u4f55\u6765\u901a\u8fc7\u673a\u5668\u5b66\u4e60\u8bad\u7ec3\u8fd9\u4e9b\u6982\u7387\u5462\uff1f\u9996\u5148\u6211\u4eec\u77e5\u9053\uff1a\n\n\n1\np(d, w) = p(d) \u00d7 p(w|d)\n\n\n\n\n\n\n\u800c\n\n\n1\np(w|d) = \u2211p(w|z)p(z|d)\n\n\n\n\n\n\n\u540c\u65f6\u53c8\u6709\uff1a\n\n\n1\np(z|d) = p(z)p(d|z)/\u2211p(z)p(d|z)\n\n\n\n\n\n\n\u90a3\u4e48\n\n\n1\np(d, w) =p(d)\u00d7\u2211p(w|z) p(z)p(d|z)/\u2211p(z)p(d|z)=\u2211p(z)\u00d7p(w|z)\u00d7p(d|z)\n\n\n\n\n\n\n\u4e0b\u9762\u6211\u4eec\u91c7\u53d6EM\u7b97\u6cd5\uff0cEM\u7b97\u6cd5\u7684\u7cbe\u9ad3\u5c31\u662f\u6309\u7167\u6700\u5927\u4f3c\u7136\u7684\u539f\u7406\uff0c\u5148\u968f\u4fbf\u62cd\u4e00\u4e2a\u5206\u5e03\u53c2\u6570\uff0c\u8ba9\u6bcf\u4e2a\u4eba\u90fd\u6839\u636e\u5206\u5e03\u5f52\u7c7b\u5230\u67d0\u4e00\u90e8\u5206\uff0c\u7136\u540e\u6839\u636e\u8fd9\u4e9b\u5f52\u7c7b\u6765\u91cd\u65b0\u7edf\u8ba1\u6570\u76ee\uff0c\u6309\u7167\u6700\u5927\u4f3c\u7136\u4f30\u8ba1\u5206\u5e03\u53c2\u6570\uff0c\u7136\u540e\u518d\u91cd\u65b0\u5f52\u7c7b\u3001\u8c03\u53c2\u3001\u4f30\u8ba1\u3001\u5f52\u7c7b\u3001\u8c03\u53c2\u3001\u4f30\u8ba1\uff0c\u6700\u7ec8\u5f97\u51fa\u6700\u4f18\u89e3\n\n\n\u90a3\u4e48\u6211\u4eec\u8981\u628a\u6bcf\u4e00\u4e2a\u8bad\u7ec3\u6570\u636e\u505a\u5f52\u7c7b\uff0c\u5373p(z|d,w)\uff0c\u90a3\u4e48\u8fd9\u4e2a\u6982\u7387\u503c\u600e\u4e48\u8ba1\u7b97\u5462\uff1f\n\n\n\u6211\u4eec\u5148\u62cd\u4e00\u4e2ap(z)\u3001p(d|z)\u3001p(w|z)\n\n\n\u7136\u540e\u6839\u636e\n\n\np(z|d,w)=p(z)p(d|z)p(w|z)/\u2211p(z)p(d|z)p(w|z)\uff0c\u5176\u4e2d\u5206\u5b50\u662f\u4e00\u4e2az\uff0c\u5206\u6bcd\u662f\u6240\u6709\u7684z\u7684\u548c\n\u8fd9\u6837\u8ba1\u7b97\u51fa\u6765\u7684\u503c\u662fp(z|d,w)\u7684\u6700\u5927\u4f3c\u7136\u4f30\u8ba1\u7684\u6982\u7387\u4f30\u8ba1\uff08\u8fd9\u662fE\u8fc7\u7a0b\uff09\n\n\n\u7136\u540e\u6839\u636e\u8fd9\u4e2a\u4f30\u8ba1\u6765\u5bf9\u6bcf\u4e00\u4e2a\u8bad\u7ec3\u6837\u672c\u505a\u5f52\u7c7b\n\n\n\u6839\u636e\u5f52\u7c7b\u597d\u7684\u6570\u636e\u7edf\u8ba1\u51fan(d,w)\n\n\n\u7136\u540e\u6211\u518d\u6839\u636e\u4ee5\u4e0b\u516c\u5f0f\u6765\u66f4\u65b0\u53c2\u6570\n\n\n1\np(z) = 1/R  \u2211n(d,w)p(z|d,w)\n\n\n\n\n\n\np(d|z)=\u2211n(d,w)p(z|d,w) / \u2211n(d,w)p(z|d,w)\uff0c\u5176\u4e2d\u5206\u5b50\u662f\u4e00\u4e2ad\u7684\u548c\uff0c\u5206\u6bcd\u662f\u6240\u6709\u7684d\u7684\u548c\uff0c\u8fd9\u6837\u8ba1\u7b97\u51fa\u6765\u7684\u503c\u662fp(d|z)\u7684\u6700\u5927\u4f3c\u7136\u4f30\u8ba1\n\n\np(w|z)=\u2211n(d,w)p(z|d,w) / \u2211n(d,w)p(z|d,w)\uff0c\u5176\u4e2d\u5206\u5b50\u662f\u4e00\u4e2aw\u7684\u548c\uff0c\u5206\u6bcd\u662f\u6240\u6709\u7684w\u7684\u548c\uff0c\u8fd9\u6837\u8ba1\u7b97\u51fa\u6765\u7684\u503c\u662fp(w|z)\u7684\u6700\u5927\u4f3c\u7136\u4f30\u8ba1\n\u6700\u540e\u91cd\u65b0\u8ba1\u7b97p(z|d,w)\uff1a\n\n\n1\np(z|d,w)=p(z)p(d|z)p(w|z)/\u2211p(z)p(d|z)p(w|z)\n\n\n\n\n\n\n\u8fd9\u662fM\u7684\u8fc7\u7a0b\n\n\n\u4e0d\u65ad\u91cd\u590d\u4e0a\u9762EM\u7684\u8fc7\u7a0b\u4f7f\u5f97\u5bf9\u6570\u4f3c\u7136\u51fd\u6570\u6700\u5927\uff1a\n\n\n1\nL=\u2211\u2211n(d, w) log P(d, w)\n\n\n\n\n\n\n\u901a\u8fc7\u4ee5\u4e0a\u8fed\u4ee3\u5c31\u80fd\u5f97\u51fa\u6700\u7ec8\u7684p(w, d)\uff0c\u5373\u8bcd\u4e0e\u6587\u6863\u4e4b\u95f4\u7684\u76f8\u5173\u5ea6\uff0c\u540e\u9762\u5c31\u662f\u5229\u7528\u76f8\u5173\u5ea6\u505a\u68c0\u7d22\u7684\u8fc7\u7a0b\u4e86\n\n\n\u4e3a\u4e86\u5f97\u5230\u8bcd\u8bcd\u4e4b\u95f4\u7684\u76f8\u5173\u5ea6\uff0c\u6211\u4eec\u7528p(w, d)\u4e58\u4ee5\u5b83\u7684\u8f6c\u7f6e\uff0c\u5373\n\n\n1\np(w,w) = p(w,d)\u00d7trans(p(w,d))\n\n\n\n\n\n\n\u5f53\u7528\u6237\u67e5\u8be2query\u7684\u5173\u952e\u8bcd\u6784\u6210\u8bcd\u5411\u91cfWq, \u800c\u6587\u6863d\u8868\u793a\u6210\u8bcd\u5411\u91cfWd\uff0c\u90a3\u4e48query\u548c\u6587\u6863d\u7684\u76f8\u5173\u5ea6\u5c31\u662f\uff1a\n\n\n1\nR(query, d) = Wq\u00d7p(w,w)\u00d7Wd\n\n\n\n\n\n\n\u8fd9\u6837\u628a\u6240\u6709\u6587\u6863\u7b97\u51fa\u6765\u7684\u76f8\u5173\u5ea6\u4ece\u5927\u5230\u5c0f\u6392\u5e8f\u5c31\u662f\u641c\u7d22\u7684\u6392\u5e8f\u7ed3\u679c\n\n\n\u603b\u7ed3\n\u7efc\u4e0a\u5c31\u662f\u9690\u542b\u8bed\u4e49\u7d22\u5f15\u6a21\u578b\u7684\u5185\u5bb9\uff0c\u76f8\u6bd4TF-IDF\u6765\u8bf4\u5b83\u52a0\u8fdb\u4e86\u8bed\u4e49\u65b9\u9762\u7684\u4fe1\u606f\u3001\u8003\u8651\u4e86\u8bcd\u4e0e\u8bcd\u4e4b\u95f4\u7684\u5173\u7cfb\uff0c\u662f\u6839\u636e\u8bed\u4e49\u505a\u4fe1\u606f\u68c0\u7d22\u7684\u65b9\u6cd5\uff0c\u66f4\u9002\u5408\u4e8e\u7814\u53d1\u804a\u5929\u673a\u5668\u4eba\u505a\u8bed\u6599\u8bad\u7ec3\u548c\u5206\u6790\uff0c\u800cTF-IDF\u66f4\u9002\u5408\u4e8e\u5b8c\u5168\u57fa\u4e8e\u72ec\u7acb\u7684\u8bcd\u7684\u4fe1\u606f\u68c0\u7d22\uff0c\u66f4\u9002\u5408\u4e8e\u7eaf\u6587\u672c\u641c\u7d22\u5f15\u64ce", 
            "title": "\u4e8c\u5341\u4e00-\u9690\u542b\u8bed\u4e49\u7d22\u5f15\u6a21\u578b"
        }, 
        {
            "location": "/21.tf-idf/#_1", 
            "text": "\u5728TF-IDF\u6a21\u578b\u4e2d\uff0c\u6240\u6709\u8bcd\u6784\u6210\u4e00\u4e2a\u9ad8\u7ef4\u7684\u8bed\u4e49\u7a7a\u95f4\uff0c\u6bcf\u4e2a\u6587\u6863\u5728\u8fd9\u4e2a\u7a7a\u95f4\u4e2d\u88ab\u6620\u5c04\u4e3a\u4e00\u4e2a\u70b9\uff0c\u8fd9\u79cd\u65b9\u6cd5\u7ef4\u6570\u4e00\u822c\u6bd4\u8f83\u9ad8\u800c\u4e14\u6bcf\u4e2a\u8bcd\u4f5c\u4e3a\u4e00\u7ef4\u5272\u88c2\u4e86\u8bcd\u4e0e\u8bcd\u4e4b\u95f4\u7684\u5173\u7cfb\u3002\u6240\u4ee5\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u6211\u4eec\u8981\u628a\u8bcd\u548c\u6587\u6863\u540c\u7b49\u5bf9\u5f85\uff0c\u6784\u9020\u4e00\u4e2a\u7ef4\u6570\u4e0d\u9ad8\u7684\u8bed\u4e49\u7a7a\u95f4\uff0c\u6bcf\u4e2a\u8bcd\u548c\u6bcf\u4e2a\u6587\u6863\u90fd\u662f\u88ab\u6620\u5c04\u5230\u8fd9\u4e2a\u7a7a\u95f4\u4e2d\u7684\u4e00\u4e2a\u70b9\u3002\u7528\u6570\u5b66\u6765\u8868\u793a\u8fd9\u4e2a\u601d\u60f3\u5c31\u662f\u8bf4\uff0c\u6211\u4eec\u8003\u5bdf\u7684\u6982\u7387\u5373\u5305\u62ec\u6587\u6863\u7684\u6982\u7387\uff0c\u4e5f\u5305\u62ec\u8bcd\u7684\u6982\u7387\uff0c\u4ee5\u53ca\u4ed6\u4eec\u7684\u8054\u5408\u6982\u7387\u3002  \u4e3a\u4e86\u52a0\u5165\u8bed\u4e49\u65b9\u9762\u7684\u4fe1\u606f\uff0c\u6211\u4eec\u8bbe\u8ba1\u4e00\u4e2a\u5047\u60f3\u7684\u9690\u542b\u7c7b\u5305\u62ec\u5728\u6587\u6863\u548c\u8bcd\u4e4b\u95f4\uff0c\u5177\u4f53\u601d\u8def\u662f\u8fd9\u6837\u7684\uff1a  \uff081\uff09\u9009\u62e9\u4e00\u4e2a\u6587\u6863\u7684\u6982\u7387\u662fp(d);  \uff082\uff09\u627e\u5230\u4e00\u4e2a\u9690\u542b\u7c7b\u7684\u6982\u7387\u662fp(z|d);  \uff083\uff09\u751f\u6210\u4e00\u4e2a\u8bcdw\u7684\u6982\u7387\u4e3ap(w|z);  \u4ee5\u4e0a\u662f\u5047\u8bbe\u7684\u6761\u4ef6\u6982\u7387\uff0c\u6211\u4eec\u6839\u636e\u89c2\u6d4b\u6570\u636e\u80fd\u4f30\u8ba1\u51fa\u6765\u7684\u662fp(d, w)\u8054\u5408\u6982\u7387\uff0c\u8fd9\u91cc\u9762\u7684z\u662f\u4e00\u4e2a\u9690\u542b\u53d8\u91cf\uff0c\u8868\u8fbe\u7684\u662f\u4e00\u79cd\u8bed\u4e49\u7279\u5f81\u3002\u90a3\u4e48\u6211\u4eec\u8981\u505a\u7684\u5c31\u662f\u5229\u7528p(d, w)\u6765\u4f30\u8ba1p(d)\u3001p(z|d)\u548cp(w|z)\uff0c\u6700\u7ec8\u6839\u636ep(d)\u3001p(z|d)\u548cp(w|z)\u6765\u6c42\u5f97\u66f4\u7cbe\u786e\u7684p(w, d)\uff0c\u5373\u8bcd\u4e0e\u6587\u6863\u4e4b\u95f4\u7684\u76f8\u5173\u5ea6\u3002  \u4e3a\u4e86\u505a\u66f4\u7cbe\u786e\u7684\u4f30\u8ba1\uff0c\u8bbe\u8ba1\u4f18\u5316\u7684\u76ee\u6807\u51fd\u6570\u662f\u5bf9\u6570\u4f3c\u7136\u51fd\u6570\uff1a  1 L=\u2211\u2211n(d, w) log P(d, w)   \u90a3\u4e48\u5982\u4f55\u6765\u901a\u8fc7\u673a\u5668\u5b66\u4e60\u8bad\u7ec3\u8fd9\u4e9b\u6982\u7387\u5462\uff1f\u9996\u5148\u6211\u4eec\u77e5\u9053\uff1a  1 p(d, w) = p(d) \u00d7 p(w|d)   \u800c  1 p(w|d) = \u2211p(w|z)p(z|d)   \u540c\u65f6\u53c8\u6709\uff1a  1 p(z|d) = p(z)p(d|z)/\u2211p(z)p(d|z)   \u90a3\u4e48  1 p(d, w) =p(d)\u00d7\u2211p(w|z) p(z)p(d|z)/\u2211p(z)p(d|z)=\u2211p(z)\u00d7p(w|z)\u00d7p(d|z)   \u4e0b\u9762\u6211\u4eec\u91c7\u53d6EM\u7b97\u6cd5\uff0cEM\u7b97\u6cd5\u7684\u7cbe\u9ad3\u5c31\u662f\u6309\u7167\u6700\u5927\u4f3c\u7136\u7684\u539f\u7406\uff0c\u5148\u968f\u4fbf\u62cd\u4e00\u4e2a\u5206\u5e03\u53c2\u6570\uff0c\u8ba9\u6bcf\u4e2a\u4eba\u90fd\u6839\u636e\u5206\u5e03\u5f52\u7c7b\u5230\u67d0\u4e00\u90e8\u5206\uff0c\u7136\u540e\u6839\u636e\u8fd9\u4e9b\u5f52\u7c7b\u6765\u91cd\u65b0\u7edf\u8ba1\u6570\u76ee\uff0c\u6309\u7167\u6700\u5927\u4f3c\u7136\u4f30\u8ba1\u5206\u5e03\u53c2\u6570\uff0c\u7136\u540e\u518d\u91cd\u65b0\u5f52\u7c7b\u3001\u8c03\u53c2\u3001\u4f30\u8ba1\u3001\u5f52\u7c7b\u3001\u8c03\u53c2\u3001\u4f30\u8ba1\uff0c\u6700\u7ec8\u5f97\u51fa\u6700\u4f18\u89e3  \u90a3\u4e48\u6211\u4eec\u8981\u628a\u6bcf\u4e00\u4e2a\u8bad\u7ec3\u6570\u636e\u505a\u5f52\u7c7b\uff0c\u5373p(z|d,w)\uff0c\u90a3\u4e48\u8fd9\u4e2a\u6982\u7387\u503c\u600e\u4e48\u8ba1\u7b97\u5462\uff1f  \u6211\u4eec\u5148\u62cd\u4e00\u4e2ap(z)\u3001p(d|z)\u3001p(w|z)  \u7136\u540e\u6839\u636e  p(z|d,w)=p(z)p(d|z)p(w|z)/\u2211p(z)p(d|z)p(w|z)\uff0c\u5176\u4e2d\u5206\u5b50\u662f\u4e00\u4e2az\uff0c\u5206\u6bcd\u662f\u6240\u6709\u7684z\u7684\u548c\n\u8fd9\u6837\u8ba1\u7b97\u51fa\u6765\u7684\u503c\u662fp(z|d,w)\u7684\u6700\u5927\u4f3c\u7136\u4f30\u8ba1\u7684\u6982\u7387\u4f30\u8ba1\uff08\u8fd9\u662fE\u8fc7\u7a0b\uff09  \u7136\u540e\u6839\u636e\u8fd9\u4e2a\u4f30\u8ba1\u6765\u5bf9\u6bcf\u4e00\u4e2a\u8bad\u7ec3\u6837\u672c\u505a\u5f52\u7c7b  \u6839\u636e\u5f52\u7c7b\u597d\u7684\u6570\u636e\u7edf\u8ba1\u51fan(d,w)  \u7136\u540e\u6211\u518d\u6839\u636e\u4ee5\u4e0b\u516c\u5f0f\u6765\u66f4\u65b0\u53c2\u6570  1 p(z) = 1/R  \u2211n(d,w)p(z|d,w)   p(d|z)=\u2211n(d,w)p(z|d,w) / \u2211n(d,w)p(z|d,w)\uff0c\u5176\u4e2d\u5206\u5b50\u662f\u4e00\u4e2ad\u7684\u548c\uff0c\u5206\u6bcd\u662f\u6240\u6709\u7684d\u7684\u548c\uff0c\u8fd9\u6837\u8ba1\u7b97\u51fa\u6765\u7684\u503c\u662fp(d|z)\u7684\u6700\u5927\u4f3c\u7136\u4f30\u8ba1  p(w|z)=\u2211n(d,w)p(z|d,w) / \u2211n(d,w)p(z|d,w)\uff0c\u5176\u4e2d\u5206\u5b50\u662f\u4e00\u4e2aw\u7684\u548c\uff0c\u5206\u6bcd\u662f\u6240\u6709\u7684w\u7684\u548c\uff0c\u8fd9\u6837\u8ba1\u7b97\u51fa\u6765\u7684\u503c\u662fp(w|z)\u7684\u6700\u5927\u4f3c\u7136\u4f30\u8ba1\n\u6700\u540e\u91cd\u65b0\u8ba1\u7b97p(z|d,w)\uff1a  1 p(z|d,w)=p(z)p(d|z)p(w|z)/\u2211p(z)p(d|z)p(w|z)   \u8fd9\u662fM\u7684\u8fc7\u7a0b  \u4e0d\u65ad\u91cd\u590d\u4e0a\u9762EM\u7684\u8fc7\u7a0b\u4f7f\u5f97\u5bf9\u6570\u4f3c\u7136\u51fd\u6570\u6700\u5927\uff1a  1 L=\u2211\u2211n(d, w) log P(d, w)   \u901a\u8fc7\u4ee5\u4e0a\u8fed\u4ee3\u5c31\u80fd\u5f97\u51fa\u6700\u7ec8\u7684p(w, d)\uff0c\u5373\u8bcd\u4e0e\u6587\u6863\u4e4b\u95f4\u7684\u76f8\u5173\u5ea6\uff0c\u540e\u9762\u5c31\u662f\u5229\u7528\u76f8\u5173\u5ea6\u505a\u68c0\u7d22\u7684\u8fc7\u7a0b\u4e86  \u4e3a\u4e86\u5f97\u5230\u8bcd\u8bcd\u4e4b\u95f4\u7684\u76f8\u5173\u5ea6\uff0c\u6211\u4eec\u7528p(w, d)\u4e58\u4ee5\u5b83\u7684\u8f6c\u7f6e\uff0c\u5373  1 p(w,w) = p(w,d)\u00d7trans(p(w,d))   \u5f53\u7528\u6237\u67e5\u8be2query\u7684\u5173\u952e\u8bcd\u6784\u6210\u8bcd\u5411\u91cfWq, \u800c\u6587\u6863d\u8868\u793a\u6210\u8bcd\u5411\u91cfWd\uff0c\u90a3\u4e48query\u548c\u6587\u6863d\u7684\u76f8\u5173\u5ea6\u5c31\u662f\uff1a  1 R(query, d) = Wq\u00d7p(w,w)\u00d7Wd   \u8fd9\u6837\u628a\u6240\u6709\u6587\u6863\u7b97\u51fa\u6765\u7684\u76f8\u5173\u5ea6\u4ece\u5927\u5230\u5c0f\u6392\u5e8f\u5c31\u662f\u641c\u7d22\u7684\u6392\u5e8f\u7ed3\u679c  \u603b\u7ed3\n\u7efc\u4e0a\u5c31\u662f\u9690\u542b\u8bed\u4e49\u7d22\u5f15\u6a21\u578b\u7684\u5185\u5bb9\uff0c\u76f8\u6bd4TF-IDF\u6765\u8bf4\u5b83\u52a0\u8fdb\u4e86\u8bed\u4e49\u65b9\u9762\u7684\u4fe1\u606f\u3001\u8003\u8651\u4e86\u8bcd\u4e0e\u8bcd\u4e4b\u95f4\u7684\u5173\u7cfb\uff0c\u662f\u6839\u636e\u8bed\u4e49\u505a\u4fe1\u606f\u68c0\u7d22\u7684\u65b9\u6cd5\uff0c\u66f4\u9002\u5408\u4e8e\u7814\u53d1\u804a\u5929\u673a\u5668\u4eba\u505a\u8bed\u6599\u8bad\u7ec3\u548c\u5206\u6790\uff0c\u800cTF-IDF\u66f4\u9002\u5408\u4e8e\u5b8c\u5168\u57fa\u4e8e\u72ec\u7acb\u7684\u8bcd\u7684\u4fe1\u606f\u68c0\u7d22\uff0c\u66f4\u9002\u5408\u4e8e\u7eaf\u6587\u672c\u641c\u7d22\u5f15\u64ce", 
            "title": "\u9690\u542b\u8bed\u4e49\u7d22\u5f15\u6a21\u578b"
        }, 
        {
            "location": "/22.artificial-neural-network/", 
            "text": "\u6df1\u5ea6\u5b66\u4e60\u662f\u673a\u5668\u5b66\u4e60\u4e2d\u8f83\u4e3a\u6d41\u884c\u7684\u4e00\u79cd\uff0c\u800c\u6df1\u5ea6\u5b66\u4e60\u7684\u57fa\u7840\u662f\u4eba\u5de5\u795e\u7ecf\u7f51\u7edc\uff0c\u90a3\u4e48\u4eba\u5de5\u795e\u7ecf\u7f51\u7edc\u7684\u529f\u80fd\u662f\u4e0d\u662f\u50cf\u5b83\u7684\u540d\u5b57\u4e00\u6837\u795e\u5947\u5462\uff1f\u7b54\u6848\u662f\u80af\u5b9a\u7684\uff0c\u8ba9\u6211\u4eec\u4e00\u8d77\u89c1\u8bc1\u4e00\u4e0b\u8fd9\u4e00\u795e\u5947\u7b97\u6cd5 \n\n\n\u4eba\u5de5\u795e\u7ecf\u7f51\u7edc\n\n\n\u4eba\u5de5\u795e\u7ecf\u7f51\u7edc\u662f\u501f\u9274\u4e86\u751f\u7269\u795e\u7ecf\u7f51\u7edc\u7684\u5de5\u4f5c\u539f\u7406\u5f62\u6210\u7684\u4e00\u79cd\u6570\u5b66\u6a21\u578b\uff0c\u6709\u5173\u4eba\u5de5\u795e\u7ecf\u7f51\u7edc\u7684\u539f\u7406\u3001\u516c\u5f0f\u63a8\u5bfc\u4ee5\u53ca\u8bad\u7ec3\u8fc7\u7a0b\u8bf7\u89c1\u6211\u7684\u6587\u7ae0\u300a\u673a\u5668\u5b66\u4e60\u6559\u7a0b \u5341\u4e8c-\u795e\u7ecf\u7f51\u7edc\u6a21\u578b\u7684\u539f\u7406\u300b\n\n\n\u795e\u5947\u7528\u6cd5\u4e4b\u4e00\n\n\n\u6211\u4eec\u8fd9\u6837\u6765\u8bbe\u8ba1\u6211\u4eec\u7684\u795e\u7ecf\u7f51\u7edc\uff1a\u7531n\u4e2a\u8f93\u5165\u7279\u5f81\u5f97\u51fa\u4e0e\u8f93\u5165\u7279\u5f81\u51e0\u4e4e\u76f8\u540c\u7684n\u4e2a\u7ed3\u679c\uff0c\u8fd9\u6837\u8bad\u7ec3\u51fa\u7684\u9690\u85cf\u5c42\u53ef\u4ee5\u5f97\u5230\u610f\u60f3\u4e0d\u5230\u7684\u4fe1\u606f\u3002\n\n\n\u6bd4\u5982\uff0c\u5728\u4fe1\u606f\u68c0\u7d22\u9886\u57df\uff0c\u6211\u4eec\u9700\u8981\u901a\u8fc7\u6a21\u578b\u8bad\u7ec3\u6765\u5f97\u51fa\u5408\u7406\u7684\u6392\u5e8f\u6a21\u578b\uff0c\u90a3\u4e48\u8f93\u5165\u7684\u7279\u5f81\u53ef\u80fd\u6709\uff1a\u6587\u6863\u8d28\u91cf\u3001\u6587\u6863\u70b9\u51fb\u5386\u53f2\u3001\u6587\u6863\u524d\u94fe\u6570\u76ee\u3001\u6587\u6863\u951a\u6587\u672c\u4fe1\u606f\u2026\u2026\uff0c\u4e3a\u4e86\u80fd\u627e\u51fa\u8fd9\u4e9b\u7279\u5f81\u4e2d\u9690\u85cf\u7684\u4fe1\u606f\uff0c\u6211\u4eec\u628a\u9690\u85cf\u5c42\u7684\u795e\u7ecf\u5143\u6570\u76ee\u8bbe\u7f6e\u7684\u5c11\u4e8e\u8f93\u5165\u7279\u5f81\u7684\u6570\u76ee\uff0c\u7ecf\u8fc7\u5927\u91cf\u6837\u672c\u7684\u8bad\u7ec3\u51fa\u80fd\u8fd8\u539f\u539f\u59cb\u7279\u5f81\u7684\u6a21\u578b\uff0c\u8fd9\u6837\u76f8\u5f53\u4e8e\u6211\u4eec\u7528\u5c11\u4e8e\u8f93\u5165\u7279\u5f81\u6570\u76ee\u7684\u4fe1\u606f\u8fd8\u539f\u51fa\u4e86\u5168\u90e8\u7279\u5f81\uff0c\u8868\u9762\u4e0a\u662f\u4e00\u79cd\u538b\u7f29\uff0c\u5b9e\u9645\u4e0a\u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f\u5c31\u53ef\u4ee5\u53d1\u73b0\u67d0\u4e9b\u7279\u5f81\u4e4b\u95f4\u5b58\u5728\u9690\u542b\u7684\u76f8\u5173\u6027\uff0c\u6216\u8005\u6709\u67d0\u79cd\u7279\u6b8a\u7684\u5173\u7cfb\u3002\n\n\n\u540c\u6837\u7684\uff0c\u6211\u4eec\u8fd8\u53ef\u4ee5\u8ba9\u9690\u85cf\u5c42\u4e2d\u7684\u795e\u7ecf\u5143\u6570\u76ee\u591a\u4f59\u8f93\u5165\u7279\u5f81\u7684\u6570\u76ee\uff0c\u8fd9\u6837\u7ecf\u8fc7\u8bad\u7ec3\u5f97\u51fa\u7684\u6a21\u578b\u8fd8\u53ef\u4ee5\u5c55\u793a\u51fa\u7279\u5f81\u4e4b\u95f4\u67d0\u79cd\u7ec6\u8282\u4e0a\u7684\u5173\u8054\uff0c\u6bd4\u5982\u6211\u4eec\u5bf9\u56fe\u50cf\u8bc6\u522b\u505a\u8fd9\u6837\u7684\u6a21\u578b\u8bad\u7ec3\uff0c\u5728\u5f97\u51fa\u7684\u9690\u85cf\u5c42\u4e2d\u80fd\u5c55\u793a\u51fa\u591a\u79cd\u7279\u5f81\u4e4b\u95f4\u7684\u7ec6\u8282\u4fe1\u606f\uff0c\u5982\u9f3b\u5b50\u4e00\u5b9a\u5728\u5634\u548c\u773c\u775b\u4e2d\u95f4\u3002\n\n\n\u8fd9\u79cd\u8ba9\u8f93\u51fa\u548c\u8f93\u5165\u4e00\u81f4\u7684\u7528\u6cd5\u5c31\u662f\u4f20\u8bf4\u4e2d\u7684\u81ea\u7f16\u7801\u7b97\u6cd5\u3002\n\n\n\u795e\u5947\u7528\u6cd5\u4e4b\u4e8c\n\n\n\u4eba\u5de5\u795e\u7ecf\u7f51\u7edc\u6a21\u578b\u901a\u8fc7\u591a\u5c42\u795e\u7ecf\u5143\u7ed3\u6784\u5efa\u7acb\u800c\u6210\uff0c\u6bcf\u4e00\u5c42\u53ef\u4ee5\u62bd\u8c61\u4e3a\u4e00\u79cd\u601d\u7ef4\u8fc7\u7a0b\uff0c\u7ecf\u8fc7\u591a\u5c42\u601d\u8003\uff0c\u6700\u7ec8\u5f97\u51fa\u7ed3\u8bba\u3002\u4e3e\u4e00\u4e2a\u5b9e\u9645\u7684\u4f8b\u5b50\uff1a\u8bc6\u522b\u7f8e\u5973\u56fe\u7247\n\n\n\u6309\u7167\u4eba\u7684\u601d\u7ef4\u8fc7\u7a0b\uff0c\u8bc6\u522b\u7f8e\u5973\u56fe\u7247\u8981\u7ecf\u8fc7\u8fd9\u6837\u7684\u5224\u65ad\uff1a1\uff09\u56fe\u7247\u7c7b\u522b\uff08\u4eba\u7269\u3001\u98ce\u666f\u2026\u2026\uff09\uff1b2\uff09\u56fe\u7247\u4eba\u7269\u6027\u522b\uff08\u7537\u3001\u5973\u3001\u5176\u4ed6\u2026\u2026\uff09\uff1b3\uff09\u76f8\u8c8c\u5982\u4f55\uff08\u7f8e\u5973\u3001\u6050\u9f99\u30015\u5206\u2026\u2026\uff09\n\n\n\u90a3\u4e48\u5728\u4eba\u5de5\u795e\u7ecf\u7f51\u7edc\u4e2d\uff0c\u8fd9\u4e2a\u601d\u8003\u8fc7\u7a0b\u53ef\u4ee5\u62bd\u8c61\u6210\u591a\u4e2a\u5c42\u6b21\u7684\u8ba1\u7b97\uff1a\u7b2c\u4e00\u5c42\u8ba1\u7b97\u63d0\u53d6\u56fe\u7247\u4e2d\u6709\u5173\u7c7b\u522b\u7684\u7279\u5f81\uff0c\u6bd4\u5982\u662f\u5426\u6709\u5f62\u5982\u8033\u9f3b\u53e3\u624b\u7684\u5143\u7d20\uff0c\u662f\u5426\u6709\u5f62\u5982\u84dd\u5929\u767d\u4e91\u7eff\u8349\u5730\u7684\u5143\u7d20\uff1b\u7b2c\u4e8c\u5c42\u63d0\u53d6\u662f\u5426\u6709\u80e1\u987b\u3001\u80f8\u90e8\u3001\u957f\u53d1\u4ee5\u53ca\u9762\u90e8\u7279\u5f81\u7b49\u6765\u5224\u65ad\u6027\u522b\uff1b\u7b2c\u4e09\u5c42\u63d0\u53d6\u4e94\u5b98\u3001\u80a4\u8d28\u3001\u8863\u7740\u7b49\u4fe1\u606f\u6765\u786e\u5b9a\u989c\u503c\u3002\u4e3a\u4e86\u8ba9\u795e\u7ecf\u7f51\u7edc\u6bcf\u4e00\u5c42\u6709\u6bcf\u4e00\u5c42\u4e13\u95e8\u8981\u505a\u7684\u4e8b\u60c5\uff0c\u9700\u8981\u5728\u6bcf\u4e00\u5c42\u7684\u795e\u7ecf\u5143\u4e2d\u6dfb\u52a0\u7279\u6b8a\u7684\u7ea6\u675f\u6761\u4ef6\u624d\u80fd\u505a\u5230\u3002\u4eba\u7c7b\u7684\u5927\u8111\u662f\u7ecf\u8fc7\u4e0a\u4ebf\u5e74\u8fdb\u5316\u800c\u6210\u7684\uff0c\u5b83\u7684\u529f\u80fd\u6df1\u4e0d\u53ef\u53ca\uff0c\u67d0\u4e9b\u6548\u7387\u4e5f\u6781\u9ad8\uff0c\u800c\u8ba1\u7b97\u673a\u5728\u67d0\u4e9b\u65b9\u9762\u6548\u7387\u6bd4\u4eba\u8111\u8981\u9ad8\u5f88\u591a\uff0c\u4e24\u79cd\u7ed3\u5408\u8d77\u6765\u4e00\u5207\u7686\u6709\u53ef\u80fd\u3002\n\n\n\u8fd9\u79cd\u901a\u8fc7\u5f88\u591a\u5c42\u63d0\u53d6\u7279\u5b9a\u7279\u5f81\u6765\u505a\u673a\u5668\u5b66\u4e60\u7684\u65b9\u6cd5\u5c31\u662f\u4f20\u8bf4\u4e2d\u7684\u6df1\u5ea6\u5b66\u4e60\u3002\n\n\n\u795e\u5947\u7528\u6cd5\u4e4b\u4e09\n\n\n\u8bb2\u8ff0\u7b2c\u4e09\u79cd\u7528\u6cd5\u4e4b\u524d\u6211\u4eec\u5148\u8bb2\u4e00\u4e0b\u4ec0\u4e48\u662f\u5377\u79ef\u8fd0\u7b97\u3002\u5377\u79ef\u82f1\u6587\u662fconvolution(\u82f1\u6587\u542b\u4e49\u662f\uff1a\u76d8\u7ed5\u3001\u5f2f\u66f2\u3001\u9519\u7efc\u590d\u6742)\uff0c\u6570\u5b66\u8868\u8fbe\u662f\uff1a\n\n\n\u6570\u5b66\u4e0a\u4e0d\u597d\u7406\u89e3\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u4fd7\u70b9\u6765\u8bb2\uff1a\u5377\u79ef\u5c31\u76f8\u5f53\u4e8e\u5728\u4e00\u5b9a\u8303\u56f4\u5185\u505a\u5e73\u79fb\u5e76\u6c42\u5e73\u5747\u503c\u3002\u6bd4\u5982\u8bf4\u56de\u58f0\u53ef\u4ee5\u7406\u89e3\u4e3a\u539f\u59cb\u58f0\u97f3\u7684\u5377\u79ef\u7ed3\u679c\uff0c\u56e0\u4e3a\u56de\u58f0\u662f\u539f\u59cb\u58f0\u97f3\u7ecf\u8fc7\u5f88\u591a\u7269\u4f53\u53cd\u5c04\u56de\u6765\u58f0\u97f3\u63c9\u5728\u4e00\u8d77\u3002\u518d\u6bd4\u5982\u8bf4\u56de\u58f0\u53ef\u4ee5\u7406\u89e3\u4e3a\u628a\u4fe1\u53f7\u5206\u89e3\u6210\u65e0\u7a77\u591a\u7684\u51b2\u51fb\u4fe1\u53f7\uff0c\u7136\u540e\u518d\u8fdb\u884c\u51b2\u51fb\u54cd\u5e94\u7684\u53e0\u52a0\u3002\u518d\u6bd4\u5982\u8bf4\u628a\u4e00\u5f20\u56fe\u50cf\u505a\u5377\u79ef\u8fd0\u7b97\uff0c\u5e76\u628a\u8ba1\u7b97\u7ed3\u679c\u66ff\u6362\u539f\u6765\u7684\u50cf\u7d20\u70b9\uff0c\u53ef\u4ee5\u5b9e\u73b0\u4e00\u79cd\u7279\u6b8a\u7684\u6a21\u7cca\uff0c\u8fd9\u79cd\u6a21\u7cca\u5176\u5b9e\u662f\u4e00\u79cd\u65b0\u7684\u7279\u5f81\u63d0\u53d6\uff0c\u63d0\u53d6\u7684\u7279\u5f81\u5c31\u662f\u56fe\u50cf\u7684\u7eb9\u8def\u3002\u603b\u4e4b\u5377\u79ef\u5c31\u662f\u5148\u6253\u4e71\uff0c\u518d\u53e0\u52a0\u3002\n\n\n\u4e0b\u9762\u6211\u4eec\u5728\u770b\u4e0a\u9762\u7684\u79ef\u5206\u516c\u5f0f\uff0c\u9700\u8981\u6ce8\u610f\u7684\u662f\u8fd9\u91cc\u662f\u5bf9\u03c4\u79ef\u5206\uff0c\u4e0d\u662f\u5bf9x\u79ef\u5206\u3002\u4e5f\u5c31\u662f\u8bf4\u5bf9\u4e8e\u56fa\u5b9a\u7684x\uff0c\u627e\u5230x\u9644\u8fd1\u7684\u6240\u6709\u53d8\u91cf\uff0c\u6c42\u4e24\u4e2a\u51fd\u6570\u7684\u4e58\u79ef\uff0c\u5e76\u6c42\u548c\u3002\n\n\n\u4e0b\u9762\u56de\u5f52\u6b63\u9898\uff0c\u5728\u795e\u7ecf\u7f51\u7edc\u91cc\u9762\uff0c\u6211\u4eec\u8bbe\u8ba1\u6bcf\u4e2a\u795e\u7ecf\u5143\u8ba1\u7b97\u8f93\u51fa\u7684\u516c\u5f0f\u662f\u5377\u79ef\u516c\u5f0f\uff0c\u8fd9\u6837\u76f8\u5f53\u4e8e\u795e\u7ecf\u7f51\u7edc\u7684\u6bcf\u4e00\u5c42\u90fd\u4f1a\u8f93\u51fa\u4e00\u79cd\u66f4\u9ad8\u7ea7\u7684\u7279\u5f81\uff0c\u6bd4\u5982\u8bf4\u5f62\u72b6\u3001\u8138\u90e8\u8f6e\u5ed3\u7b49\u3002\u8fd9\u79cd\u795e\u7ecf\u7f51\u7edc\u53eb\u505a\u5377\u79ef\u795e\u7ecf\u7f51\u7edc\u3002\n\n\n\u7ee7\u7eed\u6df1\u5165\u4e3b\u9898\uff0c\u5728\u81ea\u7136\u8bed\u8a00\u4e2d\uff0c\u6211\u4eec\u77e5\u9053\u8f83\u8fd1\u7684\u4e0a\u4e0b\u6587\u8bcd\u8bed\u4e4b\u95f4\u5b58\u5728\u4e00\u5b9a\u7684\u76f8\u5173\u6027\uff0c\u7531\u4e8e\u6807\u70b9\u3001\u7279\u6b8a\u8bcd\u7b49\u7684\u5206\u9694\u4f7f\u5f97\u5728\u4f20\u7edf\u81ea\u7136\u8bed\u8a00\u5904\u7406\u4e2d\u4f1a\u8131\u79bb\u8bcd\u4e0e\u8bcd\u4e4b\u95f4\u7684\u5173\u8054\uff0c\u7ed3\u679c\u4e22\u5931\u4e86\u4e00\u90e8\u5206\u91cd\u8981\u4fe1\u606f\uff0c\u5229\u7528\u5377\u79ef\u795e\u7ecf\u7f51\u7edc\u5b8c\u5168\u53ef\u4ee5\u505a\u591a\u5143(n-gram)\u7684\u8ba1\u7b97\uff0c\u4e0d\u4f1a\u635f\u5931\u81ea\u7136\u8bed\u8a00\u4e2d\u7684\u4e34\u8fd1\u8bcd\u7684\u76f8\u5173\u6027\u4fe1\u606f\u3002\u8fd9\u79cd\u65b9\u6cd5\u5bf9\u4e8e\u8bed\u4e49\u5206\u6790\u3001\u8bed\u4e49\u805a\u7c7b\u7b49\u90fd\u6709\u975e\u5e38\u597d\u7684\u6548\u679c\u3002\n\n\n\u8fd9\u79cd\u795e\u5947\u7528\u6cd5\u5c31\u662f\u4f20\u8bf4\u4e2d\u7684CNN\n\n\n\u603b\u7ed3\n\n\n\u795e\u7ecf\u7f51\u7edc\u56e0\u4e3a\u5176\u5c42\u6b21\u548c\u6269\u5c55\u6027\u7684\u5f3a\u5927\uff0c\u6709\u7740\u975e\u5e38\u591a\u7684\u795e\u5947\u7528\u6cd5\u548c\u975e\u5e38\u5e7f\u6cdb\u7684\u5e94\u7528\uff0c\u56e0\u4e3a\u5e0c\u671b\u804a\u5929\u673a\u5668\u4eba\u80fd\u591f\u5177\u6709\u667a\u80fd\uff0c\u5c31\u4e0d\u5f97\u4e0d\u5bfb\u627e\u80fd\u591f\u627f\u8f7d\u667a\u80fd\u7684\u65b9\u6cd5\uff0c\u795e\u7ecf\u7f51\u7edc\u662f\u5176\u4e2d\u4e00\u4e2a\uff0c\u6cbf\u7740\u8fd9\u4e2a\u7f51\u7edc\uff0c\u8ba9\u6211\u4eec\u7ee7\u7eed\u63a2\u7d22\u3002", 
            "title": "\u4e8c\u5341\u4e8c-\u4eba\u5de5\u795e\u7ecf\u7f51\u7edc"
        }, 
        {
            "location": "/22.artificial-neural-network/#_1", 
            "text": "\u4eba\u5de5\u795e\u7ecf\u7f51\u7edc\u662f\u501f\u9274\u4e86\u751f\u7269\u795e\u7ecf\u7f51\u7edc\u7684\u5de5\u4f5c\u539f\u7406\u5f62\u6210\u7684\u4e00\u79cd\u6570\u5b66\u6a21\u578b\uff0c\u6709\u5173\u4eba\u5de5\u795e\u7ecf\u7f51\u7edc\u7684\u539f\u7406\u3001\u516c\u5f0f\u63a8\u5bfc\u4ee5\u53ca\u8bad\u7ec3\u8fc7\u7a0b\u8bf7\u89c1\u6211\u7684\u6587\u7ae0\u300a\u673a\u5668\u5b66\u4e60\u6559\u7a0b \u5341\u4e8c-\u795e\u7ecf\u7f51\u7edc\u6a21\u578b\u7684\u539f\u7406\u300b", 
            "title": "\u4eba\u5de5\u795e\u7ecf\u7f51\u7edc"
        }, 
        {
            "location": "/22.artificial-neural-network/#_2", 
            "text": "\u6211\u4eec\u8fd9\u6837\u6765\u8bbe\u8ba1\u6211\u4eec\u7684\u795e\u7ecf\u7f51\u7edc\uff1a\u7531n\u4e2a\u8f93\u5165\u7279\u5f81\u5f97\u51fa\u4e0e\u8f93\u5165\u7279\u5f81\u51e0\u4e4e\u76f8\u540c\u7684n\u4e2a\u7ed3\u679c\uff0c\u8fd9\u6837\u8bad\u7ec3\u51fa\u7684\u9690\u85cf\u5c42\u53ef\u4ee5\u5f97\u5230\u610f\u60f3\u4e0d\u5230\u7684\u4fe1\u606f\u3002  \u6bd4\u5982\uff0c\u5728\u4fe1\u606f\u68c0\u7d22\u9886\u57df\uff0c\u6211\u4eec\u9700\u8981\u901a\u8fc7\u6a21\u578b\u8bad\u7ec3\u6765\u5f97\u51fa\u5408\u7406\u7684\u6392\u5e8f\u6a21\u578b\uff0c\u90a3\u4e48\u8f93\u5165\u7684\u7279\u5f81\u53ef\u80fd\u6709\uff1a\u6587\u6863\u8d28\u91cf\u3001\u6587\u6863\u70b9\u51fb\u5386\u53f2\u3001\u6587\u6863\u524d\u94fe\u6570\u76ee\u3001\u6587\u6863\u951a\u6587\u672c\u4fe1\u606f\u2026\u2026\uff0c\u4e3a\u4e86\u80fd\u627e\u51fa\u8fd9\u4e9b\u7279\u5f81\u4e2d\u9690\u85cf\u7684\u4fe1\u606f\uff0c\u6211\u4eec\u628a\u9690\u85cf\u5c42\u7684\u795e\u7ecf\u5143\u6570\u76ee\u8bbe\u7f6e\u7684\u5c11\u4e8e\u8f93\u5165\u7279\u5f81\u7684\u6570\u76ee\uff0c\u7ecf\u8fc7\u5927\u91cf\u6837\u672c\u7684\u8bad\u7ec3\u51fa\u80fd\u8fd8\u539f\u539f\u59cb\u7279\u5f81\u7684\u6a21\u578b\uff0c\u8fd9\u6837\u76f8\u5f53\u4e8e\u6211\u4eec\u7528\u5c11\u4e8e\u8f93\u5165\u7279\u5f81\u6570\u76ee\u7684\u4fe1\u606f\u8fd8\u539f\u51fa\u4e86\u5168\u90e8\u7279\u5f81\uff0c\u8868\u9762\u4e0a\u662f\u4e00\u79cd\u538b\u7f29\uff0c\u5b9e\u9645\u4e0a\u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f\u5c31\u53ef\u4ee5\u53d1\u73b0\u67d0\u4e9b\u7279\u5f81\u4e4b\u95f4\u5b58\u5728\u9690\u542b\u7684\u76f8\u5173\u6027\uff0c\u6216\u8005\u6709\u67d0\u79cd\u7279\u6b8a\u7684\u5173\u7cfb\u3002  \u540c\u6837\u7684\uff0c\u6211\u4eec\u8fd8\u53ef\u4ee5\u8ba9\u9690\u85cf\u5c42\u4e2d\u7684\u795e\u7ecf\u5143\u6570\u76ee\u591a\u4f59\u8f93\u5165\u7279\u5f81\u7684\u6570\u76ee\uff0c\u8fd9\u6837\u7ecf\u8fc7\u8bad\u7ec3\u5f97\u51fa\u7684\u6a21\u578b\u8fd8\u53ef\u4ee5\u5c55\u793a\u51fa\u7279\u5f81\u4e4b\u95f4\u67d0\u79cd\u7ec6\u8282\u4e0a\u7684\u5173\u8054\uff0c\u6bd4\u5982\u6211\u4eec\u5bf9\u56fe\u50cf\u8bc6\u522b\u505a\u8fd9\u6837\u7684\u6a21\u578b\u8bad\u7ec3\uff0c\u5728\u5f97\u51fa\u7684\u9690\u85cf\u5c42\u4e2d\u80fd\u5c55\u793a\u51fa\u591a\u79cd\u7279\u5f81\u4e4b\u95f4\u7684\u7ec6\u8282\u4fe1\u606f\uff0c\u5982\u9f3b\u5b50\u4e00\u5b9a\u5728\u5634\u548c\u773c\u775b\u4e2d\u95f4\u3002  \u8fd9\u79cd\u8ba9\u8f93\u51fa\u548c\u8f93\u5165\u4e00\u81f4\u7684\u7528\u6cd5\u5c31\u662f\u4f20\u8bf4\u4e2d\u7684\u81ea\u7f16\u7801\u7b97\u6cd5\u3002", 
            "title": "\u795e\u5947\u7528\u6cd5\u4e4b\u4e00"
        }, 
        {
            "location": "/22.artificial-neural-network/#_3", 
            "text": "\u4eba\u5de5\u795e\u7ecf\u7f51\u7edc\u6a21\u578b\u901a\u8fc7\u591a\u5c42\u795e\u7ecf\u5143\u7ed3\u6784\u5efa\u7acb\u800c\u6210\uff0c\u6bcf\u4e00\u5c42\u53ef\u4ee5\u62bd\u8c61\u4e3a\u4e00\u79cd\u601d\u7ef4\u8fc7\u7a0b\uff0c\u7ecf\u8fc7\u591a\u5c42\u601d\u8003\uff0c\u6700\u7ec8\u5f97\u51fa\u7ed3\u8bba\u3002\u4e3e\u4e00\u4e2a\u5b9e\u9645\u7684\u4f8b\u5b50\uff1a\u8bc6\u522b\u7f8e\u5973\u56fe\u7247  \u6309\u7167\u4eba\u7684\u601d\u7ef4\u8fc7\u7a0b\uff0c\u8bc6\u522b\u7f8e\u5973\u56fe\u7247\u8981\u7ecf\u8fc7\u8fd9\u6837\u7684\u5224\u65ad\uff1a1\uff09\u56fe\u7247\u7c7b\u522b\uff08\u4eba\u7269\u3001\u98ce\u666f\u2026\u2026\uff09\uff1b2\uff09\u56fe\u7247\u4eba\u7269\u6027\u522b\uff08\u7537\u3001\u5973\u3001\u5176\u4ed6\u2026\u2026\uff09\uff1b3\uff09\u76f8\u8c8c\u5982\u4f55\uff08\u7f8e\u5973\u3001\u6050\u9f99\u30015\u5206\u2026\u2026\uff09  \u90a3\u4e48\u5728\u4eba\u5de5\u795e\u7ecf\u7f51\u7edc\u4e2d\uff0c\u8fd9\u4e2a\u601d\u8003\u8fc7\u7a0b\u53ef\u4ee5\u62bd\u8c61\u6210\u591a\u4e2a\u5c42\u6b21\u7684\u8ba1\u7b97\uff1a\u7b2c\u4e00\u5c42\u8ba1\u7b97\u63d0\u53d6\u56fe\u7247\u4e2d\u6709\u5173\u7c7b\u522b\u7684\u7279\u5f81\uff0c\u6bd4\u5982\u662f\u5426\u6709\u5f62\u5982\u8033\u9f3b\u53e3\u624b\u7684\u5143\u7d20\uff0c\u662f\u5426\u6709\u5f62\u5982\u84dd\u5929\u767d\u4e91\u7eff\u8349\u5730\u7684\u5143\u7d20\uff1b\u7b2c\u4e8c\u5c42\u63d0\u53d6\u662f\u5426\u6709\u80e1\u987b\u3001\u80f8\u90e8\u3001\u957f\u53d1\u4ee5\u53ca\u9762\u90e8\u7279\u5f81\u7b49\u6765\u5224\u65ad\u6027\u522b\uff1b\u7b2c\u4e09\u5c42\u63d0\u53d6\u4e94\u5b98\u3001\u80a4\u8d28\u3001\u8863\u7740\u7b49\u4fe1\u606f\u6765\u786e\u5b9a\u989c\u503c\u3002\u4e3a\u4e86\u8ba9\u795e\u7ecf\u7f51\u7edc\u6bcf\u4e00\u5c42\u6709\u6bcf\u4e00\u5c42\u4e13\u95e8\u8981\u505a\u7684\u4e8b\u60c5\uff0c\u9700\u8981\u5728\u6bcf\u4e00\u5c42\u7684\u795e\u7ecf\u5143\u4e2d\u6dfb\u52a0\u7279\u6b8a\u7684\u7ea6\u675f\u6761\u4ef6\u624d\u80fd\u505a\u5230\u3002\u4eba\u7c7b\u7684\u5927\u8111\u662f\u7ecf\u8fc7\u4e0a\u4ebf\u5e74\u8fdb\u5316\u800c\u6210\u7684\uff0c\u5b83\u7684\u529f\u80fd\u6df1\u4e0d\u53ef\u53ca\uff0c\u67d0\u4e9b\u6548\u7387\u4e5f\u6781\u9ad8\uff0c\u800c\u8ba1\u7b97\u673a\u5728\u67d0\u4e9b\u65b9\u9762\u6548\u7387\u6bd4\u4eba\u8111\u8981\u9ad8\u5f88\u591a\uff0c\u4e24\u79cd\u7ed3\u5408\u8d77\u6765\u4e00\u5207\u7686\u6709\u53ef\u80fd\u3002  \u8fd9\u79cd\u901a\u8fc7\u5f88\u591a\u5c42\u63d0\u53d6\u7279\u5b9a\u7279\u5f81\u6765\u505a\u673a\u5668\u5b66\u4e60\u7684\u65b9\u6cd5\u5c31\u662f\u4f20\u8bf4\u4e2d\u7684\u6df1\u5ea6\u5b66\u4e60\u3002", 
            "title": "\u795e\u5947\u7528\u6cd5\u4e4b\u4e8c"
        }, 
        {
            "location": "/22.artificial-neural-network/#_4", 
            "text": "\u8bb2\u8ff0\u7b2c\u4e09\u79cd\u7528\u6cd5\u4e4b\u524d\u6211\u4eec\u5148\u8bb2\u4e00\u4e0b\u4ec0\u4e48\u662f\u5377\u79ef\u8fd0\u7b97\u3002\u5377\u79ef\u82f1\u6587\u662fconvolution(\u82f1\u6587\u542b\u4e49\u662f\uff1a\u76d8\u7ed5\u3001\u5f2f\u66f2\u3001\u9519\u7efc\u590d\u6742)\uff0c\u6570\u5b66\u8868\u8fbe\u662f\uff1a  \u6570\u5b66\u4e0a\u4e0d\u597d\u7406\u89e3\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u4fd7\u70b9\u6765\u8bb2\uff1a\u5377\u79ef\u5c31\u76f8\u5f53\u4e8e\u5728\u4e00\u5b9a\u8303\u56f4\u5185\u505a\u5e73\u79fb\u5e76\u6c42\u5e73\u5747\u503c\u3002\u6bd4\u5982\u8bf4\u56de\u58f0\u53ef\u4ee5\u7406\u89e3\u4e3a\u539f\u59cb\u58f0\u97f3\u7684\u5377\u79ef\u7ed3\u679c\uff0c\u56e0\u4e3a\u56de\u58f0\u662f\u539f\u59cb\u58f0\u97f3\u7ecf\u8fc7\u5f88\u591a\u7269\u4f53\u53cd\u5c04\u56de\u6765\u58f0\u97f3\u63c9\u5728\u4e00\u8d77\u3002\u518d\u6bd4\u5982\u8bf4\u56de\u58f0\u53ef\u4ee5\u7406\u89e3\u4e3a\u628a\u4fe1\u53f7\u5206\u89e3\u6210\u65e0\u7a77\u591a\u7684\u51b2\u51fb\u4fe1\u53f7\uff0c\u7136\u540e\u518d\u8fdb\u884c\u51b2\u51fb\u54cd\u5e94\u7684\u53e0\u52a0\u3002\u518d\u6bd4\u5982\u8bf4\u628a\u4e00\u5f20\u56fe\u50cf\u505a\u5377\u79ef\u8fd0\u7b97\uff0c\u5e76\u628a\u8ba1\u7b97\u7ed3\u679c\u66ff\u6362\u539f\u6765\u7684\u50cf\u7d20\u70b9\uff0c\u53ef\u4ee5\u5b9e\u73b0\u4e00\u79cd\u7279\u6b8a\u7684\u6a21\u7cca\uff0c\u8fd9\u79cd\u6a21\u7cca\u5176\u5b9e\u662f\u4e00\u79cd\u65b0\u7684\u7279\u5f81\u63d0\u53d6\uff0c\u63d0\u53d6\u7684\u7279\u5f81\u5c31\u662f\u56fe\u50cf\u7684\u7eb9\u8def\u3002\u603b\u4e4b\u5377\u79ef\u5c31\u662f\u5148\u6253\u4e71\uff0c\u518d\u53e0\u52a0\u3002  \u4e0b\u9762\u6211\u4eec\u5728\u770b\u4e0a\u9762\u7684\u79ef\u5206\u516c\u5f0f\uff0c\u9700\u8981\u6ce8\u610f\u7684\u662f\u8fd9\u91cc\u662f\u5bf9\u03c4\u79ef\u5206\uff0c\u4e0d\u662f\u5bf9x\u79ef\u5206\u3002\u4e5f\u5c31\u662f\u8bf4\u5bf9\u4e8e\u56fa\u5b9a\u7684x\uff0c\u627e\u5230x\u9644\u8fd1\u7684\u6240\u6709\u53d8\u91cf\uff0c\u6c42\u4e24\u4e2a\u51fd\u6570\u7684\u4e58\u79ef\uff0c\u5e76\u6c42\u548c\u3002  \u4e0b\u9762\u56de\u5f52\u6b63\u9898\uff0c\u5728\u795e\u7ecf\u7f51\u7edc\u91cc\u9762\uff0c\u6211\u4eec\u8bbe\u8ba1\u6bcf\u4e2a\u795e\u7ecf\u5143\u8ba1\u7b97\u8f93\u51fa\u7684\u516c\u5f0f\u662f\u5377\u79ef\u516c\u5f0f\uff0c\u8fd9\u6837\u76f8\u5f53\u4e8e\u795e\u7ecf\u7f51\u7edc\u7684\u6bcf\u4e00\u5c42\u90fd\u4f1a\u8f93\u51fa\u4e00\u79cd\u66f4\u9ad8\u7ea7\u7684\u7279\u5f81\uff0c\u6bd4\u5982\u8bf4\u5f62\u72b6\u3001\u8138\u90e8\u8f6e\u5ed3\u7b49\u3002\u8fd9\u79cd\u795e\u7ecf\u7f51\u7edc\u53eb\u505a\u5377\u79ef\u795e\u7ecf\u7f51\u7edc\u3002  \u7ee7\u7eed\u6df1\u5165\u4e3b\u9898\uff0c\u5728\u81ea\u7136\u8bed\u8a00\u4e2d\uff0c\u6211\u4eec\u77e5\u9053\u8f83\u8fd1\u7684\u4e0a\u4e0b\u6587\u8bcd\u8bed\u4e4b\u95f4\u5b58\u5728\u4e00\u5b9a\u7684\u76f8\u5173\u6027\uff0c\u7531\u4e8e\u6807\u70b9\u3001\u7279\u6b8a\u8bcd\u7b49\u7684\u5206\u9694\u4f7f\u5f97\u5728\u4f20\u7edf\u81ea\u7136\u8bed\u8a00\u5904\u7406\u4e2d\u4f1a\u8131\u79bb\u8bcd\u4e0e\u8bcd\u4e4b\u95f4\u7684\u5173\u8054\uff0c\u7ed3\u679c\u4e22\u5931\u4e86\u4e00\u90e8\u5206\u91cd\u8981\u4fe1\u606f\uff0c\u5229\u7528\u5377\u79ef\u795e\u7ecf\u7f51\u7edc\u5b8c\u5168\u53ef\u4ee5\u505a\u591a\u5143(n-gram)\u7684\u8ba1\u7b97\uff0c\u4e0d\u4f1a\u635f\u5931\u81ea\u7136\u8bed\u8a00\u4e2d\u7684\u4e34\u8fd1\u8bcd\u7684\u76f8\u5173\u6027\u4fe1\u606f\u3002\u8fd9\u79cd\u65b9\u6cd5\u5bf9\u4e8e\u8bed\u4e49\u5206\u6790\u3001\u8bed\u4e49\u805a\u7c7b\u7b49\u90fd\u6709\u975e\u5e38\u597d\u7684\u6548\u679c\u3002  \u8fd9\u79cd\u795e\u5947\u7528\u6cd5\u5c31\u662f\u4f20\u8bf4\u4e2d\u7684CNN", 
            "title": "\u795e\u5947\u7528\u6cd5\u4e4b\u4e09"
        }, 
        {
            "location": "/22.artificial-neural-network/#_5", 
            "text": "\u795e\u7ecf\u7f51\u7edc\u56e0\u4e3a\u5176\u5c42\u6b21\u548c\u6269\u5c55\u6027\u7684\u5f3a\u5927\uff0c\u6709\u7740\u975e\u5e38\u591a\u7684\u795e\u5947\u7528\u6cd5\u548c\u975e\u5e38\u5e7f\u6cdb\u7684\u5e94\u7528\uff0c\u56e0\u4e3a\u5e0c\u671b\u804a\u5929\u673a\u5668\u4eba\u80fd\u591f\u5177\u6709\u667a\u80fd\uff0c\u5c31\u4e0d\u5f97\u4e0d\u5bfb\u627e\u80fd\u591f\u627f\u8f7d\u667a\u80fd\u7684\u65b9\u6cd5\uff0c\u795e\u7ecf\u7f51\u7edc\u662f\u5176\u4e2d\u4e00\u4e2a\uff0c\u6cbf\u7740\u8fd9\u4e2a\u7f51\u7edc\uff0c\u8ba9\u6211\u4eec\u7ee7\u7eed\u63a2\u7d22\u3002", 
            "title": "\u603b\u7ed3"
        }, 
        {
            "location": "/23.cnn/", 
            "text": "\u81ea\u52a8\u95ee\u7b54\u7cfb\u7edf\u4e2d\u6df1\u5ea6\u5b66\u4e60\u7684\u5e94\u7528\u8f83\u591a\u662fRNN\uff0c\u8fd9\u5f52\u56e0\u4e8e\u5b83\u5929\u7136\u5229\u7528\u65f6\u5e8f\u5efa\u6a21\u3002\u4fd7\u8bdd\u8bf4\u77e5\u5df1\u77e5\u5f7c\u767e\u6218\u4e0d\u6b86\uff0c\u4e3a\u4e86\u7406\u89e3RNN\uff0c\u6211\u4eec\u5148\u6765\u4e86\u89e3\u4e00\u4e0bCNN\uff0c\u901a\u8fc7\u624b\u5199\u6570\u5b57\u8bc6\u522b\u6848\u4f8b\u6765\u611f\u53d7\u4e00\u4e0bCNN\u6700\u64c5\u957f\u7684\u5c40\u90e8\u611f\u77e5\u80fd\u529b \n\n\n\u5377\u79ef\u795e\u7ecf\u7f51\u7edc(CNN)\n\n\n\u5377\u79ef\u795e\u7ecf\u7f51\u7edc(Convolutional Neural Network,CNN)\u662f\u5c06\u4e8c\u7ef4\u79bb\u6563\u5377\u79ef\u8fd0\u7b97\u548c\u4eba\u5de5\u795e\u7ecf\u7f51\u7edc\u76f8\u7ed3\u5408\u7684\u4e00\u79cd\u6df1\u5ea6\u795e\u7ecf\u7f51\u7edc\u3002\u5b83\u7684\u7279\u70b9\u662f\u53ef\u4ee5\u81ea\u52a8\u63d0\u53d6\u7279\u5f81\u3002\u6709\u5173\u5377\u79ef\u795e\u7ecf\u7f51\u7edc\u7684\u6570\u5b66\u539f\u7406\u548c\u8bad\u7ec3\u8fc7\u7a0b\u8bf7\u89c1\u6211\u7684\u53e6\u4e00\u7bc7\u6587\u7ae0\u300a\u673a\u5668\u5b66\u4e60\u6559\u7a0b \u5341\u4e94-\u7ec6\u89e3\u5377\u79ef\u795e\u7ecf\u7f51\u7edc\u300b\u3002\n\n\n\u624b\u5199\u6570\u5b57\u8bc6\u522b\n\n\n\u4e3a\u4e86\u8bd5\u9a8c\uff0c\u6211\u4eec\u76f4\u63a5\u91c7\u7528http://yann.lecun.com/exdb/mnist/\u4e2d\u7684\u624b\u5199\u6570\u636e\u96c6\uff0c\u4e0b\u8f7d\u5230\u7684\u624b\u5199\u6570\u636e\u96c6\u6570\u636e\u6587\u4ef6\u662f\u7528\u4e8c\u8fdb\u5236\u4ee5\u50cf\u7d20\u4e3a\u5355\u4f4d\u4fdd\u5b58\u7684\u51e0\u4e07\u5f20\u56fe\u7247\u6587\u4ef6\uff0c\u901a\u8fc7\u6211\u7684github\u9879\u76eehttps://github.com/warmheartli/ChatBotCourse\u4e2d\u7684read_images.c\u628a\u56fe\u7247\u6253\u5370\u51fa\u6765\u662f\u50cf\u4e0b\u9762\u8fd9\u6837\u7684\u8f93\u51fa\uff1a\n\n\n\u5177\u4f53\u6587\u4ef6\u683c\u5f0f\u548c\u6253\u5370\u65b9\u5f0f\u8bf7\u89c1\u6211\u7684\u53e6\u4e00\u7bc7\u57fa\u4e8e\u7b80\u5355\u7684softmax\u6a21\u578b\u7684\u673a\u5668\u5b66\u4e60\u7b97\u6cd5\u6587\u7ae0\u300a\u673a\u5668\u5b66\u4e60\u6559\u7a0b \u5341\u56db-\u5229\u7528tensorflow\u505a\u624b\u5199\u6570\u5b57\u8bc6\u522b\u300b\u4e2d\u7684\u8bb2\u89e3\n\n\n\u591a\u5c42\u5377\u79ef\u7f51\u7edc\u8bbe\u8ba1\n\n\n\u4e3a\u4e86\u5bf9mnist\u624b\u5199\u6570\u636e\u96c6\u505a\u8bad\u7ec3\uff0c\u6211\u4eec\u8bbe\u8ba1\u8fd9\u6837\u7684\u591a\u5c42\u5377\u79ef\u7f51\u7edc\uff1a\n\n\n\u7b2c\u4e00\u5c42\u7531\u4e00\u4e2a\u5377\u79ef\u548c\u4e00\u4e2amax pooling\u5b8c\u6210\uff0c\u5176\u4e2d\u5377\u79ef\u8fd0\u7b97\u7684\u201c\u89c6\u91ce\u201d\u662f5\u00d75\u7684\u50cf\u7d20\u8303\u56f4\uff0c\u5377\u79ef\u4f7f\u75281\u6b65\u957f\u30010\u8fb9\u8ddd\u7684\u6a21\u677f(\u4fdd\u8bc1\u8f93\u5165\u8f93\u51fa\u662f\u540c\u4e00\u4e2a\u5927\u5c0f)\uff0c1\u4e2a\u8f93\u5165\u901a\u9053(\u56e0\u4e3a\u56fe\u7247\u662f\u7070\u5ea6\u7684\uff0c\u5355\u8272)\uff0c32\u4e2a\u8f93\u51fa\u901a\u9053(\u4e5f\u5c31\u662f\u8bbe\u8ba132\u4e2a\u7279\u5f81)\u3002\u7531\u4e8e\u6211\u4eec\u901a\u8fc7\u4e0a\u9762read_images.c\u7684\u6253\u5370\u53ef\u4ee5\u770b\u5230\u6bcf\u5f20\u56fe\u7247\u90fd\u662f28\u00d728\u50cf\u7d20\uff0c\u90a3\u4e48\u7b2c\u4e00\u6b21\u5377\u79ef\u8f93\u51fa\u4e5f\u662f28\u00d728\u5927\u5c0f\u3002max pooling\u91c7\u75282\u00d72\u5927\u5c0f\u7684\u6a21\u677f\uff0c\u90a3\u4e48\u6c60\u5316\u540e\u8f93\u51fa\u7684\u5c3a\u5bf8\u5c31\u662f14\u00d714\uff0c\u56e0\u4e3a\u4e00\u5171\u670932\u4e2a\u901a\u9053\uff0c\u6240\u4ee5\u4e00\u5f20\u56fe\u7247\u7684\u8f93\u51fa\u4e00\u5171\u662f14\u00d714\u00d732=6272\u50cf\u7d20\n\n\n\u7b2c\u4e8c\u5c42\u540c\u6837\u7531\u4e00\u4e2a\u5377\u79ef\u548c\u4e00\u4e2amax pooling\u5b8c\u6210\uff0c\u548c\u7b2c\u4e00\u5c42\u4e0d\u540c\u7684\u662f\u8f93\u5165\u901a\u9053\u670932\u4e2a(\u5bf9\u5e94\u7b2c\u4e00\u5c42\u768432\u4e2a\u7279\u5f81)\uff0c\u8f93\u51fa\u901a\u9053\u6211\u4eec\u8bbe\u8ba164\u4e2a(\u5373\u8f93\u51fa64\u4e2a\u7279\u5f81)\uff0c\u56e0\u4e3a\u8fd9\u4e00\u5c42\u7684\u8f93\u5165\u662f\u6bcf\u5f20\u5927\u5c0f14\u00d714\uff0c\u6240\u4ee5\u8fd9\u4e00\u4e2a\u5377\u79ef\u5c42\u8f93\u51fa\u4e5f\u662f14\u00d714\uff0c\u518d\u7ecf\u8fc7\u8fd9\u4e00\u5c42max pooling\uff0c\u8f93\u51fa\u5927\u5c0f\u5c31\u662f7\u00d77\uff0c\u90a3\u4e48\u4e00\u5171\u8f93\u51fa\u50cf\u7d20\u5c31\u662f7\u00d77\u00d764=3136\n\n\n\u7b2c\u4e09\u5c42\u662f\u4e00\u4e2a\u5bc6\u96c6\u8fde\u63a5\u5c42\uff0c\u6211\u4eec\u8bbe\u8ba1\u4e00\u4e2a\u67091024\u4e2a\u795e\u7ecf\u5143\u7684\u5168\u8fde\u63a5\u5c42\uff0c\u8fd9\u6837\u5c31\u76f8\u5f53\u4e8e\u7b2c\u4e8c\u5c42\u8f93\u51fa\u76847\u00d77\u00d764\u4e2a\u503c\u90fd\u4f5c\u4e3a\u8fd91024\u4e2a\u795e\u7ecf\u5143\u7684\u8f93\u5165\n\n\n\u4e3a\u4e86\u8ba9\u7b97\u6cd5\u66f4\u201c\u667a\u80fd\u201d\uff0c\u6211\u4eec\u628a\u8fd9\u4e9b\u795e\u7ecf\u5143\u7684\u6fc0\u6d3b\u51fd\u6570\u8bbe\u8ba1\u4e3aReLu\u51fd\u6570\uff0c\u5373\u5982\u4e0b\u56fe\u50cf\u4e2d\u7684\u84dd\u8272(\u5176\u4e2d\u7eff\u8272\u662f\u5b83\u7684\u5e73\u6ed1\u7248g(x)=log(1+e^x))\uff1a\n\n\n\u6700\u7ec8\u7684\u8f93\u51fa\u5c42\uff0c\u6211\u4eec\u4ee5\u7b2c\u4e09\u5c42\u76841024\u4e2a\u8f93\u51fa\u4e3a\u8f93\u5165\uff0c\u8bbe\u8ba1\u4e00\u4e2asoftmax\u5c42\uff0c\u8f93\u51fa10\u4e2a\u6982\u7387\u503c\n\n\ntensorflow\u4ee3\u7801\u5b9e\u73b0\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n# coding:utf-8\n\n\n\nimport\n \nsys\n\n\nreload\n(\nsys\n)\n\n\nsys\n.\nsetdefaultencoding\n(\n \nutf-8\n \n)\n\n\n\nfrom\n \ntensorflow.examples.tutorials.mnist\n \nimport\n \ninput_data\n\n\nimport\n \ntensorflow\n \nas\n \ntf\n\n\n\nflags\n \n=\n \ntf\n.\napp\n.\nflags\n\n\nFLAGS\n \n=\n \nflags\n.\nFLAGS\n\n\nflags\n.\nDEFINE_string\n(\ndata_dir\n,\n \n./\n,\n \nDirectory for storing data\n)\n\n\n\nmnist\n \n=\n \ninput_data\n.\nread_data_sets\n(\nFLAGS\n.\ndata_dir\n,\n \none_hot\n=\nTrue\n)\n\n\n\n# \u521d\u59cb\u5316\u751f\u6210\u968f\u673a\u7684\u6743\u91cd(\u53d8\u91cf)\uff0c\u907f\u514d\u795e\u7ecf\u5143\u8f93\u51fa\u6052\u4e3a0\n\n\ndef\n \nweight_variable\n(\nshape\n):\n\n    \n# \u4ee5\u6b63\u6001\u5206\u5e03\u751f\u6210\u968f\u673a\u503c\n\n    \ninitial\n \n=\n \ntf\n.\ntruncated_normal\n(\nshape\n,\n \nstddev\n=\n0.1\n)\n\n    \nreturn\n \ntf\n.\nVariable\n(\ninitial\n)\n\n\n\n# \u521d\u59cb\u5316\u751f\u6210\u968f\u673a\u7684\u504f\u7f6e\u9879(\u5e38\u91cf)\uff0c\u907f\u514d\u795e\u7ecf\u5143\u8f93\u51fa\u6052\u4e3a0\n\n\ndef\n \nbias_variable\n(\nshape\n):\n\n    \ninitial\n \n=\n \ntf\n.\nconstant\n(\n0.1\n,\n \nshape\n=\nshape\n)\n\n    \nreturn\n \ntf\n.\nVariable\n(\ninitial\n)\n\n\n\n# \u5377\u79ef\u91c7\u75281\u6b65\u957f\uff0c0\u8fb9\u8ddd\uff0c\u4fdd\u8bc1\u8f93\u5165\u8f93\u51fa\u5927\u5c0f\u76f8\u540c\n\n\ndef\n \nconv2d\n(\nx\n,\n \nW\n):\n\n    \nreturn\n \ntf\n.\nnn\n.\nconv2d\n(\nx\n,\n \nW\n,\n \nstrides\n=\n[\n1\n,\n \n1\n,\n \n1\n,\n \n1\n],\n \npadding\n=\nSAME\n)\n\n\n\n# \u6c60\u5316\u91c7\u75282\u00d72\u6a21\u677f\n\n\ndef\n \nmax_pool_2x2\n(\nx\n):\n\n    \nreturn\n \ntf\n.\nnn\n.\nmax_pool\n(\nx\n,\n \nksize\n=\n[\n1\n,\n \n2\n,\n \n2\n,\n \n1\n],\n\n        \nstrides\n=\n[\n1\n,\n \n2\n,\n \n2\n,\n \n1\n],\n \npadding\n=\nSAME\n)\n\n\n\n# 28*28=784\n\n\nx\n \n=\n \ntf\n.\nplaceholder\n(\ntf\n.\nfloat32\n,\n \n[\nNone\n,\n \n784\n])\n\n\n# \u8f93\u51fa\u7c7b\u522b\u517110\u4e2a\uff1a0-9\n\n\ny_\n \n=\n \ntf\n.\nplaceholder\n(\nfloat\n,\n \n[\nNone\n,\n10\n])\n\n\n\n# \u7b2c\u4e00\u5c42\u5377\u79ef\u6743\u91cd\uff0c\u89c6\u91ce\u662f5*5\uff0c\u8f93\u5165\u901a\u90531\u4e2a\uff0c\u8f93\u51fa\u901a\u905332\u4e2a\n\n\nW_conv1\n \n=\n \nweight_variable\n([\n5\n,\n \n5\n,\n \n1\n,\n \n32\n])\n\n\n# \u7b2c\u4e00\u5c42\u5377\u79ef\u504f\u7f6e\u9879\u670932\u4e2a\n\n\nb_conv1\n \n=\n \nbias_variable\n([\n32\n])\n\n\n\n# \u628ax\u53d8\u62104d\u5411\u91cf\uff0c\u7b2c\u4e8c\u7ef4\u548c\u7b2c\u4e09\u7ef4\u662f\u56fe\u50cf\u5c3a\u5bf8\uff0c\u7b2c\u56db\u7ef4\u662f\u989c\u8272\u901a\u9053\u65701\n\n\nx_image\n \n=\n \ntf\n.\nreshape\n(\nx\n,\n \n[\n-\n1\n,\n28\n,\n28\n,\n1\n])\n\n\n\nh_conv1\n \n=\n \ntf\n.\nnn\n.\nrelu\n(\nconv2d\n(\nx_image\n,\n \nW_conv1\n)\n \n+\n \nb_conv1\n)\n\n\nh_pool1\n \n=\n \nmax_pool_2x2\n(\nh_conv1\n)\n\n\n\n# \u7b2c\u4e8c\u5c42\u5377\u79ef\u6743\u91cd\uff0c\u89c6\u91ce\u662f5*5\uff0c\u8f93\u5165\u901a\u905332\u4e2a\uff0c\u8f93\u51fa\u901a\u905364\u4e2a\n\n\nW_conv2\n \n=\n \nweight_variable\n([\n5\n,\n \n5\n,\n \n32\n,\n \n64\n])\n\n\n# \u7b2c\u4e8c\u5c42\u5377\u79ef\u504f\u7f6e\u9879\u670964\u4e2a\n\n\nb_conv2\n \n=\n \nbias_variable\n([\n64\n])\n\n\n\nh_conv2\n \n=\n \ntf\n.\nnn\n.\nrelu\n(\nconv2d\n(\nh_pool1\n,\n \nW_conv2\n)\n \n+\n \nb_conv2\n)\n\n\nh_pool2\n \n=\n \nmax_pool_2x2\n(\nh_conv2\n)\n\n\n\n# \u7b2c\u4e8c\u5c42\u6c60\u5316\u540e\u5c3a\u5bf8\u7f16\u7a0b7*7\uff0c\u7b2c\u4e09\u5c42\u662f\u5168\u8fde\u63a5\uff0c\u8f93\u5165\u662f64\u4e2a\u901a\u9053\uff0c\u8f93\u51fa\u662f1024\u4e2a\u795e\u7ecf\u5143\n\n\nW_fc1\n \n=\n \nweight_variable\n([\n7\n \n*\n \n7\n \n*\n \n64\n,\n \n1024\n])\n\n\n# \u7b2c\u4e09\u5c42\u5168\u8fde\u63a5\u504f\u7f6e\u9879\u67091024\u4e2a\n\n\nb_fc1\n \n=\n \nbias_variable\n([\n1024\n])\n\n\n\nh_pool2_flat\n \n=\n \ntf\n.\nreshape\n(\nh_pool2\n,\n \n[\n-\n1\n,\n \n7\n*\n7\n*\n64\n])\n\n\nh_fc1\n \n=\n \ntf\n.\nnn\n.\nrelu\n(\ntf\n.\nmatmul\n(\nh_pool2_flat\n,\n \nW_fc1\n)\n \n+\n \nb_fc1\n)\n\n\n\n# \u6309float\u505adropout\uff0c\u4ee5\u51cf\u5c11\u8fc7\u62df\u5408\n\n\nkeep_prob\n \n=\n \ntf\n.\nplaceholder\n(\nfloat\n)\n\n\nh_fc1_drop\n \n=\n \ntf\n.\nnn\n.\ndropout\n(\nh_fc1\n,\n \nkeep_prob\n)\n\n\n\n# \u6700\u540e\u7684softmax\u5c42\u751f\u621010\u79cd\u5206\u7c7b\n\n\nW_fc2\n \n=\n \nweight_variable\n([\n1024\n,\n \n10\n])\n\n\nb_fc2\n \n=\n \nbias_variable\n([\n10\n])\n\n\n\ny_conv\n=\ntf\n.\nnn\n.\nsoftmax\n(\ntf\n.\nmatmul\n(\nh_fc1_drop\n,\n \nW_fc2\n)\n \n+\n \nb_fc2\n)\n\n\n\ncross_entropy\n \n=\n \n-\ntf\n.\nreduce_sum\n(\ny_\n*\ntf\n.\nlog\n(\ny_conv\n))\n\n\n# Adam\u4f18\u5316\u5668\u6765\u505a\u68af\u5ea6\u6700\u901f\u4e0b\u964d\n\n\ntrain_step\n \n=\n \ntf\n.\ntrain\n.\nAdamOptimizer\n(\n1e-4\n)\n.\nminimize\n(\ncross_entropy\n)\n\n\ncorrect_prediction\n \n=\n \ntf\n.\nequal\n(\ntf\n.\nargmax\n(\ny_conv\n,\n1\n),\n \ntf\n.\nargmax\n(\ny_\n,\n1\n))\n\n\naccuracy\n \n=\n \ntf\n.\nreduce_mean\n(\ntf\n.\ncast\n(\ncorrect_prediction\n,\n \nfloat\n))\n\n\n\nsess\n \n=\n \ntf\n.\nInteractiveSession\n()\n\n\nsess\n.\nrun\n(\ntf\n.\ninitialize_all_variables\n())\n\n\n\nfor\n \ni\n \nin\n \nrange\n(\n20000\n):\n\n    \nbatch\n \n=\n \nmnist\n.\ntrain\n.\nnext_batch\n(\n50\n)\n\n    \nif\n \ni\n%\n100\n \n==\n \n0\n:\n\n        \ntrain_accuracy\n \n=\n \naccuracy\n.\neval\n(\nfeed_dict\n=\n{\n\n            \nx\n:\nbatch\n[\n0\n],\n \ny_\n:\n \nbatch\n[\n1\n],\n \nkeep_prob\n:\n \n1.0\n})\n\n        \nprint\n \nstep \n%d\n, training accuracy \n%g\n%\n(\ni\n,\n \ntrain_accuracy\n)\n\n    \ntrain_step\n.\nrun\n(\nfeed_dict\n=\n{\nx\n:\n \nbatch\n[\n0\n],\n \ny_\n:\n \nbatch\n[\n1\n],\n \nkeep_prob\n:\n \n0.5\n})\n\n\n\nprint\n \ntest accuracy \n%g\n%\naccuracy\n.\neval\n(\nfeed_dict\n=\n{\n\n    \nx\n:\n \nmnist\n.\ntest\n.\nimages\n,\n \ny_\n:\n \nmnist\n.\ntest\n.\nlabels\n,\n \nkeep_prob\n:\n \n1.0\n})\n\n\n\n\n\n\n\n\u8f93\u51fa\u7ed3\u679c\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n[\nroot@centos $\n]\n python digital_recognition_cnn.py\nExtracting ./train-images-idx3-ubyte.gz\nExtracting ./train-labels-idx1-ubyte.gz\nExtracting ./t10k-images-idx3-ubyte.gz\nExtracting ./t10k-labels-idx1-ubyte.gz\nstep \n0\n, training accuracy \n0\n.14\nstep \n100\n, training accuracy \n0\n.86\nstep \n200\n, training accuracy \n0\n.9\nstep \n300\n, training accuracy \n0\n.86\nstep \n400\n, training accuracy \n1\n\nstep \n500\n, training accuracy \n0\n.92\nstep \n600\n, training accuracy \n1\n\nstep \n700\n, training accuracy \n0\n.96\nstep \n800\n, training accuracy \n0\n.88\nstep \n900\n, training accuracy \n1\n\nstep \n1000\n, training accuracy \n0\n.96\nstep \n1100\n, training accuracy \n0\n.98\nstep \n1200\n, training accuracy \n0\n.94\nstep \n1300\n, training accuracy \n0\n.92\nstep \n1400\n, training accuracy \n0\n.98\n\u2026\u2026\n\n\n\n\n\n\n\u6700\u7ec8\u51c6\u786e\u7387\u5927\u6982\u80fd\u8fbe\u523099.2%", 
            "title": "\u4e8c\u5341\u4e09-\u7528CNN\u505a\u6df1\u5ea6\u5b66\u4e60"
        }, 
        {
            "location": "/23.cnn/#cnn", 
            "text": "\u5377\u79ef\u795e\u7ecf\u7f51\u7edc(Convolutional Neural Network,CNN)\u662f\u5c06\u4e8c\u7ef4\u79bb\u6563\u5377\u79ef\u8fd0\u7b97\u548c\u4eba\u5de5\u795e\u7ecf\u7f51\u7edc\u76f8\u7ed3\u5408\u7684\u4e00\u79cd\u6df1\u5ea6\u795e\u7ecf\u7f51\u7edc\u3002\u5b83\u7684\u7279\u70b9\u662f\u53ef\u4ee5\u81ea\u52a8\u63d0\u53d6\u7279\u5f81\u3002\u6709\u5173\u5377\u79ef\u795e\u7ecf\u7f51\u7edc\u7684\u6570\u5b66\u539f\u7406\u548c\u8bad\u7ec3\u8fc7\u7a0b\u8bf7\u89c1\u6211\u7684\u53e6\u4e00\u7bc7\u6587\u7ae0\u300a\u673a\u5668\u5b66\u4e60\u6559\u7a0b \u5341\u4e94-\u7ec6\u89e3\u5377\u79ef\u795e\u7ecf\u7f51\u7edc\u300b\u3002", 
            "title": "\u5377\u79ef\u795e\u7ecf\u7f51\u7edc(CNN)"
        }, 
        {
            "location": "/23.cnn/#_1", 
            "text": "\u4e3a\u4e86\u8bd5\u9a8c\uff0c\u6211\u4eec\u76f4\u63a5\u91c7\u7528http://yann.lecun.com/exdb/mnist/\u4e2d\u7684\u624b\u5199\u6570\u636e\u96c6\uff0c\u4e0b\u8f7d\u5230\u7684\u624b\u5199\u6570\u636e\u96c6\u6570\u636e\u6587\u4ef6\u662f\u7528\u4e8c\u8fdb\u5236\u4ee5\u50cf\u7d20\u4e3a\u5355\u4f4d\u4fdd\u5b58\u7684\u51e0\u4e07\u5f20\u56fe\u7247\u6587\u4ef6\uff0c\u901a\u8fc7\u6211\u7684github\u9879\u76eehttps://github.com/warmheartli/ChatBotCourse\u4e2d\u7684read_images.c\u628a\u56fe\u7247\u6253\u5370\u51fa\u6765\u662f\u50cf\u4e0b\u9762\u8fd9\u6837\u7684\u8f93\u51fa\uff1a  \u5177\u4f53\u6587\u4ef6\u683c\u5f0f\u548c\u6253\u5370\u65b9\u5f0f\u8bf7\u89c1\u6211\u7684\u53e6\u4e00\u7bc7\u57fa\u4e8e\u7b80\u5355\u7684softmax\u6a21\u578b\u7684\u673a\u5668\u5b66\u4e60\u7b97\u6cd5\u6587\u7ae0\u300a\u673a\u5668\u5b66\u4e60\u6559\u7a0b \u5341\u56db-\u5229\u7528tensorflow\u505a\u624b\u5199\u6570\u5b57\u8bc6\u522b\u300b\u4e2d\u7684\u8bb2\u89e3", 
            "title": "\u624b\u5199\u6570\u5b57\u8bc6\u522b"
        }, 
        {
            "location": "/23.cnn/#_2", 
            "text": "\u4e3a\u4e86\u5bf9mnist\u624b\u5199\u6570\u636e\u96c6\u505a\u8bad\u7ec3\uff0c\u6211\u4eec\u8bbe\u8ba1\u8fd9\u6837\u7684\u591a\u5c42\u5377\u79ef\u7f51\u7edc\uff1a  \u7b2c\u4e00\u5c42\u7531\u4e00\u4e2a\u5377\u79ef\u548c\u4e00\u4e2amax pooling\u5b8c\u6210\uff0c\u5176\u4e2d\u5377\u79ef\u8fd0\u7b97\u7684\u201c\u89c6\u91ce\u201d\u662f5\u00d75\u7684\u50cf\u7d20\u8303\u56f4\uff0c\u5377\u79ef\u4f7f\u75281\u6b65\u957f\u30010\u8fb9\u8ddd\u7684\u6a21\u677f(\u4fdd\u8bc1\u8f93\u5165\u8f93\u51fa\u662f\u540c\u4e00\u4e2a\u5927\u5c0f)\uff0c1\u4e2a\u8f93\u5165\u901a\u9053(\u56e0\u4e3a\u56fe\u7247\u662f\u7070\u5ea6\u7684\uff0c\u5355\u8272)\uff0c32\u4e2a\u8f93\u51fa\u901a\u9053(\u4e5f\u5c31\u662f\u8bbe\u8ba132\u4e2a\u7279\u5f81)\u3002\u7531\u4e8e\u6211\u4eec\u901a\u8fc7\u4e0a\u9762read_images.c\u7684\u6253\u5370\u53ef\u4ee5\u770b\u5230\u6bcf\u5f20\u56fe\u7247\u90fd\u662f28\u00d728\u50cf\u7d20\uff0c\u90a3\u4e48\u7b2c\u4e00\u6b21\u5377\u79ef\u8f93\u51fa\u4e5f\u662f28\u00d728\u5927\u5c0f\u3002max pooling\u91c7\u75282\u00d72\u5927\u5c0f\u7684\u6a21\u677f\uff0c\u90a3\u4e48\u6c60\u5316\u540e\u8f93\u51fa\u7684\u5c3a\u5bf8\u5c31\u662f14\u00d714\uff0c\u56e0\u4e3a\u4e00\u5171\u670932\u4e2a\u901a\u9053\uff0c\u6240\u4ee5\u4e00\u5f20\u56fe\u7247\u7684\u8f93\u51fa\u4e00\u5171\u662f14\u00d714\u00d732=6272\u50cf\u7d20  \u7b2c\u4e8c\u5c42\u540c\u6837\u7531\u4e00\u4e2a\u5377\u79ef\u548c\u4e00\u4e2amax pooling\u5b8c\u6210\uff0c\u548c\u7b2c\u4e00\u5c42\u4e0d\u540c\u7684\u662f\u8f93\u5165\u901a\u9053\u670932\u4e2a(\u5bf9\u5e94\u7b2c\u4e00\u5c42\u768432\u4e2a\u7279\u5f81)\uff0c\u8f93\u51fa\u901a\u9053\u6211\u4eec\u8bbe\u8ba164\u4e2a(\u5373\u8f93\u51fa64\u4e2a\u7279\u5f81)\uff0c\u56e0\u4e3a\u8fd9\u4e00\u5c42\u7684\u8f93\u5165\u662f\u6bcf\u5f20\u5927\u5c0f14\u00d714\uff0c\u6240\u4ee5\u8fd9\u4e00\u4e2a\u5377\u79ef\u5c42\u8f93\u51fa\u4e5f\u662f14\u00d714\uff0c\u518d\u7ecf\u8fc7\u8fd9\u4e00\u5c42max pooling\uff0c\u8f93\u51fa\u5927\u5c0f\u5c31\u662f7\u00d77\uff0c\u90a3\u4e48\u4e00\u5171\u8f93\u51fa\u50cf\u7d20\u5c31\u662f7\u00d77\u00d764=3136  \u7b2c\u4e09\u5c42\u662f\u4e00\u4e2a\u5bc6\u96c6\u8fde\u63a5\u5c42\uff0c\u6211\u4eec\u8bbe\u8ba1\u4e00\u4e2a\u67091024\u4e2a\u795e\u7ecf\u5143\u7684\u5168\u8fde\u63a5\u5c42\uff0c\u8fd9\u6837\u5c31\u76f8\u5f53\u4e8e\u7b2c\u4e8c\u5c42\u8f93\u51fa\u76847\u00d77\u00d764\u4e2a\u503c\u90fd\u4f5c\u4e3a\u8fd91024\u4e2a\u795e\u7ecf\u5143\u7684\u8f93\u5165  \u4e3a\u4e86\u8ba9\u7b97\u6cd5\u66f4\u201c\u667a\u80fd\u201d\uff0c\u6211\u4eec\u628a\u8fd9\u4e9b\u795e\u7ecf\u5143\u7684\u6fc0\u6d3b\u51fd\u6570\u8bbe\u8ba1\u4e3aReLu\u51fd\u6570\uff0c\u5373\u5982\u4e0b\u56fe\u50cf\u4e2d\u7684\u84dd\u8272(\u5176\u4e2d\u7eff\u8272\u662f\u5b83\u7684\u5e73\u6ed1\u7248g(x)=log(1+e^x))\uff1a  \u6700\u7ec8\u7684\u8f93\u51fa\u5c42\uff0c\u6211\u4eec\u4ee5\u7b2c\u4e09\u5c42\u76841024\u4e2a\u8f93\u51fa\u4e3a\u8f93\u5165\uff0c\u8bbe\u8ba1\u4e00\u4e2asoftmax\u5c42\uff0c\u8f93\u51fa10\u4e2a\u6982\u7387\u503c  tensorflow\u4ee3\u7801\u5b9e\u73b0   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96 # coding:utf-8  import   sys  reload ( sys )  sys . setdefaultencoding (   utf-8   )  from   tensorflow.examples.tutorials.mnist   import   input_data  import   tensorflow   as   tf  flags   =   tf . app . flags  FLAGS   =   flags . FLAGS  flags . DEFINE_string ( data_dir ,   ./ ,   Directory for storing data )  mnist   =   input_data . read_data_sets ( FLAGS . data_dir ,   one_hot = True )  # \u521d\u59cb\u5316\u751f\u6210\u968f\u673a\u7684\u6743\u91cd(\u53d8\u91cf)\uff0c\u907f\u514d\u795e\u7ecf\u5143\u8f93\u51fa\u6052\u4e3a0  def   weight_variable ( shape ): \n     # \u4ee5\u6b63\u6001\u5206\u5e03\u751f\u6210\u968f\u673a\u503c \n     initial   =   tf . truncated_normal ( shape ,   stddev = 0.1 ) \n     return   tf . Variable ( initial )  # \u521d\u59cb\u5316\u751f\u6210\u968f\u673a\u7684\u504f\u7f6e\u9879(\u5e38\u91cf)\uff0c\u907f\u514d\u795e\u7ecf\u5143\u8f93\u51fa\u6052\u4e3a0  def   bias_variable ( shape ): \n     initial   =   tf . constant ( 0.1 ,   shape = shape ) \n     return   tf . Variable ( initial )  # \u5377\u79ef\u91c7\u75281\u6b65\u957f\uff0c0\u8fb9\u8ddd\uff0c\u4fdd\u8bc1\u8f93\u5165\u8f93\u51fa\u5927\u5c0f\u76f8\u540c  def   conv2d ( x ,   W ): \n     return   tf . nn . conv2d ( x ,   W ,   strides = [ 1 ,   1 ,   1 ,   1 ],   padding = SAME )  # \u6c60\u5316\u91c7\u75282\u00d72\u6a21\u677f  def   max_pool_2x2 ( x ): \n     return   tf . nn . max_pool ( x ,   ksize = [ 1 ,   2 ,   2 ,   1 ], \n         strides = [ 1 ,   2 ,   2 ,   1 ],   padding = SAME )  # 28*28=784  x   =   tf . placeholder ( tf . float32 ,   [ None ,   784 ])  # \u8f93\u51fa\u7c7b\u522b\u517110\u4e2a\uff1a0-9  y_   =   tf . placeholder ( float ,   [ None , 10 ])  # \u7b2c\u4e00\u5c42\u5377\u79ef\u6743\u91cd\uff0c\u89c6\u91ce\u662f5*5\uff0c\u8f93\u5165\u901a\u90531\u4e2a\uff0c\u8f93\u51fa\u901a\u905332\u4e2a  W_conv1   =   weight_variable ([ 5 ,   5 ,   1 ,   32 ])  # \u7b2c\u4e00\u5c42\u5377\u79ef\u504f\u7f6e\u9879\u670932\u4e2a  b_conv1   =   bias_variable ([ 32 ])  # \u628ax\u53d8\u62104d\u5411\u91cf\uff0c\u7b2c\u4e8c\u7ef4\u548c\u7b2c\u4e09\u7ef4\u662f\u56fe\u50cf\u5c3a\u5bf8\uff0c\u7b2c\u56db\u7ef4\u662f\u989c\u8272\u901a\u9053\u65701  x_image   =   tf . reshape ( x ,   [ - 1 , 28 , 28 , 1 ])  h_conv1   =   tf . nn . relu ( conv2d ( x_image ,   W_conv1 )   +   b_conv1 )  h_pool1   =   max_pool_2x2 ( h_conv1 )  # \u7b2c\u4e8c\u5c42\u5377\u79ef\u6743\u91cd\uff0c\u89c6\u91ce\u662f5*5\uff0c\u8f93\u5165\u901a\u905332\u4e2a\uff0c\u8f93\u51fa\u901a\u905364\u4e2a  W_conv2   =   weight_variable ([ 5 ,   5 ,   32 ,   64 ])  # \u7b2c\u4e8c\u5c42\u5377\u79ef\u504f\u7f6e\u9879\u670964\u4e2a  b_conv2   =   bias_variable ([ 64 ])  h_conv2   =   tf . nn . relu ( conv2d ( h_pool1 ,   W_conv2 )   +   b_conv2 )  h_pool2   =   max_pool_2x2 ( h_conv2 )  # \u7b2c\u4e8c\u5c42\u6c60\u5316\u540e\u5c3a\u5bf8\u7f16\u7a0b7*7\uff0c\u7b2c\u4e09\u5c42\u662f\u5168\u8fde\u63a5\uff0c\u8f93\u5165\u662f64\u4e2a\u901a\u9053\uff0c\u8f93\u51fa\u662f1024\u4e2a\u795e\u7ecf\u5143  W_fc1   =   weight_variable ([ 7   *   7   *   64 ,   1024 ])  # \u7b2c\u4e09\u5c42\u5168\u8fde\u63a5\u504f\u7f6e\u9879\u67091024\u4e2a  b_fc1   =   bias_variable ([ 1024 ])  h_pool2_flat   =   tf . reshape ( h_pool2 ,   [ - 1 ,   7 * 7 * 64 ])  h_fc1   =   tf . nn . relu ( tf . matmul ( h_pool2_flat ,   W_fc1 )   +   b_fc1 )  # \u6309float\u505adropout\uff0c\u4ee5\u51cf\u5c11\u8fc7\u62df\u5408  keep_prob   =   tf . placeholder ( float )  h_fc1_drop   =   tf . nn . dropout ( h_fc1 ,   keep_prob )  # \u6700\u540e\u7684softmax\u5c42\u751f\u621010\u79cd\u5206\u7c7b  W_fc2   =   weight_variable ([ 1024 ,   10 ])  b_fc2   =   bias_variable ([ 10 ])  y_conv = tf . nn . softmax ( tf . matmul ( h_fc1_drop ,   W_fc2 )   +   b_fc2 )  cross_entropy   =   - tf . reduce_sum ( y_ * tf . log ( y_conv ))  # Adam\u4f18\u5316\u5668\u6765\u505a\u68af\u5ea6\u6700\u901f\u4e0b\u964d  train_step   =   tf . train . AdamOptimizer ( 1e-4 ) . minimize ( cross_entropy )  correct_prediction   =   tf . equal ( tf . argmax ( y_conv , 1 ),   tf . argmax ( y_ , 1 ))  accuracy   =   tf . reduce_mean ( tf . cast ( correct_prediction ,   float ))  sess   =   tf . InteractiveSession ()  sess . run ( tf . initialize_all_variables ())  for   i   in   range ( 20000 ): \n     batch   =   mnist . train . next_batch ( 50 ) \n     if   i % 100   ==   0 : \n         train_accuracy   =   accuracy . eval ( feed_dict = { \n             x : batch [ 0 ],   y_ :   batch [ 1 ],   keep_prob :   1.0 }) \n         print   step  %d , training accuracy  %g % ( i ,   train_accuracy ) \n     train_step . run ( feed_dict = { x :   batch [ 0 ],   y_ :   batch [ 1 ],   keep_prob :   0.5 })  print   test accuracy  %g % accuracy . eval ( feed_dict = { \n     x :   mnist . test . images ,   y_ :   mnist . test . labels ,   keep_prob :   1.0 })    \u8f93\u51fa\u7ed3\u679c   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21 [ root@centos $ ]  python digital_recognition_cnn.py\nExtracting ./train-images-idx3-ubyte.gz\nExtracting ./train-labels-idx1-ubyte.gz\nExtracting ./t10k-images-idx3-ubyte.gz\nExtracting ./t10k-labels-idx1-ubyte.gz\nstep  0 , training accuracy  0 .14\nstep  100 , training accuracy  0 .86\nstep  200 , training accuracy  0 .9\nstep  300 , training accuracy  0 .86\nstep  400 , training accuracy  1 \nstep  500 , training accuracy  0 .92\nstep  600 , training accuracy  1 \nstep  700 , training accuracy  0 .96\nstep  800 , training accuracy  0 .88\nstep  900 , training accuracy  1 \nstep  1000 , training accuracy  0 .96\nstep  1100 , training accuracy  0 .98\nstep  1200 , training accuracy  0 .94\nstep  1300 , training accuracy  0 .92\nstep  1400 , training accuracy  0 .98\n\u2026\u2026   \u6700\u7ec8\u51c6\u786e\u7387\u5927\u6982\u80fd\u8fbe\u523099.2%", 
            "title": "\u591a\u5c42\u5377\u79ef\u7f51\u7edc\u8bbe\u8ba1"
        }, 
        {
            "location": "/24.nlp-deep-learning/", 
            "text": "\u7531\u4e8e\u8bed\u8a00\u76f8\u6bd4\u4e8e\u8bed\u97f3\u3001\u56fe\u50cf\u6765\u8bf4\uff0c\u662f\u4e00\u79cd\u66f4\u9ad8\u5c42\u7684\u62bd\u8c61\uff0c\u56e0\u6b64\u4e0d\u662f\u90a3\u4e48\u9002\u5408\u4e8e\u6df1\u5ea6\u5b66\u4e60\uff0c\u4f46\u662f\u7ecf\u8fc7\u4eba\u7c7b\u4e0d\u65ad\u63a2\u7d22\uff0c\u4e5f\u53d1\u73b0\u65e0\u8bba\u591a\u4e48\u9ad8\u5c42\u7684\u62bd\u8c61\u603b\u662f\u80fd\u901a\u8fc7\u66f4\u591a\u5e95\u5c42\u57fa\u7840\u7684\u7d2f\u79ef\u800c\u78b0\u89e6\u7684\u5230\uff0c\u672c\u6587\u4ecb\u7ecd\u5982\u4f55\u5c06\u6df1\u5ea6\u5b66\u4e60\u5e94\u7528\u5230NLP\u6240\u5fc5\u987b\u7684\u5e95\u5c42\u57fa\u7840 \n\n\n\u8bcd\u5411\u91cf\n\n\n\u81ea\u7136\u8bed\u8a00\u9700\u8981\u6570\u5b66\u5316\u624d\u80fd\u591f\u88ab\u8ba1\u7b97\u673a\u8ba4\u8bc6\u548c\u8ba1\u7b97\u3002\u6570\u5b66\u5316\u7684\u65b9\u6cd5\u6709\u5f88\u591a\uff0c\u6700\u7b80\u5355\u7684\u65b9\u6cd5\u662f\u4e3a\u6bcf\u4e2a\u8bcd\u5206\u914d\u4e00\u4e2a\u7f16\u53f7\uff0c\u8fd9\u79cd\u65b9\u6cd5\u5df2\u7ecf\u6709\u591a\u79cd\u5e94\u7528\uff0c\u4f46\u662f\u4f9d\u7136\u5b58\u5728\u4e00\u4e2a\u7f3a\u70b9\uff1a\u4e0d\u80fd\u8868\u793a\u8bcd\u4e0e\u8bcd\u7684\u5173\u7cfb\u3002\n\n\n\u8bcd\u5411\u91cf\u662f\u8fd9\u6837\u7684\u4e00\u79cd\u5411\u91cf[0.1, -3.31, 83.37, 93.0, -18.37, \u2026\u2026]\uff0c\u6bcf\u4e00\u4e2a\u8bcd\u5bf9\u5e94\u4e00\u4e2a\u5411\u91cf\uff0c\u8bcd\u4e49\u76f8\u8fd1\u7684\u8bcd\uff0c\u4ed6\u4eec\u7684\u8bcd\u5411\u91cf\u8ddd\u79bb\u4e5f\u4f1a\u8d8a\u8fd1(\u6b27\u6c0f\u8ddd\u79bb\u3001\u5939\u89d2\u4f59\u5f26)\n\n\n\u8bcd\u5411\u91cf\u6709\u4e00\u4e2a\u4f18\u70b9\uff0c\u5c31\u662f\u7ef4\u5ea6\u4e00\u822c\u8f83\u4f4e\uff0c\u4e00\u822c\u662f50\u7ef4\u6216100\u7ef4\uff0c\u8fd9\u6837\u53ef\u4ee5\u907f\u514d\u7ef4\u5ea6\u707e\u96be\uff0c\u4e5f\u66f4\u5bb9\u6613\u4f7f\u7528\u6df1\u5ea6\u5b66\u4e60\n\n\n\u8bcd\u5411\u91cf\u5982\u4f55\u8bad\u7ec3\u5f97\u51fa\u5462\uff1f\n\n\n\u9996\u5148\u8981\u4e86\u89e3\u4e00\u4e0b\u8bed\u8a00\u6a21\u578b\uff0c\u8bed\u8a00\u6a21\u578b\u76f8\u5173\u7684\u5185\u5bb9\u8bf7\u89c1\u6211\u53e6\u5916\u4e00\u7bc7\u6587\u7ae0\u300a\u81ea\u5df1\u52a8\u624b\u505a\u804a\u5929\u673a\u5668\u4eba \u5341\u4e09-\u628a\u8bed\u8a00\u6a21\u578b\u63a2\u7a76\u5230\u5e95\u300b\u3002\u8bed\u8a00\u6a21\u578b\u8868\u8fbe\u7684\u5b9e\u9645\u5c31\u662f\u5df2\u77e5\u524dn-1\u4e2a\u8bcd\u7684\u524d\u63d0\u4e0b\uff0c\u9884\u6d4b\u7b2cn\u4e2a\u8bcd\u7684\u6982\u7387\u3002\n\n\n\u8bcd\u5411\u91cf\u7684\u8bad\u7ec3\u662f\u4e00\u79cd\u65e0\u76d1\u7763\u5b66\u4e60\uff0c\u4e5f\u5c31\u662f\u6ca1\u6709\u6807\u6ce8\u6570\u636e\uff0c\u7ed9\u6211n\u7bc7\u6587\u7ae0\uff0c\u6211\u5c31\u53ef\u4ee5\u8bad\u7ec3\u51fa\u8bcd\u5411\u91cf\u3002\n\n\n\u57fa\u4e8e\u4e09\u5c42\u795e\u7ecf\u7f51\u7edc\u6784\u5efan-gram\u8bed\u8a00\u6a21\u578b(\u8bcd\u5411\u91cf\u987a\u5e26\u7740\u5c31\u7b97\u51fa\u6765\u4e86)\u7684\u57fa\u672c\u601d\u8def\uff1a\n\n\n\u6700\u4e0b\u9762\u7684w\u662f\u8bcd\uff0c\u5176\u4e0a\u9762\u7684C(w)\u662f\u8bcd\u5411\u91cf\uff0c\u8bcd\u5411\u91cf\u4e00\u5c42\u4e5f\u5c31\u662f\u795e\u7ecf\u7f51\u7edc\u7684\u8f93\u5165\u5c42(\u7b2c\u4e00\u5c42)\uff0c\u8fd9\u4e2a\u8f93\u5165\u5c42\u662f\u4e00\u4e2a(n-1)\u00d7m\u7684\u77e9\u9635\uff0c\u5176\u4e2dn-1\u662f\u8bcd\u5411\u91cf\u6570\u76ee\uff0cm\u662f\u8bcd\u5411\u91cf\u7ef4\u5ea6\n\n\n\u7b2c\u4e8c\u5c42(\u9690\u85cf\u5c42)\u662f\u5c31\u662f\u666e\u901a\u7684\u795e\u7ecf\u7f51\u7edc\uff0c\u4ee5H\u4e3a\u6743\u91cd\uff0c\u4ee5tanh\u4e3a\u6fc0\u6d3b\u51fd\u6570\n\n\n\u7b2c\u4e09\u5c42(\u8f93\u51fa\u5c42)\u6709|V|\u4e2a\u8282\u70b9\uff0c|V|\u5c31\u662f\u8bcd\u8868\u7684\u5927\u5c0f\uff0c\u8f93\u51fa\u4ee5U\u4e3a\u6743\u91cd\uff0c\u4ee5softmax\u4f5c\u4e3a\u6fc0\u6d3b\u51fd\u6570\u4ee5\u5b9e\u73b0\u5f52\u4e00\u5316\uff0c\u6700\u7ec8\u5c31\u662f\u8f93\u51fa\u53ef\u80fd\u662f\u67d0\u4e2a\u8bcd\u7684\u6982\u7387\u3002\n\n\n\u53e6\u5916\uff0c\u795e\u7ecf\u7f51\u7edc\u4e2d\u6709\u4e00\u4e2a\u6280\u5de7\u5c31\u662f\u589e\u52a0\u4e00\u4e2a\u4ece\u8f93\u5165\u5c42\u5230\u8f93\u51fa\u5c42\u7684\u76f4\u8fde\u8fb9(\u7ebf\u6027\u53d8\u6362)\uff0c\u8fd9\u6837\u53ef\u4ee5\u63d0\u5347\u6a21\u578b\u6548\u679c\uff0c\u8fd9\u4e2a\u53d8\u6362\u77e9\u9635\u8bbe\u4e3aW\n\n\n\u5047\u8bbeC(w)\u5c31\u662f\u8f93\u5165\u7684x\uff0c\u90a3\u4e48y\u7684\u8ba1\u7b97\u516c\u5f0f\u5c31\u662fy = b + Wx + Utanh(d+Hx)\n\n\n\u8fd9\u4e2a\u6a21\u578b\u91cc\u9762\u9700\u8981\u8bad\u7ec3\u7684\u6709\u8fd9\u4e48\u51e0\u4e2a\u53d8\u91cf\uff1aC\u3001H\u3001U\u3001W\u3002\u5229\u7528\u68af\u5ea6\u4e0b\u964d\u6cd5\u8bad\u7ec3\u4e4b\u540e\u5f97\u51fa\u7684C\u5c31\u662f\u751f\u6210\u8bcd\u5411\u91cf\u6240\u7528\u7684\u77e9\u9635\uff0cC(w)\u8868\u793a\u7684\u5c31\u662f\u6211\u4eec\u9700\u8981\u7684\u8bcd\u5411\u91cf\n\n\n\u4e0a\u9762\u662f\u8bb2\u89e3\u8bcd\u5411\u91cf\u5982\u4f55\u201c\u987a\u5e26\u201d\u8bad\u7ec3\u51fa\u6765\u7684\uff0c\u7136\u800c\u771f\u6b63\u6709\u7528\u7684\u5730\u65b9\u5728\u4e8e\u8fd9\u4e2a\u8bcd\u5411\u91cf\u5982\u4f55\u8fdb\u4e00\u6b65\u5e94\u7528\u3002\n\n\n\u8bcd\u5411\u91cf\u7684\u5e94\u7528\n\n\n\u7b2c\u4e00\u79cd\u5e94\u7528\u662f\u627e\u540c\u4e49\u8bcd\u3002\u5177\u4f53\u5e94\u7528\u6848\u4f8b\u5c31\u662fgoogle\u7684word2vec\u5de5\u5177\uff0c\u901a\u8fc7\u8bad\u7ec3\u597d\u7684\u8bcd\u5411\u91cf\uff0c\u6307\u5b9a\u4e00\u4e2a\u8bcd\uff0c\u53ef\u4ee5\u8fd4\u56de\u548c\u5b83cos\u8ddd\u79bb\u6700\u76f8\u8fd1\u7684\u8bcd\u5e76\u6392\u5e8f\u3002\n\n\n\u7b2c\u4e8c\u79cd\u5e94\u7528\u662f\u8bcd\u6027\u6807\u6ce8\u548c\u8bed\u4e49\u89d2\u8272\u6807\u6ce8\u4efb\u52a1\u3002\u5177\u4f53\u4f7f\u7528\u65b9\u6cd5\u662f\uff1a\u628a\u8bcd\u5411\u91cf\u4f5c\u4e3a\u795e\u7ecf\u7f51\u7edc\u7684\u8f93\u5165\u5c42\uff0c\u901a\u8fc7\u524d\u9988\u7f51\u7edc\u548c\u5377\u79ef\u7f51\u7edc\u5b8c\u6210\u3002\n\n\n\u7b2c\u4e09\u79cd\u5e94\u7528\u662f\u53e5\u6cd5\u5206\u6790\u548c\u60c5\u611f\u5206\u6790\u4efb\u52a1\u3002\u5177\u4f53\u4f7f\u7528\u65b9\u6cd5\u662f\uff1a\u628a\u8bcd\u5411\u91cf\u4f5c\u4e3a\u9012\u5f52\u795e\u7ecf\u7f51\u7edc\u7684\u8f93\u5165\u3002\n\n\n\u7b2c\u56db\u79cd\u5e94\u7528\u662f\u547d\u540d\u5b9e\u4f53\u8bc6\u522b\u548c\u77ed\u8bed\u8bc6\u522b\u3002\u5177\u4f53\u4f7f\u7528\u65b9\u6cd5\u662f\uff1a\u628a\u8bcd\u5411\u91cf\u4f5c\u4e3a\u6269\u5c55\u7279\u5f81\u4f7f\u7528\u3002\n\n\n\u53e6\u5916\u8bcd\u5411\u91cf\u6709\u4e00\u4e2a\u975e\u5e38\u7279\u522b\u7684\u73b0\u8c61\uff1aC(king)-C(queue)\u2248C(man)-C(woman)\uff0c\u8fd9\u91cc\u7684\u51cf\u6cd5\u5c31\u662f\u5411\u91cf\u9010\u7ef4\u76f8\u51cf\uff0c\u6362\u4e2a\u8868\u8fbe\u65b9\u5f0f\u5c31\u662f\uff1aC(king)-C(man)+C(woman)\u548c\u5b83\u6700\u76f8\u8fd1\u7684\u5411\u91cf\u5c31\u662fC(queue)\uff0c\u8fd9\u91cc\u9762\u7684\u539f\u7406\u5176\u5b9e\u5c31\u662f\uff1a\u8bed\u4e49\u7a7a\u95f4\u4e2d\u7684\u7ebf\u6027\u5173\u7cfb\u3002\u57fa\u4e8e\u8fd9\u4e2a\u7ed3\u8bba\u76f8\u4fe1\u4f1a\u6709\u66f4\u591a\u5947\u5999\u7684\u529f\u80fd\u51fa\u73b0\u3002", 
            "title": "\u4e8c\u5341\u56db-\u5c06\u6df1\u5ea6\u5b66\u4e60\u5e94\u7528\u5230NLP"
        }, 
        {
            "location": "/24.nlp-deep-learning/#_1", 
            "text": "\u81ea\u7136\u8bed\u8a00\u9700\u8981\u6570\u5b66\u5316\u624d\u80fd\u591f\u88ab\u8ba1\u7b97\u673a\u8ba4\u8bc6\u548c\u8ba1\u7b97\u3002\u6570\u5b66\u5316\u7684\u65b9\u6cd5\u6709\u5f88\u591a\uff0c\u6700\u7b80\u5355\u7684\u65b9\u6cd5\u662f\u4e3a\u6bcf\u4e2a\u8bcd\u5206\u914d\u4e00\u4e2a\u7f16\u53f7\uff0c\u8fd9\u79cd\u65b9\u6cd5\u5df2\u7ecf\u6709\u591a\u79cd\u5e94\u7528\uff0c\u4f46\u662f\u4f9d\u7136\u5b58\u5728\u4e00\u4e2a\u7f3a\u70b9\uff1a\u4e0d\u80fd\u8868\u793a\u8bcd\u4e0e\u8bcd\u7684\u5173\u7cfb\u3002  \u8bcd\u5411\u91cf\u662f\u8fd9\u6837\u7684\u4e00\u79cd\u5411\u91cf[0.1, -3.31, 83.37, 93.0, -18.37, \u2026\u2026]\uff0c\u6bcf\u4e00\u4e2a\u8bcd\u5bf9\u5e94\u4e00\u4e2a\u5411\u91cf\uff0c\u8bcd\u4e49\u76f8\u8fd1\u7684\u8bcd\uff0c\u4ed6\u4eec\u7684\u8bcd\u5411\u91cf\u8ddd\u79bb\u4e5f\u4f1a\u8d8a\u8fd1(\u6b27\u6c0f\u8ddd\u79bb\u3001\u5939\u89d2\u4f59\u5f26)  \u8bcd\u5411\u91cf\u6709\u4e00\u4e2a\u4f18\u70b9\uff0c\u5c31\u662f\u7ef4\u5ea6\u4e00\u822c\u8f83\u4f4e\uff0c\u4e00\u822c\u662f50\u7ef4\u6216100\u7ef4\uff0c\u8fd9\u6837\u53ef\u4ee5\u907f\u514d\u7ef4\u5ea6\u707e\u96be\uff0c\u4e5f\u66f4\u5bb9\u6613\u4f7f\u7528\u6df1\u5ea6\u5b66\u4e60", 
            "title": "\u8bcd\u5411\u91cf"
        }, 
        {
            "location": "/24.nlp-deep-learning/#_2", 
            "text": "\u9996\u5148\u8981\u4e86\u89e3\u4e00\u4e0b\u8bed\u8a00\u6a21\u578b\uff0c\u8bed\u8a00\u6a21\u578b\u76f8\u5173\u7684\u5185\u5bb9\u8bf7\u89c1\u6211\u53e6\u5916\u4e00\u7bc7\u6587\u7ae0\u300a\u81ea\u5df1\u52a8\u624b\u505a\u804a\u5929\u673a\u5668\u4eba \u5341\u4e09-\u628a\u8bed\u8a00\u6a21\u578b\u63a2\u7a76\u5230\u5e95\u300b\u3002\u8bed\u8a00\u6a21\u578b\u8868\u8fbe\u7684\u5b9e\u9645\u5c31\u662f\u5df2\u77e5\u524dn-1\u4e2a\u8bcd\u7684\u524d\u63d0\u4e0b\uff0c\u9884\u6d4b\u7b2cn\u4e2a\u8bcd\u7684\u6982\u7387\u3002  \u8bcd\u5411\u91cf\u7684\u8bad\u7ec3\u662f\u4e00\u79cd\u65e0\u76d1\u7763\u5b66\u4e60\uff0c\u4e5f\u5c31\u662f\u6ca1\u6709\u6807\u6ce8\u6570\u636e\uff0c\u7ed9\u6211n\u7bc7\u6587\u7ae0\uff0c\u6211\u5c31\u53ef\u4ee5\u8bad\u7ec3\u51fa\u8bcd\u5411\u91cf\u3002  \u57fa\u4e8e\u4e09\u5c42\u795e\u7ecf\u7f51\u7edc\u6784\u5efan-gram\u8bed\u8a00\u6a21\u578b(\u8bcd\u5411\u91cf\u987a\u5e26\u7740\u5c31\u7b97\u51fa\u6765\u4e86)\u7684\u57fa\u672c\u601d\u8def\uff1a  \u6700\u4e0b\u9762\u7684w\u662f\u8bcd\uff0c\u5176\u4e0a\u9762\u7684C(w)\u662f\u8bcd\u5411\u91cf\uff0c\u8bcd\u5411\u91cf\u4e00\u5c42\u4e5f\u5c31\u662f\u795e\u7ecf\u7f51\u7edc\u7684\u8f93\u5165\u5c42(\u7b2c\u4e00\u5c42)\uff0c\u8fd9\u4e2a\u8f93\u5165\u5c42\u662f\u4e00\u4e2a(n-1)\u00d7m\u7684\u77e9\u9635\uff0c\u5176\u4e2dn-1\u662f\u8bcd\u5411\u91cf\u6570\u76ee\uff0cm\u662f\u8bcd\u5411\u91cf\u7ef4\u5ea6  \u7b2c\u4e8c\u5c42(\u9690\u85cf\u5c42)\u662f\u5c31\u662f\u666e\u901a\u7684\u795e\u7ecf\u7f51\u7edc\uff0c\u4ee5H\u4e3a\u6743\u91cd\uff0c\u4ee5tanh\u4e3a\u6fc0\u6d3b\u51fd\u6570  \u7b2c\u4e09\u5c42(\u8f93\u51fa\u5c42)\u6709|V|\u4e2a\u8282\u70b9\uff0c|V|\u5c31\u662f\u8bcd\u8868\u7684\u5927\u5c0f\uff0c\u8f93\u51fa\u4ee5U\u4e3a\u6743\u91cd\uff0c\u4ee5softmax\u4f5c\u4e3a\u6fc0\u6d3b\u51fd\u6570\u4ee5\u5b9e\u73b0\u5f52\u4e00\u5316\uff0c\u6700\u7ec8\u5c31\u662f\u8f93\u51fa\u53ef\u80fd\u662f\u67d0\u4e2a\u8bcd\u7684\u6982\u7387\u3002  \u53e6\u5916\uff0c\u795e\u7ecf\u7f51\u7edc\u4e2d\u6709\u4e00\u4e2a\u6280\u5de7\u5c31\u662f\u589e\u52a0\u4e00\u4e2a\u4ece\u8f93\u5165\u5c42\u5230\u8f93\u51fa\u5c42\u7684\u76f4\u8fde\u8fb9(\u7ebf\u6027\u53d8\u6362)\uff0c\u8fd9\u6837\u53ef\u4ee5\u63d0\u5347\u6a21\u578b\u6548\u679c\uff0c\u8fd9\u4e2a\u53d8\u6362\u77e9\u9635\u8bbe\u4e3aW  \u5047\u8bbeC(w)\u5c31\u662f\u8f93\u5165\u7684x\uff0c\u90a3\u4e48y\u7684\u8ba1\u7b97\u516c\u5f0f\u5c31\u662fy = b + Wx + Utanh(d+Hx)  \u8fd9\u4e2a\u6a21\u578b\u91cc\u9762\u9700\u8981\u8bad\u7ec3\u7684\u6709\u8fd9\u4e48\u51e0\u4e2a\u53d8\u91cf\uff1aC\u3001H\u3001U\u3001W\u3002\u5229\u7528\u68af\u5ea6\u4e0b\u964d\u6cd5\u8bad\u7ec3\u4e4b\u540e\u5f97\u51fa\u7684C\u5c31\u662f\u751f\u6210\u8bcd\u5411\u91cf\u6240\u7528\u7684\u77e9\u9635\uff0cC(w)\u8868\u793a\u7684\u5c31\u662f\u6211\u4eec\u9700\u8981\u7684\u8bcd\u5411\u91cf  \u4e0a\u9762\u662f\u8bb2\u89e3\u8bcd\u5411\u91cf\u5982\u4f55\u201c\u987a\u5e26\u201d\u8bad\u7ec3\u51fa\u6765\u7684\uff0c\u7136\u800c\u771f\u6b63\u6709\u7528\u7684\u5730\u65b9\u5728\u4e8e\u8fd9\u4e2a\u8bcd\u5411\u91cf\u5982\u4f55\u8fdb\u4e00\u6b65\u5e94\u7528\u3002", 
            "title": "\u8bcd\u5411\u91cf\u5982\u4f55\u8bad\u7ec3\u5f97\u51fa\u5462\uff1f"
        }, 
        {
            "location": "/24.nlp-deep-learning/#_3", 
            "text": "\u7b2c\u4e00\u79cd\u5e94\u7528\u662f\u627e\u540c\u4e49\u8bcd\u3002\u5177\u4f53\u5e94\u7528\u6848\u4f8b\u5c31\u662fgoogle\u7684word2vec\u5de5\u5177\uff0c\u901a\u8fc7\u8bad\u7ec3\u597d\u7684\u8bcd\u5411\u91cf\uff0c\u6307\u5b9a\u4e00\u4e2a\u8bcd\uff0c\u53ef\u4ee5\u8fd4\u56de\u548c\u5b83cos\u8ddd\u79bb\u6700\u76f8\u8fd1\u7684\u8bcd\u5e76\u6392\u5e8f\u3002  \u7b2c\u4e8c\u79cd\u5e94\u7528\u662f\u8bcd\u6027\u6807\u6ce8\u548c\u8bed\u4e49\u89d2\u8272\u6807\u6ce8\u4efb\u52a1\u3002\u5177\u4f53\u4f7f\u7528\u65b9\u6cd5\u662f\uff1a\u628a\u8bcd\u5411\u91cf\u4f5c\u4e3a\u795e\u7ecf\u7f51\u7edc\u7684\u8f93\u5165\u5c42\uff0c\u901a\u8fc7\u524d\u9988\u7f51\u7edc\u548c\u5377\u79ef\u7f51\u7edc\u5b8c\u6210\u3002  \u7b2c\u4e09\u79cd\u5e94\u7528\u662f\u53e5\u6cd5\u5206\u6790\u548c\u60c5\u611f\u5206\u6790\u4efb\u52a1\u3002\u5177\u4f53\u4f7f\u7528\u65b9\u6cd5\u662f\uff1a\u628a\u8bcd\u5411\u91cf\u4f5c\u4e3a\u9012\u5f52\u795e\u7ecf\u7f51\u7edc\u7684\u8f93\u5165\u3002  \u7b2c\u56db\u79cd\u5e94\u7528\u662f\u547d\u540d\u5b9e\u4f53\u8bc6\u522b\u548c\u77ed\u8bed\u8bc6\u522b\u3002\u5177\u4f53\u4f7f\u7528\u65b9\u6cd5\u662f\uff1a\u628a\u8bcd\u5411\u91cf\u4f5c\u4e3a\u6269\u5c55\u7279\u5f81\u4f7f\u7528\u3002  \u53e6\u5916\u8bcd\u5411\u91cf\u6709\u4e00\u4e2a\u975e\u5e38\u7279\u522b\u7684\u73b0\u8c61\uff1aC(king)-C(queue)\u2248C(man)-C(woman)\uff0c\u8fd9\u91cc\u7684\u51cf\u6cd5\u5c31\u662f\u5411\u91cf\u9010\u7ef4\u76f8\u51cf\uff0c\u6362\u4e2a\u8868\u8fbe\u65b9\u5f0f\u5c31\u662f\uff1aC(king)-C(man)+C(woman)\u548c\u5b83\u6700\u76f8\u8fd1\u7684\u5411\u91cf\u5c31\u662fC(queue)\uff0c\u8fd9\u91cc\u9762\u7684\u539f\u7406\u5176\u5b9e\u5c31\u662f\uff1a\u8bed\u4e49\u7a7a\u95f4\u4e2d\u7684\u7ebf\u6027\u5173\u7cfb\u3002\u57fa\u4e8e\u8fd9\u4e2a\u7ed3\u8bba\u76f8\u4fe1\u4f1a\u6709\u66f4\u591a\u5947\u5999\u7684\u529f\u80fd\u51fa\u73b0\u3002", 
            "title": "\u8bcd\u5411\u91cf\u7684\u5e94\u7528"
        }, 
        {
            "location": "/25.word2vec/", 
            "text": "\u8bcd\u5411\u91cf\u662f\u5c06\u6df1\u5ea6\u5b66\u4e60\u5e94\u7528\u5230NLP\u7684\u6839\u57fa\uff0cword2vec\u662f\u5982\u4eca\u4f7f\u7528\u6700\u5e7f\u6cdb\u6700\u7b80\u5355\u6709\u6548\u7684\u8bcd\u5411\u91cf\u8bad\u7ec3\u5de5\u5177\uff0c\u90a3\u4e48\u5b83\u7684\u5b9e\u73b0\u539f\u7406\u662f\u600e\u6837\u7684\u5462\uff1f\u672c\u6587\u5c06\u4ece\u539f\u7406\u51fa\u53d1\u6765\u4ecb\u7ecdword2vec \n\n\n\u4f60\u662f\u5982\u4f55\u8bb0\u4f4f\u4e00\u6b3e\u8f66\u7684\n\n\n\u95ee\u4f60\u8fd9\u6837\u4e00\u4e2a\u95ee\u9898\uff1a\u5982\u679c\u4f60\u5927\u8111\u6709\u5f88\u591a\u8bb0\u5fc6\u5355\u5143\uff0c\u8ba9\u4f60\u8bb0\u4f4f\u4e00\u6b3e\u767d\u8272\u5965\u8feaQ7\u8fd0\u52a8\u578b\u8f7f\u8f66\uff0c\u4f60\u4f1a\u7528\u51e0\u4e2a\u8bb0\u5fc6\u5355\u5143\uff1f\u4f60\u4e5f\u8bb8\u4f1a\u7528\u4e00\u4e2a\u8bb0\u5fc6\u5355\u5143\uff0c\u56e0\u4e3a\u8fd9\u6837\u6700\u8282\u7701\u4f60\u7684\u5927\u8111\u3002\u90a3\u4e48\u6211\u4eec\u518d\u8ba9\u4f60\u8bb0\u4f4f\u4e00\u6b3e\u5c0f\u578b\u7070\u8272\u96f7\u514b\u8428\u65af\uff0c\u4f60\u4f1a\u600e\u4e48\u529e\uff1f\u663e\u7136\u4f60\u4f1a\u7528\u53e6\u5916\u4e00\u4e2a\u8bb0\u5fc6\u5355\u5143\u6765\u8bb0\u4f4f\u5b83\u3002\u90a3\u4e48\u5982\u679c\u8ba9\u4f60\u8bb0\u4f4f\u6240\u6709\u7684\u8f66\uff0c\u4f60\u8981\u8017\u8d39\u7684\u8bb0\u5fc6\u5355\u5143\u5c31\u4e0d\u518d\u662f\u90a3\u4e48\u5c11\u4e86\uff0c\u8fd9\u79cd\u8868\u793a\u65b9\u6cd5\u53eb\u505alocalist representation\u3002\u8fd9\u65f6\u4f60\u53ef\u80fd\u4f1a\u6362\u53e6\u5916\u4e00\u79cd\u601d\u8def\uff1a\u6211\u4eec\u7528\u51e0\u4e2a\u8bb0\u5fc6\u5355\u5143\u6765\u5206\u522b\u8bc6\u522b\u5927\u5c0f\u3001\u989c\u8272\u3001\u54c1\u724c\u7b49\u57fa\u7840\u4fe1\u606f\uff0c\u8fd9\u6837\u901a\u8fc7\u8fd9\u51e0\u4e2a\u8bb0\u5fc6\u5355\u5143\u7684\u8f93\u51fa\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u8868\u793a\u51fa\u6240\u6709\u7684\u8f66\u578b\u4e86\u3002\u8fd9\u79cd\u8868\u793a\u65b9\u6cd5\u53eb\u505adistributed representation\uff0c\u8bcd\u5411\u91cf\u5c31\u662f\u4e00\u79cd\u7528distributed representation\u8868\u793a\u7684\u5411\u91cf\n\n\n1\nlocalist representation\u4e0edistributed representation\n\n\n\n\n\n\nlocalist representation\u4e2d\u6587\u91ca\u4e49\u662f\u7a00\u758f\u8868\u8fbe\uff0c\u5178\u578b\u7684\u6848\u4f8b\u5c31\u662fone hot vector\uff0c\u4e5f\u5c31\u662f\u8fd9\u6837\u7684\u4e00\u79cd\u5411\u91cf\u8868\u793a\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n[1, 0, 0, 0, 0, 0\u2026\u2026]\u8868\u793a\u6210\u5e74\u7537\u5b50\n\n[0, 1, 0, 0, 0, 0\u2026\u2026]\u8868\u793a\u6210\u5e74\u5973\u5b50\n\n[0, 0, 1, 0, 0, 0\u2026\u2026]\u8868\u793a\u8001\u7237\u7237\n\n[0, 0, 0, 1, 0, 0\u2026\u2026]\u8868\u793a\u8001\u5976\u5976\n\n[0, 0, 0, 0, 1, 0\u2026\u2026]\u8868\u793a\u7537\u5a74\n\n[0, 0, 0, 0, 0, 1\u2026\u2026]\u8868\u793a\u5973\u5a74\n\n\u2026\u2026\n\n\n\n\n\n\n\u6bcf\u4e00\u7c7b\u578b\u7528\u5411\u91cf\u4e2d\u7684\u4e00\u7ef4\u6765\u8868\u793a\n\n\n\u800cdistributed representation\u4e2d\u6587\u91ca\u4e49\u662f\u5206\u5e03\u5f0f\u8868\u8fbe\uff0c\u4e0a\u9762\u7684\u8868\u8fbe\u65b9\u5f0f\u53ef\u4ee5\u6539\u6210\uff1a\n\n\n\u6027\u522b \u8001\u5e74 \u6210\u5e74 \u5a74\u513f\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n[1,       0,      1,      0]\u8868\u793a\u6210\u5e74\u7537\u5b50\n\n[0,       0,      1,      0]\u8868\u793a\u6210\u5e74\u5973\u5b50\n\n[1,       1,      0,      0]\u8868\u793a\u8001\u7237\u7237\n\n[0,       1,      0,      0]\u8868\u793a\u8001\u5976\u5976\n\n[1,       0,      0,      1]\u8868\u793a\u7537\u5a74\n\n[0,       0,      0,      1]\u8868\u793a\u5973\u5a74\n\n\n\n\n\n\n\u5982\u679c\u6211\u4eec\u60f3\u8868\u8fbe\u7537\u7ae5\u548c\u5973\u7ae5\uff0c\u53ea\u9700\u8981\u589e\u52a0\u4e00\u4e2a\u7279\u5f81\u7ef4\u5ea6\u5373\u53ef\n\n\nword embedding\n\n\n\u7ffb\u8bd1\u6210\u4e2d\u6587\u53eb\u505a\u8bcd\u5d4c\u5165\uff0c\u8fd9\u91cc\u7684embedding\u6765\u6e90\u4e8e\u8303\u7574\u8bba\uff0c\u5728\u8303\u7574\u8bba\u4e2d\u79f0\u4e3amorphism(\u6001\u5c04)\uff0c\u6001\u5c04\u8868\u793a\u4e24\u4e2a\u6570\u5b66\u7ed3\u6784\u4e2d\u4fdd\u6301\u7ed3\u6784\u7684\u4e00\u79cd\u8fc7\u7a0b\u62bd\u8c61\uff0c\u6bd4\u5982\u201c\u51fd\u6570\u201d\u3001\u201c\u6620\u5c04\u201d\uff0c\u4ed6\u4eec\u90fd\u662f\u8868\u793a\u4e00\u4e2a\u57df\u548c\u53e6\u4e00\u4e2a\u57df\u4e4b\u95f4\u7684\u67d0\u79cd\u5173\u7cfb\u3002\n\n\n\u8303\u7574\u8bba\u4e2d\u7684\u5d4c\u5165(\u6001\u5c04)\u662f\u8981\u4fdd\u6301\u7ed3\u6784\u7684\uff0c\u800cword embedding\u8868\u793a\u7684\u662f\u4e00\u79cd\u201c\u964d\u7ef4\u201d\u7684\u5d4c\u5165\uff0c\u901a\u8fc7\u964d\u7ef4\u907f\u514d\u7ef4\u5ea6\u707e\u96be\uff0c\u964d\u4f4e\u8ba1\u7b97\u590d\u6742\u5ea6\uff0c\u4ece\u800c\u66f4\u6613\u4e8e\u5728\u6df1\u5ea6\u5b66\u4e60\u4e2d\u5e94\u7528\u3002\n\n\n\u7406\u89e3\u4e86distributed representation\u548cword embedding\u7684\u6982\u5ff5\uff0c\u6211\u4eec\u5c31\u521d\u6b65\u4e86\u89e3\u4e86word2vec\u7684\u672c\u8d28\uff0c\u5b83\u5176\u5b9e\u662f\u901a\u8fc7distributed representation\u7684\u8868\u8fbe\u65b9\u5f0f\u6765\u8868\u793a\u8bcd\uff0c\u800c\u4e14\u901a\u8fc7\u964d\u7ef4\u7684word embedding\u6765\u51cf\u5c11\u8ba1\u7b97\u91cf\u7684\u4e00\u79cd\u65b9\u6cd5\n\n\nword2vec\u4e2d\u7684\u795e\u7ecf\u7f51\u7edc\n\n\nword2vec\u4e2d\u505a\u8bad\u7ec3\u4e3b\u8981\u4f7f\u7528\u7684\u662f\u795e\u7ecf\u6982\u7387\u8bed\u8a00\u6a21\u578b\uff0c\u8fd9\u9700\u8981\u638c\u63e1\u4e00\u4e9b\u57fa\u7840\u77e5\u8bc6\uff0c\u5426\u5219\u4e0b\u9762\u7684\u5185\u5bb9\u6bd4\u8f83\u96be\u7406\u89e3\uff0c\u5173\u4e8e\u795e\u7ecf\u7f51\u7edc\u8bad\u7ec3\u8bcd\u5411\u91cf\u7684\u57fa\u7840\u77e5\u8bc6\u6211\u5728\u300a\u81ea\u5df1\u52a8\u624b\u505a\u804a\u5929\u673a\u5668\u4eba \u4e8c\u5341\u56db-\u5c06\u6df1\u5ea6\u5b66\u4e60\u5e94\u7528\u5230NLP\u300b\u4e2d\u6709\u8bb2\u89e3\uff0c\u53ef\u4ee5\u53c2\u8003\uff0c\u8fd9\u91cc\u4e0d\u518d\u8d58\u8ff0\u3002\n\n\n\u5728word2vec\u4e2d\u4f7f\u7528\u7684\u6700\u91cd\u8981\u7684\u4e24\u4e2a\u6a21\u578b\u662fCBOW\u548cSkip-gram\u6a21\u578b\uff0c\u4e0b\u9762\u6211\u4eec\u5206\u522b\u6765\u4ecb\u7ecd\u8fd9\u4e24\u79cd\u6a21\u578b\n\n\nCBOW\u6a21\u578b\n\n\nCBOW\u5168\u79f0\u662fContinuous Bag-of-Words Model\uff0c\u662f\u5728\u5df2\u77e5\u5f53\u524d\u8bcd\u7684\u4e0a\u4e0b\u6587\u7684\u524d\u63d0\u4e0b\u9884\u6d4b\u5f53\u524d\u8bcd\n\n\nCBOW\u6a21\u578b\u7684\u795e\u7ecf\u7f51\u7edc\u7ed3\u6784\u8bbe\u8ba1\u5982\u4e0b\uff1a\n\n\n\u8f93\u5165\u5c42\uff1a\u8bcdw\u7684\u4e0a\u4e0b\u6587\u4e00\u51712c\u4e2a\u8bcd\u7684\u8bcd\u5411\u91cf\n\n\n\u6295\u5f71\u5c42\uff1a\u5c06\u8f93\u5165\u5c42\u76842c\u4e2a\u5411\u91cf\u505a\u6c42\u548c\u7d2f\u52a0\n\n\n\u8f93\u51fa\u5c42\uff1a\u4e00\u4e2a\u970d\u592b\u66fc\u6811\uff0c\u5176\u4e2d\u53f6\u5b50\u8282\u70b9\u662f\u8bed\u6599\u4e2d\u51fa\u73b0\u8fc7\u7684\u8bcd\uff0c\u6743\u91cd\u662f\u51fa\u73b0\u7684\u6b21\u6570\n\n\n\u6211\u4eec\u53d1\u73b0\u8fd9\u4e00\u8bbe\u8ba1\u76f8\u6bd4\u300a\u81ea\u5df1\u52a8\u624b\u505a\u804a\u5929\u673a\u5668\u4eba \u4e8c\u5341\u56db-\u5c06\u6df1\u5ea6\u5b66\u4e60\u5e94\u7528\u5230NLP\u300b\u4e2d\u8bb2\u5230\u7684\u795e\u7ecf\u7f51\u7edc\u6a21\u578b\u628a\u9996\u5c3e\u76f8\u63a5\u6539\u6210\u4e86\u6c42\u548c\u7d2f\u52a0\uff0c\u8fd9\u6837\u51cf\u5c11\u4e86\u7ef4\u5ea6\uff1b\u53bb\u6389\u4e86\u9690\u85cf\u5c42\uff0c\u8fd9\u6837\u51cf\u5c11\u4e86\u8ba1\u7b97\u91cf\uff1b\u8f93\u51fa\u5c42\u7531softmax\u5f52\u4e00\u5316\u8fd0\u7b97\u6539\u6210\u4e86\u970d\u592b\u66fc\u6811\uff1b\u8fd9\u4e00\u7cfb\u5217\u4fee\u6539\u5bf9\u8bad\u7ec3\u7684\u6027\u80fd\u6709\u5f88\u5927\u63d0\u5347\uff0c\u800c\u6548\u679c\u4e0d\u51cf\uff0c\u8fd9\u662f\u72ec\u5230\u4e4b\u5904\u3002\n\n\n\u57fa\u4e8e\u970d\u592b\u66fc\u6811\u7684Hierarchical Softmax\u6280\u672f\n\u4e0a\u9762\u7684CBOW\u8f93\u51fa\u5c42\u4e3a\u4ec0\u4e48\u8981\u5efa\u6210\u4e00\u4e2a\u970d\u592b\u66fc\u6811\u5462\uff1f\u56e0\u4e3a\u6211\u4eec\u662f\u8981\u57fa\u4e8e\u8bad\u7ec3\u8bed\u6599\u5f97\u5230\u6bcf\u4e00\u4e2a\u53ef\u80fd\u7684w\u7684\u6982\u7387\u3002\u90a3\u4e48\u5177\u4f53\u600e\u4e48\u5f97\u5230\u5462\uff1f\u6211\u4eec\u5148\u6765\u770b\u4e00\u4e0b\u8fd9\u4e2a\u970d\u592b\u66fc\u6811\u7684\u4f8b\u5b50\uff1a\n\n\n\u5728\u8fd9\u4e2a\u970d\u592b\u66fc\u6811\u4e2d\uff0c\u6211\u4eec\u4ee5\u8bcd\u8db3\u7403\u4e3a\u4f8b\uff0c\u8d70\u8fc7\u7684\u8def\u5f84\u56fe\u4e0a\u5bb9\u6613\u770b\u5230\uff0c\u5176\u4e2d\u975e\u6839\u8282\u70b9\u4e0a\u7684\u03b8\u8868\u793a\u5f85\u8bad\u7ec3\u7684\u53c2\u6570\u5411\u91cf\uff0c\u4e5f\u5c31\u662f\u8981\u8fbe\u5230\u8fd9\u79cd\u6548\u679c\uff1a\u5f53\u5728\u6295\u5c04\u5c42\u4ea7\u51fa\u4e86\u4e00\u4e2a\u65b0\u7684\u5411\u91cfx\uff0c\u90a3\u4e48\u6211\u901a\u8fc7\u903b\u8f91\u56de\u5f52\u516c\u5f0f\uff1a\n\n\n1\n\u03c3(xT\u03b8) = 1/(1+e^(-xT\u03b8))\n\n\n\n\n\n\n\u5c31\u53ef\u4ee5\u5f97\u51fa\u5728\u6bcf\u4e00\u5c42\u88ab\u5206\u5230\u5de6\u8282\u70b9(1)\u8fd8\u662f\u53f3\u8282\u70b9(0)\u7684\u6982\u7387\u5206\u522b\u662f\n\n\n1\np(d|x,\u03b8) = 1-\u03c3(xT\u03b8)\n\n\n\n\n\n\n\u548c\n\n\n1\np(d|x,\u03b8) = \u03c3(xT\u03b8)\n\n\n\n\n\n\n\u90a3\u4e48\u5c31\u6709\uff1a\n\n\n1\np(\u8db3\u7403|Context(\u8db3\u7403)) = \u220f p(d|x,\u03b8)\n\n\n\n\n\n\n\u73b0\u5728\u6a21\u578b\u5df2\u7ecf\u6709\u4e86\uff0c\u4e0b\u9762\u5c31\u662f\u901a\u8fc7\u8bed\u6599\u6765\u8bad\u7ec3v(Context(w))\u3001x\u548c\u03b8\u7684\u8fc7\u7a0b\u4e86\n\n\n\u6211\u4eec\u4ee5\u5bf9\u6570\u4f3c\u7136\u51fd\u6570\u4e3a\u4f18\u5316\u76ee\u6807\uff0c\u76d7\u53d6\u4e00\u4e2a\u7f51\u4e0a\u7684\u63a8\u5bfc\u516c\u5f0f\uff1a\n\n\n\u5047\u8bbe\u4e24\u4e2a\u6c42\u548c\u7b26\u53f7\u91cc\u9762\u7684\u90e8\u5206\u8bb0\u4f5cL(w, j)\uff0c\u90a3\u4e48\u6709\n\n\n\u4e8e\u662f\u03b8\u7684\u66f4\u65b0\u516c\u5f0f\uff1a\n\n\n\u540c\u7406\u5f97\u51fax\u7684\u68af\u5ea6\u516c\u5f0f\uff1a\n\n\n\u56e0\u4e3ax\u662f\u591a\u4e2av\u7684\u7d2f\u52a0\uff0cword2vec\u4e2dv\u7684\u66f4\u65b0\u65b9\u6cd5\u662f\uff1a\n\n\n\u60f3\u60f3\u673a\u5668\u5b66\u4e60\u771f\u662f\u4f1f\u5927\uff0c\u6574\u4e2a\u6a21\u578b\u4ece\u4e0a\u5230\u4e0b\u5168\u662f\u672a\u77e5\u6570\uff0c\u7adf\u7136\u80fd\u7b97\u51fa\u6765\u6211\u771f\u662f\u670d\u4e86\n\n\nSkip-gram\u6a21\u578b\n\n\nSkip-gram\u5168\u79f0\u662fContinuous Skip-gram Model\uff0c\u662f\u5728\u5df2\u77e5\u5f53\u524d\u8bcd\u7684\u60c5\u51b5\u4e0b\u9884\u6d4b\u4e0a\u4e0b\u6587\n\n\nSkip-gram\u6a21\u578b\u7684\u795e\u7ecf\u7f51\u7edc\u7ed3\u6784\u8bbe\u8ba1\u5982\u4e0b\uff1a\n\n\n\u8f93\u5165\u5c42\uff1aw\u7684\u8bcd\u5411\u91cfv(w)\n\n\n\u6295\u5f71\u5c42\uff1a\u4f9d\u7136\u662fv(w)\uff0c\u5c31\u662f\u4e00\u4e2a\u5f62\u5f0f\n\n\n\u8f93\u51fa\u5c42\uff1a\u548cCBOW\u4e00\u6837\u7684\u970d\u592b\u66fc\u6811\n\n\n\u540e\u9762\u7684\u63a8\u5bfc\u516c\u5f0f\u548cCBOW\u5927\u540c\u5c0f\u5f02\uff0c\u5176\u4e2d\u03b8\u548cv(w)\u7684\u66f4\u65b0\u516c\u5f0f\u9664\u4e86\u628a\u7b26\u53f7\u540d\u4ecex\u6539\u6210\u4e86v(w)\u4e4b\u5916\u5b8c\u5168\u4e00\u6837\uff0c\u5982\u4e0b\uff1a\n\n\n\u4f53\u9a8c\u771f\u5b9e\u7684word2vec\n\n\n\u9996\u5148\u6211\u4eec\u4ece\u7f51\u4e0a\u4e0b\u8f7d\u4e00\u4e2a\u6e90\u7801\uff0c\u56e0\u4e3agoogle\u5b98\u65b9\u7684svn\u5e93\u5df2\u7ecf\u4e0d\u5728\u4e86\uff0c\u6240\u4ee5\u53ea\u80fd\u4ececsdn\u4e0b\u4e86\uff0c\u4f46\u662f\u56e0\u4e3a\u8fd8\u8981\u82b1\u79ef\u5206\u624d\u80fd\u4e0b\u8f7d\uff0c\u6240\u4ee5\u6211\u5e72\u8106\u5206\u4eab\u5230\u4e86\u6211\u7684git\u4e0a(https://github.com/warmheartli/ChatBotCourse/tree/master/word2vec)\uff0c\u5927\u5bb6\u53ef\u4ee5\u76f4\u63a5\u4e0b\u8f7d\n\n\n\u4e0b\u8f7d\u4e0b\u6765\u540e\u76f4\u63a5\u6267\u884cmake\u7f16\u8bd1(\u5982\u679c\u662fmac\u7cfb\u7edf\u8981\u628a\u4ee3\u7801\u91cc\u6240\u6709\u7684#include \n\u66ff\u6362\u6210#include \n)\n\n\n\u7f16\u8bd1\u540e\u751f\u6210word2vec\u3001word2phrase\u3001word-analogy\u3001distance\u3001compute-accuracy\u51e0\u4e2a\u4e8c\u8fdb\u5236\u6587\u4ef6\n\n\n\u6211\u4eec\u5148\u7528word2vec\u6765\u8bad\u7ec3\n\n\n\u9996\u5148\u6211\u4eec\u8981\u6709\u8bad\u7ec3\u8bed\u6599\uff0c\u5176\u5b9e\u5c31\u662f\u5df2\u7ecf\u5207\u597d\u8bcd(\u7a7a\u683c\u5206\u9694)\u7684\u6587\u672c\uff0c\u6bd4\u5982\u6211\u4eec\u5df2\u7ecf\u6709\u4e86\u8fd9\u4e2a\u6587\u672c\u6587\u4ef6\u53eb\u505atrain.txt\uff0c\u5185\u5bb9\u662f\"\u4eba\u5de5 \u667a\u80fd \u4e00\u76f4 \u4ee5\u6765 \u662f \u4eba\u7c7b \u7684 \u68a6\u60f3 \u9020 \u4e00\u53f0 \u53ef\u4ee5 \u4e3a \u4f60 \u505a \u4e00\u5207 \u4e8b\u60c5 \u5e76\u4e14 \u6709 \u60c5\u611f \u7684 \u673a\u5668 \u4eba\"\u5e76\u4e14\u91cd\u590d100\u904d\n\n\n\u6267\u884c\n\n\n1\n./word2vec -train train.txt -output vectors.bin -cbow 0 -size 200 -window 5 -negative 0 -hs 1 -sample 1e-3 -thread 12 -binary 1\n\n\n\n\n\n\n\u4f1a\u751f\u6210\u4e00\u4e2avectors.bin\u6587\u4ef6\uff0c\u8fd9\u4e2a\u5c31\u662f\u8bad\u7ec3\u597d\u7684\u8bcd\u5411\u91cf\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\uff0c\u5229\u7528\u8fd9\u4e2a\u6587\u4ef6\u6211\u4eec\u53ef\u4ee5\u6c42\u8fd1\u4e49\u8bcd\u4e86\uff0c\u6267\u884c\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n./distance vectors.bin\nEnter word or sentence (EXIT to break): \u4eba\u7c7b\n\nWord: \u4eba\u7c7b  Position in vocabulary: 6\n\nWord       Cosine distance\n------------------------------------------------------------------------\n\u53ef\u4ee5              0.094685\n\u4e3a              0.091899\n\u4eba\u5de5              0.088387\n\u673a\u5668              0.076216\n\u667a\u80fd              0.073093\n\u60c5\u611f              0.071088\n\u505a             0.059367\n\u4e00\u76f4              0.056979\n\u4ee5\u6765              0.049426\n\u4e00\u5207              0.042201\n\n/s\n             0.025968\n\u4e8b\u60c5              0.014169\n\u7684             0.003633\n\u662f             -0.012021\n\u6709             -0.014790\n\u4e00\u53f0              -0.021398\n\u9020             -0.031242\n\u4eba             -0.043759\n\u4f60             -0.072834\n\u68a6\u60f3              -0.086062\n\u5e76\u4e14              -0.122795\n\u2026\u2026\n\n\n\n\n\n\n\u5982\u679c\u4f60\u6709\u5f88\u4e30\u5bcc\u7684\u8bed\u6599\uff0c\u90a3\u4e48\u7ed3\u679c\u4f1a\u5f88\u6f02\u4eae", 
            "title": "\u4e8c\u5341\u4e94-word2vec\u7684\u5b9e\u73b0\u539f\u7406"
        }, 
        {
            "location": "/25.word2vec/#_1", 
            "text": "\u95ee\u4f60\u8fd9\u6837\u4e00\u4e2a\u95ee\u9898\uff1a\u5982\u679c\u4f60\u5927\u8111\u6709\u5f88\u591a\u8bb0\u5fc6\u5355\u5143\uff0c\u8ba9\u4f60\u8bb0\u4f4f\u4e00\u6b3e\u767d\u8272\u5965\u8feaQ7\u8fd0\u52a8\u578b\u8f7f\u8f66\uff0c\u4f60\u4f1a\u7528\u51e0\u4e2a\u8bb0\u5fc6\u5355\u5143\uff1f\u4f60\u4e5f\u8bb8\u4f1a\u7528\u4e00\u4e2a\u8bb0\u5fc6\u5355\u5143\uff0c\u56e0\u4e3a\u8fd9\u6837\u6700\u8282\u7701\u4f60\u7684\u5927\u8111\u3002\u90a3\u4e48\u6211\u4eec\u518d\u8ba9\u4f60\u8bb0\u4f4f\u4e00\u6b3e\u5c0f\u578b\u7070\u8272\u96f7\u514b\u8428\u65af\uff0c\u4f60\u4f1a\u600e\u4e48\u529e\uff1f\u663e\u7136\u4f60\u4f1a\u7528\u53e6\u5916\u4e00\u4e2a\u8bb0\u5fc6\u5355\u5143\u6765\u8bb0\u4f4f\u5b83\u3002\u90a3\u4e48\u5982\u679c\u8ba9\u4f60\u8bb0\u4f4f\u6240\u6709\u7684\u8f66\uff0c\u4f60\u8981\u8017\u8d39\u7684\u8bb0\u5fc6\u5355\u5143\u5c31\u4e0d\u518d\u662f\u90a3\u4e48\u5c11\u4e86\uff0c\u8fd9\u79cd\u8868\u793a\u65b9\u6cd5\u53eb\u505alocalist representation\u3002\u8fd9\u65f6\u4f60\u53ef\u80fd\u4f1a\u6362\u53e6\u5916\u4e00\u79cd\u601d\u8def\uff1a\u6211\u4eec\u7528\u51e0\u4e2a\u8bb0\u5fc6\u5355\u5143\u6765\u5206\u522b\u8bc6\u522b\u5927\u5c0f\u3001\u989c\u8272\u3001\u54c1\u724c\u7b49\u57fa\u7840\u4fe1\u606f\uff0c\u8fd9\u6837\u901a\u8fc7\u8fd9\u51e0\u4e2a\u8bb0\u5fc6\u5355\u5143\u7684\u8f93\u51fa\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u8868\u793a\u51fa\u6240\u6709\u7684\u8f66\u578b\u4e86\u3002\u8fd9\u79cd\u8868\u793a\u65b9\u6cd5\u53eb\u505adistributed representation\uff0c\u8bcd\u5411\u91cf\u5c31\u662f\u4e00\u79cd\u7528distributed representation\u8868\u793a\u7684\u5411\u91cf  1 localist representation\u4e0edistributed representation   localist representation\u4e2d\u6587\u91ca\u4e49\u662f\u7a00\u758f\u8868\u8fbe\uff0c\u5178\u578b\u7684\u6848\u4f8b\u5c31\u662fone hot vector\uff0c\u4e5f\u5c31\u662f\u8fd9\u6837\u7684\u4e00\u79cd\u5411\u91cf\u8868\u793a\uff1a   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13 [1, 0, 0, 0, 0, 0\u2026\u2026]\u8868\u793a\u6210\u5e74\u7537\u5b50\n\n[0, 1, 0, 0, 0, 0\u2026\u2026]\u8868\u793a\u6210\u5e74\u5973\u5b50\n\n[0, 0, 1, 0, 0, 0\u2026\u2026]\u8868\u793a\u8001\u7237\u7237\n\n[0, 0, 0, 1, 0, 0\u2026\u2026]\u8868\u793a\u8001\u5976\u5976\n\n[0, 0, 0, 0, 1, 0\u2026\u2026]\u8868\u793a\u7537\u5a74\n\n[0, 0, 0, 0, 0, 1\u2026\u2026]\u8868\u793a\u5973\u5a74\n\n\u2026\u2026   \u6bcf\u4e00\u7c7b\u578b\u7528\u5411\u91cf\u4e2d\u7684\u4e00\u7ef4\u6765\u8868\u793a  \u800cdistributed representation\u4e2d\u6587\u91ca\u4e49\u662f\u5206\u5e03\u5f0f\u8868\u8fbe\uff0c\u4e0a\u9762\u7684\u8868\u8fbe\u65b9\u5f0f\u53ef\u4ee5\u6539\u6210\uff1a  \u6027\u522b \u8001\u5e74 \u6210\u5e74 \u5a74\u513f   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11 [1,       0,      1,      0]\u8868\u793a\u6210\u5e74\u7537\u5b50\n\n[0,       0,      1,      0]\u8868\u793a\u6210\u5e74\u5973\u5b50\n\n[1,       1,      0,      0]\u8868\u793a\u8001\u7237\u7237\n\n[0,       1,      0,      0]\u8868\u793a\u8001\u5976\u5976\n\n[1,       0,      0,      1]\u8868\u793a\u7537\u5a74\n\n[0,       0,      0,      1]\u8868\u793a\u5973\u5a74   \u5982\u679c\u6211\u4eec\u60f3\u8868\u8fbe\u7537\u7ae5\u548c\u5973\u7ae5\uff0c\u53ea\u9700\u8981\u589e\u52a0\u4e00\u4e2a\u7279\u5f81\u7ef4\u5ea6\u5373\u53ef", 
            "title": "\u4f60\u662f\u5982\u4f55\u8bb0\u4f4f\u4e00\u6b3e\u8f66\u7684"
        }, 
        {
            "location": "/25.word2vec/#word-embedding", 
            "text": "\u7ffb\u8bd1\u6210\u4e2d\u6587\u53eb\u505a\u8bcd\u5d4c\u5165\uff0c\u8fd9\u91cc\u7684embedding\u6765\u6e90\u4e8e\u8303\u7574\u8bba\uff0c\u5728\u8303\u7574\u8bba\u4e2d\u79f0\u4e3amorphism(\u6001\u5c04)\uff0c\u6001\u5c04\u8868\u793a\u4e24\u4e2a\u6570\u5b66\u7ed3\u6784\u4e2d\u4fdd\u6301\u7ed3\u6784\u7684\u4e00\u79cd\u8fc7\u7a0b\u62bd\u8c61\uff0c\u6bd4\u5982\u201c\u51fd\u6570\u201d\u3001\u201c\u6620\u5c04\u201d\uff0c\u4ed6\u4eec\u90fd\u662f\u8868\u793a\u4e00\u4e2a\u57df\u548c\u53e6\u4e00\u4e2a\u57df\u4e4b\u95f4\u7684\u67d0\u79cd\u5173\u7cfb\u3002  \u8303\u7574\u8bba\u4e2d\u7684\u5d4c\u5165(\u6001\u5c04)\u662f\u8981\u4fdd\u6301\u7ed3\u6784\u7684\uff0c\u800cword embedding\u8868\u793a\u7684\u662f\u4e00\u79cd\u201c\u964d\u7ef4\u201d\u7684\u5d4c\u5165\uff0c\u901a\u8fc7\u964d\u7ef4\u907f\u514d\u7ef4\u5ea6\u707e\u96be\uff0c\u964d\u4f4e\u8ba1\u7b97\u590d\u6742\u5ea6\uff0c\u4ece\u800c\u66f4\u6613\u4e8e\u5728\u6df1\u5ea6\u5b66\u4e60\u4e2d\u5e94\u7528\u3002  \u7406\u89e3\u4e86distributed representation\u548cword embedding\u7684\u6982\u5ff5\uff0c\u6211\u4eec\u5c31\u521d\u6b65\u4e86\u89e3\u4e86word2vec\u7684\u672c\u8d28\uff0c\u5b83\u5176\u5b9e\u662f\u901a\u8fc7distributed representation\u7684\u8868\u8fbe\u65b9\u5f0f\u6765\u8868\u793a\u8bcd\uff0c\u800c\u4e14\u901a\u8fc7\u964d\u7ef4\u7684word embedding\u6765\u51cf\u5c11\u8ba1\u7b97\u91cf\u7684\u4e00\u79cd\u65b9\u6cd5", 
            "title": "word embedding"
        }, 
        {
            "location": "/25.word2vec/#word2vec", 
            "text": "word2vec\u4e2d\u505a\u8bad\u7ec3\u4e3b\u8981\u4f7f\u7528\u7684\u662f\u795e\u7ecf\u6982\u7387\u8bed\u8a00\u6a21\u578b\uff0c\u8fd9\u9700\u8981\u638c\u63e1\u4e00\u4e9b\u57fa\u7840\u77e5\u8bc6\uff0c\u5426\u5219\u4e0b\u9762\u7684\u5185\u5bb9\u6bd4\u8f83\u96be\u7406\u89e3\uff0c\u5173\u4e8e\u795e\u7ecf\u7f51\u7edc\u8bad\u7ec3\u8bcd\u5411\u91cf\u7684\u57fa\u7840\u77e5\u8bc6\u6211\u5728\u300a\u81ea\u5df1\u52a8\u624b\u505a\u804a\u5929\u673a\u5668\u4eba \u4e8c\u5341\u56db-\u5c06\u6df1\u5ea6\u5b66\u4e60\u5e94\u7528\u5230NLP\u300b\u4e2d\u6709\u8bb2\u89e3\uff0c\u53ef\u4ee5\u53c2\u8003\uff0c\u8fd9\u91cc\u4e0d\u518d\u8d58\u8ff0\u3002  \u5728word2vec\u4e2d\u4f7f\u7528\u7684\u6700\u91cd\u8981\u7684\u4e24\u4e2a\u6a21\u578b\u662fCBOW\u548cSkip-gram\u6a21\u578b\uff0c\u4e0b\u9762\u6211\u4eec\u5206\u522b\u6765\u4ecb\u7ecd\u8fd9\u4e24\u79cd\u6a21\u578b", 
            "title": "word2vec\u4e2d\u7684\u795e\u7ecf\u7f51\u7edc"
        }, 
        {
            "location": "/25.word2vec/#cbow", 
            "text": "CBOW\u5168\u79f0\u662fContinuous Bag-of-Words Model\uff0c\u662f\u5728\u5df2\u77e5\u5f53\u524d\u8bcd\u7684\u4e0a\u4e0b\u6587\u7684\u524d\u63d0\u4e0b\u9884\u6d4b\u5f53\u524d\u8bcd  CBOW\u6a21\u578b\u7684\u795e\u7ecf\u7f51\u7edc\u7ed3\u6784\u8bbe\u8ba1\u5982\u4e0b\uff1a  \u8f93\u5165\u5c42\uff1a\u8bcdw\u7684\u4e0a\u4e0b\u6587\u4e00\u51712c\u4e2a\u8bcd\u7684\u8bcd\u5411\u91cf  \u6295\u5f71\u5c42\uff1a\u5c06\u8f93\u5165\u5c42\u76842c\u4e2a\u5411\u91cf\u505a\u6c42\u548c\u7d2f\u52a0  \u8f93\u51fa\u5c42\uff1a\u4e00\u4e2a\u970d\u592b\u66fc\u6811\uff0c\u5176\u4e2d\u53f6\u5b50\u8282\u70b9\u662f\u8bed\u6599\u4e2d\u51fa\u73b0\u8fc7\u7684\u8bcd\uff0c\u6743\u91cd\u662f\u51fa\u73b0\u7684\u6b21\u6570  \u6211\u4eec\u53d1\u73b0\u8fd9\u4e00\u8bbe\u8ba1\u76f8\u6bd4\u300a\u81ea\u5df1\u52a8\u624b\u505a\u804a\u5929\u673a\u5668\u4eba \u4e8c\u5341\u56db-\u5c06\u6df1\u5ea6\u5b66\u4e60\u5e94\u7528\u5230NLP\u300b\u4e2d\u8bb2\u5230\u7684\u795e\u7ecf\u7f51\u7edc\u6a21\u578b\u628a\u9996\u5c3e\u76f8\u63a5\u6539\u6210\u4e86\u6c42\u548c\u7d2f\u52a0\uff0c\u8fd9\u6837\u51cf\u5c11\u4e86\u7ef4\u5ea6\uff1b\u53bb\u6389\u4e86\u9690\u85cf\u5c42\uff0c\u8fd9\u6837\u51cf\u5c11\u4e86\u8ba1\u7b97\u91cf\uff1b\u8f93\u51fa\u5c42\u7531softmax\u5f52\u4e00\u5316\u8fd0\u7b97\u6539\u6210\u4e86\u970d\u592b\u66fc\u6811\uff1b\u8fd9\u4e00\u7cfb\u5217\u4fee\u6539\u5bf9\u8bad\u7ec3\u7684\u6027\u80fd\u6709\u5f88\u5927\u63d0\u5347\uff0c\u800c\u6548\u679c\u4e0d\u51cf\uff0c\u8fd9\u662f\u72ec\u5230\u4e4b\u5904\u3002  \u57fa\u4e8e\u970d\u592b\u66fc\u6811\u7684Hierarchical Softmax\u6280\u672f\n\u4e0a\u9762\u7684CBOW\u8f93\u51fa\u5c42\u4e3a\u4ec0\u4e48\u8981\u5efa\u6210\u4e00\u4e2a\u970d\u592b\u66fc\u6811\u5462\uff1f\u56e0\u4e3a\u6211\u4eec\u662f\u8981\u57fa\u4e8e\u8bad\u7ec3\u8bed\u6599\u5f97\u5230\u6bcf\u4e00\u4e2a\u53ef\u80fd\u7684w\u7684\u6982\u7387\u3002\u90a3\u4e48\u5177\u4f53\u600e\u4e48\u5f97\u5230\u5462\uff1f\u6211\u4eec\u5148\u6765\u770b\u4e00\u4e0b\u8fd9\u4e2a\u970d\u592b\u66fc\u6811\u7684\u4f8b\u5b50\uff1a  \u5728\u8fd9\u4e2a\u970d\u592b\u66fc\u6811\u4e2d\uff0c\u6211\u4eec\u4ee5\u8bcd\u8db3\u7403\u4e3a\u4f8b\uff0c\u8d70\u8fc7\u7684\u8def\u5f84\u56fe\u4e0a\u5bb9\u6613\u770b\u5230\uff0c\u5176\u4e2d\u975e\u6839\u8282\u70b9\u4e0a\u7684\u03b8\u8868\u793a\u5f85\u8bad\u7ec3\u7684\u53c2\u6570\u5411\u91cf\uff0c\u4e5f\u5c31\u662f\u8981\u8fbe\u5230\u8fd9\u79cd\u6548\u679c\uff1a\u5f53\u5728\u6295\u5c04\u5c42\u4ea7\u51fa\u4e86\u4e00\u4e2a\u65b0\u7684\u5411\u91cfx\uff0c\u90a3\u4e48\u6211\u901a\u8fc7\u903b\u8f91\u56de\u5f52\u516c\u5f0f\uff1a  1 \u03c3(xT\u03b8) = 1/(1+e^(-xT\u03b8))   \u5c31\u53ef\u4ee5\u5f97\u51fa\u5728\u6bcf\u4e00\u5c42\u88ab\u5206\u5230\u5de6\u8282\u70b9(1)\u8fd8\u662f\u53f3\u8282\u70b9(0)\u7684\u6982\u7387\u5206\u522b\u662f  1 p(d|x,\u03b8) = 1-\u03c3(xT\u03b8)   \u548c  1 p(d|x,\u03b8) = \u03c3(xT\u03b8)   \u90a3\u4e48\u5c31\u6709\uff1a  1 p(\u8db3\u7403|Context(\u8db3\u7403)) = \u220f p(d|x,\u03b8)   \u73b0\u5728\u6a21\u578b\u5df2\u7ecf\u6709\u4e86\uff0c\u4e0b\u9762\u5c31\u662f\u901a\u8fc7\u8bed\u6599\u6765\u8bad\u7ec3v(Context(w))\u3001x\u548c\u03b8\u7684\u8fc7\u7a0b\u4e86  \u6211\u4eec\u4ee5\u5bf9\u6570\u4f3c\u7136\u51fd\u6570\u4e3a\u4f18\u5316\u76ee\u6807\uff0c\u76d7\u53d6\u4e00\u4e2a\u7f51\u4e0a\u7684\u63a8\u5bfc\u516c\u5f0f\uff1a  \u5047\u8bbe\u4e24\u4e2a\u6c42\u548c\u7b26\u53f7\u91cc\u9762\u7684\u90e8\u5206\u8bb0\u4f5cL(w, j)\uff0c\u90a3\u4e48\u6709  \u4e8e\u662f\u03b8\u7684\u66f4\u65b0\u516c\u5f0f\uff1a  \u540c\u7406\u5f97\u51fax\u7684\u68af\u5ea6\u516c\u5f0f\uff1a  \u56e0\u4e3ax\u662f\u591a\u4e2av\u7684\u7d2f\u52a0\uff0cword2vec\u4e2dv\u7684\u66f4\u65b0\u65b9\u6cd5\u662f\uff1a  \u60f3\u60f3\u673a\u5668\u5b66\u4e60\u771f\u662f\u4f1f\u5927\uff0c\u6574\u4e2a\u6a21\u578b\u4ece\u4e0a\u5230\u4e0b\u5168\u662f\u672a\u77e5\u6570\uff0c\u7adf\u7136\u80fd\u7b97\u51fa\u6765\u6211\u771f\u662f\u670d\u4e86", 
            "title": "CBOW\u6a21\u578b"
        }, 
        {
            "location": "/25.word2vec/#skip-gram", 
            "text": "Skip-gram\u5168\u79f0\u662fContinuous Skip-gram Model\uff0c\u662f\u5728\u5df2\u77e5\u5f53\u524d\u8bcd\u7684\u60c5\u51b5\u4e0b\u9884\u6d4b\u4e0a\u4e0b\u6587  Skip-gram\u6a21\u578b\u7684\u795e\u7ecf\u7f51\u7edc\u7ed3\u6784\u8bbe\u8ba1\u5982\u4e0b\uff1a  \u8f93\u5165\u5c42\uff1aw\u7684\u8bcd\u5411\u91cfv(w)  \u6295\u5f71\u5c42\uff1a\u4f9d\u7136\u662fv(w)\uff0c\u5c31\u662f\u4e00\u4e2a\u5f62\u5f0f  \u8f93\u51fa\u5c42\uff1a\u548cCBOW\u4e00\u6837\u7684\u970d\u592b\u66fc\u6811  \u540e\u9762\u7684\u63a8\u5bfc\u516c\u5f0f\u548cCBOW\u5927\u540c\u5c0f\u5f02\uff0c\u5176\u4e2d\u03b8\u548cv(w)\u7684\u66f4\u65b0\u516c\u5f0f\u9664\u4e86\u628a\u7b26\u53f7\u540d\u4ecex\u6539\u6210\u4e86v(w)\u4e4b\u5916\u5b8c\u5168\u4e00\u6837\uff0c\u5982\u4e0b\uff1a", 
            "title": "Skip-gram\u6a21\u578b"
        }, 
        {
            "location": "/25.word2vec/#word2vec_1", 
            "text": "\u9996\u5148\u6211\u4eec\u4ece\u7f51\u4e0a\u4e0b\u8f7d\u4e00\u4e2a\u6e90\u7801\uff0c\u56e0\u4e3agoogle\u5b98\u65b9\u7684svn\u5e93\u5df2\u7ecf\u4e0d\u5728\u4e86\uff0c\u6240\u4ee5\u53ea\u80fd\u4ececsdn\u4e0b\u4e86\uff0c\u4f46\u662f\u56e0\u4e3a\u8fd8\u8981\u82b1\u79ef\u5206\u624d\u80fd\u4e0b\u8f7d\uff0c\u6240\u4ee5\u6211\u5e72\u8106\u5206\u4eab\u5230\u4e86\u6211\u7684git\u4e0a(https://github.com/warmheartli/ChatBotCourse/tree/master/word2vec)\uff0c\u5927\u5bb6\u53ef\u4ee5\u76f4\u63a5\u4e0b\u8f7d  \u4e0b\u8f7d\u4e0b\u6765\u540e\u76f4\u63a5\u6267\u884cmake\u7f16\u8bd1(\u5982\u679c\u662fmac\u7cfb\u7edf\u8981\u628a\u4ee3\u7801\u91cc\u6240\u6709\u7684#include  \u66ff\u6362\u6210#include  )  \u7f16\u8bd1\u540e\u751f\u6210word2vec\u3001word2phrase\u3001word-analogy\u3001distance\u3001compute-accuracy\u51e0\u4e2a\u4e8c\u8fdb\u5236\u6587\u4ef6  \u6211\u4eec\u5148\u7528word2vec\u6765\u8bad\u7ec3  \u9996\u5148\u6211\u4eec\u8981\u6709\u8bad\u7ec3\u8bed\u6599\uff0c\u5176\u5b9e\u5c31\u662f\u5df2\u7ecf\u5207\u597d\u8bcd(\u7a7a\u683c\u5206\u9694)\u7684\u6587\u672c\uff0c\u6bd4\u5982\u6211\u4eec\u5df2\u7ecf\u6709\u4e86\u8fd9\u4e2a\u6587\u672c\u6587\u4ef6\u53eb\u505atrain.txt\uff0c\u5185\u5bb9\u662f\"\u4eba\u5de5 \u667a\u80fd \u4e00\u76f4 \u4ee5\u6765 \u662f \u4eba\u7c7b \u7684 \u68a6\u60f3 \u9020 \u4e00\u53f0 \u53ef\u4ee5 \u4e3a \u4f60 \u505a \u4e00\u5207 \u4e8b\u60c5 \u5e76\u4e14 \u6709 \u60c5\u611f \u7684 \u673a\u5668 \u4eba\"\u5e76\u4e14\u91cd\u590d100\u904d  \u6267\u884c  1 ./word2vec -train train.txt -output vectors.bin -cbow 0 -size 200 -window 5 -negative 0 -hs 1 -sample 1e-3 -thread 12 -binary 1   \u4f1a\u751f\u6210\u4e00\u4e2avectors.bin\u6587\u4ef6\uff0c\u8fd9\u4e2a\u5c31\u662f\u8bad\u7ec3\u597d\u7684\u8bcd\u5411\u91cf\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\uff0c\u5229\u7528\u8fd9\u4e2a\u6587\u4ef6\u6211\u4eec\u53ef\u4ee5\u6c42\u8fd1\u4e49\u8bcd\u4e86\uff0c\u6267\u884c\uff1a   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29 ./distance vectors.bin\nEnter word or sentence (EXIT to break): \u4eba\u7c7b\n\nWord: \u4eba\u7c7b  Position in vocabulary: 6\n\nWord       Cosine distance\n------------------------------------------------------------------------\n\u53ef\u4ee5              0.094685\n\u4e3a              0.091899\n\u4eba\u5de5              0.088387\n\u673a\u5668              0.076216\n\u667a\u80fd              0.073093\n\u60c5\u611f              0.071088\n\u505a             0.059367\n\u4e00\u76f4              0.056979\n\u4ee5\u6765              0.049426\n\u4e00\u5207              0.042201 /s              0.025968\n\u4e8b\u60c5              0.014169\n\u7684             0.003633\n\u662f             -0.012021\n\u6709             -0.014790\n\u4e00\u53f0              -0.021398\n\u9020             -0.031242\n\u4eba             -0.043759\n\u4f60             -0.072834\n\u68a6\u60f3              -0.086062\n\u5e76\u4e14              -0.122795\n\u2026\u2026   \u5982\u679c\u4f60\u6709\u5f88\u4e30\u5bcc\u7684\u8bed\u6599\uff0c\u90a3\u4e48\u7ed3\u679c\u4f1a\u5f88\u6f02\u4eae", 
            "title": "\u4f53\u9a8c\u771f\u5b9e\u7684word2vec"
        }, 
        {
            "location": "/26.rnn/", 
            "text": "\u804a\u5929\u673a\u5668\u4eba\u662f\u9700\u8981\u667a\u80fd\u7684\uff0c\u800c\u5982\u679c\u4ed6\u8bb0\u4e0d\u4f4f\u4efb\u4f55\u4fe1\u606f\uff0c\u5c31\u8c08\u4e0d\u4e0a\u667a\u80fd\uff0c\u9012\u5f52\u795e\u7ecf\u7f51\u7edc\u662f\u4e00\u79cd\u53ef\u4ee5\u5b58\u50a8\u8bb0\u5fc6\u7684\u795e\u7ecf\u7f51\u7edc\uff0cLSTM\u662f\u9012\u5f52\u795e\u7ecf\u7f51\u7edc\u7684\u4e00\u79cd\uff0c\u5728NLP\u9886\u57df\u5e94\u7528\u6548\u679c\u4e0d\u9519\uff0c\u672c\u8282\u6211\u4eec\u6765\u4ecb\u7ecdRNN\u548cLSTM \n\n\n### \u9012\u5f52\u795e\u7ecf\u7f51\u7edc\n\n\n\u9012\u5f52\u795e\u7ecf\u7f51\u7edc\uff08RNN\uff09\u662f\u4e24\u79cd\u4eba\u5de5\u795e\u7ecf\u7f51\u7edc\u7684\u603b\u79f0\u3002\u4e00\u79cd\u662f\u65f6\u95f4\u9012\u5f52\u795e\u7ecf\u7f51\u7edc\uff08recurrent neural network\uff09\uff0c\u53e6\u4e00\u79cd\u662f\u7ed3\u6784\u9012\u5f52\u795e\u7ecf\u7f51\u7edc\uff08recursive neural network\uff09\u3002\u65f6\u95f4\u9012\u5f52\u795e\u7ecf\u7f51\u7edc\u7684\u795e\u7ecf\u5143\u95f4\u8fde\u63a5\u6784\u6210\u6709\u5411\u56fe\uff0c\u800c\u7ed3\u6784\u9012\u5f52\u795e\u7ecf\u7f51\u7edc\u5229\u7528\u76f8\u4f3c\u7684\u795e\u7ecf\u7f51\u7edc\u7ed3\u6784\u9012\u5f52\u6784\u9020\u66f4\u4e3a\u590d\u6742\u7684\u6df1\u5ea6\u7f51\u7edc\u3002\u4e24\u8005\u8bad\u7ec3\u7684\u7b97\u6cd5\u4e0d\u540c\uff0c\u4f46\u5c5e\u4e8e\u540c\u4e00\u7b97\u6cd5\u53d8\u4f53\uff08\u767e\u5ea6\u767e\u79d1\uff09\u3002\u672c\u8282\u6211\u4eec\u91cd\u70b9\u4ecb\u7ecd\u65f6\u95f4\u9012\u5f52\u795e\u7ecf\u7f51\u7edc\uff0c\u4e0b\u9762\u63d0\u5230RNN\u7279\u6307\u65f6\u95f4\u9012\u5f52\u795e\u7ecf\u7f51\u7edc\u3002\n\n\n\u65f6\u95f4\u9012\u5f52\u795e\u7ecf\u7f51\u7edc\n\n\n\u4f20\u7edf\u7684\u795e\u7ecf\u7f51\u7edc\u53eb\u505aFNN(Feed-Forward Neural Networks)\uff0c\u4e5f\u5c31\u662f\u524d\u5411\u53cd\u9988\u795e\u7ecf\u7f51\u7edc\uff0c\u6709\u5173\u4f20\u7edf\u795e\u7ecf\u7f51\u7edc\u7684\u4ecb\u7ecd\u8bf7\u89c1\u300a\u673a\u5668\u5b66\u4e60\u6559\u7a0b \u5341\u4e8c-\u795e\u7ecf\u7f51\u7edc\u6a21\u578b\u7684\u539f\u7406\u300b\uff0cRNN\u662f\u5728\u6b64\u57fa\u7840\u4e0a\u5f15\u5165\u4e86\u5b9a\u5411\u5faa\u73af\uff0c\u4e5f\u5c31\u662f\u5df2\u795e\u7ecf\u5143\u4e3a\u8282\u70b9\u7ec4\u6210\u7684\u56fe\u4e2d\u5b58\u5728\u6709\u5411\u7684\u73af\uff0c\u8fd9\u79cd\u795e\u7ecf\u7f51\u7edc\u53ef\u4ee5\u8868\u8fbe\u67d0\u4e9b\u524d\u540e\u5173\u8054\u5173\u7cfb\uff0c\u4e8b\u5b9e\u4e0a\uff0c\u771f\u6b63\u7684\u751f\u7269\u795e\u7ecf\u5143\u4e4b\u95f4\u4e5f\u662f\u5b58\u5728\u8fd9\u79cd\u73af\u5f62\u4fe1\u606f\u4f20\u64ad\u7684\uff0cRNN\u4e5f\u662f\u795e\u7ecf\u7f51\u7edc\u5411\u771f\u5b9e\u751f\u7269\u795e\u7ecf\u7f51\u7edc\u9760\u8fd1\u7684\u4e00\u4e2a\u8fdb\u6b65\u3002\u4e00\u4e2a\u5178\u578b\u7684RNN\u662f\u8fd9\u6837\u7684\uff1a\n\n\n\u56fe\u4e2d\u9690\u85cf\u5c42\u4e2d\u7684\u8282\u70b9\u4e4b\u95f4\u6784\u6210\u4e86\u5168\u8fde\u63a5\uff0c\u4e5f\u5c31\u662f\u4e00\u4e2a\u9690\u85cf\u5c42\u8282\u70b9\u7684\u8f93\u51fa\u53ef\u4ee5\u4f5c\u4e3a\u53e6\u4e00\u4e2a\u9690\u85cf\u5c42\u8282\u70b9\u751a\u81f3\u5b83\u81ea\u5df1\u7684\u8f93\u5165\n\n\n\u8fd9\u79cd\u7ed3\u6784\u53ef\u4ee5\u62bd\u8c61\u6210\uff1a\n\n\n\u5176\u4e2dU\u3001V\u3001W\u90fd\u662f\u53d8\u6362\u6982\u7387\u77e9\u9635\uff0cx\u662f\u8f93\u5165\uff0co\u662f\u8f93\u51fa\n\n\n\u6bd4\u8f83\u5bb9\u6613\u770b\u51faRNN\u7684\u5173\u952e\u662f\u9690\u85cf\u5c42\uff0c\u56e0\u4e3a\u9690\u85cf\u5c42\u80fd\u591f\u6355\u6349\u5230\u5e8f\u5217\u7684\u4fe1\u606f\uff0c\u4e5f\u5c31\u662f\u4e00\u79cd\u8bb0\u5fc6\u7684\u80fd\u529b\n\n\n\u5728RNN\u4e2dU\u3001V\u3001W\u7684\u53c2\u6570\u90fd\u662f\u5171\u4eab\u7684\uff0c\u4e5f\u5c31\u662f\u53ea\u9700\u8981\u5173\u6ce8\u6bcf\u4e00\u6b65\u90fd\u5728\u505a\u76f8\u540c\u7684\u4e8b\u60c5\uff0c\u53ea\u662f\u8f93\u5165\u4e0d\u540c\uff0c\u8fd9\u6837\u6765\u964d\u4f4e\u53c2\u6570\u4e2a\u6570\u548c\u8ba1\u7b97\u91cf\n\n\nRNN\u5728NLP\u4e2d\u7684\u5e94\u7528\u6bd4\u8f83\u591a\uff0c\u56e0\u4e3a\u8bed\u8a00\u6a21\u578b\u5c31\u662f\u5728\u5df2\u77e5\u5df2\u7ecf\u51fa\u73b0\u7684\u8bcd\u7684\u60c5\u51b5\u4e0b\u9884\u6d4b\u4e0b\u4e00\u4e2a\u8bcd\u7684\u6982\u7387\u7684\uff0c\u8fd9\u6b63\u662f\u4e00\u4e2a\u6709\u65f6\u5e8f\u7684\u6a21\u578b\uff0c\u4e0b\u4e00\u4e2a\u8bcd\u7684\u51fa\u73b0\u53d6\u51b3\u4e8e\u524d\u51e0\u4e2a\u8bcd\uff0c\u521a\u597d\u5bf9\u5e94\u7740RNN\u4e2d\u9690\u85cf\u5c42\u4e4b\u95f4\u7684\u5185\u90e8\u8fde\u63a5\n\n\nRNN\u7684\u8bad\u7ec3\u65b9\u6cd5\n\n\nRNN\u7684\u8bad\u7ec3\u65b9\u6cd5\u548c\u4f20\u7edf\u795e\u7ecf\u7f51\u7edc\u4e00\u6837\uff0c\u90fd\u662f\u4f7f\u7528BP\u8bef\u5dee\u53cd\u5411\u4f20\u64ad\u7b97\u6cd5\u6765\u66f4\u65b0\u548c\u8bad\u7ec3\u53c2\u6570\u3002\n\n\n\u56e0\u4e3a\u4ece\u8f93\u5165\u5230\u6700\u7ec8\u7684\u8f93\u51fa\u4e2d\u95f4\u7ecf\u8fc7\u4e86\u51e0\u6b65\u662f\u4e0d\u786e\u5b9a\u7684\uff0c\u56e0\u6b64\u4e3a\u4e86\u8ba1\u7b97\u65b9\u4fbf\uff0c\u6211\u4eec\u5229\u7528\u65f6\u5e8f\u7684\u65b9\u5f0f\u6765\u505a\u524d\u5411\u8ba1\u7b97\uff0c\u6211\u4eec\u5047\u8bbex\u8868\u793a\u8f93\u5165\u503c\uff0cs\u8868\u793a\u8f93\u5165x\u7ecf\u8fc7U\u77e9\u9635\u53d8\u6362\u540e\u7684\u503c\uff0ch\u8868\u793a\u9690\u85cf\u5c42\u7684\u6fc0\u6d3b\u503c\uff0co\u8868\u793a\u8f93\u51fa\u5c42\u7684\u503c, f\u8868\u793a\u9690\u85cf\u5c42\u7684\u6fc0\u6d3b\u51fd\u6570\uff0cg\u8868\u793a\u8f93\u51fa\u5c42\u7684\u6fc0\u6d3b\u51fd\u6570\uff1a\n\n\n\u5f53t=0\u65f6\uff0c\u8f93\u5165\u4e3ax0, \u9690\u85cf\u5c42\u4e3ah0\n\n\n\u5f53t=1\u65f6\uff0c\u8f93\u5165\u4e3ax1, s1 = Ux1+Wh0, h1 = f(s1), o1 = g(Vh1)\n\n\n\u5f53t=2\u65f6\uff0cs2 = Ux2+Wh1, h2 = f(s2), o2 = g(Vh2)\n\n\n\u4ee5\u6b64\u7c7b\u63a8\uff0cst = Uxt + Wh(t-1), ht = f(st), ot = g(Vht)\n\n\n\u8fd9\u91cc\u9762h=f(\u73b0\u6709\u7684\u8f93\u5165+\u8fc7\u53bb\u8bb0\u5fc6\u603b\u7ed3)\u662f\u5bf9RNN\u7684\u8bb0\u5fc6\u80fd\u529b\u7684\u5168\u7136\u4f53\u73b0\n\n\n\u901a\u8fc7\u8fd9\u6837\u7684\u524d\u5411\u63a8\u5bfc\uff0c\u6211\u4eec\u662f\u4e0d\u662f\u53ef\u4ee5\u5bf9RNN\u7684\u7ed3\u6784\u505a\u4e00\u4e2a\u5c55\u5f00\uff0c\u6210\u5982\u4e0b\u7684\u6837\u5b50\uff1a\n\n\n\u8fd9\u6837\u4ece\u65f6\u5e8f\u4e0a\u6765\u770b\u66f4\u76f4\u89c2\u660e\u4e86\n\n\n\u4e0b\u9762\u5c31\u662f\u53cd\u5411\u4fee\u6b63\u53c2\u6570\u7684\u8fc7\u7a0b\u4e86\uff0c\u6bcf\u4e00\u6b65\u8f93\u51fao\u548c\u5b9e\u9645\u7684o\u503c\u603b\u4f1a\u6709\u8bef\u5dee\uff0c\u548c\u4f20\u7edf\u795e\u7ecf\u7f51\u7edc\u53cd\u5411\u66f4\u65b0\u7684\u65b9\u6cd5\u4e00\u6837\uff0c\u7528\u8bef\u5dee\u6765\u53cd\u5411\u63a8\u5bfc\uff0c\u5229\u7528\u94fe\u5f0f\u6c42\u5bfc\u6c42\u51fa\u6bcf\u5c42\u7684\u68af\u5ea6\uff0c\u4ece\u800c\u66f4\u65b0\u53c2\u6570\uff0c\u53cd\u5411\u63a8\u5bfc\u8fc7\u7a0b\u4e2d\u6211\u4eec\u8fd8\u662f\u628a\u795e\u7ecf\u7f51\u7edc\u7ed3\u6784\u770b\u6210\u5c55\u5f00\u540e\u7684\u6837\u5b50\uff1a\n\n\n\u6839\u636e\u94fe\u5f0f\u6c42\u5bfc\u6cd5\u5219\uff0c\u5f97\u51fa\u9690\u85cf\u5c42\u7684\u6b8b\u5dee\u8ba1\u7b97\u516c\u5f0f\u4e3a\uff1a\n\n\n\u56e0\u6b64W\u548cU\u7684\u68af\u5ea6\u5c31\u662f\uff1a\n\n\nLSTM(Long Short Tem Momery networks)\n\u7279\u522b\u8bb2\u89e3\u4e00\u4e0bLSTM\u662f\u56e0\u4e3aLSTM\u662f\u4e00\u79cd\u7279\u522b\u7684RNN\uff0c\u5b83\u662fRNN\u80fd\u5f97\u5230\u6210\u529f\u5e94\u7528\u7684\u5173\u952e\uff0c\u5f53\u4e0b\u975e\u5e38\u6d41\u884c\u3002RNN\u5b58\u5728\u4e00\u4e2a\u957f\u5e8f\u5217\u4f9d\u8d56(Long-Term Dependencies)\u7684\u95ee\u9898\uff1a\u4e0b\u4e00\u4e2a\u8bcd\u7684\u51fa\u73b0\u6982\u7387\u548c\u975e\u5e38\u4e45\u8fdc\u7684\u4e4b\u524d\u7684\u8bcd\u6709\u5173\uff0c\u4f46\u8003\u8651\u5230\u8ba1\u7b97\u91cf\u7684\u95ee\u9898\uff0c\u6211\u4eec\u4f1a\u5bf9\u4f9d\u8d56\u7684\u957f\u5ea6\u505a\u9650\u5236\uff0cLSTM\u5f88\u597d\u7684\u89e3\u51b3\u4e86\u8fd9\u4e2a\u95ee\u9898\uff0c\u56e0\u4e3a\u5b83\u4e13\u95e8\u4e3a\u6b64\u800c\u8bbe\u8ba1\u3002\n\n\n\u501f\u7528http://colah.github.io/posts/2015-08-Understanding-LSTMs/\u4e2d\u7ecf\u5178\u7684\u51e0\u5f20\u56fe\u6765\u8bf4\u660e\u4e0b\uff0c\u7b2c\u4e00\u5f20\u56fe\u662f\u4f20\u7edfRNN\u7684\u53e6\u4e00\u79cd\u5f62\u5f0f\u7684\u793a\u610f\u56fe\uff0c\u5b83\u53ea\u5305\u542b\u4e00\u4e2a\u9690\u85cf\u5c42\uff0c\u4ee5tanh\u4e3a\u6fc0\u53d1\u51fd\u6570\uff0c\u8fd9\u91cc\u9762\u7684\u201c\u8bb0\u5fc6\u201d\u4f53\u73b0\u5728t\u7684\u6ed1\u52a8\u7a97\u53e3\u4e0a\uff0c\u4e5f\u5c31\u662f\u6709\u591a\u5c11\u4e2at\u5c31\u6709\u591a\u5c11\u8bb0\u5fc6\uff0c\u5982\u4e0b\u56fe\n\n\n\u90a3\u4e48\u6211\u4eec\u770bLSTM\u7684\u8bbe\u8ba1\uff0c\u5982\u4e0b\uff0c\u8fd9\u91cc\u9762\u6709\u4e00\u4e9b\u7b26\u53f7\uff0c\u5176\u4e2d\u9ec4\u8272\u65b9\u6846\u662f\u795e\u7ecf\u7f51\u7edc\u5c42(\u610f\u5473\u7740\u6709\u6743\u91cd\u7cfb\u6570\u548c\u6fc0\u6d3b\u51fd\u6570\uff0c\u03c3\u8868\u793asigmoid\u6fc0\u6d3b\u51fd\u6570\uff0ctanh\u8868\u793atanh\u6fc0\u6d3b\u51fd\u6570)\uff0c\u7c89\u7ea2\u5706\u5708\u8868\u793a\u77e9\u9635\u8fd0\u7b97(\u77e9\u9635\u4e58\u6216\u77e9\u9635\u52a0)\n\n\n\u8fd9\u91cc\u9700\u8981\u5206\u90e8\u5206\u6765\u8bf4\uff0c\u4e0b\u9762\u8fd9\u90e8\u5206\u662f\u4e00\u4e2a\u5386\u53f2\u4fe1\u606f\u7684\u4f20\u9012\u548c\u8bb0\u5fc6\uff0c\u5176\u4e2d\u7c89\u7ea2\u00d7\u662f\u5c31\u50cf\u4e00\u4e2a\u80fd\u8c03\u5927\u5c0f\u7684\u9600\u95e8(\u4e58\u4ee5\u4e00\u4e2a0\u52301\u4e4b\u95f4\u7684\u7cfb\u6570)\uff0c\u4e0b\u9762\u7684\u7b2c\u4e00\u4e2asigmoid\u5c42\u8ba1\u7b97\u8f93\u51fa0\u52301\u4e4b\u95f4\u7684\u7cfb\u6570\uff0c\u4f5c\u7528\u5230\u7c89\u7ea2\u00d7\u95e8\u4e0a\uff0c\u8fd9\u4e2a\u64cd\u4f5c\u8868\u8fbe\u4e0a\u4e00\u9636\u6bb5\u4f20\u9012\u8fc7\u6765\u7684\u8bb0\u5fc6\u4fdd\u7559\u591a\u5c11\uff0c\u5fd8\u6389\u591a\u5c11\n\n\n\u5176\u4e2d\u7684sigmoid\u516c\u5f0f\u5982\u4e0b\uff1a\n\n\n\u53ef\u4ee5\u770b\u51fa\u5fd8\u6389\u8bb0\u5fc6\u591a\u5c11\u53d6\u51b3\u4e8e\u4e0a\u4e00\u9690\u85cf\u5c42\u7684\u8f93\u51fah{t-1}\u548c\u672c\u5c42\u7684\u8f93\u5165x{t}\n\n\n\u4e0b\u9762\u8fd9\u90e8\u5206\u662f\u7531\u4e0a\u4e00\u5c42\u7684\u8f93\u51fah{t-1}\u548c\u672c\u5c42\u7684\u8f93\u5165x{t}\u5f97\u51fa\u7684\u65b0\u4fe1\u606f\uff0c\u5b58\u5230\u8bb0\u5fc6\u4e2d\uff1a\n\n\n\u5176\u4e2d\u5305\u62ec\u8ba1\u7b97\u8f93\u51fa\u503cCt\u90e8\u5206\u7684tanh\u795e\u7ecf\u5143\u548c\u8ba1\u7b97\u6bd4\u4f8b\u7cfb\u6570\u7684sigmoid\u795e\u7ecf\u5143\uff08\u8fd9\u91cc\u9762\u65e2\u5b58\u5728sigmoid\u53c8\u5b58\u5728tanh\u539f\u56e0\u5728\u4e8esigmoid\u53d6\u503c\u8303\u56f4\u662f[0,1]\u5929\u7136\u4f5c\u4e3a\u6bd4\u4f8b\u7cfb\u6570\uff0c\u800ctanh\u53d6\u503c\u8303\u56f4\u662f[-1,1]\u53ef\u4ee5\u4f5c\u4e3a\u4e00\u4e2a\u8f93\u51fa\u503c\uff09\u3002\u5176\u4e2di{t}\u548cCt\u8ba1\u7b97\u516c\u5f0f\u5982\u4e0b\uff1a\n\n\n\u90a3\u4e48Ct\u8f93\u51fa\u5c31\u662f\uff1a\n\n\n\u4e0b\u9762\u90e8\u5206\u662f\u9690\u85cf\u5c42\u8f93\u51fah\u7684\u8ba1\u7b97\u90e8\u5206\uff0c\u5b83\u8003\u8651\u4e86\u5f53\u524d\u62e5\u6709\u7684\u5168\u90e8\u4fe1\u606f\uff08\u4e0a\u4e00\u65f6\u5e8f\u9690\u85cf\u5c42\u7684\u8f93\u51fa\u3001\u672c\u5c42\u7684\u8f93\u5165x\u548c\u5f53\u524d\u6574\u4f53\u7684\u8bb0\u5fc6\u4fe1\u606f\uff09\uff0c\u5176\u4e2d\u672c\u5355\u5143\u72b6\u6001\u90e8\u5206C\u901a\u8fc7tanh\u6fc0\u6d3b\u5e76\u505a\u4e00\u4e2a\u8fc7\u6ee4(\u4e0a\u4e00\u65f6\u5e8f\u8f93\u51fa\u503c\u548c\u5f53\u524d\u8f93\u5165\u503c\u901a\u8fc7sigmoid\u6fc0\u6d3b\u540e\u7684\u7cfb\u6570)\n\n\n\u8ba1\u7b97\u516c\u5f0f\u5982\u4e0b\uff1a\n\n\nLSTM\u975e\u5e38\u9002\u5408\u5728NLP\u9886\u57df\u5e94\u7528\uff0c\u6bd4\u5982\u4e00\u53e5\u8bdd\u51fa\u73b0\u7684\u8bcd\u53ef\u4ee5\u8ba4\u4e3a\u662f\u4e0d\u540c\u65f6\u5e8f\u7684\u8f93\u5165x\uff0c\u800c\u5728\u67d0\u4e00\u65f6\u95f4t\u51fa\u73b0\u8bcdA\u7684\u6982\u7387\u53ef\u4ee5\u901a\u8fc7LSTM\u8ba1\u7b97\uff0c\u56e0\u4e3a\u8bcdA\u51fa\u73b0\u7684\u6982\u7387\u662f\u53d6\u51b3\u4e8e\u524d\u9762\u51fa\u73b0\u8fc7\u7684\u8bcd\u7684\uff0c\u4f46\u53d6\u51b3\u4e8e\u524d\u9762\u591a\u5c11\u4e2a\u8bcd\u662f\u4e0d\u786e\u5b9a\u7684\uff0c\u8fd9\u6b63\u662fLSTM\u6240\u505a\u7684\u5b58\u50a8\u7740\u8bb0\u5fc6\u4fe1\u606fC\uff0c\u4f7f\u5f97\u80fd\u591f\u5f97\u51fa\u8f83\u63a5\u8fd1\u7684\u6982\u7387\u3002\n\n\n\u603b\u7ed3\n\n\nRNN\u5c31\u662f\u8fd9\u6837\u4e00\u79cd\u795e\u7ecf\u7f51\u7edc\uff0c\u5b83\u8ba9\u9690\u85cf\u5c42\u81ea\u8eab\u4e4b\u95f4\u5b58\u5728\u6709\u5411\u73af\uff0c\u4ece\u800c\u66f4\u63a5\u8fd1\u751f\u7269\u795e\u7ecf\u7f51\u7edc\uff0c\u4e5f\u5177\u6709\u4e86\u5b58\u50a8\u8bb0\u5fc6\u7684\u80fd\u529b\uff0c\u800cLSTM\u4f5c\u4e3aRNN\u4e2d\u66f4\u6709\u5b9e\u7528\u4ef7\u503c\u7684\u4e00\u79cd\uff0c\u901a\u8fc7\u5b83\u7279\u6b8a\u7684\u7ed3\u6784\u8bbe\u8ba1\u5b9e\u73b0\u4e86\u6c38\u4e45\u8bb0\u5fc6\u7559\u5b58\uff0c\u66f4\u9002\u5408\u4e8eNLP\uff0c\u8fd9\u4e5f\u4e3a\u5c06\u6df1\u5ea6\u5b66\u4e60\u5e94\u7528\u5230\u81ea\u7136\u8bed\u8a00\u5904\u7406\u5f00\u4e86\u5148\u6cb3\uff0c\u6709\u8bb0\u5fc6\u662f\u7ed9\u804a\u5929\u673a\u5668\u4eba\u8d4b\u4e88\u667a\u80fd\u7684\u524d\u63d0\uff0c\u8fd9\u4e5f\u4e3a\u6211\u4eec\u7684\u804a\u5929\u673a\u5668\u4eba\u5960\u5b9a\u4e86\u5b9e\u8df5\u57fa\u7840\u3002", 
            "title": "\u4e8c\u5341\u516d-\u9012\u5f52\u795e\u7ecf\u7f51\u7edc(RNN)"
        }, 
        {
            "location": "/26.rnn/#_1", 
            "text": "\u9012\u5f52\u795e\u7ecf\u7f51\u7edc\uff08RNN\uff09\u662f\u4e24\u79cd\u4eba\u5de5\u795e\u7ecf\u7f51\u7edc\u7684\u603b\u79f0\u3002\u4e00\u79cd\u662f\u65f6\u95f4\u9012\u5f52\u795e\u7ecf\u7f51\u7edc\uff08recurrent neural network\uff09\uff0c\u53e6\u4e00\u79cd\u662f\u7ed3\u6784\u9012\u5f52\u795e\u7ecf\u7f51\u7edc\uff08recursive neural network\uff09\u3002\u65f6\u95f4\u9012\u5f52\u795e\u7ecf\u7f51\u7edc\u7684\u795e\u7ecf\u5143\u95f4\u8fde\u63a5\u6784\u6210\u6709\u5411\u56fe\uff0c\u800c\u7ed3\u6784\u9012\u5f52\u795e\u7ecf\u7f51\u7edc\u5229\u7528\u76f8\u4f3c\u7684\u795e\u7ecf\u7f51\u7edc\u7ed3\u6784\u9012\u5f52\u6784\u9020\u66f4\u4e3a\u590d\u6742\u7684\u6df1\u5ea6\u7f51\u7edc\u3002\u4e24\u8005\u8bad\u7ec3\u7684\u7b97\u6cd5\u4e0d\u540c\uff0c\u4f46\u5c5e\u4e8e\u540c\u4e00\u7b97\u6cd5\u53d8\u4f53\uff08\u767e\u5ea6\u767e\u79d1\uff09\u3002\u672c\u8282\u6211\u4eec\u91cd\u70b9\u4ecb\u7ecd\u65f6\u95f4\u9012\u5f52\u795e\u7ecf\u7f51\u7edc\uff0c\u4e0b\u9762\u63d0\u5230RNN\u7279\u6307\u65f6\u95f4\u9012\u5f52\u795e\u7ecf\u7f51\u7edc\u3002", 
            "title": "### \u9012\u5f52\u795e\u7ecf\u7f51\u7edc"
        }, 
        {
            "location": "/26.rnn/#_2", 
            "text": "\u4f20\u7edf\u7684\u795e\u7ecf\u7f51\u7edc\u53eb\u505aFNN(Feed-Forward Neural Networks)\uff0c\u4e5f\u5c31\u662f\u524d\u5411\u53cd\u9988\u795e\u7ecf\u7f51\u7edc\uff0c\u6709\u5173\u4f20\u7edf\u795e\u7ecf\u7f51\u7edc\u7684\u4ecb\u7ecd\u8bf7\u89c1\u300a\u673a\u5668\u5b66\u4e60\u6559\u7a0b \u5341\u4e8c-\u795e\u7ecf\u7f51\u7edc\u6a21\u578b\u7684\u539f\u7406\u300b\uff0cRNN\u662f\u5728\u6b64\u57fa\u7840\u4e0a\u5f15\u5165\u4e86\u5b9a\u5411\u5faa\u73af\uff0c\u4e5f\u5c31\u662f\u5df2\u795e\u7ecf\u5143\u4e3a\u8282\u70b9\u7ec4\u6210\u7684\u56fe\u4e2d\u5b58\u5728\u6709\u5411\u7684\u73af\uff0c\u8fd9\u79cd\u795e\u7ecf\u7f51\u7edc\u53ef\u4ee5\u8868\u8fbe\u67d0\u4e9b\u524d\u540e\u5173\u8054\u5173\u7cfb\uff0c\u4e8b\u5b9e\u4e0a\uff0c\u771f\u6b63\u7684\u751f\u7269\u795e\u7ecf\u5143\u4e4b\u95f4\u4e5f\u662f\u5b58\u5728\u8fd9\u79cd\u73af\u5f62\u4fe1\u606f\u4f20\u64ad\u7684\uff0cRNN\u4e5f\u662f\u795e\u7ecf\u7f51\u7edc\u5411\u771f\u5b9e\u751f\u7269\u795e\u7ecf\u7f51\u7edc\u9760\u8fd1\u7684\u4e00\u4e2a\u8fdb\u6b65\u3002\u4e00\u4e2a\u5178\u578b\u7684RNN\u662f\u8fd9\u6837\u7684\uff1a  \u56fe\u4e2d\u9690\u85cf\u5c42\u4e2d\u7684\u8282\u70b9\u4e4b\u95f4\u6784\u6210\u4e86\u5168\u8fde\u63a5\uff0c\u4e5f\u5c31\u662f\u4e00\u4e2a\u9690\u85cf\u5c42\u8282\u70b9\u7684\u8f93\u51fa\u53ef\u4ee5\u4f5c\u4e3a\u53e6\u4e00\u4e2a\u9690\u85cf\u5c42\u8282\u70b9\u751a\u81f3\u5b83\u81ea\u5df1\u7684\u8f93\u5165  \u8fd9\u79cd\u7ed3\u6784\u53ef\u4ee5\u62bd\u8c61\u6210\uff1a  \u5176\u4e2dU\u3001V\u3001W\u90fd\u662f\u53d8\u6362\u6982\u7387\u77e9\u9635\uff0cx\u662f\u8f93\u5165\uff0co\u662f\u8f93\u51fa  \u6bd4\u8f83\u5bb9\u6613\u770b\u51faRNN\u7684\u5173\u952e\u662f\u9690\u85cf\u5c42\uff0c\u56e0\u4e3a\u9690\u85cf\u5c42\u80fd\u591f\u6355\u6349\u5230\u5e8f\u5217\u7684\u4fe1\u606f\uff0c\u4e5f\u5c31\u662f\u4e00\u79cd\u8bb0\u5fc6\u7684\u80fd\u529b  \u5728RNN\u4e2dU\u3001V\u3001W\u7684\u53c2\u6570\u90fd\u662f\u5171\u4eab\u7684\uff0c\u4e5f\u5c31\u662f\u53ea\u9700\u8981\u5173\u6ce8\u6bcf\u4e00\u6b65\u90fd\u5728\u505a\u76f8\u540c\u7684\u4e8b\u60c5\uff0c\u53ea\u662f\u8f93\u5165\u4e0d\u540c\uff0c\u8fd9\u6837\u6765\u964d\u4f4e\u53c2\u6570\u4e2a\u6570\u548c\u8ba1\u7b97\u91cf  RNN\u5728NLP\u4e2d\u7684\u5e94\u7528\u6bd4\u8f83\u591a\uff0c\u56e0\u4e3a\u8bed\u8a00\u6a21\u578b\u5c31\u662f\u5728\u5df2\u77e5\u5df2\u7ecf\u51fa\u73b0\u7684\u8bcd\u7684\u60c5\u51b5\u4e0b\u9884\u6d4b\u4e0b\u4e00\u4e2a\u8bcd\u7684\u6982\u7387\u7684\uff0c\u8fd9\u6b63\u662f\u4e00\u4e2a\u6709\u65f6\u5e8f\u7684\u6a21\u578b\uff0c\u4e0b\u4e00\u4e2a\u8bcd\u7684\u51fa\u73b0\u53d6\u51b3\u4e8e\u524d\u51e0\u4e2a\u8bcd\uff0c\u521a\u597d\u5bf9\u5e94\u7740RNN\u4e2d\u9690\u85cf\u5c42\u4e4b\u95f4\u7684\u5185\u90e8\u8fde\u63a5", 
            "title": "\u65f6\u95f4\u9012\u5f52\u795e\u7ecf\u7f51\u7edc"
        }, 
        {
            "location": "/26.rnn/#rnn", 
            "text": "RNN\u7684\u8bad\u7ec3\u65b9\u6cd5\u548c\u4f20\u7edf\u795e\u7ecf\u7f51\u7edc\u4e00\u6837\uff0c\u90fd\u662f\u4f7f\u7528BP\u8bef\u5dee\u53cd\u5411\u4f20\u64ad\u7b97\u6cd5\u6765\u66f4\u65b0\u548c\u8bad\u7ec3\u53c2\u6570\u3002  \u56e0\u4e3a\u4ece\u8f93\u5165\u5230\u6700\u7ec8\u7684\u8f93\u51fa\u4e2d\u95f4\u7ecf\u8fc7\u4e86\u51e0\u6b65\u662f\u4e0d\u786e\u5b9a\u7684\uff0c\u56e0\u6b64\u4e3a\u4e86\u8ba1\u7b97\u65b9\u4fbf\uff0c\u6211\u4eec\u5229\u7528\u65f6\u5e8f\u7684\u65b9\u5f0f\u6765\u505a\u524d\u5411\u8ba1\u7b97\uff0c\u6211\u4eec\u5047\u8bbex\u8868\u793a\u8f93\u5165\u503c\uff0cs\u8868\u793a\u8f93\u5165x\u7ecf\u8fc7U\u77e9\u9635\u53d8\u6362\u540e\u7684\u503c\uff0ch\u8868\u793a\u9690\u85cf\u5c42\u7684\u6fc0\u6d3b\u503c\uff0co\u8868\u793a\u8f93\u51fa\u5c42\u7684\u503c, f\u8868\u793a\u9690\u85cf\u5c42\u7684\u6fc0\u6d3b\u51fd\u6570\uff0cg\u8868\u793a\u8f93\u51fa\u5c42\u7684\u6fc0\u6d3b\u51fd\u6570\uff1a  \u5f53t=0\u65f6\uff0c\u8f93\u5165\u4e3ax0, \u9690\u85cf\u5c42\u4e3ah0  \u5f53t=1\u65f6\uff0c\u8f93\u5165\u4e3ax1, s1 = Ux1+Wh0, h1 = f(s1), o1 = g(Vh1)  \u5f53t=2\u65f6\uff0cs2 = Ux2+Wh1, h2 = f(s2), o2 = g(Vh2)  \u4ee5\u6b64\u7c7b\u63a8\uff0cst = Uxt + Wh(t-1), ht = f(st), ot = g(Vht)  \u8fd9\u91cc\u9762h=f(\u73b0\u6709\u7684\u8f93\u5165+\u8fc7\u53bb\u8bb0\u5fc6\u603b\u7ed3)\u662f\u5bf9RNN\u7684\u8bb0\u5fc6\u80fd\u529b\u7684\u5168\u7136\u4f53\u73b0  \u901a\u8fc7\u8fd9\u6837\u7684\u524d\u5411\u63a8\u5bfc\uff0c\u6211\u4eec\u662f\u4e0d\u662f\u53ef\u4ee5\u5bf9RNN\u7684\u7ed3\u6784\u505a\u4e00\u4e2a\u5c55\u5f00\uff0c\u6210\u5982\u4e0b\u7684\u6837\u5b50\uff1a  \u8fd9\u6837\u4ece\u65f6\u5e8f\u4e0a\u6765\u770b\u66f4\u76f4\u89c2\u660e\u4e86  \u4e0b\u9762\u5c31\u662f\u53cd\u5411\u4fee\u6b63\u53c2\u6570\u7684\u8fc7\u7a0b\u4e86\uff0c\u6bcf\u4e00\u6b65\u8f93\u51fao\u548c\u5b9e\u9645\u7684o\u503c\u603b\u4f1a\u6709\u8bef\u5dee\uff0c\u548c\u4f20\u7edf\u795e\u7ecf\u7f51\u7edc\u53cd\u5411\u66f4\u65b0\u7684\u65b9\u6cd5\u4e00\u6837\uff0c\u7528\u8bef\u5dee\u6765\u53cd\u5411\u63a8\u5bfc\uff0c\u5229\u7528\u94fe\u5f0f\u6c42\u5bfc\u6c42\u51fa\u6bcf\u5c42\u7684\u68af\u5ea6\uff0c\u4ece\u800c\u66f4\u65b0\u53c2\u6570\uff0c\u53cd\u5411\u63a8\u5bfc\u8fc7\u7a0b\u4e2d\u6211\u4eec\u8fd8\u662f\u628a\u795e\u7ecf\u7f51\u7edc\u7ed3\u6784\u770b\u6210\u5c55\u5f00\u540e\u7684\u6837\u5b50\uff1a  \u6839\u636e\u94fe\u5f0f\u6c42\u5bfc\u6cd5\u5219\uff0c\u5f97\u51fa\u9690\u85cf\u5c42\u7684\u6b8b\u5dee\u8ba1\u7b97\u516c\u5f0f\u4e3a\uff1a  \u56e0\u6b64W\u548cU\u7684\u68af\u5ea6\u5c31\u662f\uff1a  LSTM(Long Short Tem Momery networks)\n\u7279\u522b\u8bb2\u89e3\u4e00\u4e0bLSTM\u662f\u56e0\u4e3aLSTM\u662f\u4e00\u79cd\u7279\u522b\u7684RNN\uff0c\u5b83\u662fRNN\u80fd\u5f97\u5230\u6210\u529f\u5e94\u7528\u7684\u5173\u952e\uff0c\u5f53\u4e0b\u975e\u5e38\u6d41\u884c\u3002RNN\u5b58\u5728\u4e00\u4e2a\u957f\u5e8f\u5217\u4f9d\u8d56(Long-Term Dependencies)\u7684\u95ee\u9898\uff1a\u4e0b\u4e00\u4e2a\u8bcd\u7684\u51fa\u73b0\u6982\u7387\u548c\u975e\u5e38\u4e45\u8fdc\u7684\u4e4b\u524d\u7684\u8bcd\u6709\u5173\uff0c\u4f46\u8003\u8651\u5230\u8ba1\u7b97\u91cf\u7684\u95ee\u9898\uff0c\u6211\u4eec\u4f1a\u5bf9\u4f9d\u8d56\u7684\u957f\u5ea6\u505a\u9650\u5236\uff0cLSTM\u5f88\u597d\u7684\u89e3\u51b3\u4e86\u8fd9\u4e2a\u95ee\u9898\uff0c\u56e0\u4e3a\u5b83\u4e13\u95e8\u4e3a\u6b64\u800c\u8bbe\u8ba1\u3002  \u501f\u7528http://colah.github.io/posts/2015-08-Understanding-LSTMs/\u4e2d\u7ecf\u5178\u7684\u51e0\u5f20\u56fe\u6765\u8bf4\u660e\u4e0b\uff0c\u7b2c\u4e00\u5f20\u56fe\u662f\u4f20\u7edfRNN\u7684\u53e6\u4e00\u79cd\u5f62\u5f0f\u7684\u793a\u610f\u56fe\uff0c\u5b83\u53ea\u5305\u542b\u4e00\u4e2a\u9690\u85cf\u5c42\uff0c\u4ee5tanh\u4e3a\u6fc0\u53d1\u51fd\u6570\uff0c\u8fd9\u91cc\u9762\u7684\u201c\u8bb0\u5fc6\u201d\u4f53\u73b0\u5728t\u7684\u6ed1\u52a8\u7a97\u53e3\u4e0a\uff0c\u4e5f\u5c31\u662f\u6709\u591a\u5c11\u4e2at\u5c31\u6709\u591a\u5c11\u8bb0\u5fc6\uff0c\u5982\u4e0b\u56fe  \u90a3\u4e48\u6211\u4eec\u770bLSTM\u7684\u8bbe\u8ba1\uff0c\u5982\u4e0b\uff0c\u8fd9\u91cc\u9762\u6709\u4e00\u4e9b\u7b26\u53f7\uff0c\u5176\u4e2d\u9ec4\u8272\u65b9\u6846\u662f\u795e\u7ecf\u7f51\u7edc\u5c42(\u610f\u5473\u7740\u6709\u6743\u91cd\u7cfb\u6570\u548c\u6fc0\u6d3b\u51fd\u6570\uff0c\u03c3\u8868\u793asigmoid\u6fc0\u6d3b\u51fd\u6570\uff0ctanh\u8868\u793atanh\u6fc0\u6d3b\u51fd\u6570)\uff0c\u7c89\u7ea2\u5706\u5708\u8868\u793a\u77e9\u9635\u8fd0\u7b97(\u77e9\u9635\u4e58\u6216\u77e9\u9635\u52a0)  \u8fd9\u91cc\u9700\u8981\u5206\u90e8\u5206\u6765\u8bf4\uff0c\u4e0b\u9762\u8fd9\u90e8\u5206\u662f\u4e00\u4e2a\u5386\u53f2\u4fe1\u606f\u7684\u4f20\u9012\u548c\u8bb0\u5fc6\uff0c\u5176\u4e2d\u7c89\u7ea2\u00d7\u662f\u5c31\u50cf\u4e00\u4e2a\u80fd\u8c03\u5927\u5c0f\u7684\u9600\u95e8(\u4e58\u4ee5\u4e00\u4e2a0\u52301\u4e4b\u95f4\u7684\u7cfb\u6570)\uff0c\u4e0b\u9762\u7684\u7b2c\u4e00\u4e2asigmoid\u5c42\u8ba1\u7b97\u8f93\u51fa0\u52301\u4e4b\u95f4\u7684\u7cfb\u6570\uff0c\u4f5c\u7528\u5230\u7c89\u7ea2\u00d7\u95e8\u4e0a\uff0c\u8fd9\u4e2a\u64cd\u4f5c\u8868\u8fbe\u4e0a\u4e00\u9636\u6bb5\u4f20\u9012\u8fc7\u6765\u7684\u8bb0\u5fc6\u4fdd\u7559\u591a\u5c11\uff0c\u5fd8\u6389\u591a\u5c11  \u5176\u4e2d\u7684sigmoid\u516c\u5f0f\u5982\u4e0b\uff1a  \u53ef\u4ee5\u770b\u51fa\u5fd8\u6389\u8bb0\u5fc6\u591a\u5c11\u53d6\u51b3\u4e8e\u4e0a\u4e00\u9690\u85cf\u5c42\u7684\u8f93\u51fah{t-1}\u548c\u672c\u5c42\u7684\u8f93\u5165x{t}  \u4e0b\u9762\u8fd9\u90e8\u5206\u662f\u7531\u4e0a\u4e00\u5c42\u7684\u8f93\u51fah{t-1}\u548c\u672c\u5c42\u7684\u8f93\u5165x{t}\u5f97\u51fa\u7684\u65b0\u4fe1\u606f\uff0c\u5b58\u5230\u8bb0\u5fc6\u4e2d\uff1a  \u5176\u4e2d\u5305\u62ec\u8ba1\u7b97\u8f93\u51fa\u503cCt\u90e8\u5206\u7684tanh\u795e\u7ecf\u5143\u548c\u8ba1\u7b97\u6bd4\u4f8b\u7cfb\u6570\u7684sigmoid\u795e\u7ecf\u5143\uff08\u8fd9\u91cc\u9762\u65e2\u5b58\u5728sigmoid\u53c8\u5b58\u5728tanh\u539f\u56e0\u5728\u4e8esigmoid\u53d6\u503c\u8303\u56f4\u662f[0,1]\u5929\u7136\u4f5c\u4e3a\u6bd4\u4f8b\u7cfb\u6570\uff0c\u800ctanh\u53d6\u503c\u8303\u56f4\u662f[-1,1]\u53ef\u4ee5\u4f5c\u4e3a\u4e00\u4e2a\u8f93\u51fa\u503c\uff09\u3002\u5176\u4e2di{t}\u548cCt\u8ba1\u7b97\u516c\u5f0f\u5982\u4e0b\uff1a  \u90a3\u4e48Ct\u8f93\u51fa\u5c31\u662f\uff1a  \u4e0b\u9762\u90e8\u5206\u662f\u9690\u85cf\u5c42\u8f93\u51fah\u7684\u8ba1\u7b97\u90e8\u5206\uff0c\u5b83\u8003\u8651\u4e86\u5f53\u524d\u62e5\u6709\u7684\u5168\u90e8\u4fe1\u606f\uff08\u4e0a\u4e00\u65f6\u5e8f\u9690\u85cf\u5c42\u7684\u8f93\u51fa\u3001\u672c\u5c42\u7684\u8f93\u5165x\u548c\u5f53\u524d\u6574\u4f53\u7684\u8bb0\u5fc6\u4fe1\u606f\uff09\uff0c\u5176\u4e2d\u672c\u5355\u5143\u72b6\u6001\u90e8\u5206C\u901a\u8fc7tanh\u6fc0\u6d3b\u5e76\u505a\u4e00\u4e2a\u8fc7\u6ee4(\u4e0a\u4e00\u65f6\u5e8f\u8f93\u51fa\u503c\u548c\u5f53\u524d\u8f93\u5165\u503c\u901a\u8fc7sigmoid\u6fc0\u6d3b\u540e\u7684\u7cfb\u6570)  \u8ba1\u7b97\u516c\u5f0f\u5982\u4e0b\uff1a  LSTM\u975e\u5e38\u9002\u5408\u5728NLP\u9886\u57df\u5e94\u7528\uff0c\u6bd4\u5982\u4e00\u53e5\u8bdd\u51fa\u73b0\u7684\u8bcd\u53ef\u4ee5\u8ba4\u4e3a\u662f\u4e0d\u540c\u65f6\u5e8f\u7684\u8f93\u5165x\uff0c\u800c\u5728\u67d0\u4e00\u65f6\u95f4t\u51fa\u73b0\u8bcdA\u7684\u6982\u7387\u53ef\u4ee5\u901a\u8fc7LSTM\u8ba1\u7b97\uff0c\u56e0\u4e3a\u8bcdA\u51fa\u73b0\u7684\u6982\u7387\u662f\u53d6\u51b3\u4e8e\u524d\u9762\u51fa\u73b0\u8fc7\u7684\u8bcd\u7684\uff0c\u4f46\u53d6\u51b3\u4e8e\u524d\u9762\u591a\u5c11\u4e2a\u8bcd\u662f\u4e0d\u786e\u5b9a\u7684\uff0c\u8fd9\u6b63\u662fLSTM\u6240\u505a\u7684\u5b58\u50a8\u7740\u8bb0\u5fc6\u4fe1\u606fC\uff0c\u4f7f\u5f97\u80fd\u591f\u5f97\u51fa\u8f83\u63a5\u8fd1\u7684\u6982\u7387\u3002", 
            "title": "RNN\u7684\u8bad\u7ec3\u65b9\u6cd5"
        }, 
        {
            "location": "/26.rnn/#_3", 
            "text": "RNN\u5c31\u662f\u8fd9\u6837\u4e00\u79cd\u795e\u7ecf\u7f51\u7edc\uff0c\u5b83\u8ba9\u9690\u85cf\u5c42\u81ea\u8eab\u4e4b\u95f4\u5b58\u5728\u6709\u5411\u73af\uff0c\u4ece\u800c\u66f4\u63a5\u8fd1\u751f\u7269\u795e\u7ecf\u7f51\u7edc\uff0c\u4e5f\u5177\u6709\u4e86\u5b58\u50a8\u8bb0\u5fc6\u7684\u80fd\u529b\uff0c\u800cLSTM\u4f5c\u4e3aRNN\u4e2d\u66f4\u6709\u5b9e\u7528\u4ef7\u503c\u7684\u4e00\u79cd\uff0c\u901a\u8fc7\u5b83\u7279\u6b8a\u7684\u7ed3\u6784\u8bbe\u8ba1\u5b9e\u73b0\u4e86\u6c38\u4e45\u8bb0\u5fc6\u7559\u5b58\uff0c\u66f4\u9002\u5408\u4e8eNLP\uff0c\u8fd9\u4e5f\u4e3a\u5c06\u6df1\u5ea6\u5b66\u4e60\u5e94\u7528\u5230\u81ea\u7136\u8bed\u8a00\u5904\u7406\u5f00\u4e86\u5148\u6cb3\uff0c\u6709\u8bb0\u5fc6\u662f\u7ed9\u804a\u5929\u673a\u5668\u4eba\u8d4b\u4e88\u667a\u80fd\u7684\u524d\u63d0\uff0c\u8fd9\u4e5f\u4e3a\u6211\u4eec\u7684\u804a\u5929\u673a\u5668\u4eba\u5960\u5b9a\u4e86\u5b9e\u8df5\u57fa\u7840\u3002", 
            "title": "\u603b\u7ed3"
        }, 
        {
            "location": "/27.auto-faq/", 
            "text": "\u804a\u5929\u673a\u5668\u4eba\u672c\u8d28\u4e0a\u662f\u4e00\u4e2a\u8303\u95ee\u7b54\u7cfb\u7edf\uff0c\u65e2\u7136\u662f\u95ee\u7b54\u7cfb\u7edf\u5c31\u79bb\u4e0d\u5f00\u5019\u9009\u7b54\u6848\u7684\u9009\u62e9\uff0c\u5229\u7528\u6df1\u5ea6\u5b66\u4e60\u7684\u65b9\u6cd5\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u627e\u5230\u6700\u4f73\u7684\u7b54\u6848\uff0c\u672c\u8282\u6211\u4eec\u6765\u8bb2\u8ff0\u4e00\u4e0b\u7528\u6df1\u5ea6\u5b66\u4e60\u6765\u505a\u81ea\u52a8\u95ee\u7b54\u7684\u4e00\u822c\u65b9\u6cd5 \n\n\n\u8bed\u6599\u5e93\u7684\u83b7\u53d6\u65b9\u6cd5\n\n\n\u5bf9\u4e8e\u4e00\u4e2a\u8303\u95ee\u7b54\u7cfb\u7edf\uff0c\u4e00\u822c\u6211\u4eec\u4ece\u4e92\u8054\u7f51\u4e0a\u6536\u96c6\u8bed\u6599\u4fe1\u606f\uff0c\u6bd4\u5982\u767e\u5ea6\u3001\u8c37\u6b4c\u7b49\uff0c\u7528\u8fd9\u4e9b\u7ed3\u679c\u6784\u5efa\u95ee\u7b54\u5bf9\u7ec4\u6210\u7684\u8bed\u6599\u5e93\u3002\u7136\u540e\u628a\u8fd9\u4e9b\u8bed\u6599\u5e93\u5206\u6210\u591a\u4e2a\u90e8\u5206\uff1a\u8bad\u7ec3\u96c6\u3001\u5f00\u53d1\u96c6\u3001\u6d4b\u8bd5\u96c6\n\n\n\u95ee\u7b54\u7cfb\u7edf\u8bad\u7ec3\u5176\u5b9e\u662f\u8bad\u7ec3\u4e00\u4e2a\u600e\u4e48\u5728\u4e00\u5806\u7b54\u6848\u91cc\u627e\u5230\u4e00\u4e2a\u6b63\u786e\u7b54\u6848\u7684\u6a21\u578b\uff0c\u90a3\u4e48\u4e3a\u4e86\u8ba9\u6837\u672c\u66f4\u6709\u6548\uff0c\u5728\u8bad\u7ec3\u8fc7\u7a0b\u4e2d\u6211\u4eec\u4e0d\u628a\u6240\u6709\u7b54\u6848\u90fd\u653e\u5230\u4e00\u4e2a\u5411\u91cf\u7a7a\u95f4\u4e2d\uff0c\u800c\u662f\u5bf9\u4ed6\u4eec\u505a\u4e2a\u5206\u7ec4\uff0c\u9996\u5148\uff0c\u6211\u4eec\u5728\u8bed\u6599\u5e93\u91cc\u91c7\u96c6\u6837\u672c\uff0c\u6536\u96c6\u6bcf\u4e00\u4e2a\u95ee\u9898\u5bf9\u5e94\u7684500\u4e2a\u7b54\u6848\u96c6\u5408\uff0c\u5176\u4e2d\u8fd9500\u4e2a\u91cc\u9762\u6709\u6b63\u5411\u7684\u6837\u672c\uff0c\u4e5f\u4f1a\u968f\u673a\u9009\u4e00\u4e9b\u8d1f\u5411\u6837\u672c\u653e\u91cc\u9762\uff0c\u8fd9\u6837\u5c31\u80fd\u7a81\u51fa\u8fd9\u4e2a\u6b63\u5411\u6837\u672c\u7684\u4f5c\u7528\u4e86\n\n\n\u57fa\u4e8eCNN\u7684\u7cfb\u7edf\u8bbe\u8ba1\n\n\nCNN\u7684\u4e09\u4e2a\u4f18\u70b9\uff1asparse interaction(\u7a00\u758f\u7684\u4ea4\u4e92)\uff0cparameter sharing(\u53c2\u6570\u5171\u4eab)\uff0cequivalent respresentation(\u7b49\u4ef7\u8868\u793a)\u3002\u6b63\u662f\u7531\u4e8e\u8fd9\u4e09\u65b9\u9762\u7684\u4f18\u70b9\uff0c\u624d\u66f4\u9002\u5408\u4e8e\u81ea\u52a8\u95ee\u7b54\u7cfb\u7edf\u4e2d\u7684\u7b54\u6848\u9009\u62e9\u6a21\u578b\u7684\u8bad\u7ec3\u3002\n\n\n\u6211\u4eec\u8bbe\u8ba1\u5377\u79ef\u516c\u5f0f\u8868\u793a\u5982\u4e0b\uff08\u4e0d\u4e86\u89e3\u5377\u79ef\u7684\u542b\u4e49\u8bf7\u89c1\u300a\u673a\u5668\u5b66\u4e60\u6559\u7a0b \u5341\u4e94-\u7ec6\u89e3\u5377\u79ef\u795e\u7ecf\u7f51\u7edc\u300b\uff09\uff1a\n\n\n\u5047\u8bbe\u6bcf\u4e2a\u8bcd\u7528\u4e09\u7ef4\u5411\u91cf\u8868\u793a\uff0c\u5de6\u8fb9\u662f4\u4e2a\u8bcd\uff0c\u53f3\u8fb9\u662f\u5377\u79ef\u77e9\u9635\uff0c\u90a3\u4e48\u5f97\u5230\u8f93\u51fa\u4e3a\uff1a\n\n\n\u5982\u679c\u57fa\u4e8e\u8fd9\u4e2a\u7ed3\u679c\u505a1-MaxPool\u6c60\u5316\uff0c\u90a3\u4e48\u5c31\u53d6o\u4e2d\u7684\u6700\u5927\u503c\n\n\n\u901a\u7528\u7684\u8bad\u7ec3\u65b9\u6cd5\n\n\n\u8bad\u7ec3\u65f6\u83b7\u53d6\u95ee\u9898\u7684\u8bcd\u5411\u91cfVq(\u8fd9\u91cc\u9762\u8bcd\u5411\u91cf\u53ef\u4ee5\u4f7f\u7528google\u7684word2vec\u6765\u8bad\u7ec3,\u6709\u5173word2vec\u7684\u5185\u5bb9\u53ef\u4ee5\u770b\u300a\u81ea\u5df1\u52a8\u624b\u505a\u804a\u5929\u673a\u5668\u4eba \u4e8c\u5341\u4e94-google\u7684\u6587\u672c\u6316\u6398\u6df1\u5ea6\u5b66\u4e60\u5de5\u5177word2vec\u7684\u5b9e\u73b0\u539f\u7406\u300b)\uff0c\u548c\u4e00\u4e2a\u6b63\u5411\u7b54\u6848\u7684\u8bcd\u5411\u91cfVa+\uff0c\u548c\u4e00\u4e2a\u8d1f\u5411\u7b54\u6848\u7684\u8bcd\u5411\u91cfVa-\uff0c \u7136\u540e\u6bd4\u8f83\u95ee\u9898\u548c\u8fd9\u4e24\u4e2a\u7b54\u6848\u7684\u76f8\u4f3c\u5ea6\uff0c\u4e24\u4e2a\u76f8\u4f3c\u5ea6\u7684\u5dee\u503c\u5982\u679c\u5927\u4e8e\u4e00\u4e2a\u9608\u503cm\u5c31\u7528\u6765\u66f4\u65b0\u6a21\u578b\u53c2\u6570\uff0c\u7136\u540e\u7ee7\u7eed\u5728\u5019\u9009\u6c60\u91cc\u9009\u7b54\u6848\uff0c\u5c0f\u4e8em\u5c31\u4e0d\u66f4\u65b0\u6a21\u578b\uff0c\u5373\u4f18\u5316\u51fd\u6570\u4e3a\uff1a\n\n\n\u53c2\u6570\u66f4\u65b0\u65b9\u5f0f\u548c\u5176\u4ed6\u5377\u79ef\u795e\u7ecf\u7f51\u7edc\u65b9\u5f0f\u76f8\u540c\uff0c\u90fd\u662f\u68af\u5ea6\u4e0b\u964d\u3001\u94fe\u5f0f\u6c42\u5bfc\n\n\n\u5bf9\u4e8e\u6d4b\u8bd5\u6570\u636e\uff0c\u8ba1\u7b97\u95ee\u9898\u548c\u5019\u9009\u7b54\u6848\u7684cos\u8ddd\u79bb\uff0c\u76f8\u4f3c\u5ea6\u6700\u5927\u7684\u90a3\u4e2a\u5c31\u662f\u6b63\u786e\u7b54\u6848\u7684\u9884\u6d4b\n\n\n\u795e\u7ecf\u7f51\u7edc\u7ed3\u6784\u8bbe\u8ba1\n\n\n\u4ee5\u4e0b\u662f\u516d\u79cd\u7ed3\u6784\u8bbe\u8ba1\uff0c\u89e3\u91ca\u4e00\u4e0b\uff0c\u5176\u4e2dHL\u8868\u793ahide layer\u9690\u85cf\u5c42\uff0c\u5b83\u7684\u6fc0\u6d3b\u51fd\u6570\u8bbe\u8ba1\u6210z = tanh(Wx+B)\uff0cCNN\u662f\u5377\u79ef\u5c42\uff0cP\u662f\u6c60\u5316\u5c42\uff0c\u6c60\u5316\u6b65\u957f\u4e3a1\uff0cT\u662ftanh\u5c42\uff0cP+T\u7684\u8f93\u51fa\u662f\u5411\u91cf\u8868\u793a\uff0c\u6700\u7ec8\u7684\u8f93\u51fa\u662f\u4e24\u4e2a\u5411\u91cf\u7684cos\u76f8\u4f3c\u5ea6\n\n\n\u56fe\u4e2dHL\u6216CNN\u8fde\u8d77\u6765\u7684\u8868\u793a\u4ed6\u4eec\u5171\u4eab\u76f8\u540c\u7684\u6743\u91cd\u3002CNN\u7684\u8f93\u51fa\u662f\u51e0\u7ef4\u7684\u53d6\u51b3\u4e8e\u505a\u591a\u5c11\u4e2a\u5377\u79ef\u7279\u5f81\uff0c\u5982\u679c\u67094\u4e2a\u5377\u79ef\uff0c\u90a3\u4e48\u7ed3\u679c\u5c31\u662f4*3\u7684\u77e9\u9635(\u8fd9\u91cc\u9762\u76843\u5728\u4e0b\u4e00\u6b65\u88ab\u6c60\u5316\u540e\u5c31\u53d8\u62101\u7ef4\u4e86)\n\n\n\u4ee5\u4e0a\u7ed3\u6784\u7684\u6548\u679c\u5728\u8bba\u6587\u300aApplying Deep Learning To Answer Selection- A Study And An Open Task\u300b\u4e2d\u6709\u8be6\u7ec6\u8bf4\u660e\uff0c\u8fd9\u91cc\u4e0d\u8d58\u8ff0\n\n\n\u603b\u7ed3\n\n\n\u8981\u628a\u6df1\u5ea6\u5b66\u4e60\u8fd0\u7528\u5230\u804a\u5929\u673a\u5668\u4eba\u4e2d\uff0c\u5173\u952e\u5728\u4e8e\u4ee5\u4e0b\u51e0\u70b9\uff1a\n\n\n\n\n\n\n\u5bf9\u51e0\u79cd\u795e\u7ecf\u7f51\u7edc\u7ed3\u6784\u7684\u9009\u62e9\u3001\u7ec4\u5408\u3001\u4f18\u5316\n\n\n\n\n\n\n\u56e0\u4e3a\u662f\u6709\u5173\u81ea\u7136\u8bed\u8a00\u5904\u7406\uff0c\u6240\u4ee5\u5c11\u4e0d\u4e86\u80fd\u8ba9\u673a\u5668\u8bc6\u522b\u7684\u8bcd\u5411\u91cf\n\n\n\n\n\n\n\u5f53\u6d89\u53ca\u5230\u76f8\u4f3c\u6216\u5339\u914d\u5173\u7cfb\u65f6\u8981\u8003\u8651\u76f8\u4f3c\u5ea6\u8ba1\u7b97\uff0c\u5178\u578b\u7684\u65b9\u6cd5\u662fcos\u8ddd\u79bb\n\n\n\n\n\n\n\u5982\u679c\u9700\u6c42\u6d89\u53ca\u5230\u6587\u672c\u5e8f\u5217\u7684\u5168\u5c40\u4fe1\u606f\u5c31\u7528CNN\u6216LSTM\n\n\n\n\n\n\n\u5f53\u7cbe\u5ea6\u4e0d\u9ad8\u65f6\u53ef\u4ee5\u52a0\u5c42\n\n\n\n\n\n\n\u5f53\u8ba1\u7b97\u91cf\u8fc7\u5927\u65f6\u522b\u5fd8\u4e86\u53c2\u6570\u5171\u4eab\u548c\u6c60\u5316", 
            "title": "\u4e8c\u5341\u4e03-\u81ea\u52a8\u95ee\u7b54"
        }, 
        {
            "location": "/27.auto-faq/#_1", 
            "text": "\u5bf9\u4e8e\u4e00\u4e2a\u8303\u95ee\u7b54\u7cfb\u7edf\uff0c\u4e00\u822c\u6211\u4eec\u4ece\u4e92\u8054\u7f51\u4e0a\u6536\u96c6\u8bed\u6599\u4fe1\u606f\uff0c\u6bd4\u5982\u767e\u5ea6\u3001\u8c37\u6b4c\u7b49\uff0c\u7528\u8fd9\u4e9b\u7ed3\u679c\u6784\u5efa\u95ee\u7b54\u5bf9\u7ec4\u6210\u7684\u8bed\u6599\u5e93\u3002\u7136\u540e\u628a\u8fd9\u4e9b\u8bed\u6599\u5e93\u5206\u6210\u591a\u4e2a\u90e8\u5206\uff1a\u8bad\u7ec3\u96c6\u3001\u5f00\u53d1\u96c6\u3001\u6d4b\u8bd5\u96c6  \u95ee\u7b54\u7cfb\u7edf\u8bad\u7ec3\u5176\u5b9e\u662f\u8bad\u7ec3\u4e00\u4e2a\u600e\u4e48\u5728\u4e00\u5806\u7b54\u6848\u91cc\u627e\u5230\u4e00\u4e2a\u6b63\u786e\u7b54\u6848\u7684\u6a21\u578b\uff0c\u90a3\u4e48\u4e3a\u4e86\u8ba9\u6837\u672c\u66f4\u6709\u6548\uff0c\u5728\u8bad\u7ec3\u8fc7\u7a0b\u4e2d\u6211\u4eec\u4e0d\u628a\u6240\u6709\u7b54\u6848\u90fd\u653e\u5230\u4e00\u4e2a\u5411\u91cf\u7a7a\u95f4\u4e2d\uff0c\u800c\u662f\u5bf9\u4ed6\u4eec\u505a\u4e2a\u5206\u7ec4\uff0c\u9996\u5148\uff0c\u6211\u4eec\u5728\u8bed\u6599\u5e93\u91cc\u91c7\u96c6\u6837\u672c\uff0c\u6536\u96c6\u6bcf\u4e00\u4e2a\u95ee\u9898\u5bf9\u5e94\u7684500\u4e2a\u7b54\u6848\u96c6\u5408\uff0c\u5176\u4e2d\u8fd9500\u4e2a\u91cc\u9762\u6709\u6b63\u5411\u7684\u6837\u672c\uff0c\u4e5f\u4f1a\u968f\u673a\u9009\u4e00\u4e9b\u8d1f\u5411\u6837\u672c\u653e\u91cc\u9762\uff0c\u8fd9\u6837\u5c31\u80fd\u7a81\u51fa\u8fd9\u4e2a\u6b63\u5411\u6837\u672c\u7684\u4f5c\u7528\u4e86", 
            "title": "\u8bed\u6599\u5e93\u7684\u83b7\u53d6\u65b9\u6cd5"
        }, 
        {
            "location": "/27.auto-faq/#cnn", 
            "text": "CNN\u7684\u4e09\u4e2a\u4f18\u70b9\uff1asparse interaction(\u7a00\u758f\u7684\u4ea4\u4e92)\uff0cparameter sharing(\u53c2\u6570\u5171\u4eab)\uff0cequivalent respresentation(\u7b49\u4ef7\u8868\u793a)\u3002\u6b63\u662f\u7531\u4e8e\u8fd9\u4e09\u65b9\u9762\u7684\u4f18\u70b9\uff0c\u624d\u66f4\u9002\u5408\u4e8e\u81ea\u52a8\u95ee\u7b54\u7cfb\u7edf\u4e2d\u7684\u7b54\u6848\u9009\u62e9\u6a21\u578b\u7684\u8bad\u7ec3\u3002  \u6211\u4eec\u8bbe\u8ba1\u5377\u79ef\u516c\u5f0f\u8868\u793a\u5982\u4e0b\uff08\u4e0d\u4e86\u89e3\u5377\u79ef\u7684\u542b\u4e49\u8bf7\u89c1\u300a\u673a\u5668\u5b66\u4e60\u6559\u7a0b \u5341\u4e94-\u7ec6\u89e3\u5377\u79ef\u795e\u7ecf\u7f51\u7edc\u300b\uff09\uff1a  \u5047\u8bbe\u6bcf\u4e2a\u8bcd\u7528\u4e09\u7ef4\u5411\u91cf\u8868\u793a\uff0c\u5de6\u8fb9\u662f4\u4e2a\u8bcd\uff0c\u53f3\u8fb9\u662f\u5377\u79ef\u77e9\u9635\uff0c\u90a3\u4e48\u5f97\u5230\u8f93\u51fa\u4e3a\uff1a  \u5982\u679c\u57fa\u4e8e\u8fd9\u4e2a\u7ed3\u679c\u505a1-MaxPool\u6c60\u5316\uff0c\u90a3\u4e48\u5c31\u53d6o\u4e2d\u7684\u6700\u5927\u503c", 
            "title": "\u57fa\u4e8eCNN\u7684\u7cfb\u7edf\u8bbe\u8ba1"
        }, 
        {
            "location": "/27.auto-faq/#_2", 
            "text": "\u8bad\u7ec3\u65f6\u83b7\u53d6\u95ee\u9898\u7684\u8bcd\u5411\u91cfVq(\u8fd9\u91cc\u9762\u8bcd\u5411\u91cf\u53ef\u4ee5\u4f7f\u7528google\u7684word2vec\u6765\u8bad\u7ec3,\u6709\u5173word2vec\u7684\u5185\u5bb9\u53ef\u4ee5\u770b\u300a\u81ea\u5df1\u52a8\u624b\u505a\u804a\u5929\u673a\u5668\u4eba \u4e8c\u5341\u4e94-google\u7684\u6587\u672c\u6316\u6398\u6df1\u5ea6\u5b66\u4e60\u5de5\u5177word2vec\u7684\u5b9e\u73b0\u539f\u7406\u300b)\uff0c\u548c\u4e00\u4e2a\u6b63\u5411\u7b54\u6848\u7684\u8bcd\u5411\u91cfVa+\uff0c\u548c\u4e00\u4e2a\u8d1f\u5411\u7b54\u6848\u7684\u8bcd\u5411\u91cfVa-\uff0c \u7136\u540e\u6bd4\u8f83\u95ee\u9898\u548c\u8fd9\u4e24\u4e2a\u7b54\u6848\u7684\u76f8\u4f3c\u5ea6\uff0c\u4e24\u4e2a\u76f8\u4f3c\u5ea6\u7684\u5dee\u503c\u5982\u679c\u5927\u4e8e\u4e00\u4e2a\u9608\u503cm\u5c31\u7528\u6765\u66f4\u65b0\u6a21\u578b\u53c2\u6570\uff0c\u7136\u540e\u7ee7\u7eed\u5728\u5019\u9009\u6c60\u91cc\u9009\u7b54\u6848\uff0c\u5c0f\u4e8em\u5c31\u4e0d\u66f4\u65b0\u6a21\u578b\uff0c\u5373\u4f18\u5316\u51fd\u6570\u4e3a\uff1a  \u53c2\u6570\u66f4\u65b0\u65b9\u5f0f\u548c\u5176\u4ed6\u5377\u79ef\u795e\u7ecf\u7f51\u7edc\u65b9\u5f0f\u76f8\u540c\uff0c\u90fd\u662f\u68af\u5ea6\u4e0b\u964d\u3001\u94fe\u5f0f\u6c42\u5bfc  \u5bf9\u4e8e\u6d4b\u8bd5\u6570\u636e\uff0c\u8ba1\u7b97\u95ee\u9898\u548c\u5019\u9009\u7b54\u6848\u7684cos\u8ddd\u79bb\uff0c\u76f8\u4f3c\u5ea6\u6700\u5927\u7684\u90a3\u4e2a\u5c31\u662f\u6b63\u786e\u7b54\u6848\u7684\u9884\u6d4b", 
            "title": "\u901a\u7528\u7684\u8bad\u7ec3\u65b9\u6cd5"
        }, 
        {
            "location": "/27.auto-faq/#_3", 
            "text": "\u4ee5\u4e0b\u662f\u516d\u79cd\u7ed3\u6784\u8bbe\u8ba1\uff0c\u89e3\u91ca\u4e00\u4e0b\uff0c\u5176\u4e2dHL\u8868\u793ahide layer\u9690\u85cf\u5c42\uff0c\u5b83\u7684\u6fc0\u6d3b\u51fd\u6570\u8bbe\u8ba1\u6210z = tanh(Wx+B)\uff0cCNN\u662f\u5377\u79ef\u5c42\uff0cP\u662f\u6c60\u5316\u5c42\uff0c\u6c60\u5316\u6b65\u957f\u4e3a1\uff0cT\u662ftanh\u5c42\uff0cP+T\u7684\u8f93\u51fa\u662f\u5411\u91cf\u8868\u793a\uff0c\u6700\u7ec8\u7684\u8f93\u51fa\u662f\u4e24\u4e2a\u5411\u91cf\u7684cos\u76f8\u4f3c\u5ea6  \u56fe\u4e2dHL\u6216CNN\u8fde\u8d77\u6765\u7684\u8868\u793a\u4ed6\u4eec\u5171\u4eab\u76f8\u540c\u7684\u6743\u91cd\u3002CNN\u7684\u8f93\u51fa\u662f\u51e0\u7ef4\u7684\u53d6\u51b3\u4e8e\u505a\u591a\u5c11\u4e2a\u5377\u79ef\u7279\u5f81\uff0c\u5982\u679c\u67094\u4e2a\u5377\u79ef\uff0c\u90a3\u4e48\u7ed3\u679c\u5c31\u662f4*3\u7684\u77e9\u9635(\u8fd9\u91cc\u9762\u76843\u5728\u4e0b\u4e00\u6b65\u88ab\u6c60\u5316\u540e\u5c31\u53d8\u62101\u7ef4\u4e86)  \u4ee5\u4e0a\u7ed3\u6784\u7684\u6548\u679c\u5728\u8bba\u6587\u300aApplying Deep Learning To Answer Selection- A Study And An Open Task\u300b\u4e2d\u6709\u8be6\u7ec6\u8bf4\u660e\uff0c\u8fd9\u91cc\u4e0d\u8d58\u8ff0", 
            "title": "\u795e\u7ecf\u7f51\u7edc\u7ed3\u6784\u8bbe\u8ba1"
        }, 
        {
            "location": "/27.auto-faq/#_4", 
            "text": "\u8981\u628a\u6df1\u5ea6\u5b66\u4e60\u8fd0\u7528\u5230\u804a\u5929\u673a\u5668\u4eba\u4e2d\uff0c\u5173\u952e\u5728\u4e8e\u4ee5\u4e0b\u51e0\u70b9\uff1a    \u5bf9\u51e0\u79cd\u795e\u7ecf\u7f51\u7edc\u7ed3\u6784\u7684\u9009\u62e9\u3001\u7ec4\u5408\u3001\u4f18\u5316    \u56e0\u4e3a\u662f\u6709\u5173\u81ea\u7136\u8bed\u8a00\u5904\u7406\uff0c\u6240\u4ee5\u5c11\u4e0d\u4e86\u80fd\u8ba9\u673a\u5668\u8bc6\u522b\u7684\u8bcd\u5411\u91cf    \u5f53\u6d89\u53ca\u5230\u76f8\u4f3c\u6216\u5339\u914d\u5173\u7cfb\u65f6\u8981\u8003\u8651\u76f8\u4f3c\u5ea6\u8ba1\u7b97\uff0c\u5178\u578b\u7684\u65b9\u6cd5\u662fcos\u8ddd\u79bb    \u5982\u679c\u9700\u6c42\u6d89\u53ca\u5230\u6587\u672c\u5e8f\u5217\u7684\u5168\u5c40\u4fe1\u606f\u5c31\u7528CNN\u6216LSTM    \u5f53\u7cbe\u5ea6\u4e0d\u9ad8\u65f6\u53ef\u4ee5\u52a0\u5c42    \u5f53\u8ba1\u7b97\u91cf\u8fc7\u5927\u65f6\u522b\u5fd8\u4e86\u53c2\u6570\u5171\u4eab\u548c\u6c60\u5316", 
            "title": "\u603b\u7ed3"
        }, 
        {
            "location": "/28.subtitle-corpus/", 
            "text": "\u8981\u8ba9\u804a\u5929\u673a\u5668\u4eba\u8fdb\u884c\u5b66\u4e60\uff0c\u9700\u8981\u6d77\u91cf\u7684\u804a\u5929\u8bed\u6599\u5e93\uff0c\u4f46\u662f\u7f51\u4e0a\u7684\u8bed\u6599\u5e93\u57fa\u672c\u4e0a\u90fd\u662f\u6709\u5404\u79cd\u6807\u6ce8\u7684\u6587\u7ae0\uff0c\u5e76\u6ca1\u6709\u53ef\u7528\u7684\u5bf9\u8bdd\u8bed\u6599\uff0c\u867d\u7136\u6709\u4e00\u4e9b\u793e\u533a\u7684\u5e16\u5b50\u6570\u636e\uff0c\u4f46\u662f\u65e2\u8981\u82b1\u5927\u628a\u94f6\u5b50\u8fd8\u4e0d\u77e5\u9053\u8d28\u91cf\u5982\u4f55\u3002\u7b14\u8005\u7a81\u7136\u7075\u673a\u4e00\u52a8\uff0c\u627e\u5230\u4e00\u4e2a\u5999\u62db\u80fd\u83b7\u53d6\u6d77\u91cf\u9ad8\u8d28\u804a\u5929\u8bed\u6599\uff0c\u8fd9\u4e0b\u804a\u5929\u673a\u5668\u4eba\u518d\u4e5f\u4e0d\u6101\u8bed\u6599\u6570\u636e\u4e86\u3002 \n\n\n\u7f8e\u5267\u5b57\u5e55\n\n\n\u662f\u7684\uff0c\u4f60\u6ca1\u6709\u770b\u9519\uff0c\u6211\u5c31\u662f\u8fd9\u6837\u83b7\u53d6\u6d77\u91cf\u9ad8\u8d28\u804a\u5929\u8bed\u6599\u7684\u3002\u5916\u6587\u7535\u5f71\u6216\u7535\u89c6\u5267\u7684\u5b57\u5e55\u6587\u4ef6\u662f\u4e00\u4e2a\u5929\u7136\u7684\u804a\u5929\u8bed\u6599\uff0c\u5c24\u5176\u662f\u5bf9\u8bdd\u6bd4\u8f83\u591a\u7684\u7f8e\u5267\u6700\u4f73\u3002\u4e3a\u4e86\u80fd\u4e0b\u8f7d\u5927\u91cf\u7f8e\u5267\u5b57\u5e55\uff0c\u6211\u6253\u7b97\u6293\u53d6\u5b57\u5e55\u5e93\u7f51\u7ad9www.zimuku.net\uff0c\u5f53\u7136\u4f60\u4e5f\u53ef\u4ee5\u9009\u62e9\u5176\u4ed6\u7f51\u7ad9\u6293\u53d6\u3002\n\n\n\u81ea\u52a8\u6293\u53d6\u5b57\u5e55\n\n\n\u6709\u5173\u722c\u866b\u76f8\u5173\u5185\u5bb9\u8bf7\u89c1\u6211\u7684\u53e6\u4e00\u7bc7\u6587\u7ae0\u300a\u6559\u4f60\u6210\u4e3a\u5168\u6808\u5de5\u7a0b\u5e08(Full Stack Developer) \u4e09\u5341-\u5341\u5206\u949f\u638c\u63e1\u6700\u5f3a\u5927\u7684python\u722c\u866b\u300b\u3002\u5728\u8fd9\u91cc\u6211\u76f4\u63a5\u8d34\u4e0a\u6211\u7684\u6293\u53d6\u5668\u91cd\u8981\u4ee3\u7801(\u4ee3\u7801\u5171\u4eab\u5728\u4e86https://github.com/warmheartli/ChatBotCourse)\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n# coding:utf-8\n\n\n\nimport\n \nsys\n\n\nreload\n(\nsys\n)\n\n\nsys\n.\nsetdefaultencoding\n(\n \nutf-8\n \n)\n\n\n\nimport\n \nscrapy\n\n\nfrom\n \nw3lib.html\n \nimport\n \nremove_tags\n\n\nfrom\n \nsubtitle_crawler.items\n \nimport\n \nSubtitleCrawlerItem\n\n\n\nclass\n \nSubTitleSpider\n(\nscrapy\n.\nSpider\n):\n\n    \nname\n \n=\n \nsubtitle\n\n    \nallowed_domains\n \n=\n \n[\nzimuku.net\n]\n\n    \nstart_urls\n \n=\n \n[\n\n            \nhttp://www.zimuku.net/search?q=\nt=onlyst\nad=1\np=20\n,\n\n            \nhttp://www.zimuku.net/search?q=\nt=onlyst\nad=1\np=21\n,\n\n            \nhttp://www.zimuku.net/search?q=\nt=onlyst\nad=1\np=22\n,\n\n    \n]\n\n\n    \ndef\n \nparse\n(\nself\n,\n \nresponse\n):\n\n        \nhrefs\n \n=\n \nresponse\n.\nselector\n.\nxpath\n(\n//div[contains(@class, \npersub\n)]/h1/a/@href\n)\n.\nextract\n()\n\n        \nfor\n \nhref\n \nin\n \nhrefs\n:\n\n            \nurl\n \n=\n \nresponse\n.\nurljoin\n(\nhref\n)\n\n            \nrequest\n \n=\n \nscrapy\n.\nRequest\n(\nurl\n,\n \ncallback\n=\nself\n.\nparse_detail\n)\n\n            \nyield\n \nrequest\n\n\n    \ndef\n \nparse_detail\n(\nself\n,\n \nresponse\n):\n\n        \nurl\n \n=\n \nresponse\n.\nselector\n.\nxpath\n(\n//li[contains(@class, \ndlsub\n)]/div/a/@href\n)\n.\nextract\n()[\n0\n]\n\n        \nprint\n \nprocessing: \n,\n \nurl\n\n        \nrequest\n \n=\n \nscrapy\n.\nRequest\n(\nurl\n,\n \ncallback\n=\nself\n.\nparse_file\n)\n\n        \nyield\n \nrequest\n\n\n    \ndef\n \nparse_file\n(\nself\n,\n \nresponse\n):\n\n        \nbody\n \n=\n \nresponse\n.\nbody\n\n        \nitem\n \n=\n \nSubtitleCrawlerItem\n()\n\n        \nitem\n[\nurl\n]\n \n=\n \nresponse\n.\nurl\n\n        \nitem\n[\nbody\n]\n \n=\n \nbody\n\n        \nreturn\n \nitem\n\n\n\n\n\n\n\n\u4e0b\u9762\u662fpipeline.py\u4ee3\u7801\uff1a\n\n\n1\n2\n3\n4\n5\n6\n7\n8\nclass\n \nSubtitleCrawlerPipeline\n(\nobject\n):\n\n    \ndef\n \nprocess_item\n(\nself\n,\n \nitem\n,\n \nspider\n):\n\n        \nurl\n \n=\n \nitem\n[\nurl\n]\n\n        \nfile_name\n \n=\n \nurl\n.\nreplace\n(\n/\n,\n_\n)\n.\nreplace\n(\n:\n,\n_\n)\n\n        \nfp\n \n=\n \nopen\n(\nresult/\n+\nfile_name\n,\n \nw\n)\n\n        \nfp\n.\nwrite\n(\nitem\n[\nbody\n])\n\n        \nfp\n.\nclose\n()\n\n        \nreturn\n \nitem\n\n\n\n\n\n\n\n\u770b\u4e0b\u6211\u6293\u53d6\u7684\u6700\u7ec8\u6548\u679c\n\n\n1\n2\n3\n4\n5\n6\n[\nroot@centos:~/Developer/ChatBotCourse/subtitle $\n]\n ls result/\n|\nhead -1\nhttp___shooter.zimuku.net_download_265300_Hick.2011.720p.BluRay.x264.YIFY.rar\n\n[\nroot@centos:~/Developer/ChatBotCourse/subtitle $\n]\n ls result/\n|\nwc -l\n\n82575\n\n\n[\nroot@centos:~/Developer/ChatBotCourse/subtitle $\n]\n du -hs result/\n16G     result/\n\n\n\n\n\n\n\u5b57\u5e55\u6587\u4ef6\u7684\u89e3\u538b\u65b9\u6cd5\n\n\nlinux\u4e0b\u600e\u4e48\u89e3\u538bzip\u6587\u4ef6\n\u76f4\u63a5\u6267\u884cunzip file.zip\u5373\u53ef\n\n\nlinux\u4e0b\u600e\u4e48\u89e3\u538brar\u6587\u4ef6\n\n\n1\n2\n3\n4\n5\n6\n7\nhttp://www.rarlab.com/download.htm\n\nwget http://www.rarlab.com/rar/rarlinux-x64-5.4.0.tar.gz\n\ntar zxvf rarlinux-x64-5.4.0.tar.gz\n\n./rar/unrar\u8bd5\u8bd5\n\n\n\n\n\n\n\u89e3\u538b\u547d\u4ee4\uff1a\n\n\n1\nunrar x file.rar\n\n\n\n\n\n\nlinux\u4e0b\u600e\u4e48\u89e3\u538b7z\u6587\u4ef6\nhttp://downloads.sourceforge.net/project/p7zip\u4e0b\u8f7d\u6e90\u6587\u4ef6\uff0c\u89e3\u538b\u540e\u6267\u884cmake\u7f16\u8bd1\u540ebin/7za\u53ef\u7528\uff0c\u7528\u6cd5\n\n\n1\nbin/7za x file.7z\n\n\n\n\n\n\n\u6700\u7ec8\u5b57\u5e55\u7684\u5904\u7406\u65b9\u5f0f\n\n\n\u6709\u5173\u89e3\u538b\u51fa\u6765\u7684\u6587\u672c\u5b57\u5e55\u6587\u4ef6\u7684\u5904\u7406\uff0c\u6211\u540e\u9762\u7684\u6587\u7ae0\u4f1a\u8be6\u7ec6\u8bb2\u89e3\u5982\u4f55\u5206\u8bcd\u3001\u5982\u4f55\u7ec4\u5408\uff0c\u656c\u8bf7\u671f\u5f85\u3002", 
            "title": "\u4e8c\u5341\u516b-\u57fa\u4e8e\u7f8e\u5267\u5b57\u5e55\u7684\u804a\u5929\u8bed\u6599\u5e93\u5efa\u8bbe"
        }, 
        {
            "location": "/28.subtitle-corpus/#_1", 
            "text": "\u662f\u7684\uff0c\u4f60\u6ca1\u6709\u770b\u9519\uff0c\u6211\u5c31\u662f\u8fd9\u6837\u83b7\u53d6\u6d77\u91cf\u9ad8\u8d28\u804a\u5929\u8bed\u6599\u7684\u3002\u5916\u6587\u7535\u5f71\u6216\u7535\u89c6\u5267\u7684\u5b57\u5e55\u6587\u4ef6\u662f\u4e00\u4e2a\u5929\u7136\u7684\u804a\u5929\u8bed\u6599\uff0c\u5c24\u5176\u662f\u5bf9\u8bdd\u6bd4\u8f83\u591a\u7684\u7f8e\u5267\u6700\u4f73\u3002\u4e3a\u4e86\u80fd\u4e0b\u8f7d\u5927\u91cf\u7f8e\u5267\u5b57\u5e55\uff0c\u6211\u6253\u7b97\u6293\u53d6\u5b57\u5e55\u5e93\u7f51\u7ad9www.zimuku.net\uff0c\u5f53\u7136\u4f60\u4e5f\u53ef\u4ee5\u9009\u62e9\u5176\u4ed6\u7f51\u7ad9\u6293\u53d6\u3002", 
            "title": "\u7f8e\u5267\u5b57\u5e55"
        }, 
        {
            "location": "/28.subtitle-corpus/#_2", 
            "text": "\u6709\u5173\u722c\u866b\u76f8\u5173\u5185\u5bb9\u8bf7\u89c1\u6211\u7684\u53e6\u4e00\u7bc7\u6587\u7ae0\u300a\u6559\u4f60\u6210\u4e3a\u5168\u6808\u5de5\u7a0b\u5e08(Full Stack Developer) \u4e09\u5341-\u5341\u5206\u949f\u638c\u63e1\u6700\u5f3a\u5927\u7684python\u722c\u866b\u300b\u3002\u5728\u8fd9\u91cc\u6211\u76f4\u63a5\u8d34\u4e0a\u6211\u7684\u6293\u53d6\u5668\u91cd\u8981\u4ee3\u7801(\u4ee3\u7801\u5171\u4eab\u5728\u4e86https://github.com/warmheartli/ChatBotCourse)\uff1a   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38 # coding:utf-8  import   sys  reload ( sys )  sys . setdefaultencoding (   utf-8   )  import   scrapy  from   w3lib.html   import   remove_tags  from   subtitle_crawler.items   import   SubtitleCrawlerItem  class   SubTitleSpider ( scrapy . Spider ): \n     name   =   subtitle \n     allowed_domains   =   [ zimuku.net ] \n     start_urls   =   [ \n             http://www.zimuku.net/search?q= t=onlyst ad=1 p=20 , \n             http://www.zimuku.net/search?q= t=onlyst ad=1 p=21 , \n             http://www.zimuku.net/search?q= t=onlyst ad=1 p=22 , \n     ] \n\n     def   parse ( self ,   response ): \n         hrefs   =   response . selector . xpath ( //div[contains(@class,  persub )]/h1/a/@href ) . extract () \n         for   href   in   hrefs : \n             url   =   response . urljoin ( href ) \n             request   =   scrapy . Request ( url ,   callback = self . parse_detail ) \n             yield   request \n\n     def   parse_detail ( self ,   response ): \n         url   =   response . selector . xpath ( //li[contains(@class,  dlsub )]/div/a/@href ) . extract ()[ 0 ] \n         print   processing:  ,   url \n         request   =   scrapy . Request ( url ,   callback = self . parse_file ) \n         yield   request \n\n     def   parse_file ( self ,   response ): \n         body   =   response . body \n         item   =   SubtitleCrawlerItem () \n         item [ url ]   =   response . url \n         item [ body ]   =   body \n         return   item    \u4e0b\u9762\u662fpipeline.py\u4ee3\u7801\uff1a  1\n2\n3\n4\n5\n6\n7\n8 class   SubtitleCrawlerPipeline ( object ): \n     def   process_item ( self ,   item ,   spider ): \n         url   =   item [ url ] \n         file_name   =   url . replace ( / , _ ) . replace ( : , _ ) \n         fp   =   open ( result/ + file_name ,   w ) \n         fp . write ( item [ body ]) \n         fp . close () \n         return   item    \u770b\u4e0b\u6211\u6293\u53d6\u7684\u6700\u7ec8\u6548\u679c  1\n2\n3\n4\n5\n6 [ root@centos:~/Developer/ChatBotCourse/subtitle $ ]  ls result/ | head -1\nhttp___shooter.zimuku.net_download_265300_Hick.2011.720p.BluRay.x264.YIFY.rar [ root@centos:~/Developer/ChatBotCourse/subtitle $ ]  ls result/ | wc -l 82575  [ root@centos:~/Developer/ChatBotCourse/subtitle $ ]  du -hs result/\n16G     result/", 
            "title": "\u81ea\u52a8\u6293\u53d6\u5b57\u5e55"
        }, 
        {
            "location": "/28.subtitle-corpus/#_3", 
            "text": "linux\u4e0b\u600e\u4e48\u89e3\u538bzip\u6587\u4ef6\n\u76f4\u63a5\u6267\u884cunzip file.zip\u5373\u53ef  linux\u4e0b\u600e\u4e48\u89e3\u538brar\u6587\u4ef6  1\n2\n3\n4\n5\n6\n7 http://www.rarlab.com/download.htm\n\nwget http://www.rarlab.com/rar/rarlinux-x64-5.4.0.tar.gz\n\ntar zxvf rarlinux-x64-5.4.0.tar.gz\n\n./rar/unrar\u8bd5\u8bd5   \u89e3\u538b\u547d\u4ee4\uff1a  1 unrar x file.rar   linux\u4e0b\u600e\u4e48\u89e3\u538b7z\u6587\u4ef6\nhttp://downloads.sourceforge.net/project/p7zip\u4e0b\u8f7d\u6e90\u6587\u4ef6\uff0c\u89e3\u538b\u540e\u6267\u884cmake\u7f16\u8bd1\u540ebin/7za\u53ef\u7528\uff0c\u7528\u6cd5  1 bin/7za x file.7z", 
            "title": "\u5b57\u5e55\u6587\u4ef6\u7684\u89e3\u538b\u65b9\u6cd5"
        }, 
        {
            "location": "/28.subtitle-corpus/#_4", 
            "text": "\u6709\u5173\u89e3\u538b\u51fa\u6765\u7684\u6587\u672c\u5b57\u5e55\u6587\u4ef6\u7684\u5904\u7406\uff0c\u6211\u540e\u9762\u7684\u6587\u7ae0\u4f1a\u8be6\u7ec6\u8bb2\u89e3\u5982\u4f55\u5206\u8bcd\u3001\u5982\u4f55\u7ec4\u5408\uff0c\u656c\u8bf7\u671f\u5f85\u3002", 
            "title": "\u6700\u7ec8\u5b57\u5e55\u7684\u5904\u7406\u65b9\u5f0f"
        }, 
        {
            "location": "/29.corpus-1g/", 
            "text": "\u7ecf\u8fc7\u534a\u4e2a\u6708\u7684\u503e\u529b\u6253\u9020\uff0c\u5efa\u8bbe\u597d\u7684\u804a\u5929\u8bed\u6599\u5e93\u5305\u542b\u4e09\u5343\u591a\u4e07\u6761\u7b80\u4f53\u4e2d\u6587\u9ad8\u8d28\u91cf\u804a\u5929\u8bed\u6599\uff0c\u8fd11G\u7684\u7eaf\u6587\u672c\u6570\u636e\u3002\u6b64\u8bed\u6599\u5e93\u5168\u90e8\u57fa\u4e8e2\u4e07\u90e8\u5f71\u89c6\u5267\u5b57\u5e55\uff0c\u7ecf\u7531\u722c\u53d6\u3001\u5206\u7c7b\u3001\u89e3\u538b\u3001\u8bed\u8a00\u8bc6\u522b\u3001\u7f16\u7801\u8bc6\u522b\u3001\u7f16\u7801\u8f6c\u6362\u3001\u8fc7\u6ee4\u6e05\u6d17\u7b49\u4e00\u7cfb\u5217\u7e41\u7410\u8fc7\u7a0b\u3002\u628a\u6574\u4e2a\u5efa\u8bbe\u8fc7\u7a0b\u5206\u4eab\u51fa\u6765\u4f9b\u5927\u5bb6\u73a9\u800d\u3002 \n\n\n\u6ce8\u610f\uff1a\u672c\u6587\u63d0\u5230\u7684\u7a0b\u5e8f\u548c\u811a\u672c\u90fd\u5206\u4eab\u5728https://github.com/warmheartli/ChatBotCourse\u3002\u5982\u9700\u76f4\u63a5\u83b7\u53d6\u6700\u7ec8\u8bed\u6599\u5e93\uff0c\u8bf7\u89c1\u6587\u7ae0\u672b\u5c3e\u3002\n\n\n\u7b2c\u4e00\u6b65\uff1a\u722c\u53d6\u5f71\u89c6\u5267\u5b57\u5e55\n\n\n\u8bf7\u89c1\u6211\u7684\u8fd9\u7bc7\u6587\u7ae0\u300a\u4e8c\u5341\u516b-\u8111\u6d1e\u5927\u5f00\uff1a\u57fa\u4e8e\u7f8e\u5267\u5b57\u5e55\u7684\u804a\u5929\u8bed\u6599\u5e93\u5efa\u8bbe\u65b9\u6848\u300b\n\n\n\u7b2c\u4e8c\u6b65\uff1a\u538b\u7f29\u683c\u5f0f\u5206\u7c7b\n\n\n\u4e0b\u8f7d\u7684\u5b57\u5e55\u6709zip\u683c\u5f0f\u548crar\u683c\u5f0f\uff0c\u56e0\u4e3a\u6570\u91cf\u6bd4\u8f83\u591a\uff0c\u9700\u8981\u505a\u7b5b\u9009\u5206\u7c7b\uff0c\u4ee5\u4fbf\u540e\u9762\u7684\u5904\u7406\uff0c\u8fd9\u6b65\u770b\u4f3c\u7b80\u5355\u5b9e\u5219\u4e0d\u6613\uff0c\u56e0\u4e3a\u8981\u89e3\u51b3\uff1a\u6587\u4ef6\u591a\u65e0\u6cd5ls\u7684\u95ee\u9898\u3001\u6587\u4ef6\u540d\u5e26\u7279\u6b8a\u5b57\u7b26\u7684\u95ee\u9898\u3001\u6587\u4ef6\u540d\u91cd\u540d\u8bef\u8986\u76d6\u95ee\u9898\u3001\u6269\u5c55\u540d\u5343\u5947\u767e\u602a\u7684\u95ee\u9898\uff0c\u6211\u5199\u6210\u4e86python\u811a\u672cmv_zip.py\u5982\u4e0b\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\nimport\n \nglob\n\n\nimport\n \nos\n\n\nimport\n \nfnmatch\n\n\nimport\n \nshutil\n\n\nimport\n \nsys\n\n\n\ndef\n \niterfindfiles\n(\npath\n,\n \nfnexp\n):\n\n    \nfor\n \nroot\n,\n \ndirs\n,\n \nfiles\n \nin\n \nos\n.\nwalk\n(\npath\n):\n\n        \nfor\n \nfilename\n \nin\n \nfnmatch\n.\nfilter\n(\nfiles\n,\n \nfnexp\n):\n\n            \nyield\n \nos\n.\npath\n.\njoin\n(\nroot\n,\n \nfilename\n)\n\n\n\ni\n=\n0\n\n\nfor\n \nfilename\n \nin\n \niterfindfiles\n(\nr\n./input/\n,\n \n*.zip\n):\n\n    \ni\n=\ni\n+\n1\n\n    \nnewfilename\n \n=\n \nzip/\n \n+\n \nstr\n(\ni\n)\n \n+\n \n_\n \n+\n \nos\n.\npath\n.\nbasename\n(\nfilename\n)\n\n    \nprint\n \nfilename\n \n+\n \n \n===\n \n \n+\n \nnewfilename\n\n    \nshutil\n.\nmove\n(\nfilename\n,\n \nnewfilename\n)\n\n\n\n\n\n\n\n\u5176\u4e2d\u7684\u6269\u5c55\u540d\u6839\u636e\u538b\u7f29\u6587\u4ef6\u53ef\u80fd\u6709\u7684\u6269\u5c55\u540d\u4fee\u6539\u6210\n.rar\u3001\n.RAR\u3001\n.zip\u3001\n.ZIP\u7b49\n\n\n\u7b2c\u4e09\u6b65\uff1a\u89e3\u538b\n\n\n\u89e3\u538b\u8fd9\u4e00\u6b65\u9700\u8981\u6839\u636e\u6240\u7528\u7684\u64cd\u4f5c\u7cfb\u7edf\u4e0b\u8f7d\u4e0d\u540c\u7684\u89e3\u538b\u5de5\u5177\uff0c\u5efa\u8bae\u4f7f\u7528unrar\u548cunzip\uff0c\u4e3a\u4e86\u89e3\u51b3\u89e3\u538b\u540e\u6587\u4ef6\u540d\u53ef\u80fd\u91cd\u540d\u8986\u76d6\u7684\u95ee\u9898\uff0c\u6211\u603b\u7ed3\u51fa\u5982\u4e0b\u4e24\u53e5\u811a\u672c\u6765\u5b9e\u73b0\u6279\u91cf\u89e3\u538b\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\ni\n=\n0\n;\n \nfor\n \nfile\n \nin\n \n`ls`\n;\n \ndo\n \nmkdir\n \noutput\n/\n$\n{\ni\n};\n \necho\n \nunzip $file -d output/${i}\n;\nunzip\n \n-\nP\n \nabc\n \n$\nfile\n \n-\nd\n \noutput\n/\n$\n{\ni\n}\n \n \n/\ndev\n/\nnull\n;\n \n((\ni\n++\n));\n \ndone\n\n\ni\n=\n0\n;\n \nfor\n \nfile\n \nin\n \n`ls`\n;\n \ndo\n \nmkdir\n \noutput\n/\n$\n{\ni\n};\n \necho\n \n${i} unrar x $file output/${i}\n;\nunrar\n \nx\n \n$\nfile\n \noutput\n/\n$\n{\ni\n}\n \n \n/\ndev\n/\nnull\n;\n \n((\ni\n++\n));\n \ndone\n\n \n``\n`\n\n\n\n### \u7b2c\u56db\u6b65\uff1asrt\u3001ass\u3001ssa\u5b57\u5e55\u6587\u4ef6\u5206\u7c7b\u6574\u7406\n\n\n\u5f53\u4f60\u4e0b\u8f7d\u5927\u91cf\u5b57\u5e55\u5e76\u89e3\u538b\u540e\u4f60\u4f1a\u53d1\u73b0\u5b57\u5e55\u6587\u4ef6\u7c7b\u578b\u6709\u5f88\u591a\u79cd\uff0c\u5305\u62ec\nsrt\n\u3001\nlrc\n\u3001\nass\n\u3001\nssa\n\u3001\nsup\n\u3001\nidx\n\u3001\nstr\n\u3001\nvtt\n\uff0c\u4f46\u662f\u6574\u4f53\u91cf\u7ea7\u4e0a\u6765\u770b\nsrt\n\u3001\nass\n\u3001\nssa\n\u5360\u7edd\u5bf9\u4f18\u52bf\uff0c\u56e0\u6b64\u7b80\u5355\u8d77\u89c1\uff0c\u6211\u4eec\u629b\u5f03\u6389\u5176\u4ed6\u683c\u5f0f\uff0c\u53ea\u4fdd\u7559\u8fd9\u4e09\u79cd\uff0c\u5177\u4f53\u5206\u7c7b\u6574\u7406\u7684\u811a\u672c\u53ef\u4ee5\u53c2\u8003\u7b2c\u4e8c\u90e8\u538b\u7f29\u683c\u5f0f\u5206\u7c7b\u7684\u65b9\u6cd5\u6309\u6269\u5c55\u540d\u6574\u7406\n\n\n\n\n\n### \u7b2c\u4e94\u6b65\uff1a\u6e05\u7406\u76ee\u5f55\n\n\n\u5728\u6211\u8fb9\u6574\u7406\u8fb9\u5206\u6790\u7684\u8fc7\u7a0b\u4e2d\u53d1\u73b0\uff0c\u6211\u4e3a\u4e86\u907f\u514d\u91cd\u540d\u628a\u6587\u4ef6\u653e\u5230\u4e0d\u540c\u76ee\u5f55\u91cc\u540e\uff0c\u5982\u679c\u518d\u7ecf\u8fc7\u4e00\u6b65\u6587\u4ef6\u7c7b\u578b\u6574\u7406\uff0c\u4f1a\u4ea7\u751f\u975e\u5e38\u591a\u7684\u7a7a\u76ee\u5f55\uff0c\u6bcf\u6b21\nls\n\u90fd\u8981\u62c9\u597d\u51e0\u5c4f\uff0c\u6240\u4ee5\u5199\u4e86\u4e00\u4e2a\u81ea\u52a8\u6e05\u7406\u7a7a\u76ee\u5f55\u7684\u811a\u672c\nclear_empty_dir\n.\npy\n\uff0c\u5982\u4e0b\uff1a\n\n\n``\n`\npython\n\n\nimport\n \nglob\n\n\nimport\n \nos\n\n\nimport\n \nfnmatch\n\n\nimport\n \nshutil\n\n\nimport\n \nsys\n\n\n\ndef\n \niterfindfiles\n(\npath\n,\n \nfnexp\n):\n\n    \nfor\n \nroot\n,\n \ndirs\n,\n \nfiles\n \nin\n \nos\n.\nwalk\n(\npath\n):\n\n        \nif\n \n0\n \n==\n \nlen\n(\nfiles\n)\n \nand\n \nlen\n(\ndirs\n)\n \n==\n \n0\n:\n\n            \nprint\n \nroot\n\n            \nos\n.\nrmdir\n(\nroot\n)\n\n\n\niterfindfiles\n(\nr\n./input/\n,\n \n)\n\n\n\n\n\n\n\n\u7b2c\u516d\u6b65\uff1a\u6e05\u7406\u975e\u5b57\u5e55\u6587\u4ef6\n\n\n\u5728\u6574\u4e2a\u5b57\u5e55\u6587\u4ef6\u5206\u6790\u8fc7\u7a0b\u4e2d\uff0c\u603b\u6709\u5f88\u591a\u5176\u4ed6\u6587\u4ef6\u5e72\u6270\u4f60\u7684\u89c6\u7ebf\uff0c\u6bd4\u5982txt\u3001html\u3001doc\u3001docx\uff0c\u56e0\u4e3a\u4e0d\u662f\u6211\u4eec\u60f3\u8981\u7684\uff0c\u56e0\u6b64\u5e72\u8106\u76f4\u63a5\u5e72\u6389\uff0c\u6279\u91cf\u5220\u9664\u811a\u672cdel_file.py\u5982\u4e0b\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\nimport\n \nglob\n\n\nimport\n \nos\n\n\nimport\n \nfnmatch\n\n\nimport\n \nshutil\n\n\nimport\n \nsys\n\n\n\ndef\n \niterfindfiles\n(\npath\n,\n \nfnexp\n):\n\n    \nfor\n \nroot\n,\n \ndirs\n,\n \nfiles\n \nin\n \nos\n.\nwalk\n(\npath\n):\n\n        \nfor\n \nfilename\n \nin\n \nfnmatch\n.\nfilter\n(\nfiles\n,\n \nfnexp\n):\n\n            \nyield\n \nos\n.\npath\n.\njoin\n(\nroot\n,\n \nfilename\n)\n\n\n\nfor\n \nsuffix\n \nin\n \n(\n*.mp4\n,\n \n*.txt\n,\n \n*.JPG\n,\n \n*.htm\n,\n \n*.doc\n,\n \n*.docx\n,\n \n*.nfo\n,\n \n*.sub\n,\n \n*.idx\n):\n\n    \nfor\n \nfilename\n \nin\n \niterfindfiles\n(\nr\n./input/\n,\n \nsuffix\n):\n\n        \nprint\n \nfilename\n\n        \nos\n.\nremove\n(\nfilename\n)\n\n\n\n\n\n\n\n\u7b2c\u4e03\u6b65\uff1a\u591a\u5c42\u89e3\u538b\u7f29\n\n\n\u628a\u6293\u53d6\u5230\u7684\u5b57\u5e55\u538b\u7f29\u5305\u89e3\u538b\u540e\u6709\u7684\u6587\u4ef6\u91cc\u9762\u4f9d\u7136\u8fd8\u6709\u538b\u7f29\u5305\uff0c\u7ee7\u7eed\u89e3\u538b\u624d\u80fd\u770b\u5230\u5b57\u5e55\u6587\u4ef6\uff0c\u56e0\u6b64\u4e0a\u9762\u8fd9\u4e9b\u6b65\u9aa4\u518d\u6765\u4e00\u6b21\uff0c\u4e0d\u8fc7\u8981\u505a\u597d\u5fc3\u7406\u51c6\u5907\uff0c\u6ca1\u51c6\u9700\u8981\u518d\u6765n\u6b21\uff01\n\n\n\u7b2c\u516b\u6b65\uff1a\u820d\u5f03\u5269\u4f59\u7684\u5c11\u91cf\u6587\u4ef6\n\n\n\u7ecf\u8fc7\u4ee5\u4e0a\u51e0\u6b65\u7684\u5904\u7406\u540e\u5269\u4e0b\u4e00\u6279\u65e0\u6269\u5c55\u540d\u7684\u3001\u7279\u6b8a\u6269\u5c55\u540d\u5982\uff1a\u201csrt.\u7b80\u4f53\u201d\uff0c7z\u7b49\u3001\u5c11\u91cf\u538b\u7f29\u6587\u4ef6\uff0c\u603b\u4f53\u4e0d\u8d85\u8fc750M\uff0c\u60f3\u60f3\u4f1f\u5927\u601d\u60f3\u5bb6\u9a6c\u514b\u601d\u6559\u5bfc\u6211\u4eec\u8981\u6293\u4e3b\u8981\u77db\u76fe\uff0c\u56e0\u6b64\u8fd9\u90e8\u5206\u6211\u4eec\u76f4\u63a5\u629b\u5f03\u6389\n\n\n\u7b2c\u4e5d\u6b65\uff1a\u7f16\u7801\u8bc6\u522b\u4e0e\u8f6c\u7801\n\n\n\u5b57\u5e55\u6587\u4ef6\u5c31\u662f\u8fd9\u6837\u7684\u6ca1\u6709\u89c4\u8303\uff0c\u4e43\u81f3\u4e8e\u5404\u79cd\u7f16\u7801\u9f50\u805a\uff0c\u4ec0\u4e48utf-8\u3001utf-16\u3001gbk\u3001unicode\u3001iso8859\u7433\u7405\u6ee1\u76ee\u5e94\u6709\u5c3d\u6709\uff0c\u6211\u4eec\u8981\u7edf\u4e00\u5230\u4e00\u79cd\u7f16\u7801\u65b9\u4fbf\u4f7f\u7528\uff0c\u7d22\u6027\u6211\u4eec\u7edf\u4e00\u5230utf-8\uff0cget_charset_and_conv.py\u5982\u4e0b:\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\nimport\n \nchardet\n\n\nimport\n \nsys\n\n\nimport\n \nos\n\n\n\nif\n \n__name__\n \n==\n \n__main__\n:\n\n    \nif\n \nlen\n(\nsys\n.\nargv\n)\n \n==\n \n2\n:\n\n        \nfor\n \nroot\n,\n \ndirs\n,\n \nfiles\n \nin\n \nos\n.\nwalk\n(\nsys\n.\nargv\n[\n1\n]):\n\n            \nfor\n \nfile\n \nin\n \nfiles\n:\n\n                \nfile_path\n \n=\n \nroot\n \n+\n \n/\n \n+\n \nfile\n\n                \nf\n \n=\n \nopen\n(\nfile_path\n,\nr\n)\n\n                \ndata\n \n=\n \nf\n.\nread\n()\n\n                \nf\n.\nclose\n()\n\n                \nencoding\n \n=\n \nchardet\n.\ndetect\n(\ndata\n)[\nencoding\n]\n\n                \nif\n \nencoding\n \nnot\n \nin\n \n(\nUTF-8-SIG\n,\n \nUTF-16LE\n,\n \nutf-8\n,\n \nascii\n):\n\n                    \ntry\n:\n\n                        \ngb_content\n \n=\n \ndata\n.\ndecode\n(\ngb18030\n)\n\n                        \ngb_content\n.\nencode\n(\nutf-8\n)\n\n                        \nf\n \n=\n \nopen\n(\nfile_path\n,\n \nw\n)\n\n                        \nf\n.\nwrite\n(\ngb_content\n.\nencode\n(\nutf-8\n))\n\n                        \nf\n.\nclose\n()\n\n                    \nexcept\n:\n\n                        \nprint\n \nexcept:\n,\n \nfile_path\n\n\n\n\n\n\n\n\u7b2c\u5341\u6b65\uff1a\u7b5b\u9009\u4e2d\u6587\n\n\n\u8003\u8651\u5230\u6211\u671d\u5e7f\u5927\u4eba\u6c11\u7684\u7231\u56fd\u70ed\u60c5\uff0c\u6211\u53ea\u505a\u4e2d\u6587\uff0c\u6240\u4ee5\u4ec0\u4e48\u82f1\u6587\u3001\u97e9\u6587\u3001\u65e5\u6587\u3001\u4fc4\u6587\u3001\u706b\u661f\u6587\u3001\u9e1f\u8bed\u2026\u2026\u5168\u90fd\u4e0d\u8981\uff0c\u53c2\u8003extract_sentence_srt.py\u5982\u4e0b\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n# coding:utf-8\n\n\nimport\n \nchardet\n\n\nimport\n \nos\n\n\nimport\n \nre\n\n\n\ncn\n=\nur\n([\\u4e00-\\u9fa5]+)\n\n\npattern_cn\n \n=\n \nre\n.\ncompile\n(\ncn\n)\n\n\njp1\n=\nur\n([\\u3040-\\u309F]+)\n\n\npattern_jp1\n \n=\n \nre\n.\ncompile\n(\njp1\n)\n\n\njp2\n=\nur\n([\\u30A0-\\u30FF]+)\n\n\npattern_jp2\n \n=\n \nre\n.\ncompile\n(\njp2\n)\n\n\n\nfor\n \nroot\n,\n \ndirs\n,\n \nfiles\n \nin\n \nos\n.\nwalk\n(\n./srt\n):\n\n    \nfile_count\n \n=\n \nlen\n(\nfiles\n)\n\n    \nif\n \nfile_count\n \n \n0\n:\n\n        \nfor\n \nindex\n,\n \nfile\n \nin\n \nenumerate\n(\nfiles\n):\n\n            \nf\n \n=\n \nopen\n(\nroot\n \n+\n \n/\n \n+\n \nfile\n,\n \nr\n)\n\n            \ncontent\n \n=\n \nf\n.\nread\n()\n\n            \nf\n.\nclose\n()\n\n            \nencoding\n \n=\n \nchardet\n.\ndetect\n(\ncontent\n)[\nencoding\n]\n\n            \ntry\n:\n\n                \nfor\n \nsentence\n \nin\n \ncontent\n.\ndecode\n(\nencoding\n)\n.\nsplit\n(\n\\n\n):\n\n                    \nif\n \nlen\n(\nsentence\n)\n \n \n0\n:\n\n                        \nmatch_cn\n \n=\n  \npattern_cn\n.\nfindall\n(\nsentence\n)\n\n                        \nmatch_jp1\n \n=\n  \npattern_jp1\n.\nfindall\n(\nsentence\n)\n\n                        \nmatch_jp2\n \n=\n  \npattern_jp2\n.\nfindall\n(\nsentence\n)\n\n                        \nsentence\n \n=\n \nsentence\n.\nstrip\n()\n\n                        \nif\n \nlen\n(\nmatch_cn\n)\n0\n \nand\n \nlen\n(\nmatch_jp1\n)\n==\n0\n \nand\n \nlen\n(\nmatch_jp2\n)\n \n==\n \n0\n \nand\n \nlen\n(\nsentence\n)\n1\n \nand\n \nlen\n(\nsentence\n.\nsplit\n(\n \n))\n \n \n10\n:\n\n                            \nprint\n \nsentence\n.\nencode\n(\nutf-8\n)\n\n            \nexcept\n:\n\n                \ncontinue\n\n\n\n\n\n\n\n\u7b2c\u5341\u4e00\u6b65\uff1a\u5b57\u5e55\u4e2d\u7684\u53e5\u5b50\u63d0\u53d6\n\n\n\u4e0d\u540c\u683c\u5f0f\u7684\u5b57\u5e55\u6709\u7279\u5b9a\u7684\u683c\u5f0f\uff0c\u9664\u4e86\u53e5\u5b50\u4e4b\u5916\u8fd8\u6709\u5f88\u591a\u5b57\u5e55\u7684\u63a7\u5236\u8bed\u53e5\uff0c\u6211\u4eec\u4e00\u5f8b\u8fc7\u6ee4\u6389\uff0c\u53ea\u63d0\u53d6\u6211\u4eec\u60f3\u8981\u7684\u91cd\u70b9\u5185\u5bb9\uff0c\u56e0\u4e3a\u4e0d\u540c\u7684\u683c\u5f0f\u90fd\u4e0d\u4e00\u6837\uff0c\u5728\u8fd9\u91cc\u4e0d\u4e00\u4e00\u4e3e\u4f8b\u4e86\uff0c\u611f\u5174\u8da3\u53ef\u4ee5\u53bb\u6211\u7684github\u67e5\u770b\uff0c\u5728\u8fd9\u91cc\u5355\u72ec\u5217\u51fassa\u683c\u5f0f\u5b57\u5e55\u7684\u90e8\u5206\u4ee3\u7801\u4f9b\u53c2\u8003\uff1a\n\n\n1\n2\n3\n4\n5\n6\nif\n \nline\n.\nfind\n(\nDialogue\n)\n \n==\n \n0\n \nand\n \nlen\n(\nline\n)\n \n \n500\n:\n\n    \nfields\n \n=\n \nline\n.\nsplit\n(\n,\n)\n\n    \nsentence\n \n=\n \nfields\n[\nlen\n(\nfields\n)\n-\n1\n]\n\n    \ntag_fields\n \n=\n \nsentence\n.\nsplit\n(\n}\n)\n\n    \nif\n \nlen\n(\ntag_fields\n)\n \n \n1\n:\n\n        \nsentence\n \n=\n \ntag_fields\n[\nlen\n(\ntag_fields\n)\n-\n1\n]\n\n\n\n\n\n\n\n\u7b2c\u5341\u4e8c\u6b65\uff1a\u5185\u5bb9\u8fc7\u6ee4\n\n\n\u7ecf\u8fc7\u4e0a\u9762\u51e0\u6b65\u7684\u5904\u7406\uff0c\u5176\u5b9e\u5df2\u7ecf\u5f62\u6210\u4e86\u5b8c\u6574\u7684\u8bed\u6599\u5e93\u4e86\uff0c\u53ea\u662f\u91cc\u9762\u8fd8\u6709\u4e00\u4e9b\u4e0d\u50cf\u804a\u5929\u7684\u5185\u5bb9\u6211\u4eec\u9700\u8981\u8fdb\u4e00\u6b65\u505a\u4f18\u5316\uff0c\u5305\u62ec\uff1a\u8fc7\u6ee4\u7279\u6b8a\u7684unicode\u5b57\u7b26\u3001\u8fc7\u6ee4\u7279\u6b8a\u7684\u5173\u952e\u8bcd\uff08\u5982\uff1a\u5b57\u5e55\u3001\u65f6\u95f4\u8f74\u3001\u6821\u5bf9\u2026\u2026\uff09\u3001\u53bb\u9664\u5b57\u5e55\u6837\u5f0f\u6807\u7b7e\u3001\u53bb\u9664html\u6807\u7b7e\u3001\u53bb\u9664\u8fde\u7eed\u7279\u6b8a\u5b57\u7b26\u3001\u53bb\u9664\u8f6c\u4e49\u5b57\u7b26\u3001\u53bb\u9664\u5267\u96c6\u4fe1\u606f\u7b49\uff0c\u5177\u4f53\u4ee3\u7801\u5982\u4e0b\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n# coding:utf-8\n\n\nimport\n \nsys\n\n\nimport\n \nre\n\n\nimport\n \nchardet\n\n\n\nif\n \n__name__\n \n==\n \n__main__\n:\n\n    \n#illegal=ur\n([\\u2000-\\u2010]+)\n\n    \nillegal\n=\nur\n([\\u0000-\\u2010]+)\n\n    \npattern_illegals\n \n=\n \n[\nre\n.\ncompile\n(\nur\n([\\u2000-\\u2010]+)\n),\n \nre\n.\ncompile\n(\nur\n([\\u0090-\\u0099]+)\n)]\n\n    \nfilters\n \n=\n \n[\n\u5b57\u5e55\n,\n \n\u65f6\u95f4\u8f74:\n,\n \n\u6821\u5bf9:\n,\n \n\u7ffb\u8bd1:\n,\n \n\u540e\u671f:\n,\n \n\u76d1\u5236:\n]\n\n    \nfilters\n.\nappend\n(\n\u65f6\u95f4\u8f74\uff1a\n)\n\n    \nfilters\n.\nappend\n(\n\u6821\u5bf9\uff1a\n)\n\n    \nfilters\n.\nappend\n(\n\u7ffb\u8bd1\uff1a\n)\n\n    \nfilters\n.\nappend\n(\n\u540e\u671f\uff1a\n)\n\n    \nfilters\n.\nappend\n(\n\u76d1\u5236\uff1a\n)\n\n    \nfilters\n.\nappend\n(\n\u7981\u6b62\u7528\u4f5c\u4efb\u4f55\u5546\u4e1a\u76c8\u5229\u884c\u4e3a\n)\n\n    \nfilters\n.\nappend\n(\nhttp\n)\n\n    \nhtmltagregex\n \n=\n \nre\n.\ncompile\n(\nr\n[^\n]+\n,\nre\n.\nS\n)\n\n    \nbrace_regex\n \n=\n \nre\n.\ncompile\n(\nr\n\\{.*\\}\n,\nre\n.\nS\n)\n\n    \nslash_regex\n \n=\n \nre\n.\ncompile\n(\nr\n\\\\\n\\w\n,\nre\n.\nS\n)\n\n    \nrepeat_regex\n \n=\n \nre\n.\ncompile\n(\nr\n[-=]{10}\n,\nre\n.\nS\n)\n\n    \nf\n \n=\n \nopen\n(\n./corpus/all.out\n,\n \nr\n)\n\n    \ncount\n=\n0\n\n    \nwhile\n \nTrue\n:\n\n        \nline\n \n=\n \nf\n.\nreadline\n()\n\n        \nif\n \nline\n:\n\n            \nline\n \n=\n \nline\n.\nstrip\n()\n\n\n            \n# \u7f16\u7801\u8bc6\u522b\uff0c\u4e0d\u662futf-8\u5c31\u8fc7\u6ee4\n\n            \ngb_content\n \n=\n \n\n            \ntry\n:\n\n                \ngb_content\n \n=\n \nline\n.\ndecode\n(\nutf-8\n)\n\n            \nexcept\n \nException\n \nas\n \ne\n:\n\n                \nsys\n.\nstderr\n.\nwrite\n(\ndecode error:  \n,\n \nline\n)\n\n                \ncontinue\n\n\n            \n# \u4e2d\u6587\u8bc6\u522b\uff0c\u4e0d\u662f\u4e2d\u6587\u5c31\u8fc7\u6ee4\n\n            \nneed_continue\n \n=\n \nFalse\n\n            \nfor\n \npattern_illegal\n \nin\n \npattern_illegals\n:\n\n                \nmatch_illegal\n \n=\n \npattern_illegal\n.\nfindall\n(\ngb_content\n)\n\n                \nif\n \nlen\n(\nmatch_illegal\n)\n \n \n0\n:\n\n                    \nsys\n.\nstderr\n.\nwrite\n(\nmatch_illegal error: \n%s\n\\n\n \n%\n \nline\n)\n\n                    \nneed_continue\n \n=\n \nTrue\n\n                    \nbreak\n\n            \nif\n \nneed_continue\n:\n\n                \ncontinue\n\n\n            \n# \u5173\u952e\u8bcd\u8fc7\u6ee4\n\n            \nneed_continue\n \n=\n \nFalse\n\n            \nfor\n \nfilter\n \nin\n \nfilters\n:\n\n                \ntry\n:\n\n                    \nline\n.\nindex\n(\nfilter\n)\n\n                    \nsys\n.\nstderr\n.\nwrite\n(\nfilter keyword of \n%s\n \n%s\n\\n\n \n%\n \n(\nfilter\n,\n \nline\n))\n\n                    \nneed_continue\n \n=\n \nTrue\n\n                    \nbreak\n\n                \nexcept\n:\n\n                    \npass\n\n            \nif\n \nneed_continue\n:\n\n                \ncontinue\n\n\n            \n# \u53bb\u6389\u5267\u96c6\u4fe1\u606f\n\n            \nif\n \nre\n.\nmatch\n(\n.*\u7b2c.*\u5b63.*\n,\n \nline\n):\n\n                \nsys\n.\nstderr\n.\nwrite\n(\nfilter copora \n%s\n\\n\n \n%\n \nline\n)\n\n                \ncontinue\n\n            \nif\n \nre\n.\nmatch\n(\n.*\u7b2c.*\u96c6.*\n,\n \nline\n):\n\n                \nsys\n.\nstderr\n.\nwrite\n(\nfilter copora \n%s\n\\n\n \n%\n \nline\n)\n\n                \ncontinue\n\n            \nif\n \nre\n.\nmatch\n(\n.*\u7b2c.*\u5e27.*\n,\n \nline\n):\n\n                \nsys\n.\nstderr\n.\nwrite\n(\nfilter copora \n%s\n\\n\n \n%\n \nline\n)\n\n                \ncontinue\n\n\n            \n# \u53bbhtml\u6807\u7b7e\n\n            \nline\n \n=\n \nhtmltagregex\n.\nsub\n(\n,\nline\n)\n\n\n            \n# \u53bb\u82b1\u62ec\u53f7\u4fee\u9970\n\n            \nline\n \n=\n \nbrace_regex\n.\nsub\n(\n,\n \nline\n)\n\n\n            \n# \u53bb\u8f6c\u4e49\n\n            \nline\n \n=\n \nslash_regex\n.\nsub\n(\n,\n \nline\n)\n\n\n            \n# \u53bb\u91cd\u590d\n\n            \nnew_line\n \n=\n \nrepeat_regex\n.\nsub\n(\n,\n \nline\n)\n\n            \nif\n \nlen\n(\nnew_line\n)\n \n!=\n \nlen\n(\nline\n):\n\n                \ncontinue\n\n\n            \n# \u53bb\u7279\u6b8a\u5b57\u7b26\n\n            \nline\n \n=\n \nline\n.\nreplace\n(\n-\n,\n \n)\n.\nstrip\n()\n\n\n            \nif\n \nlen\n(\nline\n)\n \n \n0\n:\n\n                \nsys\n.\nstdout\n.\nwrite\n(\n%s\n\\n\n \n%\n \nline\n)\n\n            \ncount\n+=\n1\n\n        \nelse\n:\n\n            \nbreak\n\n    \nf\n.\nclose\n()\n\n    \npass\n\n\n\n\n\n\n\n\u76f4\u63a5\u83b7\u53d6\u8bed\u6599\u6570\u636e\n\n\n\u5982\u679c\u4f60\u4e0d\u60f3\u7ecf\u5386\u4e0a\u9762\u8fd9\u4e48\u75db\u82e6\u7684\u8fc7\u7a0b\uff0c\u53ef\u4ee5\u76f4\u63a5\u83b7\u53d6\u6211\u5efa\u8bbe\u597d\u7684\u4e09\u5343\u4e07(\u5b9e\u9645\u662f33042896\u6761)\u8bed\u6599\u6587\u4ef6\uff0c\u8003\u8651\u5230\u4e2a\u4eba\u7684\u4eba\u5de5\u6210\u672c\u4ee5\u53ca\u6570\u636e\u672c\u8eab\u7684\u771f\u6b63\u4ef7\u503c\uff0c\u5f62\u5f0f\u4e0a\u6536\u53d69.9\u5143\u7684\u82e6\u529b\u8d39\u4ee5\u8868\u652f\u6301\uff0c\u5e0c\u671b\u5927\u5bb6\u591a\u591a\u7406\u89e3\uff0c\u4e5f\u7b97\u662f\u5bf9\u6211\u7684\u9f13\u52b1\uff0c\u83b7\u53d6\u65b9\u5f0f\u6bd4\u8f83\u7b80\u5355\uff0c\u8bf7\u5237\u4e0b\u65b9\u5fae\u4fe1\u6216\u652f\u4ed8\u5b9d\u4e8c\u7ef4\u7801\uff0c\u652f\u4ed89.9\u5143\uff0c\u4e4b\u540e\u628a\u8ba2\u5355\u53f7\u4ee5\u5982\u4e0b\u4efb\u610f\u65b9\u5f0f\u53d1\u9001\u7ed9\u6211\uff0c\u6211\u4f1a\u628a\u6570\u636e\u5730\u5740\u5949\u4e0a\uff1a\n\n\n1\uff09\u628a\u652f\u4ed8\u8ba2\u5355\u53f7\u7684\u540e\u516d\u4f4d\u53d1\u5230\u6211\u7684\u90ae\u7bb1shareditor.com^_^gmail.com\uff1b\n\n\n2\uff09\u5728\u672c\u9875\u4e0b\u65b9\u7559\u8a00\uff0c\u9644\u4e0a\u652f\u4ed8\u8ba2\u5355\u53f7\u7684\u540e\u516d\u4f4d\u53ca\u4f60\u7684\u90ae\u7bb1\u5730\u5740(\u56e0\u4e3a\u7545\u8a00\u7684\u7f18\u6545\uff0c\u6709\u65f6\u7559\u8a00\u9700\u8981\u6211\u540e\u53f0\u5ba1\u6838\u540e\u624d\u80fd\u5c55\u73b0\uff0c\u6240\u4ee5\u7559\u8a00\u4e0d\u6210\u529f\u65f6\u6211\u4f1a\u6bcf\u5929\u90fd\u624b\u5de5\u5ba1\u6838\u901a\u8fc7\uff0c\u8bf7\u8010\u5fc3\u7b49\u5f85)\u3002\n\n\n\u6570\u636e\u6837\u4f8b\u5982\u4e0b\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\u8fd9\u662f\u4ec0\u4e48\n\u662f\u5bc4\u7ed9\u533b\u9662\u7684\n\u4e95\u5d0e\u2026\u4e3a\u4ec0\u4e48\uff1f\n\u662f\u4e3a\u4e86\u5c0f\u96ea\u7684\u4e8b\u60c5\n\u600e\u4e48\u56de\u4e8b\uff1f\n\u60a8\u4e0d\u8bb0\u5f97\u4e86\u5417\n\u5728\u5979\u8bf4\u5c0f\u96ea\u2026\n\u5c31\u662f\u5728\u8fd9\u79cd\u975e\u5e38\u65f6\u671f\u548c\u6211\u4eec\u4e00\u8d77\u820d\u5f03\u4f11\u606f\u65f6\u95f4\u6765\u5de5\u4f5c\u7684\u62a4\u58eb\u5931\u8e2a\u65f6\u2026\n\u533b\u751f \u5c0f\u96ea\u5979\u5931\u8e2a\u4e86\n\u4f60\u4e0d\u662f\u56de\u4e86\u4e00\u53e5\u300c\u662f\u5417\u300d\u5417\n\u662f\u5417\u2026\n\u4e0d \u5bf9\u4e0d\u8d77\n\u8ddf\u6211\u9053\u6b49\u4e5f\u6ca1\u7528\u554a\n\u800c\u4e14\u6211\u4eec\u90fd\u77e5\u9053\u60a8\u662f\u56e0\u4e3a\u592b\u4eba\u7684\u4e8b\u60c5\u800c\u64cd\u52b3\n\u4f46\u662f \u6211\u60f3\u5c0f\u806a\u662f\u53d7\u4e0d\u4e86\u533b\u751f\u4e00\u526f\u6f20\u4e0d\u5173\u5fc3\u7684\u6837\u5b50\n\u4e8b\u5230\u5982\u4eca\u518d\u8d23\u5907\u533b\u751f\u4e5f\u6ca1\u6709\u7528\u4e86\n\u662f\u6211\u7684\u9519\u5417\u2026\n\u6211\u5c31\u662f\u8fd9\u4e2a\u610f\u601d \u60a8\u542c\u4e0d\u51fa\u6765\u5417\n\u6211\u4e5f\u96be\u4ee5\u63a5\u53d7\n\u2026\u2026\n\n\n\n\n\n\n\u672c\u6570\u636e\u4ec5\u4f5c\u4e3a\u5927\u6570\u636e\u76f8\u5173\u9886\u57df\u5b66\u4e60\u548c\u7814\u7a76\u4f7f\u7528\uff0c\u5982\u679c\u6570\u636e\u672c\u8eab\u65e0\u610f\u4fb5\u72af\u4e86\u60a8\u7684\u7248\u6743\uff0c\u8bf7\u53d1\u9001\u90ae\u4ef6\u81f3shareditor.com^_^gmail.com\u544a\u77e5\uff0c\u5e76\u63d0\u4f9b\u76f8\u5e94\u7684\u8bc1\u660e\uff0c\u6211\u4f1a\u7acb\u5373\u8bc4\u4f30\u548c\u89e3\u51b3\u3002", 
            "title": "\u4e8c\u5341\u4e5d-\u8fd11GB\u7684\u4e09\u5343\u4e07\u804a\u5929\u8bed\u6599"
        }, 
        {
            "location": "/29.corpus-1g/#_1", 
            "text": "\u8bf7\u89c1\u6211\u7684\u8fd9\u7bc7\u6587\u7ae0\u300a\u4e8c\u5341\u516b-\u8111\u6d1e\u5927\u5f00\uff1a\u57fa\u4e8e\u7f8e\u5267\u5b57\u5e55\u7684\u804a\u5929\u8bed\u6599\u5e93\u5efa\u8bbe\u65b9\u6848\u300b", 
            "title": "\u7b2c\u4e00\u6b65\uff1a\u722c\u53d6\u5f71\u89c6\u5267\u5b57\u5e55"
        }, 
        {
            "location": "/29.corpus-1g/#_2", 
            "text": "\u4e0b\u8f7d\u7684\u5b57\u5e55\u6709zip\u683c\u5f0f\u548crar\u683c\u5f0f\uff0c\u56e0\u4e3a\u6570\u91cf\u6bd4\u8f83\u591a\uff0c\u9700\u8981\u505a\u7b5b\u9009\u5206\u7c7b\uff0c\u4ee5\u4fbf\u540e\u9762\u7684\u5904\u7406\uff0c\u8fd9\u6b65\u770b\u4f3c\u7b80\u5355\u5b9e\u5219\u4e0d\u6613\uff0c\u56e0\u4e3a\u8981\u89e3\u51b3\uff1a\u6587\u4ef6\u591a\u65e0\u6cd5ls\u7684\u95ee\u9898\u3001\u6587\u4ef6\u540d\u5e26\u7279\u6b8a\u5b57\u7b26\u7684\u95ee\u9898\u3001\u6587\u4ef6\u540d\u91cd\u540d\u8bef\u8986\u76d6\u95ee\u9898\u3001\u6269\u5c55\u540d\u5343\u5947\u767e\u602a\u7684\u95ee\u9898\uff0c\u6211\u5199\u6210\u4e86python\u811a\u672cmv_zip.py\u5982\u4e0b\uff1a   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17 import   glob  import   os  import   fnmatch  import   shutil  import   sys  def   iterfindfiles ( path ,   fnexp ): \n     for   root ,   dirs ,   files   in   os . walk ( path ): \n         for   filename   in   fnmatch . filter ( files ,   fnexp ): \n             yield   os . path . join ( root ,   filename )  i = 0  for   filename   in   iterfindfiles ( r ./input/ ,   *.zip ): \n     i = i + 1 \n     newfilename   =   zip/   +   str ( i )   +   _   +   os . path . basename ( filename ) \n     print   filename   +     ===     +   newfilename \n     shutil . move ( filename ,   newfilename )    \u5176\u4e2d\u7684\u6269\u5c55\u540d\u6839\u636e\u538b\u7f29\u6587\u4ef6\u53ef\u80fd\u6709\u7684\u6269\u5c55\u540d\u4fee\u6539\u6210 .rar\u3001 .RAR\u3001 .zip\u3001 .ZIP\u7b49", 
            "title": "\u7b2c\u4e8c\u6b65\uff1a\u538b\u7f29\u683c\u5f0f\u5206\u7c7b"
        }, 
        {
            "location": "/29.corpus-1g/#_3", 
            "text": "\u89e3\u538b\u8fd9\u4e00\u6b65\u9700\u8981\u6839\u636e\u6240\u7528\u7684\u64cd\u4f5c\u7cfb\u7edf\u4e0b\u8f7d\u4e0d\u540c\u7684\u89e3\u538b\u5de5\u5177\uff0c\u5efa\u8bae\u4f7f\u7528unrar\u548cunzip\uff0c\u4e3a\u4e86\u89e3\u51b3\u89e3\u538b\u540e\u6587\u4ef6\u540d\u53ef\u80fd\u91cd\u540d\u8986\u76d6\u7684\u95ee\u9898\uff0c\u6211\u603b\u7ed3\u51fa\u5982\u4e0b\u4e24\u53e5\u811a\u672c\u6765\u5b9e\u73b0\u6279\u91cf\u89e3\u538b\uff1a   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25 i = 0 ;   for   file   in   `ls` ;   do   mkdir   output / $ { i };   echo   unzip $file -d output/${i} ; unzip   - P   abc   $ file   - d   output / $ { i }     / dev / null ;   (( i ++ ));   done  i = 0 ;   for   file   in   `ls` ;   do   mkdir   output / $ { i };   echo   ${i} unrar x $file output/${i} ; unrar   x   $ file   output / $ { i }     / dev / null ;   (( i ++ ));   done \n  `` `  ### \u7b2c\u56db\u6b65\uff1asrt\u3001ass\u3001ssa\u5b57\u5e55\u6587\u4ef6\u5206\u7c7b\u6574\u7406  \u5f53\u4f60\u4e0b\u8f7d\u5927\u91cf\u5b57\u5e55\u5e76\u89e3\u538b\u540e\u4f60\u4f1a\u53d1\u73b0\u5b57\u5e55\u6587\u4ef6\u7c7b\u578b\u6709\u5f88\u591a\u79cd\uff0c\u5305\u62ec srt \u3001 lrc \u3001 ass \u3001 ssa \u3001 sup \u3001 idx \u3001 str \u3001 vtt \uff0c\u4f46\u662f\u6574\u4f53\u91cf\u7ea7\u4e0a\u6765\u770b srt \u3001 ass \u3001 ssa \u5360\u7edd\u5bf9\u4f18\u52bf\uff0c\u56e0\u6b64\u7b80\u5355\u8d77\u89c1\uff0c\u6211\u4eec\u629b\u5f03\u6389\u5176\u4ed6\u683c\u5f0f\uff0c\u53ea\u4fdd\u7559\u8fd9\u4e09\u79cd\uff0c\u5177\u4f53\u5206\u7c7b\u6574\u7406\u7684\u811a\u672c\u53ef\u4ee5\u53c2\u8003\u7b2c\u4e8c\u90e8\u538b\u7f29\u683c\u5f0f\u5206\u7c7b\u7684\u65b9\u6cd5\u6309\u6269\u5c55\u540d\u6574\u7406  ### \u7b2c\u4e94\u6b65\uff1a\u6e05\u7406\u76ee\u5f55  \u5728\u6211\u8fb9\u6574\u7406\u8fb9\u5206\u6790\u7684\u8fc7\u7a0b\u4e2d\u53d1\u73b0\uff0c\u6211\u4e3a\u4e86\u907f\u514d\u91cd\u540d\u628a\u6587\u4ef6\u653e\u5230\u4e0d\u540c\u76ee\u5f55\u91cc\u540e\uff0c\u5982\u679c\u518d\u7ecf\u8fc7\u4e00\u6b65\u6587\u4ef6\u7c7b\u578b\u6574\u7406\uff0c\u4f1a\u4ea7\u751f\u975e\u5e38\u591a\u7684\u7a7a\u76ee\u5f55\uff0c\u6bcf\u6b21 ls \u90fd\u8981\u62c9\u597d\u51e0\u5c4f\uff0c\u6240\u4ee5\u5199\u4e86\u4e00\u4e2a\u81ea\u52a8\u6e05\u7406\u7a7a\u76ee\u5f55\u7684\u811a\u672c clear_empty_dir . py \uff0c\u5982\u4e0b\uff1a  `` ` python  import   glob  import   os  import   fnmatch  import   shutil  import   sys  def   iterfindfiles ( path ,   fnexp ): \n     for   root ,   dirs ,   files   in   os . walk ( path ): \n         if   0   ==   len ( files )   and   len ( dirs )   ==   0 : \n             print   root \n             os . rmdir ( root )  iterfindfiles ( r ./input/ ,   )", 
            "title": "\u7b2c\u4e09\u6b65\uff1a\u89e3\u538b"
        }, 
        {
            "location": "/29.corpus-1g/#_4", 
            "text": "\u5728\u6574\u4e2a\u5b57\u5e55\u6587\u4ef6\u5206\u6790\u8fc7\u7a0b\u4e2d\uff0c\u603b\u6709\u5f88\u591a\u5176\u4ed6\u6587\u4ef6\u5e72\u6270\u4f60\u7684\u89c6\u7ebf\uff0c\u6bd4\u5982txt\u3001html\u3001doc\u3001docx\uff0c\u56e0\u4e3a\u4e0d\u662f\u6211\u4eec\u60f3\u8981\u7684\uff0c\u56e0\u6b64\u5e72\u8106\u76f4\u63a5\u5e72\u6389\uff0c\u6279\u91cf\u5220\u9664\u811a\u672cdel_file.py\u5982\u4e0b\uff1a   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15 import   glob  import   os  import   fnmatch  import   shutil  import   sys  def   iterfindfiles ( path ,   fnexp ): \n     for   root ,   dirs ,   files   in   os . walk ( path ): \n         for   filename   in   fnmatch . filter ( files ,   fnexp ): \n             yield   os . path . join ( root ,   filename )  for   suffix   in   ( *.mp4 ,   *.txt ,   *.JPG ,   *.htm ,   *.doc ,   *.docx ,   *.nfo ,   *.sub ,   *.idx ): \n     for   filename   in   iterfindfiles ( r ./input/ ,   suffix ): \n         print   filename \n         os . remove ( filename )", 
            "title": "\u7b2c\u516d\u6b65\uff1a\u6e05\u7406\u975e\u5b57\u5e55\u6587\u4ef6"
        }, 
        {
            "location": "/29.corpus-1g/#_5", 
            "text": "\u628a\u6293\u53d6\u5230\u7684\u5b57\u5e55\u538b\u7f29\u5305\u89e3\u538b\u540e\u6709\u7684\u6587\u4ef6\u91cc\u9762\u4f9d\u7136\u8fd8\u6709\u538b\u7f29\u5305\uff0c\u7ee7\u7eed\u89e3\u538b\u624d\u80fd\u770b\u5230\u5b57\u5e55\u6587\u4ef6\uff0c\u56e0\u6b64\u4e0a\u9762\u8fd9\u4e9b\u6b65\u9aa4\u518d\u6765\u4e00\u6b21\uff0c\u4e0d\u8fc7\u8981\u505a\u597d\u5fc3\u7406\u51c6\u5907\uff0c\u6ca1\u51c6\u9700\u8981\u518d\u6765n\u6b21\uff01", 
            "title": "\u7b2c\u4e03\u6b65\uff1a\u591a\u5c42\u89e3\u538b\u7f29"
        }, 
        {
            "location": "/29.corpus-1g/#_6", 
            "text": "\u7ecf\u8fc7\u4ee5\u4e0a\u51e0\u6b65\u7684\u5904\u7406\u540e\u5269\u4e0b\u4e00\u6279\u65e0\u6269\u5c55\u540d\u7684\u3001\u7279\u6b8a\u6269\u5c55\u540d\u5982\uff1a\u201csrt.\u7b80\u4f53\u201d\uff0c7z\u7b49\u3001\u5c11\u91cf\u538b\u7f29\u6587\u4ef6\uff0c\u603b\u4f53\u4e0d\u8d85\u8fc750M\uff0c\u60f3\u60f3\u4f1f\u5927\u601d\u60f3\u5bb6\u9a6c\u514b\u601d\u6559\u5bfc\u6211\u4eec\u8981\u6293\u4e3b\u8981\u77db\u76fe\uff0c\u56e0\u6b64\u8fd9\u90e8\u5206\u6211\u4eec\u76f4\u63a5\u629b\u5f03\u6389", 
            "title": "\u7b2c\u516b\u6b65\uff1a\u820d\u5f03\u5269\u4f59\u7684\u5c11\u91cf\u6587\u4ef6"
        }, 
        {
            "location": "/29.corpus-1g/#_7", 
            "text": "\u5b57\u5e55\u6587\u4ef6\u5c31\u662f\u8fd9\u6837\u7684\u6ca1\u6709\u89c4\u8303\uff0c\u4e43\u81f3\u4e8e\u5404\u79cd\u7f16\u7801\u9f50\u805a\uff0c\u4ec0\u4e48utf-8\u3001utf-16\u3001gbk\u3001unicode\u3001iso8859\u7433\u7405\u6ee1\u76ee\u5e94\u6709\u5c3d\u6709\uff0c\u6211\u4eec\u8981\u7edf\u4e00\u5230\u4e00\u79cd\u7f16\u7801\u65b9\u4fbf\u4f7f\u7528\uff0c\u7d22\u6027\u6211\u4eec\u7edf\u4e00\u5230utf-8\uff0cget_charset_and_conv.py\u5982\u4e0b:   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22 import   chardet  import   sys  import   os  if   __name__   ==   __main__ : \n     if   len ( sys . argv )   ==   2 : \n         for   root ,   dirs ,   files   in   os . walk ( sys . argv [ 1 ]): \n             for   file   in   files : \n                 file_path   =   root   +   /   +   file \n                 f   =   open ( file_path , r ) \n                 data   =   f . read () \n                 f . close () \n                 encoding   =   chardet . detect ( data )[ encoding ] \n                 if   encoding   not   in   ( UTF-8-SIG ,   UTF-16LE ,   utf-8 ,   ascii ): \n                     try : \n                         gb_content   =   data . decode ( gb18030 ) \n                         gb_content . encode ( utf-8 ) \n                         f   =   open ( file_path ,   w ) \n                         f . write ( gb_content . encode ( utf-8 )) \n                         f . close () \n                     except : \n                         print   except: ,   file_path", 
            "title": "\u7b2c\u4e5d\u6b65\uff1a\u7f16\u7801\u8bc6\u522b\u4e0e\u8f6c\u7801"
        }, 
        {
            "location": "/29.corpus-1g/#_8", 
            "text": "\u8003\u8651\u5230\u6211\u671d\u5e7f\u5927\u4eba\u6c11\u7684\u7231\u56fd\u70ed\u60c5\uff0c\u6211\u53ea\u505a\u4e2d\u6587\uff0c\u6240\u4ee5\u4ec0\u4e48\u82f1\u6587\u3001\u97e9\u6587\u3001\u65e5\u6587\u3001\u4fc4\u6587\u3001\u706b\u661f\u6587\u3001\u9e1f\u8bed\u2026\u2026\u5168\u90fd\u4e0d\u8981\uff0c\u53c2\u8003extract_sentence_srt.py\u5982\u4e0b\uff1a   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31 # coding:utf-8  import   chardet  import   os  import   re  cn = ur ([\\u4e00-\\u9fa5]+)  pattern_cn   =   re . compile ( cn )  jp1 = ur ([\\u3040-\\u309F]+)  pattern_jp1   =   re . compile ( jp1 )  jp2 = ur ([\\u30A0-\\u30FF]+)  pattern_jp2   =   re . compile ( jp2 )  for   root ,   dirs ,   files   in   os . walk ( ./srt ): \n     file_count   =   len ( files ) \n     if   file_count     0 : \n         for   index ,   file   in   enumerate ( files ): \n             f   =   open ( root   +   /   +   file ,   r ) \n             content   =   f . read () \n             f . close () \n             encoding   =   chardet . detect ( content )[ encoding ] \n             try : \n                 for   sentence   in   content . decode ( encoding ) . split ( \\n ): \n                     if   len ( sentence )     0 : \n                         match_cn   =    pattern_cn . findall ( sentence ) \n                         match_jp1   =    pattern_jp1 . findall ( sentence ) \n                         match_jp2   =    pattern_jp2 . findall ( sentence ) \n                         sentence   =   sentence . strip () \n                         if   len ( match_cn ) 0   and   len ( match_jp1 ) == 0   and   len ( match_jp2 )   ==   0   and   len ( sentence ) 1   and   len ( sentence . split (   ))     10 : \n                             print   sentence . encode ( utf-8 ) \n             except : \n                 continue", 
            "title": "\u7b2c\u5341\u6b65\uff1a\u7b5b\u9009\u4e2d\u6587"
        }, 
        {
            "location": "/29.corpus-1g/#_9", 
            "text": "\u4e0d\u540c\u683c\u5f0f\u7684\u5b57\u5e55\u6709\u7279\u5b9a\u7684\u683c\u5f0f\uff0c\u9664\u4e86\u53e5\u5b50\u4e4b\u5916\u8fd8\u6709\u5f88\u591a\u5b57\u5e55\u7684\u63a7\u5236\u8bed\u53e5\uff0c\u6211\u4eec\u4e00\u5f8b\u8fc7\u6ee4\u6389\uff0c\u53ea\u63d0\u53d6\u6211\u4eec\u60f3\u8981\u7684\u91cd\u70b9\u5185\u5bb9\uff0c\u56e0\u4e3a\u4e0d\u540c\u7684\u683c\u5f0f\u90fd\u4e0d\u4e00\u6837\uff0c\u5728\u8fd9\u91cc\u4e0d\u4e00\u4e00\u4e3e\u4f8b\u4e86\uff0c\u611f\u5174\u8da3\u53ef\u4ee5\u53bb\u6211\u7684github\u67e5\u770b\uff0c\u5728\u8fd9\u91cc\u5355\u72ec\u5217\u51fassa\u683c\u5f0f\u5b57\u5e55\u7684\u90e8\u5206\u4ee3\u7801\u4f9b\u53c2\u8003\uff1a  1\n2\n3\n4\n5\n6 if   line . find ( Dialogue )   ==   0   and   len ( line )     500 : \n     fields   =   line . split ( , ) \n     sentence   =   fields [ len ( fields ) - 1 ] \n     tag_fields   =   sentence . split ( } ) \n     if   len ( tag_fields )     1 : \n         sentence   =   tag_fields [ len ( tag_fields ) - 1 ]", 
            "title": "\u7b2c\u5341\u4e00\u6b65\uff1a\u5b57\u5e55\u4e2d\u7684\u53e5\u5b50\u63d0\u53d6"
        }, 
        {
            "location": "/29.corpus-1g/#_10", 
            "text": "\u7ecf\u8fc7\u4e0a\u9762\u51e0\u6b65\u7684\u5904\u7406\uff0c\u5176\u5b9e\u5df2\u7ecf\u5f62\u6210\u4e86\u5b8c\u6574\u7684\u8bed\u6599\u5e93\u4e86\uff0c\u53ea\u662f\u91cc\u9762\u8fd8\u6709\u4e00\u4e9b\u4e0d\u50cf\u804a\u5929\u7684\u5185\u5bb9\u6211\u4eec\u9700\u8981\u8fdb\u4e00\u6b65\u505a\u4f18\u5316\uff0c\u5305\u62ec\uff1a\u8fc7\u6ee4\u7279\u6b8a\u7684unicode\u5b57\u7b26\u3001\u8fc7\u6ee4\u7279\u6b8a\u7684\u5173\u952e\u8bcd\uff08\u5982\uff1a\u5b57\u5e55\u3001\u65f6\u95f4\u8f74\u3001\u6821\u5bf9\u2026\u2026\uff09\u3001\u53bb\u9664\u5b57\u5e55\u6837\u5f0f\u6807\u7b7e\u3001\u53bb\u9664html\u6807\u7b7e\u3001\u53bb\u9664\u8fde\u7eed\u7279\u6b8a\u5b57\u7b26\u3001\u53bb\u9664\u8f6c\u4e49\u5b57\u7b26\u3001\u53bb\u9664\u5267\u96c6\u4fe1\u606f\u7b49\uff0c\u5177\u4f53\u4ee3\u7801\u5982\u4e0b\uff1a   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95 # coding:utf-8  import   sys  import   re  import   chardet  if   __name__   ==   __main__ : \n     #illegal=ur ([\\u2000-\\u2010]+) \n     illegal = ur ([\\u0000-\\u2010]+) \n     pattern_illegals   =   [ re . compile ( ur ([\\u2000-\\u2010]+) ),   re . compile ( ur ([\\u0090-\\u0099]+) )] \n     filters   =   [ \u5b57\u5e55 ,   \u65f6\u95f4\u8f74: ,   \u6821\u5bf9: ,   \u7ffb\u8bd1: ,   \u540e\u671f: ,   \u76d1\u5236: ] \n     filters . append ( \u65f6\u95f4\u8f74\uff1a ) \n     filters . append ( \u6821\u5bf9\uff1a ) \n     filters . append ( \u7ffb\u8bd1\uff1a ) \n     filters . append ( \u540e\u671f\uff1a ) \n     filters . append ( \u76d1\u5236\uff1a ) \n     filters . append ( \u7981\u6b62\u7528\u4f5c\u4efb\u4f55\u5546\u4e1a\u76c8\u5229\u884c\u4e3a ) \n     filters . append ( http ) \n     htmltagregex   =   re . compile ( r [^ ]+ , re . S ) \n     brace_regex   =   re . compile ( r \\{.*\\} , re . S ) \n     slash_regex   =   re . compile ( r \\\\ \\w , re . S ) \n     repeat_regex   =   re . compile ( r [-=]{10} , re . S ) \n     f   =   open ( ./corpus/all.out ,   r ) \n     count = 0 \n     while   True : \n         line   =   f . readline () \n         if   line : \n             line   =   line . strip () \n\n             # \u7f16\u7801\u8bc6\u522b\uff0c\u4e0d\u662futf-8\u5c31\u8fc7\u6ee4 \n             gb_content   =   \n             try : \n                 gb_content   =   line . decode ( utf-8 ) \n             except   Exception   as   e : \n                 sys . stderr . write ( decode error:   ,   line ) \n                 continue \n\n             # \u4e2d\u6587\u8bc6\u522b\uff0c\u4e0d\u662f\u4e2d\u6587\u5c31\u8fc7\u6ee4 \n             need_continue   =   False \n             for   pattern_illegal   in   pattern_illegals : \n                 match_illegal   =   pattern_illegal . findall ( gb_content ) \n                 if   len ( match_illegal )     0 : \n                     sys . stderr . write ( match_illegal error:  %s \\n   %   line ) \n                     need_continue   =   True \n                     break \n             if   need_continue : \n                 continue \n\n             # \u5173\u952e\u8bcd\u8fc7\u6ee4 \n             need_continue   =   False \n             for   filter   in   filters : \n                 try : \n                     line . index ( filter ) \n                     sys . stderr . write ( filter keyword of  %s   %s \\n   %   ( filter ,   line )) \n                     need_continue   =   True \n                     break \n                 except : \n                     pass \n             if   need_continue : \n                 continue \n\n             # \u53bb\u6389\u5267\u96c6\u4fe1\u606f \n             if   re . match ( .*\u7b2c.*\u5b63.* ,   line ): \n                 sys . stderr . write ( filter copora  %s \\n   %   line ) \n                 continue \n             if   re . match ( .*\u7b2c.*\u96c6.* ,   line ): \n                 sys . stderr . write ( filter copora  %s \\n   %   line ) \n                 continue \n             if   re . match ( .*\u7b2c.*\u5e27.* ,   line ): \n                 sys . stderr . write ( filter copora  %s \\n   %   line ) \n                 continue \n\n             # \u53bbhtml\u6807\u7b7e \n             line   =   htmltagregex . sub ( , line ) \n\n             # \u53bb\u82b1\u62ec\u53f7\u4fee\u9970 \n             line   =   brace_regex . sub ( ,   line ) \n\n             # \u53bb\u8f6c\u4e49 \n             line   =   slash_regex . sub ( ,   line ) \n\n             # \u53bb\u91cd\u590d \n             new_line   =   repeat_regex . sub ( ,   line ) \n             if   len ( new_line )   !=   len ( line ): \n                 continue \n\n             # \u53bb\u7279\u6b8a\u5b57\u7b26 \n             line   =   line . replace ( - ,   ) . strip () \n\n             if   len ( line )     0 : \n                 sys . stdout . write ( %s \\n   %   line ) \n             count += 1 \n         else : \n             break \n     f . close () \n     pass", 
            "title": "\u7b2c\u5341\u4e8c\u6b65\uff1a\u5185\u5bb9\u8fc7\u6ee4"
        }, 
        {
            "location": "/29.corpus-1g/#_11", 
            "text": "\u5982\u679c\u4f60\u4e0d\u60f3\u7ecf\u5386\u4e0a\u9762\u8fd9\u4e48\u75db\u82e6\u7684\u8fc7\u7a0b\uff0c\u53ef\u4ee5\u76f4\u63a5\u83b7\u53d6\u6211\u5efa\u8bbe\u597d\u7684\u4e09\u5343\u4e07(\u5b9e\u9645\u662f33042896\u6761)\u8bed\u6599\u6587\u4ef6\uff0c\u8003\u8651\u5230\u4e2a\u4eba\u7684\u4eba\u5de5\u6210\u672c\u4ee5\u53ca\u6570\u636e\u672c\u8eab\u7684\u771f\u6b63\u4ef7\u503c\uff0c\u5f62\u5f0f\u4e0a\u6536\u53d69.9\u5143\u7684\u82e6\u529b\u8d39\u4ee5\u8868\u652f\u6301\uff0c\u5e0c\u671b\u5927\u5bb6\u591a\u591a\u7406\u89e3\uff0c\u4e5f\u7b97\u662f\u5bf9\u6211\u7684\u9f13\u52b1\uff0c\u83b7\u53d6\u65b9\u5f0f\u6bd4\u8f83\u7b80\u5355\uff0c\u8bf7\u5237\u4e0b\u65b9\u5fae\u4fe1\u6216\u652f\u4ed8\u5b9d\u4e8c\u7ef4\u7801\uff0c\u652f\u4ed89.9\u5143\uff0c\u4e4b\u540e\u628a\u8ba2\u5355\u53f7\u4ee5\u5982\u4e0b\u4efb\u610f\u65b9\u5f0f\u53d1\u9001\u7ed9\u6211\uff0c\u6211\u4f1a\u628a\u6570\u636e\u5730\u5740\u5949\u4e0a\uff1a  1\uff09\u628a\u652f\u4ed8\u8ba2\u5355\u53f7\u7684\u540e\u516d\u4f4d\u53d1\u5230\u6211\u7684\u90ae\u7bb1shareditor.com^_^gmail.com\uff1b  2\uff09\u5728\u672c\u9875\u4e0b\u65b9\u7559\u8a00\uff0c\u9644\u4e0a\u652f\u4ed8\u8ba2\u5355\u53f7\u7684\u540e\u516d\u4f4d\u53ca\u4f60\u7684\u90ae\u7bb1\u5730\u5740(\u56e0\u4e3a\u7545\u8a00\u7684\u7f18\u6545\uff0c\u6709\u65f6\u7559\u8a00\u9700\u8981\u6211\u540e\u53f0\u5ba1\u6838\u540e\u624d\u80fd\u5c55\u73b0\uff0c\u6240\u4ee5\u7559\u8a00\u4e0d\u6210\u529f\u65f6\u6211\u4f1a\u6bcf\u5929\u90fd\u624b\u5de5\u5ba1\u6838\u901a\u8fc7\uff0c\u8bf7\u8010\u5fc3\u7b49\u5f85)\u3002  \u6570\u636e\u6837\u4f8b\u5982\u4e0b\uff1a   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20 \u8fd9\u662f\u4ec0\u4e48\n\u662f\u5bc4\u7ed9\u533b\u9662\u7684\n\u4e95\u5d0e\u2026\u4e3a\u4ec0\u4e48\uff1f\n\u662f\u4e3a\u4e86\u5c0f\u96ea\u7684\u4e8b\u60c5\n\u600e\u4e48\u56de\u4e8b\uff1f\n\u60a8\u4e0d\u8bb0\u5f97\u4e86\u5417\n\u5728\u5979\u8bf4\u5c0f\u96ea\u2026\n\u5c31\u662f\u5728\u8fd9\u79cd\u975e\u5e38\u65f6\u671f\u548c\u6211\u4eec\u4e00\u8d77\u820d\u5f03\u4f11\u606f\u65f6\u95f4\u6765\u5de5\u4f5c\u7684\u62a4\u58eb\u5931\u8e2a\u65f6\u2026\n\u533b\u751f \u5c0f\u96ea\u5979\u5931\u8e2a\u4e86\n\u4f60\u4e0d\u662f\u56de\u4e86\u4e00\u53e5\u300c\u662f\u5417\u300d\u5417\n\u662f\u5417\u2026\n\u4e0d \u5bf9\u4e0d\u8d77\n\u8ddf\u6211\u9053\u6b49\u4e5f\u6ca1\u7528\u554a\n\u800c\u4e14\u6211\u4eec\u90fd\u77e5\u9053\u60a8\u662f\u56e0\u4e3a\u592b\u4eba\u7684\u4e8b\u60c5\u800c\u64cd\u52b3\n\u4f46\u662f \u6211\u60f3\u5c0f\u806a\u662f\u53d7\u4e0d\u4e86\u533b\u751f\u4e00\u526f\u6f20\u4e0d\u5173\u5fc3\u7684\u6837\u5b50\n\u4e8b\u5230\u5982\u4eca\u518d\u8d23\u5907\u533b\u751f\u4e5f\u6ca1\u6709\u7528\u4e86\n\u662f\u6211\u7684\u9519\u5417\u2026\n\u6211\u5c31\u662f\u8fd9\u4e2a\u610f\u601d \u60a8\u542c\u4e0d\u51fa\u6765\u5417\n\u6211\u4e5f\u96be\u4ee5\u63a5\u53d7\n\u2026\u2026   \u672c\u6570\u636e\u4ec5\u4f5c\u4e3a\u5927\u6570\u636e\u76f8\u5173\u9886\u57df\u5b66\u4e60\u548c\u7814\u7a76\u4f7f\u7528\uff0c\u5982\u679c\u6570\u636e\u672c\u8eab\u65e0\u610f\u4fb5\u72af\u4e86\u60a8\u7684\u7248\u6743\uff0c\u8bf7\u53d1\u9001\u90ae\u4ef6\u81f3shareditor.com^_^gmail.com\u544a\u77e5\uff0c\u5e76\u63d0\u4f9b\u76f8\u5e94\u7684\u8bc1\u660e\uff0c\u6211\u4f1a\u7acb\u5373\u8bc4\u4f30\u548c\u89e3\u51b3\u3002", 
            "title": "\u76f4\u63a5\u83b7\u53d6\u8bed\u6599\u6570\u636e"
        }, 
        {
            "location": "/30.tiny-rabbit/", 
            "text": "\u5728\u4e0a\u4e00\u8282\u4e2d\u6211\u5206\u4eab\u4e86\u5efa\u8bbe\u597d\u7684\u5f71\u89c6\u5267\u5b57\u5e55\u804a\u5929\u8bed\u6599\u5e93\uff0c\u672c\u8282\u57fa\u4e8e\u8fd9\u4e2a\u8bed\u6599\u5e93\u5f00\u53d1\u6211\u4eec\u7684\u804a\u5929\u673a\u5668\u4eba\uff0c\u56e0\u4e3a\u662f\u7b2c\u4e00\u7248\uff0c\u6240\u4ee5\u673a\u5668\u4eba\u7684\u601d\u7eea\u8fd8\u6709\u70b9\u5c0f\u4e71\uff0c\u7b54\u975e\u6240\u95ee\u3001\u9a74\u5507\u4e0d\u5bf9\u9a6c\u5634\u5f97\u6bd4\u8f83\u641e\u7b11\uff0c\u5927\u5bb6\u51d1\u5408\u73a9 \n\n\n\u7b2c\u4e00\u7248\u601d\u8def\n\n\n\u9996\u5148\u8981\u8003\u8651\u5230\u6211\u7684\u5f71\u89c6\u5267\u5b57\u5e55\u804a\u5929\u8bed\u6599\u5e93\u7279\u70b9\uff0c\u5b83\u662f\u628a\u5f71\u89c6\u5267\u91cc\u9762\u7684\u8bf4\u8bdd\u5185\u5bb9\u4e00\u53e5\u4e00\u53e5\u4ee5\u56de\u8f66\u6362\u884c\u7f57\u5217\u7684\u4e09\u5343\u591a\u4e07\u6761\u4e2d\u56fd\u8bdd\uff0c\u90a3\u4e48\u76f8\u90bb\u7684\u7b2c\u4e8c\u53e5\u5176\u5b9e\u5c31\u5f88\u53ef\u80fd\u662f\u7b2c\u4e00\u53e5\u7684\u6700\u597d\u7684\u56de\u7b54\uff0c\u53e6\u5916\uff0c\u5982\u679c\u5bf9\u4e8e\u4e00\u4e2a\u95ee\u53e5\u6709\u5f88\u591a\u79cd\u56de\u7b54\uff0c\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u6839\u636e\u76f8\u5173\u7a0b\u5ea6\u4ee5\u53ca\u5386\u53f2\u804a\u5929\u8bb0\u5f55\u6765\u628a\u6240\u6709\u56de\u7b54\u6392\u4e2a\u5e8f\uff0c\u627e\u5230\u6700\u4f18\u7684\u90a3\u4e2a\uff0c\u8fd9\u4e48\u8bf4\u6765\u8fd9\u662f\u4e00\u4e2a\u641c\u7d22\u548c\u6392\u5e8f\u7684\u8fc7\u7a0b\u3002\u5bf9\uff01\u6ca1\u9519\uff01\u6211\u4eec\u53ef\u4ee5\u501f\u52a9\u641c\u7d22\u6280\u672f\u6765\u505a\u7b2c\u4e00\u7248\u3002\n\n\nlucene+ik\n\n\nlucene\u662f\u4e00\u6b3e\u5f00\u6e90\u514d\u8d39\u7684\u641c\u7d22\u5f15\u64ce\u5e93\uff0cjava\u8bed\u8a00\u5f00\u53d1\u3002ik\u5168\u79f0\u662fIKAnalyzer\uff0c\u662f\u4e00\u4e2a\u5f00\u6e90\u4e2d\u6587\u5207\u8bcd\u5de5\u5177\u3002\u6211\u4eec\u53ef\u4ee5\u5229\u7528\u8fd9\u4e24\u4e2a\u5de5\u5177\u6765\u5bf9\u8bed\u6599\u5e93\u505a\u5207\u8bcd\u5efa\u7d22\u5f15\uff0c\u5e76\u901a\u8fc7\u6587\u672c\u641c\u7d22\u7684\u65b9\u5f0f\u505a\u6587\u672c\u76f8\u5173\u6027\u68c0\u7d22\uff0c\u7136\u540e\u628a\u4e0b\u4e00\u53e5\u53d6\u51fa\u6765\u4f5c\u4e3a\u7b54\u6848\u5019\u9009\u96c6\uff0c\u7136\u540e\u518d\u901a\u8fc7\u5404\u79cd\u65b9\u5f0f\u505a\u7b54\u6848\u6392\u5e8f\uff0c\u5f53\u7136\u8fd9\u4e2a\u6392\u5e8f\u662f\u5f88\u6709\u5b66\u95ee\u7684\uff0c\u804a\u5929\u673a\u5668\u4eba\u6709\u6ca1\u6709\u667a\u80fd\u4e00\u534a\u7a0b\u5ea6\u4e0a\u4f53\u73b0\u5728\u4e86\u8fd9\u91cc(\u8fd8\u6709\u4e00\u534a\u4f53\u73b0\u5728\u5bf9\u95ee\u9898\u7684\u5206\u6790\u4e0a)\uff0c\u672c\u8282\u6211\u4eec\u7684\u4e3b\u8981\u76ee\u7684\u662f\u6253\u901a\u8fd9\u4e00\u5957\u673a\u5236\uff0c\u81f3\u4e8e\u201c\u667a\u80fd\u201d\u8fd9\u4ef6\u4e8b\u6211\u4eec\u4ee5\u540e\u9010\u4e2a\u62c6\u89e3\u5f00\u6765\u4e0d\u65ad\u7814\u7a76\u3002\n\n\n\u5efa\u7d22\u5f15\n\n\n\u9996\u5148\u7528\neclipse\n\u521b\u5efa\u4e00\u4e2a\nmaven\n\u5de5\u7a0b\uff0c\u5982\u4e0b\uff1a\n\n\nmaven\u5e2e\u6211\u4eec\u81ea\u52a8\u751f\u6210\u4e86pom.xml\u6587\u4ef6\uff0c\u8fd9\u914d\u7f6e\u4e86\u5305\u4f9d\u8d56\u4fe1\u606f\uff0c\u6211\u4eec\u5728dependencies\u6807\u7b7e\u4e2d\u6dfb\u52a0\u5982\u4e0b\u4f9d\u8d56\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\ndependency\n\n    \ngroupId\norg.apache.lucene\n/groupId\n\n    \nartifactId\nlucene-core\n/artifactId\n\n    \nversion\n4.10.4\n/version\n\n\n/dependency\n\n\ndependency\n\n    \ngroupId\norg.apache.lucene\n/groupId\n\n    \nartifactId\nlucene-queryparser\n/artifactId\n\n    \nversion\n4.10.4\n/version\n\n\n/dependency\n\n\ndependency\n\n    \ngroupId\norg.apache.lucene\n/groupId\n\n    \nartifactId\nlucene-analyzers-common\n/artifactId\n\n    \nversion\n4.10.4\n/version\n\n\n/dependency\n\n\ndependency\n\n    \ngroupId\nio.netty\n/groupId\n\n    \nartifactId\nnetty-all\n/artifactId\n\n    \nversion\n5.0.0.Alpha2\n/version\n\n\n/dependency\n\n\ndependency\n\n    \ngroupId\ncom.alibaba\n/groupId\n\n    \nartifactId\nfastjson\n/artifactId\n\n    \nversion\n1.1.41\n/version\n\n\n/dependency\n\n\n\n\n\n\n\n\u5e76\u5728project\u6807\u7b7e\u4e2d\u589e\u52a0\u5982\u4e0b\u914d\u7f6e\uff0c\u4f7f\u5f97\u4f9d\u8d56\u7684jar\u5305\u90fd\u80fd\u81ea\u52a8\u62f7\u8d1d\u5230lib\u76ee\u5f55\u4e0b\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\nbuild\n\n  \nplugins\n\n    \nplugin\n\n      \ngroupId\norg.apache.maven.plugins\n/groupId\n\n      \nartifactId\nmaven-dependency-plugin\n/artifactId\n\n      \nexecutions\n\n        \nexecution\n\n          \nid\ncopy-dependencies\n/id\n\n          \nphase\nprepare-package\n/phase\n\n          \ngoals\n\n            \ngoal\ncopy-dependencies\n/goal\n\n          \n/goals\n\n          \nconfiguration\n\n            \noutputDirectory\n${project.build.directory}/lib\n/outputDirectory\n\n            \noverWriteReleases\nfalse\n/overWriteReleases\n\n            \noverWriteSnapshots\nfalse\n/overWriteSnapshots\n\n            \noverWriteIfNewer\ntrue\n/overWriteIfNewer\n\n          \n/configuration\n\n        \n/execution\n\n      \n/executions\n\n    \n/plugin\n\n    \nplugin\n\n      \ngroupId\norg.apache.maven.plugins\n/groupId\n\n      \nartifactId\nmaven-jar-plugin\n/artifactId\n\n      \nconfiguration\n\n        \narchive\n\n          \nmanifest\n\n            \naddClasspath\ntrue\n/addClasspath\n\n            \nclasspathPrefix\nlib/\n/classpathPrefix\n\n            \nmainClass\ntheMainClass\n/mainClass\n\n          \n/manifest\n\n        \n/archive\n\n      \n/configuration\n\n    \n/plugin\n\n  \n/plugins\n\n\n/build\n\n\n\n\n\n\n\n\u4ece\nik-analyzer\n\u4e0b\u8f7dik\u7684\u6e90\u4ee3\u7801\u5e76\u628a\u5176\u4e2d\u7684\nsrc/org\n\u76ee\u5f55\u62f7\u8d1d\u5230\nchatbotv1\n\u5de5\u7a0b\u7684\nsrc/main/java\n\u4e0b\uff0c\u7136\u540e\u5237\u65b0\nmaven\n\u5de5\u7a0b\uff0c\u6548\u679c\u5982\u4e0b\uff1a\n\n\n\u5728\ncom.shareditor.chatbotv1\n\u5305\u4e0b\nmaven\n\u5e2e\u6211\u4eec\u81ea\u52a8\u751f\u6210\u4e86\nApp.java\n\uff0c\u4e3a\u4e86\u8fa8\u8bc6\u6211\u4eec\u6539\u6210\nIndexer.java\n\uff0c\u5173\u952e\u4ee3\u7801\u5982\u4e0b\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\nAnalyzer\n \nanalyzer\n \n=\n \nnew\n \nIKAnalyzer\n(\ntrue\n);\n\n\nIndexWriterConfig\n \niwc\n \n=\n \nnew\n \nIndexWriterConfig\n(\nVersion\n.\nLUCENE_4_9\n,\n \nanalyzer\n);\n\n\niwc\n.\nsetOpenMode\n(\nOpenMode\n.\nCREATE\n);\n\n\niwc\n.\nsetUseCompoundFile\n(\ntrue\n);\n\n\nIndexWriter\n \nindexWriter\n \n=\n \nnew\n \nIndexWriter\n(\nFSDirectory\n.\nopen\n(\nnew\n \nFile\n(\nindexPath\n)),\n \niwc\n);\n\n\n\nBufferedReader\n \nbr\n \n=\n \nnew\n \nBufferedReader\n(\nnew\n \nInputStreamReader\n(\n\n        \nnew\n \nFileInputStream\n(\ncorpusPath\n),\n \nUTF-8\n));\n\n\nString\n \nline\n \n=\n \n;\n\n\nString\n \nlast\n \n=\n \n;\n\n\nlong\n \nlineNum\n \n=\n \n0\n;\n\n\nwhile\n \n((\nline\n \n=\n \nbr\n.\nreadLine\n())\n \n!=\n \nnull\n)\n \n{\n\n    \nline\n \n=\n \nline\n.\ntrim\n();\n\n\n    \nif\n \n(\n0\n \n==\n \nline\n.\nlength\n())\n \n{\n\n        \ncontinue\n;\n\n    \n}\n\n\n    \nif\n \n(!\nlast\n.\nequals\n(\n))\n \n{\n\n        \nDocument\n \ndoc\n \n=\n \nnew\n \nDocument\n();\n\n        \ndoc\n.\nadd\n(\nnew\n \nTextField\n(\nquestion\n,\n \nlast\n,\n \nStore\n.\nYES\n));\n\n        \ndoc\n.\nadd\n(\nnew\n \nStoredField\n(\nanswer\n,\n \nline\n));\n\n        \nindexWriter\n.\naddDocument\n(\ndoc\n);\n\n    \n}\n\n    \nlast\n \n=\n \nline\n;\n\n    \nlineNum\n++;\n\n    \nif\n \n(\nlineNum\n \n%\n \n100000\n \n==\n \n0\n)\n \n{\n\n        \nSystem\n.\nout\n.\nprintln\n(\nadd doc \n \n+\n \nlineNum\n);\n\n    \n}\n\n\n}\n\n\nbr\n.\nclose\n();\n\n\n\nindexWriter\n.\nforceMerge\n(\n1\n);\n\n\nindexWriter\n.\nclose\n();\n\n\n\n\n\n\n\n\u7f16\u8bd1\u597d\u540e\u62f7\u8d1d\nsrc/main/resources\n\u4e0b\u7684\u6240\u6709\u6587\u4ef6\u5230\ntarget\n\u76ee\u5f55\u4e0b\uff0c\u5e76\u5728\ntarget\n\u76ee\u5f55\u4e0b\u6267\u884c\n\n\n1\njava -cp \n$CLASSPATH\n:./lib/:./chatbotv1-0.0.1-SNAPSHOT.jar com.shareditor.chatbotv1.Indexer ../../subtitle/raw_subtitles/subtitle.corpus ./index\n\n\n\n\n\n\n\u6700\u7ec8\u751f\u6210\u7684\u7d22\u5f15\u76ee\u5f55\nindex\n\u901a\u8fc7\nlukeall-4.9.0.jar\n\u67e5\u770b\u5982\u4e0b\uff1a\n\n\n\u68c0\u7d22\u670d\u52a1\n\n\n\u57fa\u4e8enetty\u521b\u5efa\u4e00\u4e2ahttp\u670d\u52a1server\uff0c\u4ee3\u7801\u5171\u4eab\u5728\u7684\nchatbotv1\n\u76ee\u5f55\u4e0b\uff0c\u5173\u952e\u4ee3\u7801\u5982\u4e0b\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\nAnalyzer\n \nanalyzer\n \n=\n \nnew\n \nIKAnalyzer\n(\ntrue\n);\n\n\nQueryParser\n \nqp\n \n=\n \nnew\n \nQueryParser\n(\nVersion\n.\nLUCENE_4_9\n,\n \nquestion\n,\n \nanalyzer\n);\n\n\nif\n \n(\ntopDocs\n.\ntotalHits\n \n==\n \n0\n)\n \n{\n\n    \nqp\n.\nsetDefaultOperator\n(\nOperator\n.\nAND\n);\n\n    \nquery\n \n=\n \nqp\n.\nparse\n(\nq\n);\n\n    \nSystem\n.\nout\n.\nprintln\n(\nquery\n.\ntoString\n());\n\n    \nindexSearcher\n.\nsearch\n(\nquery\n,\n \ncollector\n);\n\n    \ntopDocs\n \n=\n \ncollector\n.\ntopDocs\n();\n\n\n}\n\n\n\nif\n \n(\ntopDocs\n.\ntotalHits\n \n==\n \n0\n)\n \n{\n\n    \nqp\n.\nsetDefaultOperator\n(\nOperator\n.\nOR\n);\n\n    \nquery\n \n=\n \nqp\n.\nparse\n(\nq\n);\n\n    \nSystem\n.\nout\n.\nprintln\n(\nquery\n.\ntoString\n());\n\n    \nindexSearcher\n.\nsearch\n(\nquery\n,\n \ncollector\n);\n\n    \ntopDocs\n \n=\n \ncollector\n.\ntopDocs\n();\n\n\n}\n\n\n\n\nret\n.\nput\n(\ntotal\n,\n \ntopDocs\n.\ntotalHits\n);\n\n\nret\n.\nput\n(\nq\n,\n \nq\n);\n\n\nJSONArray\n \nresult\n \n=\n \nnew\n \nJSONArray\n();\n\n\nfor\n \n(\nScoreDoc\n \nd\n \n:\n \ntopDocs\n.\nscoreDocs\n)\n \n{\n\n    \nDocument\n \ndoc\n \n=\n \nindexSearcher\n.\ndoc\n(\nd\n.\ndoc\n);\n\n    \nString\n \nquestion\n \n=\n \ndoc\n.\nget\n(\nquestion\n);\n\n    \nString\n \nanswer\n \n=\n \ndoc\n.\nget\n(\nanswer\n);\n\n    \nJSONObject\n \nitem\n \n=\n \nnew\n \nJSONObject\n();\n\n    \nitem\n.\nput\n(\nquestion\n,\n \nquestion\n);\n\n    \nitem\n.\nput\n(\nanswer\n,\n \nanswer\n);\n\n    \nitem\n.\nput\n(\nscore\n,\n \nd\n.\nscore\n);\n\n    \nitem\n.\nput\n(\ndoc\n,\n \nd\n.\ndoc\n);\n\n    \nresult\n.\nadd\n(\nitem\n);\n\n\n}\n\n\nret\n.\nput\n(\nresult\n,\n \nresult\n);\n\n\n\n\n\n\n\n\u5176\u5b9e\u5c31\u662f\u67e5\u8be2\u5efa\u597d\u7684\u7d22\u5f15\uff0c\u901a\u8fc7query\u8bcd\u505a\u5207\u8bcd\u62fclucene query\uff0c\u7136\u540e\u68c0\u7d22\u7d22\u5f15\u7684question\u5b57\u6bb5\uff0c\u5339\u914d\u4e0a\u7684\u8fd4\u56deanswer\u5b57\u6bb5\u7684\u503c\u4f5c\u4e3a\u5019\u9009\u96c6\uff0c\u4f7f\u7528\u65f6\u6311\u51fa\u5019\u9009\u96c6\u91cc\u7684\u4e00\u6761\u4f5c\u4e3a\u7b54\u6848\n\n\n\u8fd9\u4e2aserver\u53ef\u4ee5\u901a\u8fc7http\u8bbf\u95ee\uff0c\u5982http://127.0.0.1:8765/?q=hello\uff08\u6ce8\u610f\uff1a\u5982\u679c\u662f\u4e2d\u6587\u9700\u8981\u8f6c\u6210urlcode\u53d1\u9001\uff0c\u56e0\u4e3ajava\u7aef\u8bfb\u53d6\u65f6\u6309\u7167urlcode\u89e3\u6790\uff09\uff0cserver\u7684\u542f\u52a8\u65b9\u6cd5\u662f\uff1a\n\n\n1\njava -cp \n$CLASSPATH\n:./lib/:./chatbotv1-0.0.1-SNAPSHOT.jar com.shareditor.chatbotv1.Searcher\n\n\n\n\n\n\n\u804a\u5929\u754c\u9762\n\n\n\u5148\u770b\u4e0b\u6211\u4eec\u7684\u754c\u9762\u662f\u4ec0\u4e48\u6837\u7684\uff0c\u7136\u540e\u518d\u8bf4\u600e\u4e48\u505a\u7684\n\n\n\u9996\u5148\u9700\u8981\u6709\u4e00\u4e2a\u53ef\u4ee5\u5c55\u793a\u804a\u5929\u5185\u5bb9\u7684\u6846\u6846\uff0c\u6211\u4eec\u9009\u62e9ckeditor\uff0c\u56e0\u4e3a\u5b83\u652f\u6301html\u683c\u5f0f\u5185\u5bb9\u7684\u5c55\u793a\uff0c\u7136\u540e\u5c31\u662f\u4e00\u4e2a\u8f93\u5165\u6846\u548c\u53d1\u9001\u6309\u94ae\uff0chtml\u4ee3\u7801\u5982\u4e0b\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\ndiv\n \nclass\n=\ncol-sm-4 col-xs-10\n\n    \ndiv\n \nclass\n=\nrow\n\n        \ntextarea\n \nid\n=\nchatarea\n\n            \ndiv\n \nstyle\n=\ncolor: blue; text-align: left; padding: 5px;\n\u673a\u5668\u4eba: \u5582\uff0c\u5927\u54e5\u60a8\u597d\uff0c\u60a8\u7ec8\u4e8e\u80af\u8ddf\u6211\u804a\u5929\u4e86,\u6765\u4f83\u4f83\u5457,\u6211\u6765\u8005\u4e0d\u62d2!\n/\ndiv\n\n            \ndiv\n \nstyle\n=\ncolor: blue; text-align: left; padding: 5px;\n\u673a\u5668\u4eba: \u5565?\u4f60\u95ee\u6211\u600e\u4e48\u8fd9\u4e48\u806a\u660e\u4f1a\u804a\u5929?\u56e0\u4e3a\u6211\u521a\u521a\u5403\u4e86\u4e00\u5806\u5f71\u89c6\u5267\u5b57\u5e55!\n/\ndiv\n\n        \n/\ntextarea\n\n    \n/\ndiv\n\n    \nbr\n \n/\n\n\n    \ndiv\n \nclass\n=\nrow\n\n        \ndiv\n \nclass\n=\ninput-group\n\n            \ninput\n \ntype\n=\ntext\n \nid\n=\ninput\n \nclass\n=\nform-control\n \nautofocus\n=\nautofocus\n \nonkeydown\n=\nsubmitByEnter()\n \n/\n\n            \nspan\n \nclass\n=\ninput-group-btn\n\n            \nbutton\n \nclass\n=\nbtn btn-default\n \ntype\n=\nbutton\n \nonclick\n=\nsubmit()\n\u53d1\u9001\n/\nbutton\n\n          \n/\nspan\n\n        \n/\ndiv\n\n    \n/\ndiv\n\n\n/\ndiv\n\n\nscript\n \ntype\n=\ntext/javascript\n\n\n        \nCKEDITOR\n.\nreplace\n(\nchatarea\n,\n\n                \n{\n\n                    \nreadOnly\n:\n \ntrue\n,\n\n                    \ntoolbar\n:\n \n[\nSource\n],\n\n                    \nheight\n:\n \n500\n,\n\n                    \nremovePlugins\n:\n \nelementspath\n,\n\n                    \nresize_enabled\n:\n \nfalse\n,\n\n                    \nallowedContent\n:\n \ntrue\n\n                \n});\n\n\n/\nscript\n\n\n\n\n\n\n\n\u4e3a\u4e86\u8c03\u7528\u4e0a\u9762\u7684\u804a\u5929server\uff0c\u9700\u8981\u5b9e\u73b0\u4e00\u4e2a\u53d1\u9001\u8bf7\u6c42\u83b7\u53d6\u7ed3\u679c\u7684\u63a7\u5236\u5668\uff0c\u5982\u4e0b\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\npublic\n \nfunction\n \nqueryAction\n(\nRequest\n \n$request\n)\n\n\n{\n\n    \n$q\n \n=\n \n$request\n-\nget\n(\ninput\n);\n\n    \n$opts\n \n=\n \narray\n(\n\n        \nhttp\n=\narray\n(\n\n            \nmethod\n=\nGET\n,\n\n            \ntimeout\n=\n60\n,\n\n        \n)\n\n    \n);\n\n    \n$context\n \n=\n \nstream_context_create\n(\n$opts\n);\n\n    \n$clientIp\n \n=\n \n$request\n-\ngetClientIp\n();\n\n    \n$response\n \n=\n \nfile_get_contents\n(\nhttp\n:\n//127.0.0.1:8765/?q=\n . urlencode($q) . \nclientIp=\n . $clientIp, false, $context);\n\n    \n$res\n \n=\n \njson_decode\n(\n$response\n,\n \ntrue\n);\n\n    \n$total\n \n=\n \n$res\n[\ntotal\n];\n\n    \n$result\n \n=\n \n;\n\n    \nif\n \n(\n$total\n \n \n0\n)\n \n{\n\n        \n$result\n \n=\n \n$res\n[\nresult\n][\n0\n][\nanswer\n];\n\n    \n}\n\n    \nreturn\n \nnew\n \nResponse\n(\n$result\n);\n\n\n}\n\n\n\n\n\n\n\n\u8fd9\u4e2a\u63a7\u5236\u5668\u7684\u8def\u7531\u914d\u7f6e\u4e3a\uff1a\n\n\n1\n2\n3\nchatbot_query\n:\n\n    \npath\n:\n     \n/chatbot/\nquery\n\n    \ndefaults\n:\n \n{\n \n_controller\n:\n \nAppBundle\n:\nChatBot\n:\nquery\n \n}\n\n\n\n\n\n\n\n\u56e0\u4e3a\u804a\u5929server\u54cd\u5e94\u65f6\u95f4\u6bd4\u8f83\u957f\uff0c\u4e3a\u4e86\u4e0d\u5bfc\u81f4web\u754c\u9762\u5361\u4f4f\uff0c\u6211\u4eec\u5728\u6267\u884csubmit\u7684\u65f6\u5019\u5f02\u6b65\u53d1\u8bf7\u6c42\u548c\u6536\u7ed3\u679c\uff0c\u5982\u4e0b\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n    \nvar\n \nxmlHttp\n;\n\n    \nfunction\n \nsubmit\n()\n \n{\n\n        \nif\n \n(\nwindow\n.\nActiveXObject\n)\n \n{\n\n            \nxmlHttp\n \n=\n \nnew\n \nActiveXObject\n(\nMicrosoft.XMLHTTP\n);\n\n        \n}\n\n        \nelse\n \nif\n \n(\nwindow\n.\nXMLHttpRequest\n)\n \n{\n\n            \nxmlHttp\n \n=\n \nnew\n \nXMLHttpRequest\n();\n\n        \n}\n\n        \nvar\n \ninput\n \n=\n \n$\n(\n#input\n).\nval\n().\ntrim\n();\n\n        \nif\n \n(\ninput\n \n==\n \n)\n \n{\n\n            \njQuery\n(\n#\ninput\n).\nval\n(\n);\n\n            \nreturn\n;\n\n        \n}\n\n        \naddText\n(\ninput\n,\n \nfalse\n);\n\n        \njQuery\n(\n#\ninput\n).\nval\n(\n);\n\n        \nvar\n \ndatastr\n \n=\n \ninput=\n \n+\n \ninput\n;\n\n        \ndatastr\n \n=\n \nencodeURI\n(\ndatastr\n);\n\n        \nvar\n \nurl\n \n=\n \n/chatbot/query\n;\n\n        \nxmlHttp\n.\nopen\n(\nPOST\n,\n \nurl\n,\n \ntrue\n);\n\n        \nxmlHttp\n.\nonreadystatechange\n \n=\n \ncallback\n;\n\n        \nxmlHttp\n.\nsetRequestHeader\n(\nContent-type\n,\n \napplication/x-www-form-urlencoded\n);\n\n        \nxmlHttp\n.\nsend\n(\ndatastr\n);\n\n    \n}\n\n\n    \nfunction\n \ncallback\n()\n \n{\n\n        \nif\n \n(\nxmlHttp\n.\nreadyState\n \n==\n \n4\n \n \nxmlHttp\n.\nstatus\n \n==\n \n200\n)\n \n{\n\n            \nvar\n \nresponseText\n \n=\n \nxmlHttp\n.\nresponseText\n;\n\n            \naddText\n(\nresponseText\n,\n \ntrue\n);\n\n        \n}\n\n    \n}\n\n\n\n\n\n\n\n\u8fd9\u91cc\u7684addText\u662f\u5f80ckeditor\u91cc\u6dfb\u52a0\u4e00\u6bb5\u6587\u672c\uff0c\u65b9\u6cd5\u5982\u4e0b\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\nfunction\n \naddText\n(\ntext\n,\n \nis_response\n)\n \n{\n\n    \nvar\n \noldText\n \n=\n \nCKEDITOR\n.\ninstances\n.\nchatarea\n.\ngetData\n();\n\n    \nvar\n \nprefix\n \n=\n \n;\n\n    \nif\n \n(\nis_response\n)\n \n{\n\n        \nprefix\n \n=\n \ndiv style=\ncolor: blue; text-align: left; padding: 5px;\n\u673a\u5668\u4eba: \n\n    \n}\n \nelse\n \n{\n\n        \nprefix\n \n=\n \ndiv style=\ncolor: darkgreen; text-align: right; padding: 5px;\n\u6211: \n\n    \n}\n\n    \nCKEDITOR\n.\ninstances\n.\nchatarea\n.\nsetData\n(\noldText\n \n+\n \n \n+\n \nprefix\n \n+\n \ntext\n \n+\n \n/div\n);\n\n\n}\n\n\n\n\n\n\n\n\u4ee5\u4e0a\u6240\u6709\u4ee3\u7801\u5168\u90fd\u5171\u4eab\u5728https://github.com/warmheartli/ChatBotCourse\u548chttps://github.com/warmheartli/shareditor.com\u4e2d\u4f9b\u53c2\u8003\n\n\n\u548c\u673a\u5668\u4eba\u5bf9\u8bdd\u521d\u4f53\u9a8c\n\n\n\u7ecf\u8fc7\u4ee5\u4e0a\u51e0\u90e8\uff0c\u6211\u4eec\u7684\u6574\u5957\u804a\u5929\u673a\u5668\u4eba\u4f53\u7cfb\u5c31\u642d\u5efa\u597d\u4e86\uff0c\u5730\u5740\u5728\uff1ahttp://www.shareditor.com/chatbot/\uff0c\u770b\u4e0b\u6548\u679c\u5427\n\n\n\u867d\u7136\u6548\u679c\u6682\u65f6\u8fd8\u4e0d\u548b\u5730\uff0c\u4f46\u662f\u6574\u4f53\u6d41\u7a0b\u5efa\u8d77\u6765\u4e86\uff0c\u540e\u9762\u5c31\u662f\u4e0d\u65ad\u5b8c\u5584\u7b97\u6cd5\u4e86\uff0c\u4e5f\u5e0c\u671b\u725b\u4eba\u4eec\u591a\u6307\u70b9\u65b9\u6848", 
            "title": "\u4e09\u5341-\u7b2c\u4e00\u7248\u804a\u5929\u673a\u5668\u4eba\u5c0f\u4e8c\u5154"
        }, 
        {
            "location": "/30.tiny-rabbit/#_1", 
            "text": "\u9996\u5148\u8981\u8003\u8651\u5230\u6211\u7684\u5f71\u89c6\u5267\u5b57\u5e55\u804a\u5929\u8bed\u6599\u5e93\u7279\u70b9\uff0c\u5b83\u662f\u628a\u5f71\u89c6\u5267\u91cc\u9762\u7684\u8bf4\u8bdd\u5185\u5bb9\u4e00\u53e5\u4e00\u53e5\u4ee5\u56de\u8f66\u6362\u884c\u7f57\u5217\u7684\u4e09\u5343\u591a\u4e07\u6761\u4e2d\u56fd\u8bdd\uff0c\u90a3\u4e48\u76f8\u90bb\u7684\u7b2c\u4e8c\u53e5\u5176\u5b9e\u5c31\u5f88\u53ef\u80fd\u662f\u7b2c\u4e00\u53e5\u7684\u6700\u597d\u7684\u56de\u7b54\uff0c\u53e6\u5916\uff0c\u5982\u679c\u5bf9\u4e8e\u4e00\u4e2a\u95ee\u53e5\u6709\u5f88\u591a\u79cd\u56de\u7b54\uff0c\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u6839\u636e\u76f8\u5173\u7a0b\u5ea6\u4ee5\u53ca\u5386\u53f2\u804a\u5929\u8bb0\u5f55\u6765\u628a\u6240\u6709\u56de\u7b54\u6392\u4e2a\u5e8f\uff0c\u627e\u5230\u6700\u4f18\u7684\u90a3\u4e2a\uff0c\u8fd9\u4e48\u8bf4\u6765\u8fd9\u662f\u4e00\u4e2a\u641c\u7d22\u548c\u6392\u5e8f\u7684\u8fc7\u7a0b\u3002\u5bf9\uff01\u6ca1\u9519\uff01\u6211\u4eec\u53ef\u4ee5\u501f\u52a9\u641c\u7d22\u6280\u672f\u6765\u505a\u7b2c\u4e00\u7248\u3002", 
            "title": "\u7b2c\u4e00\u7248\u601d\u8def"
        }, 
        {
            "location": "/30.tiny-rabbit/#luceneik", 
            "text": "lucene\u662f\u4e00\u6b3e\u5f00\u6e90\u514d\u8d39\u7684\u641c\u7d22\u5f15\u64ce\u5e93\uff0cjava\u8bed\u8a00\u5f00\u53d1\u3002ik\u5168\u79f0\u662fIKAnalyzer\uff0c\u662f\u4e00\u4e2a\u5f00\u6e90\u4e2d\u6587\u5207\u8bcd\u5de5\u5177\u3002\u6211\u4eec\u53ef\u4ee5\u5229\u7528\u8fd9\u4e24\u4e2a\u5de5\u5177\u6765\u5bf9\u8bed\u6599\u5e93\u505a\u5207\u8bcd\u5efa\u7d22\u5f15\uff0c\u5e76\u901a\u8fc7\u6587\u672c\u641c\u7d22\u7684\u65b9\u5f0f\u505a\u6587\u672c\u76f8\u5173\u6027\u68c0\u7d22\uff0c\u7136\u540e\u628a\u4e0b\u4e00\u53e5\u53d6\u51fa\u6765\u4f5c\u4e3a\u7b54\u6848\u5019\u9009\u96c6\uff0c\u7136\u540e\u518d\u901a\u8fc7\u5404\u79cd\u65b9\u5f0f\u505a\u7b54\u6848\u6392\u5e8f\uff0c\u5f53\u7136\u8fd9\u4e2a\u6392\u5e8f\u662f\u5f88\u6709\u5b66\u95ee\u7684\uff0c\u804a\u5929\u673a\u5668\u4eba\u6709\u6ca1\u6709\u667a\u80fd\u4e00\u534a\u7a0b\u5ea6\u4e0a\u4f53\u73b0\u5728\u4e86\u8fd9\u91cc(\u8fd8\u6709\u4e00\u534a\u4f53\u73b0\u5728\u5bf9\u95ee\u9898\u7684\u5206\u6790\u4e0a)\uff0c\u672c\u8282\u6211\u4eec\u7684\u4e3b\u8981\u76ee\u7684\u662f\u6253\u901a\u8fd9\u4e00\u5957\u673a\u5236\uff0c\u81f3\u4e8e\u201c\u667a\u80fd\u201d\u8fd9\u4ef6\u4e8b\u6211\u4eec\u4ee5\u540e\u9010\u4e2a\u62c6\u89e3\u5f00\u6765\u4e0d\u65ad\u7814\u7a76\u3002", 
            "title": "lucene+ik"
        }, 
        {
            "location": "/30.tiny-rabbit/#_2", 
            "text": "\u9996\u5148\u7528 eclipse \u521b\u5efa\u4e00\u4e2a maven \u5de5\u7a0b\uff0c\u5982\u4e0b\uff1a  maven\u5e2e\u6211\u4eec\u81ea\u52a8\u751f\u6210\u4e86pom.xml\u6587\u4ef6\uff0c\u8fd9\u914d\u7f6e\u4e86\u5305\u4f9d\u8d56\u4fe1\u606f\uff0c\u6211\u4eec\u5728dependencies\u6807\u7b7e\u4e2d\u6dfb\u52a0\u5982\u4e0b\u4f9d\u8d56\uff1a   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25 dependency \n     groupId org.apache.lucene /groupId \n     artifactId lucene-core /artifactId \n     version 4.10.4 /version  /dependency  dependency \n     groupId org.apache.lucene /groupId \n     artifactId lucene-queryparser /artifactId \n     version 4.10.4 /version  /dependency  dependency \n     groupId org.apache.lucene /groupId \n     artifactId lucene-analyzers-common /artifactId \n     version 4.10.4 /version  /dependency  dependency \n     groupId io.netty /groupId \n     artifactId netty-all /artifactId \n     version 5.0.0.Alpha2 /version  /dependency  dependency \n     groupId com.alibaba /groupId \n     artifactId fastjson /artifactId \n     version 1.1.41 /version  /dependency    \u5e76\u5728project\u6807\u7b7e\u4e2d\u589e\u52a0\u5982\u4e0b\u914d\u7f6e\uff0c\u4f7f\u5f97\u4f9d\u8d56\u7684jar\u5305\u90fd\u80fd\u81ea\u52a8\u62f7\u8d1d\u5230lib\u76ee\u5f55\u4e0b\uff1a   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36 build \n   plugins \n     plugin \n       groupId org.apache.maven.plugins /groupId \n       artifactId maven-dependency-plugin /artifactId \n       executions \n         execution \n           id copy-dependencies /id \n           phase prepare-package /phase \n           goals \n             goal copy-dependencies /goal \n           /goals \n           configuration \n             outputDirectory ${project.build.directory}/lib /outputDirectory \n             overWriteReleases false /overWriteReleases \n             overWriteSnapshots false /overWriteSnapshots \n             overWriteIfNewer true /overWriteIfNewer \n           /configuration \n         /execution \n       /executions \n     /plugin \n     plugin \n       groupId org.apache.maven.plugins /groupId \n       artifactId maven-jar-plugin /artifactId \n       configuration \n         archive \n           manifest \n             addClasspath true /addClasspath \n             classpathPrefix lib/ /classpathPrefix \n             mainClass theMainClass /mainClass \n           /manifest \n         /archive \n       /configuration \n     /plugin \n   /plugins  /build    \u4ece ik-analyzer \u4e0b\u8f7dik\u7684\u6e90\u4ee3\u7801\u5e76\u628a\u5176\u4e2d\u7684 src/org \u76ee\u5f55\u62f7\u8d1d\u5230 chatbotv1 \u5de5\u7a0b\u7684 src/main/java \u4e0b\uff0c\u7136\u540e\u5237\u65b0 maven \u5de5\u7a0b\uff0c\u6548\u679c\u5982\u4e0b\uff1a  \u5728 com.shareditor.chatbotv1 \u5305\u4e0b maven \u5e2e\u6211\u4eec\u81ea\u52a8\u751f\u6210\u4e86 App.java \uff0c\u4e3a\u4e86\u8fa8\u8bc6\u6211\u4eec\u6539\u6210 Indexer.java \uff0c\u5173\u952e\u4ee3\u7801\u5982\u4e0b\uff1a   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34 Analyzer   analyzer   =   new   IKAnalyzer ( true );  IndexWriterConfig   iwc   =   new   IndexWriterConfig ( Version . LUCENE_4_9 ,   analyzer );  iwc . setOpenMode ( OpenMode . CREATE );  iwc . setUseCompoundFile ( true );  IndexWriter   indexWriter   =   new   IndexWriter ( FSDirectory . open ( new   File ( indexPath )),   iwc );  BufferedReader   br   =   new   BufferedReader ( new   InputStreamReader ( \n         new   FileInputStream ( corpusPath ),   UTF-8 ));  String   line   =   ;  String   last   =   ;  long   lineNum   =   0 ;  while   (( line   =   br . readLine ())   !=   null )   { \n     line   =   line . trim (); \n\n     if   ( 0   ==   line . length ())   { \n         continue ; \n     } \n\n     if   (! last . equals ( ))   { \n         Document   doc   =   new   Document (); \n         doc . add ( new   TextField ( question ,   last ,   Store . YES )); \n         doc . add ( new   StoredField ( answer ,   line )); \n         indexWriter . addDocument ( doc ); \n     } \n     last   =   line ; \n     lineNum ++; \n     if   ( lineNum   %   100000   ==   0 )   { \n         System . out . println ( add doc    +   lineNum ); \n     }  }  br . close ();  indexWriter . forceMerge ( 1 );  indexWriter . close ();    \u7f16\u8bd1\u597d\u540e\u62f7\u8d1d src/main/resources \u4e0b\u7684\u6240\u6709\u6587\u4ef6\u5230 target \u76ee\u5f55\u4e0b\uff0c\u5e76\u5728 target \u76ee\u5f55\u4e0b\u6267\u884c  1 java -cp  $CLASSPATH :./lib/:./chatbotv1-0.0.1-SNAPSHOT.jar com.shareditor.chatbotv1.Indexer ../../subtitle/raw_subtitles/subtitle.corpus ./index   \u6700\u7ec8\u751f\u6210\u7684\u7d22\u5f15\u76ee\u5f55 index \u901a\u8fc7 lukeall-4.9.0.jar \u67e5\u770b\u5982\u4e0b\uff1a", 
            "title": "\u5efa\u7d22\u5f15"
        }, 
        {
            "location": "/30.tiny-rabbit/#_3", 
            "text": "\u57fa\u4e8enetty\u521b\u5efa\u4e00\u4e2ahttp\u670d\u52a1server\uff0c\u4ee3\u7801\u5171\u4eab\u5728\u7684 chatbotv1 \u76ee\u5f55\u4e0b\uff0c\u5173\u952e\u4ee3\u7801\u5982\u4e0b\uff1a   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34 Analyzer   analyzer   =   new   IKAnalyzer ( true );  QueryParser   qp   =   new   QueryParser ( Version . LUCENE_4_9 ,   question ,   analyzer );  if   ( topDocs . totalHits   ==   0 )   { \n     qp . setDefaultOperator ( Operator . AND ); \n     query   =   qp . parse ( q ); \n     System . out . println ( query . toString ()); \n     indexSearcher . search ( query ,   collector ); \n     topDocs   =   collector . topDocs ();  }  if   ( topDocs . totalHits   ==   0 )   { \n     qp . setDefaultOperator ( Operator . OR ); \n     query   =   qp . parse ( q ); \n     System . out . println ( query . toString ()); \n     indexSearcher . search ( query ,   collector ); \n     topDocs   =   collector . topDocs ();  }  ret . put ( total ,   topDocs . totalHits );  ret . put ( q ,   q );  JSONArray   result   =   new   JSONArray ();  for   ( ScoreDoc   d   :   topDocs . scoreDocs )   { \n     Document   doc   =   indexSearcher . doc ( d . doc ); \n     String   question   =   doc . get ( question ); \n     String   answer   =   doc . get ( answer ); \n     JSONObject   item   =   new   JSONObject (); \n     item . put ( question ,   question ); \n     item . put ( answer ,   answer ); \n     item . put ( score ,   d . score ); \n     item . put ( doc ,   d . doc ); \n     result . add ( item );  }  ret . put ( result ,   result );    \u5176\u5b9e\u5c31\u662f\u67e5\u8be2\u5efa\u597d\u7684\u7d22\u5f15\uff0c\u901a\u8fc7query\u8bcd\u505a\u5207\u8bcd\u62fclucene query\uff0c\u7136\u540e\u68c0\u7d22\u7d22\u5f15\u7684question\u5b57\u6bb5\uff0c\u5339\u914d\u4e0a\u7684\u8fd4\u56deanswer\u5b57\u6bb5\u7684\u503c\u4f5c\u4e3a\u5019\u9009\u96c6\uff0c\u4f7f\u7528\u65f6\u6311\u51fa\u5019\u9009\u96c6\u91cc\u7684\u4e00\u6761\u4f5c\u4e3a\u7b54\u6848  \u8fd9\u4e2aserver\u53ef\u4ee5\u901a\u8fc7http\u8bbf\u95ee\uff0c\u5982http://127.0.0.1:8765/?q=hello\uff08\u6ce8\u610f\uff1a\u5982\u679c\u662f\u4e2d\u6587\u9700\u8981\u8f6c\u6210urlcode\u53d1\u9001\uff0c\u56e0\u4e3ajava\u7aef\u8bfb\u53d6\u65f6\u6309\u7167urlcode\u89e3\u6790\uff09\uff0cserver\u7684\u542f\u52a8\u65b9\u6cd5\u662f\uff1a  1 java -cp  $CLASSPATH :./lib/:./chatbotv1-0.0.1-SNAPSHOT.jar com.shareditor.chatbotv1.Searcher", 
            "title": "\u68c0\u7d22\u670d\u52a1"
        }, 
        {
            "location": "/30.tiny-rabbit/#_4", 
            "text": "\u5148\u770b\u4e0b\u6211\u4eec\u7684\u754c\u9762\u662f\u4ec0\u4e48\u6837\u7684\uff0c\u7136\u540e\u518d\u8bf4\u600e\u4e48\u505a\u7684  \u9996\u5148\u9700\u8981\u6709\u4e00\u4e2a\u53ef\u4ee5\u5c55\u793a\u804a\u5929\u5185\u5bb9\u7684\u6846\u6846\uff0c\u6211\u4eec\u9009\u62e9ckeditor\uff0c\u56e0\u4e3a\u5b83\u652f\u6301html\u683c\u5f0f\u5185\u5bb9\u7684\u5c55\u793a\uff0c\u7136\u540e\u5c31\u662f\u4e00\u4e2a\u8f93\u5165\u6846\u548c\u53d1\u9001\u6309\u94ae\uff0chtml\u4ee3\u7801\u5982\u4e0b\uff1a   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30 div   class = col-sm-4 col-xs-10 \n     div   class = row \n         textarea   id = chatarea \n             div   style = color: blue; text-align: left; padding: 5px; \u673a\u5668\u4eba: \u5582\uff0c\u5927\u54e5\u60a8\u597d\uff0c\u60a8\u7ec8\u4e8e\u80af\u8ddf\u6211\u804a\u5929\u4e86,\u6765\u4f83\u4f83\u5457,\u6211\u6765\u8005\u4e0d\u62d2! / div \n             div   style = color: blue; text-align: left; padding: 5px; \u673a\u5668\u4eba: \u5565?\u4f60\u95ee\u6211\u600e\u4e48\u8fd9\u4e48\u806a\u660e\u4f1a\u804a\u5929?\u56e0\u4e3a\u6211\u521a\u521a\u5403\u4e86\u4e00\u5806\u5f71\u89c6\u5267\u5b57\u5e55! / div \n         / textarea \n     / div \n     br   / \n\n     div   class = row \n         div   class = input-group \n             input   type = text   id = input   class = form-control   autofocus = autofocus   onkeydown = submitByEnter()   / \n             span   class = input-group-btn \n             button   class = btn btn-default   type = button   onclick = submit() \u53d1\u9001 / button \n           / span \n         / div \n     / div  / div  script   type = text/javascript \n\n         CKEDITOR . replace ( chatarea , \n                 { \n                     readOnly :   true , \n                     toolbar :   [ Source ], \n                     height :   500 , \n                     removePlugins :   elementspath , \n                     resize_enabled :   false , \n                     allowedContent :   true \n                 });  / script    \u4e3a\u4e86\u8c03\u7528\u4e0a\u9762\u7684\u804a\u5929server\uff0c\u9700\u8981\u5b9e\u73b0\u4e00\u4e2a\u53d1\u9001\u8bf7\u6c42\u83b7\u53d6\u7ed3\u679c\u7684\u63a7\u5236\u5668\uff0c\u5982\u4e0b\uff1a   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20 public   function   queryAction ( Request   $request )  { \n     $q   =   $request - get ( input ); \n     $opts   =   array ( \n         http = array ( \n             method = GET , \n             timeout = 60 , \n         ) \n     ); \n     $context   =   stream_context_create ( $opts ); \n     $clientIp   =   $request - getClientIp (); \n     $response   =   file_get_contents ( http : //127.0.0.1:8765/?q=  . urlencode($q) .  clientIp=  . $clientIp, false, $context); \n     $res   =   json_decode ( $response ,   true ); \n     $total   =   $res [ total ]; \n     $result   =   ; \n     if   ( $total     0 )   { \n         $result   =   $res [ result ][ 0 ][ answer ]; \n     } \n     return   new   Response ( $result );  }    \u8fd9\u4e2a\u63a7\u5236\u5668\u7684\u8def\u7531\u914d\u7f6e\u4e3a\uff1a  1\n2\n3 chatbot_query : \n     path :       /chatbot/ query \n     defaults :   {   _controller :   AppBundle : ChatBot : query   }    \u56e0\u4e3a\u804a\u5929server\u54cd\u5e94\u65f6\u95f4\u6bd4\u8f83\u957f\uff0c\u4e3a\u4e86\u4e0d\u5bfc\u81f4web\u754c\u9762\u5361\u4f4f\uff0c\u6211\u4eec\u5728\u6267\u884csubmit\u7684\u65f6\u5019\u5f02\u6b65\u53d1\u8bf7\u6c42\u548c\u6536\u7ed3\u679c\uff0c\u5982\u4e0b\uff1a   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30      var   xmlHttp ; \n     function   submit ()   { \n         if   ( window . ActiveXObject )   { \n             xmlHttp   =   new   ActiveXObject ( Microsoft.XMLHTTP ); \n         } \n         else   if   ( window . XMLHttpRequest )   { \n             xmlHttp   =   new   XMLHttpRequest (); \n         } \n         var   input   =   $ ( #input ). val (). trim (); \n         if   ( input   ==   )   { \n             jQuery ( # input ). val ( ); \n             return ; \n         } \n         addText ( input ,   false ); \n         jQuery ( # input ). val ( ); \n         var   datastr   =   input=   +   input ; \n         datastr   =   encodeURI ( datastr ); \n         var   url   =   /chatbot/query ; \n         xmlHttp . open ( POST ,   url ,   true ); \n         xmlHttp . onreadystatechange   =   callback ; \n         xmlHttp . setRequestHeader ( Content-type ,   application/x-www-form-urlencoded ); \n         xmlHttp . send ( datastr ); \n     } \n\n     function   callback ()   { \n         if   ( xmlHttp . readyState   ==   4     xmlHttp . status   ==   200 )   { \n             var   responseText   =   xmlHttp . responseText ; \n             addText ( responseText ,   true ); \n         } \n     }    \u8fd9\u91cc\u7684addText\u662f\u5f80ckeditor\u91cc\u6dfb\u52a0\u4e00\u6bb5\u6587\u672c\uff0c\u65b9\u6cd5\u5982\u4e0b\uff1a   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10 function   addText ( text ,   is_response )   { \n     var   oldText   =   CKEDITOR . instances . chatarea . getData (); \n     var   prefix   =   ; \n     if   ( is_response )   { \n         prefix   =   div style= color: blue; text-align: left; padding: 5px; \u673a\u5668\u4eba:  \n     }   else   { \n         prefix   =   div style= color: darkgreen; text-align: right; padding: 5px; \u6211:  \n     } \n     CKEDITOR . instances . chatarea . setData ( oldText   +     +   prefix   +   text   +   /div );  }    \u4ee5\u4e0a\u6240\u6709\u4ee3\u7801\u5168\u90fd\u5171\u4eab\u5728https://github.com/warmheartli/ChatBotCourse\u548chttps://github.com/warmheartli/shareditor.com\u4e2d\u4f9b\u53c2\u8003", 
            "title": "\u804a\u5929\u754c\u9762"
        }, 
        {
            "location": "/30.tiny-rabbit/#_5", 
            "text": "\u7ecf\u8fc7\u4ee5\u4e0a\u51e0\u90e8\uff0c\u6211\u4eec\u7684\u6574\u5957\u804a\u5929\u673a\u5668\u4eba\u4f53\u7cfb\u5c31\u642d\u5efa\u597d\u4e86\uff0c\u5730\u5740\u5728\uff1ahttp://www.shareditor.com/chatbot/\uff0c\u770b\u4e0b\u6548\u679c\u5427  \u867d\u7136\u6548\u679c\u6682\u65f6\u8fd8\u4e0d\u548b\u5730\uff0c\u4f46\u662f\u6574\u4f53\u6d41\u7a0b\u5efa\u8d77\u6765\u4e86\uff0c\u540e\u9762\u5c31\u662f\u4e0d\u65ad\u5b8c\u5584\u7b97\u6cd5\u4e86\uff0c\u4e5f\u5e0c\u671b\u725b\u4eba\u4eec\u591a\u6307\u70b9\u65b9\u6848", 
            "title": "\u548c\u673a\u5668\u4eba\u5bf9\u8bdd\u521d\u4f53\u9a8c"
        }, 
        {
            "location": "/31.directive/", 
            "text": "\u81ea\u5c0f\u4e8c\u5154\u673a\u5668\u4eba\u4e0a\u7ebf5\u5929\u4ee5\u6765\uff0c\u63a5\u53d7\u4e86\u6765\u81ea100\u591a\u4f4d\u5ba2\u5b98\u7684\u6fc0\u60c5\u8c03\u620f\uff0c\u867d\u7136\u7b54\u975e\u6240\u95ee\u9a74\u5507\u4e0d\u5bf9\u9a6c\u5634\u60c5\u51b5\u7ecf\u5e38\u6709\uff0c\u4f46\u662f\u6211\u5bb6\u5c0f\u4e8c\u5154\u7684\u8bdd\u8fd8\u662f\u6ed4\u6ed4\u4e0d\u7edd\u7684\uff0c\u4e0d\u7ba1\u4f60\u95ee\u4ec0\u4e48\uff0c\u5b83\u603b\u6709\u8981\u8bf4\u7684\u8bdd\uff0c\u90a3\u4e48\u5bf9\u4e8eshareditor\u8fd9\u79cd\u65e5\u5747\u6570\u5343\u6d41\u91cf\u7684\u7f51\u7ad9\u6765\u8bf4\u5c0f\u4e8c\u5154\u8fd8\u60f3\u63a5\u53d7\u66f4\u591a\u7684\u8c03\u620f\uff0c\u600e\u4e48\u529e\uff0c\u6211\u5f00\u59cb\u5bfc\u6d41\u5566 \n\n\n\u5c0f\u4e8c\u5154\u6f0f\u4e24\u62db\n\n\n\u4e3a\u4e86\u5148\u7ed9\u5404\u4f4d\u5ba2\u5b98\u70ed\u70ed\u8eab\uff0c\u6211\u4eec\u627e\u4e00\u6bb5\u6700\u8fd1\u5c0f\u4e8c\u5154\u88ab\u8c03\u620f\u7684\u573a\u666f\u7ed9\u5404\u4f4d\u6b23\u8d4f\u4e00\u4e0b(\u65e5\u671f \u65f6\u95f4 ip [\u7528\u6237\u8bf4\u7684\u8bdd] [\u673a\u5668\u4eba\u8bf4\u7684\u8bdd])\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n2016-09-29 17:49:28 60.191.99.129 [\u4f60\u770b\u8fc7\u52a0\u52d2\u6bd4\u6d77\u76d7\u5417] [\u6211\u4e0d\u662f\u554a]\n2016-09-29 17:49:38 60.191.99.129 [\u90a3\u4f60\u662f\u8c01] [\u4f60\u60f3\u8ba9\u6211\u544a\u8bc9\u4f60\u63a5\u4e0b\u6765\u4f1a\u53d1\u751f\u7684\u4e8b\u5417?]\n2016-09-29 17:49:52 60.191.99.129 [\u795e\u63a2\u72c4\u4ec1\u6770] [\u6628\u665a\u90a3\u96c6\u770b\u4e86\u5417\uff1f\u6211\u5feb\u88ab\u5413\u6b7b\u4e86]\n2016-09-29 17:50:11 60.191.99.129 [\u6ca1\u6709\uff0c\u4f60\u600e\u4e48\u5413\u6b7b\u4e86] [\u8fd9\u5bb6\u4f19\u75af\u4e86 \u4ed6\u662f\u8c01?]\n2016-09-29 17:50:21 60.191.99.129 [\u8def\u5507\u4e0d\u5bf9\u9a6c\u5634] [\u771f\u7684?]\n2016-09-29 17:50:27 60.191.99.129 [\u5047\u7684] [\u8bf4\u6211\u4eec\u5728\u4ea4\u5f80\u4ec0\u4e48\u7684\u90fd\u662f\u5047\u7684]\n2016-09-29 17:50:36 60.191.99.129 [\u771f\u7684] [\u867d\u7136\u6211\u6ca1\u6709\u786e\u8ba4\u8fc7]\n2016-09-29 17:50:49 60.191.99.129 [\u52a8\u624b\uff01] [\u653e\u5fc3\uff0c\u4f60\u4f1a\u5f97\u6551\u7684]\n2016-09-29 17:51:00 60.191.99.129 [\u6253\u4ed6] [\u6253\uff01]\n2016-09-29 17:51:14 60.191.99.129 [\u8bf4\u4f60\u5462] [\u8001\u7237\u5b50  \u60a8\u53c8\u4e0a\u8857\u6ce1\u599e\u53bb]\n2016-09-29 17:51:24 60.191.99.129 [\u4e0a\u6d77\u6ee9] [\u5b83\u53ea\u662f\u8ba9\u6211\u601d\u8003]\n\n\n\n\n\n\n\u597d\u4e86\uff0c\u770b\u770b\u5f97\u4e86\uff0c\u4e0b\u9762\u4ecb\u7ecd\u4e00\u4e0b\u6211\u662f\u600e\u4e48\u7ed9\u5c0f\u4e8c\u5154\u673a\u5668\u4eba\u5bfc\u6d41\u7684\uff0c\u7ed9\u60a8\u538b\u538b\u60ca\n\n\n\u7edf\u8ba1\u7f51\u7ad9\u6d41\u91cf\u60c5\u51b5\n\n\n\u901a\u8fc7cnzz\u7edf\u8ba1\u770b\u4e86\u4e00\u4e0b\u6700\u8fd1\u534a\u4e2a\u6708\u7684\u53d7\u8bbf\u9875\u9762\u6d41\u91cf\u60c5\u51b5\u5982\u4e0b\uff1a\n\n\n\u4ece\u7edf\u8ba1\u6570\u636e\u770b\u51fa\uff0c\u7528\u6237\u7684\u4e3b\u8981\u8bbf\u95ee\u8fd8\u662f\u96c6\u4e2d\u5728\u9996\u9875\u4ee5\u53ca\u5404\u4e2a\u535a\u5ba2\u9875\u9762\uff0c\u56e0\u6b64\u8981\u60f3\u5bfc\u6d41\uff0c\u8fd8\u662f\u4ece\u8fd9\u4e9b\u9875\u9762\u4e0b\u624b\n\n\n\u589e\u52a0\u61d2\u4eba\u56fe\u5e93\u52a8\u6001\u6309\u94ae\n\n\n\u4e3a\u4e86\u5438\u5f15\u7528\u6237\u70b9\u51fb\uff0c\u6211\u6253\u7b97\u5728\u6bcf\u4e2a\u9875\u9762\u7684\u53f3\u4e0b\u89d2\u653e\u7f6e\u4e00\u4e2a\u52a8\u6001\u51fa\u73b0\u7684\u5c0f\u56fe\u6807\uff0c\u9875\u9762\u6eda\u52a8\u65f6\u5b83\u4e0d\u52a8\uff0c\u8fd9\u6837\u7528\u6237\u70b9\u4e86\u76f4\u63a5\u8df3\u5230\u60f3\u8981\u5f15\u6d41\u7684\u5c0f\u4e8c\u5154\u9875\u9762\u3002\u4e8e\u662f\u6211\u4e0a\u7f51\u6252\u4ee3\u7801\uff0c\u641c\u4e86\u4e00\u4e0b\u5ba2\u670d\u6f02\u6d6e\u4ee3\u7801\uff0c\u53d1\u73b0\u4e86\u61d2\u4eba\u56fe\u5e93lrtk\u7684\u4ee3\u7801\uff0c\u4e8e\u662f\u505a\u4e86\u4e00\u4e9b\u4fee\u6539\uff0c\u8fbe\u6210\u4e86\u6211\u7684\u76ee\u7684\uff0c\u6211\u662f\u600e\u4e48\u505a\u7684\u5462\uff1f\n\n\n\u521b\u5efa\u4e00\u4e2ajs\u6587\u4ef6\uff0c\u6bd4\u5982\u53eb\u505alrtk.js\uff0c\u5185\u5bb9\u5982\u4e0b\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n$\n(\nfunction\n()\n\n\n{\n\n    \nvar\n \ntophtml\n=\na href=\\\nhttp://www.shareditor.com/chatbot/\\\n target=\\\n_blank\\\ndiv id=\\\nizl_rmenu\\\n class=\\\nizl-rmenu\\\ndiv class=\\\nbtn btn-phone\\\n/div\ndiv class=\\\nbtn btn-top\\\n/div\n/div\n/a\n;\n\n    \n$\n(\n#top\n).\nhtml\n(\ntophtml\n);\n\n    \n$\n(\n#izl_rmenu\n).\neach\n(\nfunction\n()\n\n    \n{\n\n        \n$\n(\nthis\n).\nfind\n(\n.btn-phone\n).\nmouseenter\n(\nfunction\n()\n\n        \n{\n\n            \n$\n(\nthis\n).\nfind\n(\n.phone\n).\nfadeIn\n(\nfast\n);\n\n        \n});\n\n        \n$\n(\nthis\n).\nfind\n(\n.btn-phone\n).\nmouseleave\n(\nfunction\n()\n\n        \n{\n\n            \n$\n(\nthis\n).\nfind\n(\n.phone\n).\nfadeOut\n(\nfast\n);\n\n        \n});\n\n        \n$\n(\nthis\n).\nfind\n(\n.btn-top\n).\nclick\n(\nfunction\n()\n\n        \n{\n\n            \n$\n(\nhtml, body\n).\nanimate\n({\n\n                \nscroll-top\n:\n0\n\n            \n},\nfast\n);\n\n        \n});\n\n    \n});\n\n    \nvar\n \nlastRmenuStatus\n=\nfalse\n;\n\n\n    \n$\n(\nwindow\n).\nscroll\n(\nfunction\n()\n\n    \n{\n\n        \nvar\n \n_top\n=\n$\n(\nwindow\n).\nscrollTop\n();\n\n        \nif\n(\n_top\n=\n0\n)\n\n        \n{\n\n            \n$\n(\n#izl_rmenu\n).\ndata\n(\nexpanded\n,\ntrue\n);\n\n        \n}\n\n        \nelse\n\n        \n{\n\n            \n$\n(\n#izl_rmenu\n).\ndata\n(\nexpanded\n,\nfalse\n);\n\n        \n}\n\n        \nif\n(\n$\n(\n#izl_rmenu\n).\ndata\n(\nexpanded\n)\n!=\nlastRmenuStatus\n)\n\n        \n{\n\n            \nlastRmenuStatus\n=\n$\n(\n#izl_rmenu\n).\ndata\n(\nexpanded\n);\n\n            \nif\n(\nlastRmenuStatus\n)\n\n            \n{\n\n                \n$\n(\n#izl_rmenu .btn-top\n).\nslideDown\n();\n\n            \n}\n\n            \nelse\n\n            \n{\n\n                \n$\n(\n#izl_rmenu .btn-top\n).\nslideUp\n();\n\n            \n}\n\n        \n}\n\n    \n});\n\n\n});\n\n\n\n\n\n\n\n\u89e3\u91ca\u4e00\u4e0b\uff0c\u4e0a\u534a\u90e8\u5206\u662f\u5b9a\u4e49\u4e86id=top\u7684div\u6807\u7b7e\u7684\u5185\u5bb9\uff1a\u4e00\u4e2aid\u4e3aizl_rmenu\u7684div\uff0c\u8fd9\u4e2adiv\u7684css\u683c\u5f0f\u5b9a\u4e49\u5728\u53e6\u4e00\u4e2a\u6587\u4ef6lrtk.css\u91cc\uff0c\u5982\u4e0b\uff1a\n\n\n1\n2\n3\n.\nizl-rmenu\n{\nposition\n:\nfixed\n;\nleft\n:\n85\n%\n;\nbottom\n:\n10\npx\n;\npadding-bottom\n:\n73\npx\n;\nz-index\n:\n999\n;}\n\n\n.\nizl-rmenu\n \n.\nbtn\n{\nwidth\n:\n72\npx\n;\nheight\n:\n73\npx\n;\nmargin-bottom\n:\n1\npx\n;\ncursor\n:\npointer\n;\nposition\n:\nrelative\n;}\n\n\n.\nizl-rmenu\n \n.\nbtn-top\n{\nbackground\n:\nurl\n(\nhttp://www.shareditor.com/uploads/media/default/0001/01/thumb_416_default_big.png\n)\n \n0\npx\n \n0\npx\n \nno-repeat\n;\nbackground-size\n:\n \n70\npx\n \n70\npx\n;\ndisplay\n:\nnone\n;}\n\n\n\n\n\n\n\n\u53e6\u5916js\u6587\u4ef6\u7684\u4e0b\u534a\u90e8\u5206\u662f\u8bf4\u5f53\u9875\u9762\u6eda\u52a8\u65f6\u8fd9\u4e2adiv\u624d\u5c55\u5f00\n\n\n\u4ee5\u4e0a\u4ee3\u7801\u91cc\u6709\u4e00\u4e9b***phone\u4e4b\u7c7b\u7684\u5185\u5bb9\uff0c\u662f\u56e0\u4e3a\u6211\u6252\u7684\u4ee3\u7801\u662f\u7528\u6765\u663e\u793a\u4e00\u4e2a\u5ba2\u670d\u6309\u94ae\u7684\uff0c\u56e0\u4e3a\u65f6\u95f4\u7684\u5173\u7cfb\u6ca1\u6709\u5220\u5e72\u51c0\uff0c\u4e0d\u8fc7\u4e0d\u5f71\u54cd\u6211\u4eec\u7684\u6548\u679c\uff0c\u60a8\u53ef\u4ee5\u7ee7\u7eed\u52a0\u5de5\u6574\u7406\n\n\n\u6700\u540e\u5728\u6211\u4eec\u6240\u6709\u9875\u9762\u7684\u516c\u5171\u4ee3\u7801\u90e8\u5206\u589e\u52a0\u8fd9\u6837\u4e00\u53e5\n\n\n1\ndiv\n \nid\n=\ntop\n/\ndiv\n\n\n\n\n\n\n\nOK\uff0c\u5927\u529f\u544a\u6210\uff0c\u770b\u4e0b\u6548\u679c\uff1a\n\n\n\u6211\u4eec\u7684\u5c0f\u4e8c\u5154\u56fe\u6807\u51fa\u6765\u4e86\uff0c\u70b9\u51fb\u5c31\u4f1a\u8df3\u5230\u6211\u4eec\u7684\u5c0f\u4e8c\u5154\u804a\u5929\u9875\u9762http://www.shareditor.com/chatbot/\n\n\n\u5c0f\u4e8c\u5154\u7684\u8868\u73b0\u8fd8\u5dee\u5f3a\u4eba\u610f\uff0c\u540e\u9762\u6211\u4f1a\u7ee7\u7eed\u4f18\u5316\u7b97\u6cd5\uff0c\u9010\u6e10\u63d0\u9ad8\u5b83\u7684\u667a\u5546\uff0c\u656c\u8bf7\u671f\u5f85", 
            "title": "\u4e09\u5341\u4e00-\u628a\u7f51\u7ad9\u6d41\u91cf\u5bfc\u5411\u5c0f\u4e8c\u5154"
        }, 
        {
            "location": "/31.directive/#_1", 
            "text": "\u4e3a\u4e86\u5148\u7ed9\u5404\u4f4d\u5ba2\u5b98\u70ed\u70ed\u8eab\uff0c\u6211\u4eec\u627e\u4e00\u6bb5\u6700\u8fd1\u5c0f\u4e8c\u5154\u88ab\u8c03\u620f\u7684\u573a\u666f\u7ed9\u5404\u4f4d\u6b23\u8d4f\u4e00\u4e0b(\u65e5\u671f \u65f6\u95f4 ip [\u7528\u6237\u8bf4\u7684\u8bdd] [\u673a\u5668\u4eba\u8bf4\u7684\u8bdd])\uff1a   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11 2016-09-29 17:49:28 60.191.99.129 [\u4f60\u770b\u8fc7\u52a0\u52d2\u6bd4\u6d77\u76d7\u5417] [\u6211\u4e0d\u662f\u554a]\n2016-09-29 17:49:38 60.191.99.129 [\u90a3\u4f60\u662f\u8c01] [\u4f60\u60f3\u8ba9\u6211\u544a\u8bc9\u4f60\u63a5\u4e0b\u6765\u4f1a\u53d1\u751f\u7684\u4e8b\u5417?]\n2016-09-29 17:49:52 60.191.99.129 [\u795e\u63a2\u72c4\u4ec1\u6770] [\u6628\u665a\u90a3\u96c6\u770b\u4e86\u5417\uff1f\u6211\u5feb\u88ab\u5413\u6b7b\u4e86]\n2016-09-29 17:50:11 60.191.99.129 [\u6ca1\u6709\uff0c\u4f60\u600e\u4e48\u5413\u6b7b\u4e86] [\u8fd9\u5bb6\u4f19\u75af\u4e86 \u4ed6\u662f\u8c01?]\n2016-09-29 17:50:21 60.191.99.129 [\u8def\u5507\u4e0d\u5bf9\u9a6c\u5634] [\u771f\u7684?]\n2016-09-29 17:50:27 60.191.99.129 [\u5047\u7684] [\u8bf4\u6211\u4eec\u5728\u4ea4\u5f80\u4ec0\u4e48\u7684\u90fd\u662f\u5047\u7684]\n2016-09-29 17:50:36 60.191.99.129 [\u771f\u7684] [\u867d\u7136\u6211\u6ca1\u6709\u786e\u8ba4\u8fc7]\n2016-09-29 17:50:49 60.191.99.129 [\u52a8\u624b\uff01] [\u653e\u5fc3\uff0c\u4f60\u4f1a\u5f97\u6551\u7684]\n2016-09-29 17:51:00 60.191.99.129 [\u6253\u4ed6] [\u6253\uff01]\n2016-09-29 17:51:14 60.191.99.129 [\u8bf4\u4f60\u5462] [\u8001\u7237\u5b50  \u60a8\u53c8\u4e0a\u8857\u6ce1\u599e\u53bb]\n2016-09-29 17:51:24 60.191.99.129 [\u4e0a\u6d77\u6ee9] [\u5b83\u53ea\u662f\u8ba9\u6211\u601d\u8003]   \u597d\u4e86\uff0c\u770b\u770b\u5f97\u4e86\uff0c\u4e0b\u9762\u4ecb\u7ecd\u4e00\u4e0b\u6211\u662f\u600e\u4e48\u7ed9\u5c0f\u4e8c\u5154\u673a\u5668\u4eba\u5bfc\u6d41\u7684\uff0c\u7ed9\u60a8\u538b\u538b\u60ca", 
            "title": "\u5c0f\u4e8c\u5154\u6f0f\u4e24\u62db"
        }, 
        {
            "location": "/31.directive/#_2", 
            "text": "\u901a\u8fc7cnzz\u7edf\u8ba1\u770b\u4e86\u4e00\u4e0b\u6700\u8fd1\u534a\u4e2a\u6708\u7684\u53d7\u8bbf\u9875\u9762\u6d41\u91cf\u60c5\u51b5\u5982\u4e0b\uff1a  \u4ece\u7edf\u8ba1\u6570\u636e\u770b\u51fa\uff0c\u7528\u6237\u7684\u4e3b\u8981\u8bbf\u95ee\u8fd8\u662f\u96c6\u4e2d\u5728\u9996\u9875\u4ee5\u53ca\u5404\u4e2a\u535a\u5ba2\u9875\u9762\uff0c\u56e0\u6b64\u8981\u60f3\u5bfc\u6d41\uff0c\u8fd8\u662f\u4ece\u8fd9\u4e9b\u9875\u9762\u4e0b\u624b", 
            "title": "\u7edf\u8ba1\u7f51\u7ad9\u6d41\u91cf\u60c5\u51b5"
        }, 
        {
            "location": "/31.directive/#_3", 
            "text": "\u4e3a\u4e86\u5438\u5f15\u7528\u6237\u70b9\u51fb\uff0c\u6211\u6253\u7b97\u5728\u6bcf\u4e2a\u9875\u9762\u7684\u53f3\u4e0b\u89d2\u653e\u7f6e\u4e00\u4e2a\u52a8\u6001\u51fa\u73b0\u7684\u5c0f\u56fe\u6807\uff0c\u9875\u9762\u6eda\u52a8\u65f6\u5b83\u4e0d\u52a8\uff0c\u8fd9\u6837\u7528\u6237\u70b9\u4e86\u76f4\u63a5\u8df3\u5230\u60f3\u8981\u5f15\u6d41\u7684\u5c0f\u4e8c\u5154\u9875\u9762\u3002\u4e8e\u662f\u6211\u4e0a\u7f51\u6252\u4ee3\u7801\uff0c\u641c\u4e86\u4e00\u4e0b\u5ba2\u670d\u6f02\u6d6e\u4ee3\u7801\uff0c\u53d1\u73b0\u4e86\u61d2\u4eba\u56fe\u5e93lrtk\u7684\u4ee3\u7801\uff0c\u4e8e\u662f\u505a\u4e86\u4e00\u4e9b\u4fee\u6539\uff0c\u8fbe\u6210\u4e86\u6211\u7684\u76ee\u7684\uff0c\u6211\u662f\u600e\u4e48\u505a\u7684\u5462\uff1f  \u521b\u5efa\u4e00\u4e2ajs\u6587\u4ef6\uff0c\u6bd4\u5982\u53eb\u505alrtk.js\uff0c\u5185\u5bb9\u5982\u4e0b\uff1a   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48 $ ( function ()  { \n     var   tophtml = a href=\\ http://www.shareditor.com/chatbot/\\  target=\\ _blank\\ div id=\\ izl_rmenu\\  class=\\ izl-rmenu\\ div class=\\ btn btn-phone\\ /div div class=\\ btn btn-top\\ /div /div /a ; \n     $ ( #top ). html ( tophtml ); \n     $ ( #izl_rmenu ). each ( function () \n     { \n         $ ( this ). find ( .btn-phone ). mouseenter ( function () \n         { \n             $ ( this ). find ( .phone ). fadeIn ( fast ); \n         }); \n         $ ( this ). find ( .btn-phone ). mouseleave ( function () \n         { \n             $ ( this ). find ( .phone ). fadeOut ( fast ); \n         }); \n         $ ( this ). find ( .btn-top ). click ( function () \n         { \n             $ ( html, body ). animate ({ \n                 scroll-top : 0 \n             }, fast ); \n         }); \n     }); \n     var   lastRmenuStatus = false ; \n\n     $ ( window ). scroll ( function () \n     { \n         var   _top = $ ( window ). scrollTop (); \n         if ( _top = 0 ) \n         { \n             $ ( #izl_rmenu ). data ( expanded , true ); \n         } \n         else \n         { \n             $ ( #izl_rmenu ). data ( expanded , false ); \n         } \n         if ( $ ( #izl_rmenu ). data ( expanded ) != lastRmenuStatus ) \n         { \n             lastRmenuStatus = $ ( #izl_rmenu ). data ( expanded ); \n             if ( lastRmenuStatus ) \n             { \n                 $ ( #izl_rmenu .btn-top ). slideDown (); \n             } \n             else \n             { \n                 $ ( #izl_rmenu .btn-top ). slideUp (); \n             } \n         } \n     });  });    \u89e3\u91ca\u4e00\u4e0b\uff0c\u4e0a\u534a\u90e8\u5206\u662f\u5b9a\u4e49\u4e86id=top\u7684div\u6807\u7b7e\u7684\u5185\u5bb9\uff1a\u4e00\u4e2aid\u4e3aizl_rmenu\u7684div\uff0c\u8fd9\u4e2adiv\u7684css\u683c\u5f0f\u5b9a\u4e49\u5728\u53e6\u4e00\u4e2a\u6587\u4ef6lrtk.css\u91cc\uff0c\u5982\u4e0b\uff1a  1\n2\n3 . izl-rmenu { position : fixed ; left : 85 % ; bottom : 10 px ; padding-bottom : 73 px ; z-index : 999 ;}  . izl-rmenu   . btn { width : 72 px ; height : 73 px ; margin-bottom : 1 px ; cursor : pointer ; position : relative ;}  . izl-rmenu   . btn-top { background : url ( http://www.shareditor.com/uploads/media/default/0001/01/thumb_416_default_big.png )   0 px   0 px   no-repeat ; background-size :   70 px   70 px ; display : none ;}    \u53e6\u5916js\u6587\u4ef6\u7684\u4e0b\u534a\u90e8\u5206\u662f\u8bf4\u5f53\u9875\u9762\u6eda\u52a8\u65f6\u8fd9\u4e2adiv\u624d\u5c55\u5f00  \u4ee5\u4e0a\u4ee3\u7801\u91cc\u6709\u4e00\u4e9b***phone\u4e4b\u7c7b\u7684\u5185\u5bb9\uff0c\u662f\u56e0\u4e3a\u6211\u6252\u7684\u4ee3\u7801\u662f\u7528\u6765\u663e\u793a\u4e00\u4e2a\u5ba2\u670d\u6309\u94ae\u7684\uff0c\u56e0\u4e3a\u65f6\u95f4\u7684\u5173\u7cfb\u6ca1\u6709\u5220\u5e72\u51c0\uff0c\u4e0d\u8fc7\u4e0d\u5f71\u54cd\u6211\u4eec\u7684\u6548\u679c\uff0c\u60a8\u53ef\u4ee5\u7ee7\u7eed\u52a0\u5de5\u6574\u7406  \u6700\u540e\u5728\u6211\u4eec\u6240\u6709\u9875\u9762\u7684\u516c\u5171\u4ee3\u7801\u90e8\u5206\u589e\u52a0\u8fd9\u6837\u4e00\u53e5  1 div   id = top / div    OK\uff0c\u5927\u529f\u544a\u6210\uff0c\u770b\u4e0b\u6548\u679c\uff1a  \u6211\u4eec\u7684\u5c0f\u4e8c\u5154\u56fe\u6807\u51fa\u6765\u4e86\uff0c\u70b9\u51fb\u5c31\u4f1a\u8df3\u5230\u6211\u4eec\u7684\u5c0f\u4e8c\u5154\u804a\u5929\u9875\u9762http://www.shareditor.com/chatbot/  \u5c0f\u4e8c\u5154\u7684\u8868\u73b0\u8fd8\u5dee\u5f3a\u4eba\u610f\uff0c\u540e\u9762\u6211\u4f1a\u7ee7\u7eed\u4f18\u5316\u7b97\u6cd5\uff0c\u9010\u6e10\u63d0\u9ad8\u5b83\u7684\u667a\u5546\uff0c\u656c\u8bf7\u671f\u5f85", 
            "title": "\u589e\u52a0\u61d2\u4eba\u56fe\u5e93\u52a8\u6001\u6309\u94ae"
        }, 
        {
            "location": "/32.word-vector/", 
            "text": "\u5229\u7528\u641c\u7d22\u5f15\u64ce\u7684\u539f\u7406\u5b9e\u73b0\u7684\u804a\u5929\u673a\u5668\u4eba\u6548\u679c\u5dee\u5f3a\u4eba\u610f\uff0c\u4e3a\u4e86\u5bf9\u5e9e\u5927\u7684\u8bed\u6599\u5e93\u8fdb\u4e00\u6b65\u8fd0\u7528\uff0c\u6253\u7b97\u5229\u7528LSTM-RNN\u6765\u505a\u8bad\u7ec3\uff0c\u7b2c\u4e00\u6b65\u9700\u8981\u628a\u4e2d\u6587\u8bed\u6599\u8f6c\u6210\u7b97\u6cd5\u53ef\u4ee5\u8bc6\u522b\u7684\u5411\u91cf\u5f62\u5f0f\uff0c\u6700\u5f3a\u5927\u7684word embedding\u5de5\u5177\u83ab\u8fc7\u4e8eword2vec\u4e86\uff0c\u672c\u8282\u8ddf\u5927\u5bb6\u5206\u4eab\u6211\u662f\u600e\u4e48\u7528\u4e09\u5343\u4e07\u5f71\u89c6\u5267\u5b57\u5e55\u8bed\u6599\u5e93\u751f\u6210\u8bcd\u5411\u91cf\u7684 \n\n\n\u5bf9\u8bed\u6599\u5e93\u5207\u8bcd\n\n\n\u56e0\u4e3aword2vec\u7684\u8f93\u5165\u9700\u8981\u662f\u5207\u597d\u8bcd\u7684\u6587\u672c\u6587\u4ef6\uff0c\u4f46\u6211\u4eec\u7684\u5f71\u89c6\u5267\u5b57\u5e55\u8bed\u6599\u5e93\u662f\u56de\u8f66\u6362\u884c\u5206\u9694\u7684\u5b8c\u6574\u53e5\u5b50\uff0c\u6240\u4ee5\u6211\u4eec\u5148\u5bf9\u5176\u505a\u5207\u8bcd\uff0c\u6709\u5173\u4e2d\u6587\u5207\u8bcd\u7684\u65b9\u6cd5\u8bf7\u89c1\u300a\u6559\u4f60\u6210\u4e3a\u5168\u6808\u5de5\u7a0b\u5e08(Full Stack Developer) \u4e09\u5341\u56db-\u57fa\u4e8epython\u7684\u9ad8\u6548\u4e2d\u6587\u6587\u672c\u5207\u8bcd\u300b\uff0c\u4e3a\u4e86\u5bf9\u5f71\u89c6\u5267\u5b57\u5e55\u8bed\u6599\u5e93\u5207\u8bcd\uff0c\u6211\u4eec\u6765\u521b\u5efaword_segment.py\u6587\u4ef6\uff0c\u5185\u5bb9\u5982\u4e0b\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n# coding:utf-8\n\n\n\nimport\n \nsys\n\n\nreload\n(\nsys\n)\n\n\nsys\n.\nsetdefaultencoding\n(\n \nutf-8\n \n)\n\n\n\nimport\n \njieba\n\n\nfrom\n \njieba\n \nimport\n \nanalyse\n\n\n\ndef\n \nsegment\n(\ninput\n,\n \noutput\n):\n\n    \ninput_file\n \n=\n \nopen\n(\ninput\n,\n \nr\n)\n\n    \noutput_file\n \n=\n \nopen\n(\noutput\n,\n \nw\n)\n\n    \nwhile\n \nTrue\n:\n\n        \nline\n \n=\n \ninput_file\n.\nreadline\n()\n\n        \nif\n \nline\n:\n\n            \nline\n \n=\n \nline\n.\nstrip\n()\n\n            \nseg_list\n \n=\n \njieba\n.\ncut\n(\nline\n)\n\n            \nsegments\n \n=\n \n\n            \nfor\n \nstr\n \nin\n \nseg_list\n:\n\n                \nsegments\n \n=\n \nsegments\n \n+\n \n \n \n+\n \nstr\n\n            \noutput_file\n.\nwrite\n(\nsegments\n)\n\n        \nelse\n:\n\n            \nbreak\n\n    \ninput_file\n.\nclose\n()\n\n    \noutput_file\n.\nclose\n()\n\n\n\nif\n \n__name__\n \n==\n \n__main__\n:\n\n    \nif\n \n3\n \n!=\n \nlen\n(\nsys\n.\nargv\n):\n\n        \nprint\n \nUsage: \n,\n \nsys\n.\nargv\n[\n0\n],\n \ninput output\n\n        \nsys\n.\nexit\n(\n-\n1\n)\n\n    \nsegment\n(\nsys\n.\nargv\n[\n1\n],\n \nsys\n.\nargv\n[\n2\n]);\n\n\n\n\n\n\n\n\u4f7f\u7528\u65b9\u6cd5\uff1a\n\n\n1\npython word_segment.py subtitle/raw_subtitles/subtitle.corpus segment_result\n\n\n\n\n\n\n\u751f\u6210\u7684segment_result\u6587\u4ef6\u5185\u5bb9\u5c31\u50cf\u4e0b\u9762\u7684\u6837\u5b50\uff1a\n\n\n1\n2\n3\n\u2026\u2026\n\u8fd9\u4ef6 \u4e8b \u5bf9\u4e0d\u8d77 \u6211 \u5e76 \u4e0d \u76f4\u7387 \u53ea\u6709 \u5728 \u68a6 \u4e2d \u624d\u80fd \u8868\u767d \u5728 \u601d\u7eea \u9519\u4e71 \u4e4b\u524d \u73b0\u5728 \u53ea\u60f3 \u9a6c\u4e0a \u89c1\u5230 \u4f60 \u591c\u665a \u5728 \u6708\u5149 \u4e0b \u54ed\u6ce3 \u6df1\u591c\u91cc \u65e0\u6cd5 \u6253\u7535\u8bdd \u7ed9 \u4f60 \u7eaf\u60c5 \u7684 \u6211 \u8be5 \u600e\u4e48\u529e \u5fc3 \u5c31 \u5982 \u4e07\u82b1\u7b52 \u4e00\u822c \u6708\u4eae \u7684 \u5149\u8292 \u5f15\u5bfc \u7740 \u6211 \u4e0e \u4f60 \u76f8\u4f1a \u65e0\u6570\u6b21 \u661f\u5ea7 \u95ea\u8000 \u7684 \u77ac\u95f4 \u6765 \u5360\u535c \u604b\u7231 \u7684 \u65b9\u5411 \u540c\u6837 \u90fd \u662f \u5728 \u5730\u7403 \u4e0a \u51fa\u751f \u7684 \u5947\u8ff9 \u7684 \u7f57\u66fc\u53f2 \u6211 \u76f8\u4fe1 \u5947\u8ff9 \u7684 \u7f57\u66fc\u53f2 \u5c0f\u5c0f \u5154 \u5728 \u54ea \u4f60 \u5728 \u54ea\u91cc \u627e\u5230 \u4e86 \u5417 \u5230\u5904 \u90fd \u6ca1 \u770b\u5230 \u96be\u9053 \u88ab \u654c\u4eba \u2026 \u603b\u4e4b \u5206\u5934 \u5bfb\u627e \u7ee7\u7eed \u627e \u5427 \u6697\u9ed1 \u5973\u738b   Black   Lady \u7684 \u8bde\u751f \u4e0d \u6109\u5feb \u7684 \u5f80\u65e5 \u56de\u5fc6 \u4f1a \u5728 \u5185\u5fc3\u6df1\u5904 \u7559\u4e0b \u521b\u4f24 \u60f3\u8d77 \u574f\u5fc3\u80a0 \u7684 \u5988\u5988 \u53ca \u51b7\u9177 \u7684 \u7236\u4eb2 \u5427 \u662f \u9752\u86d9 \u4f1a \u8dcc\u5012 \u7684 \u8c01 \u53eb \u4f60 \u4e0d \u542c \u5988\u5988 \u7684\u8bdd \u4e0d \u53ef\u4ee5 \u54ed \u5988\u5988 \u6700 \u8ba8\u538c \u4e86 \u7238\u7238   \u62c9 \u6211 \u8d77\u6765 \u81ea\u5df1 \u7ad9 \u8d77\u6765 \u4e0d\u5411 \u4f60 \u4f38\u51fa\u624b \u7684 \u7236\u6bcd \u5c31\u662f \u4e0d\u7231 \u4f60 \u7684 \u8bc1\u636e \u662f \u4f60 \u81ea\u5df1 \u8dcc\u5012 \u4e0d\u597d \u7ad9 \u8d77\u6765 \u5feb \u56de\u60f3\u8d77\u6765 \u90a3\u4e9b \u66f4 \u53ef\u6068 \u7684 \u4e8b\u60c5 \u5427 \u600e\u4e48 \u4e00\u4e2a \u4eba\u7ad9 \u7740 \u53d1\u5446 \u4eca\u5929 \u662f \u6211 \u7684 \u751f\u65e5 \u751f\u65e5 \uff1f \u5bf9 \u5440 \u53ef\u662f \u7238\n\u2026\u2026\n\n\n\n\n\n\n\u7edf\u8ba1\u4e00\u4e0b\u8fd9\u4e2a\u6587\u4ef6\u5982\u4e0b\uff1a\n\n\n1\n2\n3\n4\n[\nroot@centos $\n]\n ls -lh segment_result\n-rw-r--r-- \n1\n lichuang staff \n1\n.1G \n10\n  \n9\n \n18\n:59 segment_result\n\n[\nroot@centos $\n]\n wc segment_result\n         \n0\n  \n191925623\n \n1093268485\n segment_result\n\n\n\n\n\n\n0\u884c\u662f\u56e0\u4e3a\u6ca1\u6709\u5728\u884c\u5c3e\u52a0\u56de\u8f66\u7b26\uff0c\u4e00\u5171\u662f191925623\u5217\uff0c1093268485\u4e2a\u5b57\u7b26\n\n\n\u7528word2vec\u751f\u6210\u8bcd\u5411\u91cf\n\n\n\u60f3\u4e86\u89e3word2vec\u7684\u539f\u7406\u8bf7\u89c1\u300a\u81ea\u5df1\u52a8\u624b\u505a\u804a\u5929\u673a\u5668\u4eba \u4e8c\u5341\u4e94-google\u7684\u6587\u672c\u6316\u6398\u6df1\u5ea6\u5b66\u4e60\u5de5\u5177word2vec\u7684\u5b9e\u73b0\u539f\u7406\u300b\uff0c\u5982\u679c\u56e0\u4e3a\u88ab\u5899\u83b7\u53d6\u4e0d\u5230word2vec\u53ef\u4ee5\u4ecehttps://github.com/warmheartli/ChatBotCourse/tree/master/word2vec\u83b7\u53d6\uff0c\u76f4\u63a5make\u7f16\u8bd1\u597d\u540e\u4f1a\u751f\u6210\u4e00\u4e9b\u4e8c\u8fdb\u5236\u6587\u4ef6\uff0c\u6211\u8981\u7528\u5230\u7684\u662fword2vec\n\n\n\u6267\u884c\n\n\n1\n2\n3\n4\n5\n./word2vec -train ../segment_result -output vectors.bin -cbow \n1\n -size \n200\n -window \n8\n -negative \n25\n -hs \n0\n -sample 1e-4 -threads \n20\n -binary \n1\n -iter \n15\n\nStarting training using file ../segment_result\nVocab size: \n260499\n\nWords in train file: \n191353657\n\nAlpha: \n0\n.039254  Progress: \n21\n.50%  Words/thread/sec: \n96\n.67k\n\n\n\n\n\n\n\u751f\u6210\u7684vectors.bin\u5c31\u662f\u6211\u4eec\u60f3\u8981\u7684\u8bcd\u5411\u91cf\uff0c\u53ea\u4e0d\u8fc7\u662f\u4e8c\u8fdb\u5236\u683c\u5f0f\uff0c\u8fd9\u65f6\u6211\u4eec\u53ef\u4ee5\u7528word2vec\u81ea\u5e26\u7684distance\u5de5\u5177\u6765\u9a8c\u8bc1\u4e00\u4e0b\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n./distance vectors.bin\nEnter word or sentence \n(\nEXIT to \nbreak\n)\n: \u6f02\u4eae\n\nWord: \u6f02\u4eae  Position in vocabulary: \n722\n\n\nWord       Cosine distance\n------------------------------------------------------------------------\n\u5f88\u6f02\u4eae     \n0\n.532610\n\u5389\u5bb3      \n0\n.440603\n\u8eab\u6750      \n0\n.430269\nbeautiful       \n0\n.413831\n\u68d2       \n0\n.410241\n\u5e05\u5446\u4e86     \n0\n.409414\n\u5e72\u5f97      \n0\n.407550\n\u4e0d\u9519      \n0\n.402978\n\u597d\u7f8e      \n0\n.401329\n\u53ef\u7231      \n0\n.399667\n\u7315\u7334\u6843     \n0\n.391512\n\u597d       \n0\n.388109\n\u914d\u5f53      \n0\n.387999\n\u771f\u68d2      \n0\n.387924\n\u592a\u68d2\u4e86     \n0\n.384184\n\u771f\u4e0d\u9519     \n0\n.377484\n\u2026\u2026\n\n\n\n\n\n\n\u8bcd\u5411\u91cf\u4e8c\u8fdb\u5236\u6587\u4ef6\u7684\u683c\u5f0f\u53ca\u52a0\u8f7d\n\n\nword2vec\u751f\u6210\u7684\u8bcd\u5411\u91cf\u4e8c\u8fdb\u5236\u683c\u5f0f\u662f\u8fd9\u6837\u7684\uff1a\n\n\n\u8bcd\u6570\u76ee(\u7a7a\u683c)\u5411\u91cf\u7ef4\u5ea6\n\u7b2c\u4e00\u4e2a\u8bcd(\u7a7a\u683c)\u8bcd\u5411\u91cf(\u5927\u5c0f\u4e3a200\nsizeof(float))\u7b2c\u4e8c\u4e2a\u8bcd(\u7a7a\u683c)\u8bcd\u5411\u91cf(\u5927\u5c0f\u4e3a200\nsizeof(float))\u2026\u2026\n\u6240\u4ee5\u5199\u4e86\u4e00\u4e2a\u52a0\u8f7d\u8bcd\u5411\u91cf\u4e8c\u8fdb\u5236\u6587\u4ef6\u7684python\u811a\u672c\uff0c\u540e\u9762\u4f1a\u7528\u5230\uff0c\u5982\u4e0b\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n# coding:utf-8\n\n\n\nimport\n \nsys\n\n\nimport\n \nstruct\n\n\nimport\n \nmath\n\n\nimport\n \nnumpy\n \nas\n \nnp\n\n\n\nreload\n(\nsys\n)\n\n\nsys\n.\nsetdefaultencoding\n(\n \nutf-8\n \n)\n\n\n\nmax_w\n \n=\n \n50\n\n\nfloat_size\n \n=\n \n4\n\n\n\ndef\n \nload_vectors\n(\ninput\n):\n\n    \nprint\n \nbegin load vectors\n\n\n    \ninput_file\n \n=\n \nopen\n(\ninput\n,\n \nrb\n)\n\n\n    \n# \u83b7\u53d6\u8bcd\u8868\u6570\u76ee\u53ca\u5411\u91cf\u7ef4\u5ea6\n\n    \nwords_and_size\n \n=\n \ninput_file\n.\nreadline\n()\n\n    \nwords_and_size\n \n=\n \nwords_and_size\n.\nstrip\n()\n\n    \nwords\n \n=\n \nlong\n(\nwords_and_size\n.\nsplit\n(\n \n)[\n0\n])\n\n    \nsize\n \n=\n \nlong\n(\nwords_and_size\n.\nsplit\n(\n \n)[\n1\n])\n\n    \nprint\n \nwords =\n,\n \nwords\n\n    \nprint\n \nsize =\n,\n \nsize\n\n\n    \nword_vector\n \n=\n \n{}\n\n\n    \nfor\n \nb\n \nin\n \nrange\n(\n0\n,\n \nwords\n):\n\n        \na\n \n=\n \n0\n\n        \nword\n \n=\n \n\n        \n# \u8bfb\u53d6\u4e00\u4e2a\u8bcd\n\n        \nwhile\n \nTrue\n:\n\n            \nc\n \n=\n \ninput_file\n.\nread\n(\n1\n)\n\n            \nword\n \n=\n \nword\n \n+\n \nc\n\n            \nif\n \nFalse\n \n==\n \nc\n \nor\n \nc\n \n==\n \n \n:\n\n                \nbreak\n\n            \nif\n \na\n \n \nmax_w\n \nand\n \nc\n \n!=\n \n\\n\n:\n\n                \na\n \n=\n \na\n \n+\n \n1\n\n        \nword\n \n=\n \nword\n.\nstrip\n()\n\n\n        \n# \u8bfb\u53d6\u8bcd\u5411\u91cf\n\n        \nvector\n \n=\n \nnp\n.\nempty\n([\n200\n])\n\n        \nfor\n \nindex\n \nin\n \nrange\n(\n0\n,\n \nsize\n):\n\n            \nm\n \n=\n \ninput_file\n.\nread\n(\nfloat_size\n)\n\n            \n(\nweight\n,)\n \n=\n \nstruct\n.\nunpack\n(\nf\n,\n \nm\n)\n\n            \nvector\n[\nindex\n]\n \n=\n \nweight\n\n\n        \n# \u5c06\u8bcd\u53ca\u5176\u5bf9\u5e94\u7684\u5411\u91cf\u5b58\u5230dict\u4e2d\n\n        \nword_vector\n[\nword\n.\ndecode\n(\nutf-8\n)]\n \n=\n \nvector\n\n\n    \ninput_file\n.\nclose\n()\n\n\n    \nprint\n \nload vectors finish\n\n    \nreturn\n \nword_vector\n\n\n\nif\n \n__name__\n \n==\n \n__main__\n:\n\n    \nif\n \n2\n \n!=\n \nlen\n(\nsys\n.\nargv\n):\n\n        \nprint\n \nUsage: \n,\n \nsys\n.\nargv\n[\n0\n],\n \nvectors.bin\n\n        \nsys\n.\nexit\n(\n-\n1\n)\n\n    \nd\n \n=\n \nload_vectors\n(\nsys\n.\nargv\n[\n1\n])\n\n    \nprint\n \nd\n[\nu\n\u771f\u7684\n]\n\n\n\n\n\n\n\n\u8fd0\u884c\u65b9\u5f0f\u5982\u4e0b\uff1a\n\n\n1\npython word_vectors_loader.py vectors.bin\n\n\n\n\n\n\n\u6548\u679c\u5982\u4e0b\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\nbegin\n \nload\n \nvectors\n\n\nwords\n \n=\n \n49804\n\n\nsize\n \n=\n \n200\n\n\nload\n \nvectors\n \nfinish\n\n\n[\n-\n1.09570336\n  \n2.03501272\n  \n0.3151325\n   \n0.17603125\n  \n0.30261561\n  \n0.15273243\n\n \n-\n0.6409803\n   \n0.06317\n     \n0.20631203\n  \n0.22687016\n  \n0.59229285\n \n-\n1.10883808\n\n  \n1.12569952\n  \n0.16838464\n  \n1.27895844\n \n-\n1.18480754\n  \n1.6270808\n  \n-\n2.62790298\n\n  \n0.43835989\n \n-\n0.21364243\n  \n0.05743926\n \n-\n0.77541786\n \n-\n0.19709823\n  \n0.33360079\n\n  \n0.43415883\n \n-\n1.28643405\n \n-\n0.95402282\n  \n0.01350032\n \n-\n0.20490573\n  \n0.80880177\n\n \n-\n1.47243023\n \n-\n0.09673293\n  \n0.05514769\n  \n1.00915158\n \n-\n0.11268988\n  \n0.68446255\n\n  \n0.08493964\n  \n0.27009442\n  \n0.33748865\n \n-\n0.03105624\n \n-\n0.19079798\n  \n0.46264866\n\n \n-\n0.53616458\n \n-\n0.35288206\n  \n0.76765436\n \n-\n1.0328685\n   \n0.92285776\n \n-\n0.97560757\n\n  \n0.5561474\n  \n-\n0.05574715\n \n-\n0.1951212\n   \n0.5258466\n  \n-\n0.07396954\n  \n1.42198348\n\n  \n1.12321162\n  \n0.03646624\n \n-\n1.54316568\n  \n0.34798017\n  \n0.64197171\n \n-\n0.57232529\n\n  \n0.14402699\n  \n1.75856864\n \n-\n0.72602183\n \n-\n1.37281013\n  \n0.73600221\n  \n0.4458617\n\n \n-\n1.32631493\n  \n0.25921029\n \n-\n0.97459841\n \n-\n1.4394536\n   \n0.18724895\n \n-\n0.74114919\n\n  \n1.50315142\n  \n0.56819481\n  \n0.37238419\n \n-\n0.0501433\n   \n0.36490002\n \n-\n0.14456141\n\n \n-\n0.15503241\n \n-\n0.04504468\n  \n1.18127966\n  \n1.465729\n   \n-\n0.13834922\n \n-\n0.1232961\n\n \n-\n0.14927664\n  \n0.67862391\n  \n2.46567917\n \n-\n1.10682511\n  \n0.71275675\n  \n1.04118025\n\n  \n0.23883103\n \n-\n1.99175942\n  \n0.40641201\n  \n0.73883104\n \n-\n0.37824577\n  \n0.88882846\n\n \n-\n0.87234962\n  \n0.71112823\n  \n0.33647302\n \n-\n1.2701565\n  \n-\n1.15415645\n  \n1.41575384\n\n \n-\n2.01556969\n \n-\n0.85669023\n \n-\n0.0378141\n  \n-\n0.60975027\n  \n0.0738821\n   \n0.19649875\n\n  \n0.02519603\n \n-\n0.78310513\n  \n0.40809572\n  \n0.55079561\n  \n1.79861426\n \n-\n0.01188554\n\n \n-\n0.14823757\n \n-\n0.97098011\n \n-\n2.75159121\n  \n1.52366722\n \n-\n0.41585007\n  \n0.78664345\n\n  \n0.43792239\n  \n1.03834045\n  \n1.18758595\n  \n0.18793568\n \n-\n1.44434023\n \n-\n1.55205989\n\n  \n0.24251698\n  \n1.05706048\n \n-\n1.52376628\n \n-\n0.60226047\n \n-\n0.41849345\n \n-\n0.30082899\n\n \n-\n1.32461691\n  \n0.29701442\n  \n0.36680841\n \n-\n0.72046149\n \n-\n0.16455257\n \n-\n0.02307599\n\n \n-\n0.74143982\n  \n0.10319671\n \n-\n0.5436908\n  \n-\n0.85527682\n \n-\n0.81110024\n \n-\n1.14968359\n\n \n-\n1.45617366\n  \n0.57568634\n \n-\n1.10673392\n \n-\n0.48830599\n  \n1.38728273\n \n-\n0.46238521\n\n  \n1.40288961\n \n-\n0.92997569\n  \n0.90154368\n  \n0.09381612\n \n-\n0.61220604\n \n-\n0.40820527\n\n  \n1.2660408\n  \n-\n1.02075434\n  \n0.98662543\n  \n0.81696391\n  \n0.06962785\n  \n0.83282673\n\n \n-\n0.12462004\n  \n1.16540051\n  \n0.10254569\n  \n1.03875697\n  \n0.05073663\n  \n1.50608146\n\n  \n0.49252063\n  \n0.09693919\n  \n0.38897502\n \n-\n0.0673333\n  \n-\n0.30629408\n \n-\n2.1759603\n\n  \n0.5477249\n  \n-\n1.46633601\n  \n1.54695141\n \n-\n0.83080739\n \n-\n0.49649978\n  \n1.05921662\n\n \n-\n0.60124737\n \n-\n0.72645563\n \n-\n1.44115663\n \n-\n0.6903789\n   \n0.38817915\n \n-\n0.11854757\n\n \n-\n0.18087701\n \n-\n0.41152322\n \n-\n0.98559368\n \n-\n1.46712041\n  \n1.63777673\n \n-\n0.64418262\n\n \n-\n0.56800991\n  \n1.79656076\n \n-\n0.80431151\n  \n0.99533188\n  \n0.06813133\n \n-\n0.73489577\n\n \n-\n0.67567319\n  \n0.64855355\n]\n\n\n\n\n\n\n\n\u603b\u7ed3\n\n\n\u8003\u8651\u5230\u8fd0\u884c\u65f6\u95f4\u7684\u5173\u7cfb\uff0c\u4ee5\u4e0a\u793a\u4f8b\u4e2d\u591a\u6570\u662f\u6211\u62bd\u53d6\u4e86\u90e8\u5206\u8bed\u6599\u6570\u636e\uff0c\u56e0\u6b64\u4f60\u771f\u6b63\u6267\u884c\u65f6\u6570\u503c\u53ef\u80fd\u4f1a\u4e0d\u4e00\u6837\u3002\u81f3\u6b64\uff0c\u6211\u4eec\u5df2\u7ecf\u505a\u5230\u7528\u5f71\u89c6\u5267\u5b57\u5e55\u8bed\u6599\u5e93(\u83b7\u53d6\u65b9\u5f0f\u300a\u81ea\u5df1\u52a8\u624b\u505a\u804a\u5929\u673a\u5668\u4eba \u4e8c\u5341\u4e5d-\u91cd\u78c5\uff1a\u8fd11GB\u7684\u4e09\u5343\u4e07\u804a\u5929\u8bed\u6599\u4f9b\u51fa\u300b)\u751f\u6210\u8bcd\u5411\u91cf\u5e76\u80fd\u591f\u901a\u8fc7python\u52a0\u8f7d\u8d77\u6765\uff0c\u4e0b\u4e00\u6b65\u5c31\u662f\u5982\u4f55\u8fd0\u7528\u4e86\uff0c\u656c\u8bf7\u5173\u6ce8", 
            "title": "\u4e09\u5341\u4e8c-\u7528\u5f71\u89c6\u5267\u5b57\u5e55\u8bed\u6599\u5e93\u751f\u6210\u8bcd\u5411\u91cf"
        }, 
        {
            "location": "/32.word-vector/#_1", 
            "text": "\u56e0\u4e3aword2vec\u7684\u8f93\u5165\u9700\u8981\u662f\u5207\u597d\u8bcd\u7684\u6587\u672c\u6587\u4ef6\uff0c\u4f46\u6211\u4eec\u7684\u5f71\u89c6\u5267\u5b57\u5e55\u8bed\u6599\u5e93\u662f\u56de\u8f66\u6362\u884c\u5206\u9694\u7684\u5b8c\u6574\u53e5\u5b50\uff0c\u6240\u4ee5\u6211\u4eec\u5148\u5bf9\u5176\u505a\u5207\u8bcd\uff0c\u6709\u5173\u4e2d\u6587\u5207\u8bcd\u7684\u65b9\u6cd5\u8bf7\u89c1\u300a\u6559\u4f60\u6210\u4e3a\u5168\u6808\u5de5\u7a0b\u5e08(Full Stack Developer) \u4e09\u5341\u56db-\u57fa\u4e8epython\u7684\u9ad8\u6548\u4e2d\u6587\u6587\u672c\u5207\u8bcd\u300b\uff0c\u4e3a\u4e86\u5bf9\u5f71\u89c6\u5267\u5b57\u5e55\u8bed\u6599\u5e93\u5207\u8bcd\uff0c\u6211\u4eec\u6765\u521b\u5efaword_segment.py\u6587\u4ef6\uff0c\u5185\u5bb9\u5982\u4e0b\uff1a   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31 # coding:utf-8  import   sys  reload ( sys )  sys . setdefaultencoding (   utf-8   )  import   jieba  from   jieba   import   analyse  def   segment ( input ,   output ): \n     input_file   =   open ( input ,   r ) \n     output_file   =   open ( output ,   w ) \n     while   True : \n         line   =   input_file . readline () \n         if   line : \n             line   =   line . strip () \n             seg_list   =   jieba . cut ( line ) \n             segments   =   \n             for   str   in   seg_list : \n                 segments   =   segments   +       +   str \n             output_file . write ( segments ) \n         else : \n             break \n     input_file . close () \n     output_file . close ()  if   __name__   ==   __main__ : \n     if   3   !=   len ( sys . argv ): \n         print   Usage:  ,   sys . argv [ 0 ],   input output \n         sys . exit ( - 1 ) \n     segment ( sys . argv [ 1 ],   sys . argv [ 2 ]);    \u4f7f\u7528\u65b9\u6cd5\uff1a  1 python word_segment.py subtitle/raw_subtitles/subtitle.corpus segment_result   \u751f\u6210\u7684segment_result\u6587\u4ef6\u5185\u5bb9\u5c31\u50cf\u4e0b\u9762\u7684\u6837\u5b50\uff1a  1\n2\n3 \u2026\u2026\n\u8fd9\u4ef6 \u4e8b \u5bf9\u4e0d\u8d77 \u6211 \u5e76 \u4e0d \u76f4\u7387 \u53ea\u6709 \u5728 \u68a6 \u4e2d \u624d\u80fd \u8868\u767d \u5728 \u601d\u7eea \u9519\u4e71 \u4e4b\u524d \u73b0\u5728 \u53ea\u60f3 \u9a6c\u4e0a \u89c1\u5230 \u4f60 \u591c\u665a \u5728 \u6708\u5149 \u4e0b \u54ed\u6ce3 \u6df1\u591c\u91cc \u65e0\u6cd5 \u6253\u7535\u8bdd \u7ed9 \u4f60 \u7eaf\u60c5 \u7684 \u6211 \u8be5 \u600e\u4e48\u529e \u5fc3 \u5c31 \u5982 \u4e07\u82b1\u7b52 \u4e00\u822c \u6708\u4eae \u7684 \u5149\u8292 \u5f15\u5bfc \u7740 \u6211 \u4e0e \u4f60 \u76f8\u4f1a \u65e0\u6570\u6b21 \u661f\u5ea7 \u95ea\u8000 \u7684 \u77ac\u95f4 \u6765 \u5360\u535c \u604b\u7231 \u7684 \u65b9\u5411 \u540c\u6837 \u90fd \u662f \u5728 \u5730\u7403 \u4e0a \u51fa\u751f \u7684 \u5947\u8ff9 \u7684 \u7f57\u66fc\u53f2 \u6211 \u76f8\u4fe1 \u5947\u8ff9 \u7684 \u7f57\u66fc\u53f2 \u5c0f\u5c0f \u5154 \u5728 \u54ea \u4f60 \u5728 \u54ea\u91cc \u627e\u5230 \u4e86 \u5417 \u5230\u5904 \u90fd \u6ca1 \u770b\u5230 \u96be\u9053 \u88ab \u654c\u4eba \u2026 \u603b\u4e4b \u5206\u5934 \u5bfb\u627e \u7ee7\u7eed \u627e \u5427 \u6697\u9ed1 \u5973\u738b   Black   Lady \u7684 \u8bde\u751f \u4e0d \u6109\u5feb \u7684 \u5f80\u65e5 \u56de\u5fc6 \u4f1a \u5728 \u5185\u5fc3\u6df1\u5904 \u7559\u4e0b \u521b\u4f24 \u60f3\u8d77 \u574f\u5fc3\u80a0 \u7684 \u5988\u5988 \u53ca \u51b7\u9177 \u7684 \u7236\u4eb2 \u5427 \u662f \u9752\u86d9 \u4f1a \u8dcc\u5012 \u7684 \u8c01 \u53eb \u4f60 \u4e0d \u542c \u5988\u5988 \u7684\u8bdd \u4e0d \u53ef\u4ee5 \u54ed \u5988\u5988 \u6700 \u8ba8\u538c \u4e86 \u7238\u7238   \u62c9 \u6211 \u8d77\u6765 \u81ea\u5df1 \u7ad9 \u8d77\u6765 \u4e0d\u5411 \u4f60 \u4f38\u51fa\u624b \u7684 \u7236\u6bcd \u5c31\u662f \u4e0d\u7231 \u4f60 \u7684 \u8bc1\u636e \u662f \u4f60 \u81ea\u5df1 \u8dcc\u5012 \u4e0d\u597d \u7ad9 \u8d77\u6765 \u5feb \u56de\u60f3\u8d77\u6765 \u90a3\u4e9b \u66f4 \u53ef\u6068 \u7684 \u4e8b\u60c5 \u5427 \u600e\u4e48 \u4e00\u4e2a \u4eba\u7ad9 \u7740 \u53d1\u5446 \u4eca\u5929 \u662f \u6211 \u7684 \u751f\u65e5 \u751f\u65e5 \uff1f \u5bf9 \u5440 \u53ef\u662f \u7238\n\u2026\u2026   \u7edf\u8ba1\u4e00\u4e0b\u8fd9\u4e2a\u6587\u4ef6\u5982\u4e0b\uff1a  1\n2\n3\n4 [ root@centos $ ]  ls -lh segment_result\n-rw-r--r--  1  lichuang staff  1 .1G  10    9   18 :59 segment_result [ root@centos $ ]  wc segment_result\n          0    191925623   1093268485  segment_result   0\u884c\u662f\u56e0\u4e3a\u6ca1\u6709\u5728\u884c\u5c3e\u52a0\u56de\u8f66\u7b26\uff0c\u4e00\u5171\u662f191925623\u5217\uff0c1093268485\u4e2a\u5b57\u7b26", 
            "title": "\u5bf9\u8bed\u6599\u5e93\u5207\u8bcd"
        }, 
        {
            "location": "/32.word-vector/#word2vec", 
            "text": "\u60f3\u4e86\u89e3word2vec\u7684\u539f\u7406\u8bf7\u89c1\u300a\u81ea\u5df1\u52a8\u624b\u505a\u804a\u5929\u673a\u5668\u4eba \u4e8c\u5341\u4e94-google\u7684\u6587\u672c\u6316\u6398\u6df1\u5ea6\u5b66\u4e60\u5de5\u5177word2vec\u7684\u5b9e\u73b0\u539f\u7406\u300b\uff0c\u5982\u679c\u56e0\u4e3a\u88ab\u5899\u83b7\u53d6\u4e0d\u5230word2vec\u53ef\u4ee5\u4ecehttps://github.com/warmheartli/ChatBotCourse/tree/master/word2vec\u83b7\u53d6\uff0c\u76f4\u63a5make\u7f16\u8bd1\u597d\u540e\u4f1a\u751f\u6210\u4e00\u4e9b\u4e8c\u8fdb\u5236\u6587\u4ef6\uff0c\u6211\u8981\u7528\u5230\u7684\u662fword2vec  \u6267\u884c  1\n2\n3\n4\n5 ./word2vec -train ../segment_result -output vectors.bin -cbow  1  -size  200  -window  8  -negative  25  -hs  0  -sample 1e-4 -threads  20  -binary  1  -iter  15 \nStarting training using file ../segment_result\nVocab size:  260499 \nWords in train file:  191353657 \nAlpha:  0 .039254  Progress:  21 .50%  Words/thread/sec:  96 .67k   \u751f\u6210\u7684vectors.bin\u5c31\u662f\u6211\u4eec\u60f3\u8981\u7684\u8bcd\u5411\u91cf\uff0c\u53ea\u4e0d\u8fc7\u662f\u4e8c\u8fdb\u5236\u683c\u5f0f\uff0c\u8fd9\u65f6\u6211\u4eec\u53ef\u4ee5\u7528word2vec\u81ea\u5e26\u7684distance\u5de5\u5177\u6765\u9a8c\u8bc1\u4e00\u4e0b\uff1a   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24 ./distance vectors.bin\nEnter word or sentence  ( EXIT to  break ) : \u6f02\u4eae\n\nWord: \u6f02\u4eae  Position in vocabulary:  722 \n\nWord       Cosine distance\n------------------------------------------------------------------------\n\u5f88\u6f02\u4eae      0 .532610\n\u5389\u5bb3       0 .440603\n\u8eab\u6750       0 .430269\nbeautiful        0 .413831\n\u68d2        0 .410241\n\u5e05\u5446\u4e86      0 .409414\n\u5e72\u5f97       0 .407550\n\u4e0d\u9519       0 .402978\n\u597d\u7f8e       0 .401329\n\u53ef\u7231       0 .399667\n\u7315\u7334\u6843      0 .391512\n\u597d        0 .388109\n\u914d\u5f53       0 .387999\n\u771f\u68d2       0 .387924\n\u592a\u68d2\u4e86      0 .384184\n\u771f\u4e0d\u9519      0 .377484\n\u2026\u2026   \u8bcd\u5411\u91cf\u4e8c\u8fdb\u5236\u6587\u4ef6\u7684\u683c\u5f0f\u53ca\u52a0\u8f7d  word2vec\u751f\u6210\u7684\u8bcd\u5411\u91cf\u4e8c\u8fdb\u5236\u683c\u5f0f\u662f\u8fd9\u6837\u7684\uff1a  \u8bcd\u6570\u76ee(\u7a7a\u683c)\u5411\u91cf\u7ef4\u5ea6\n\u7b2c\u4e00\u4e2a\u8bcd(\u7a7a\u683c)\u8bcd\u5411\u91cf(\u5927\u5c0f\u4e3a200 sizeof(float))\u7b2c\u4e8c\u4e2a\u8bcd(\u7a7a\u683c)\u8bcd\u5411\u91cf(\u5927\u5c0f\u4e3a200 sizeof(float))\u2026\u2026\n\u6240\u4ee5\u5199\u4e86\u4e00\u4e2a\u52a0\u8f7d\u8bcd\u5411\u91cf\u4e8c\u8fdb\u5236\u6587\u4ef6\u7684python\u811a\u672c\uff0c\u540e\u9762\u4f1a\u7528\u5230\uff0c\u5982\u4e0b\uff1a   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62 # coding:utf-8  import   sys  import   struct  import   math  import   numpy   as   np  reload ( sys )  sys . setdefaultencoding (   utf-8   )  max_w   =   50  float_size   =   4  def   load_vectors ( input ): \n     print   begin load vectors \n\n     input_file   =   open ( input ,   rb ) \n\n     # \u83b7\u53d6\u8bcd\u8868\u6570\u76ee\u53ca\u5411\u91cf\u7ef4\u5ea6 \n     words_and_size   =   input_file . readline () \n     words_and_size   =   words_and_size . strip () \n     words   =   long ( words_and_size . split (   )[ 0 ]) \n     size   =   long ( words_and_size . split (   )[ 1 ]) \n     print   words = ,   words \n     print   size = ,   size \n\n     word_vector   =   {} \n\n     for   b   in   range ( 0 ,   words ): \n         a   =   0 \n         word   =   \n         # \u8bfb\u53d6\u4e00\u4e2a\u8bcd \n         while   True : \n             c   =   input_file . read ( 1 ) \n             word   =   word   +   c \n             if   False   ==   c   or   c   ==     : \n                 break \n             if   a     max_w   and   c   !=   \\n : \n                 a   =   a   +   1 \n         word   =   word . strip () \n\n         # \u8bfb\u53d6\u8bcd\u5411\u91cf \n         vector   =   np . empty ([ 200 ]) \n         for   index   in   range ( 0 ,   size ): \n             m   =   input_file . read ( float_size ) \n             ( weight ,)   =   struct . unpack ( f ,   m ) \n             vector [ index ]   =   weight \n\n         # \u5c06\u8bcd\u53ca\u5176\u5bf9\u5e94\u7684\u5411\u91cf\u5b58\u5230dict\u4e2d \n         word_vector [ word . decode ( utf-8 )]   =   vector \n\n     input_file . close () \n\n     print   load vectors finish \n     return   word_vector  if   __name__   ==   __main__ : \n     if   2   !=   len ( sys . argv ): \n         print   Usage:  ,   sys . argv [ 0 ],   vectors.bin \n         sys . exit ( - 1 ) \n     d   =   load_vectors ( sys . argv [ 1 ]) \n     print   d [ u \u771f\u7684 ]    \u8fd0\u884c\u65b9\u5f0f\u5982\u4e0b\uff1a  1 python word_vectors_loader.py vectors.bin   \u6548\u679c\u5982\u4e0b\uff1a   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38 begin   load   vectors  words   =   49804  size   =   200  load   vectors   finish  [ - 1.09570336    2.03501272    0.3151325     0.17603125    0.30261561    0.15273243 \n  - 0.6409803     0.06317       0.20631203    0.22687016    0.59229285   - 1.10883808 \n   1.12569952    0.16838464    1.27895844   - 1.18480754    1.6270808    - 2.62790298 \n   0.43835989   - 0.21364243    0.05743926   - 0.77541786   - 0.19709823    0.33360079 \n   0.43415883   - 1.28643405   - 0.95402282    0.01350032   - 0.20490573    0.80880177 \n  - 1.47243023   - 0.09673293    0.05514769    1.00915158   - 0.11268988    0.68446255 \n   0.08493964    0.27009442    0.33748865   - 0.03105624   - 0.19079798    0.46264866 \n  - 0.53616458   - 0.35288206    0.76765436   - 1.0328685     0.92285776   - 0.97560757 \n   0.5561474    - 0.05574715   - 0.1951212     0.5258466    - 0.07396954    1.42198348 \n   1.12321162    0.03646624   - 1.54316568    0.34798017    0.64197171   - 0.57232529 \n   0.14402699    1.75856864   - 0.72602183   - 1.37281013    0.73600221    0.4458617 \n  - 1.32631493    0.25921029   - 0.97459841   - 1.4394536     0.18724895   - 0.74114919 \n   1.50315142    0.56819481    0.37238419   - 0.0501433     0.36490002   - 0.14456141 \n  - 0.15503241   - 0.04504468    1.18127966    1.465729     - 0.13834922   - 0.1232961 \n  - 0.14927664    0.67862391    2.46567917   - 1.10682511    0.71275675    1.04118025 \n   0.23883103   - 1.99175942    0.40641201    0.73883104   - 0.37824577    0.88882846 \n  - 0.87234962    0.71112823    0.33647302   - 1.2701565    - 1.15415645    1.41575384 \n  - 2.01556969   - 0.85669023   - 0.0378141    - 0.60975027    0.0738821     0.19649875 \n   0.02519603   - 0.78310513    0.40809572    0.55079561    1.79861426   - 0.01188554 \n  - 0.14823757   - 0.97098011   - 2.75159121    1.52366722   - 0.41585007    0.78664345 \n   0.43792239    1.03834045    1.18758595    0.18793568   - 1.44434023   - 1.55205989 \n   0.24251698    1.05706048   - 1.52376628   - 0.60226047   - 0.41849345   - 0.30082899 \n  - 1.32461691    0.29701442    0.36680841   - 0.72046149   - 0.16455257   - 0.02307599 \n  - 0.74143982    0.10319671   - 0.5436908    - 0.85527682   - 0.81110024   - 1.14968359 \n  - 1.45617366    0.57568634   - 1.10673392   - 0.48830599    1.38728273   - 0.46238521 \n   1.40288961   - 0.92997569    0.90154368    0.09381612   - 0.61220604   - 0.40820527 \n   1.2660408    - 1.02075434    0.98662543    0.81696391    0.06962785    0.83282673 \n  - 0.12462004    1.16540051    0.10254569    1.03875697    0.05073663    1.50608146 \n   0.49252063    0.09693919    0.38897502   - 0.0673333    - 0.30629408   - 2.1759603 \n   0.5477249    - 1.46633601    1.54695141   - 0.83080739   - 0.49649978    1.05921662 \n  - 0.60124737   - 0.72645563   - 1.44115663   - 0.6903789     0.38817915   - 0.11854757 \n  - 0.18087701   - 0.41152322   - 0.98559368   - 1.46712041    1.63777673   - 0.64418262 \n  - 0.56800991    1.79656076   - 0.80431151    0.99533188    0.06813133   - 0.73489577 \n  - 0.67567319    0.64855355 ]", 
            "title": "\u7528word2vec\u751f\u6210\u8bcd\u5411\u91cf"
        }, 
        {
            "location": "/32.word-vector/#_2", 
            "text": "\u8003\u8651\u5230\u8fd0\u884c\u65f6\u95f4\u7684\u5173\u7cfb\uff0c\u4ee5\u4e0a\u793a\u4f8b\u4e2d\u591a\u6570\u662f\u6211\u62bd\u53d6\u4e86\u90e8\u5206\u8bed\u6599\u6570\u636e\uff0c\u56e0\u6b64\u4f60\u771f\u6b63\u6267\u884c\u65f6\u6570\u503c\u53ef\u80fd\u4f1a\u4e0d\u4e00\u6837\u3002\u81f3\u6b64\uff0c\u6211\u4eec\u5df2\u7ecf\u505a\u5230\u7528\u5f71\u89c6\u5267\u5b57\u5e55\u8bed\u6599\u5e93(\u83b7\u53d6\u65b9\u5f0f\u300a\u81ea\u5df1\u52a8\u624b\u505a\u804a\u5929\u673a\u5668\u4eba \u4e8c\u5341\u4e5d-\u91cd\u78c5\uff1a\u8fd11GB\u7684\u4e09\u5343\u4e07\u804a\u5929\u8bed\u6599\u4f9b\u51fa\u300b)\u751f\u6210\u8bcd\u5411\u91cf\u5e76\u80fd\u591f\u901a\u8fc7python\u52a0\u8f7d\u8d77\u6765\uff0c\u4e0b\u4e00\u6b65\u5c31\u662f\u5982\u4f55\u8fd0\u7528\u4e86\uff0c\u656c\u8bf7\u5173\u6ce8", 
            "title": "\u603b\u7ed3"
        }, 
        {
            "location": "/33.lstm-rnn/", 
            "text": "\u4e0d\u7ba1\u662f\u4ec0\u4e48\u6837\u7684\u795e\u7ecf\u7f51\u7edc\u7b97\u6cd5\uff0c\u603b\u80fd\u627e\u5230\u5404\u79cd\u8bed\u8a00\u7684\u5e93\u5e2e\u52a9\u4f60\u5b9e\u73b0\u4f60\u7684\u9700\u6c42\uff0c\u4f46\u662f\u6211\u4eec\u603b\u662f\u770b\u4e0d\u6e05\u90a3\u4e2a\u9ed1\u76d2\u5b50\u91cc\u5230\u5e95\u662f\u600e\u6837\u7684\u4e00\u79cd\u5b58\u5728\uff0c\u5982\u679c\u60f3\u771f\u6b63\u638c\u63e1\u4e00\u79cd\u7b97\u6cd5\uff0c\u6700\u5b9e\u9645\u7684\u65b9\u6cd5\u5c31\u662f\u5b8c\u5168\u624b\u5199\u51fa\u6765\uff0c\u672c\u8282\u6211\u5c31\u901a\u8fc7\u4e24\u5957LSTM\u7684\u7b80\u5355\u5b9e\u73b0\u6765\u5206\u4eab\u638c\u63e1LSTM\u7684\u5feb\u4e50 \n\n\n\u638c\u63e1LSTM\u6709\u4ec0\u4e48\u7528\n\n\n\u5728\u8bfb\u4ee3\u7801\u4e4b\u524d\u6211\u4eec\u8981\u5148\u77e5\u9053\u6211\u4eec\u8bfb\u8fd9\u6bb5\u4ee3\u7801\u7684\u610f\u4e49\u662f\u4ec0\u4e48\u3002LSTM\uff08Long Short Tem Memory\uff09\u662f\u4e00\u79cd\u7279\u6b8a\u9012\u5f52\u795e\u7ecf\u7f51\u7edc\uff0c\u5b83\u7684\u7279\u6b8a\u6027\u5728\u4e8e\u5b83\u7684\u795e\u7ecf\u5143\u7684\u8bbe\u8ba1\u80fd\u591f\u4fdd\u5b58\u5386\u53f2\u8bb0\u5fc6\uff0c\u8fd9\u6837\u53ef\u4ee5\u89e3\u51b3\u81ea\u7136\u8bed\u8a00\u5904\u7406\u7684\u7edf\u8ba1\u65b9\u6cd5\u4e2d\u53ea\u80fd\u8003\u8651\u6700\u8fd1n\u4e2a\u8bcd\u8bed\u800c\u5ffd\u7565\u4e86\u66f4\u4e45\u4e4b\u524d\u7684\u8bcd\u8bed\u7684\u95ee\u9898\u3002\u5b83\u7684\u7528\u9014\u6709\uff1aword representation\uff08embedding\uff09(\u4e5f\u5c31\u662f\u600e\u4e48\u6837\u628a\u8bcd\u8bed\u8868\u8fbe\u6210\u5411\u91cf)\u3001sequence to sequence learning\uff08\u4e5f\u5c31\u662f\u8f93\u5165\u4e00\u4e2a\u53e5\u5b50\u80fd\u9884\u6d4b\u53e6\u4e00\u4e2a\u53e5\u5b50\uff09\u3001\u4ee5\u53ca\u673a\u5668\u7ffb\u8bd1\u3001\u8bed\u97f3\u8bc6\u522b\u7b49\n\n\n100\u591a\u884c\u539f\u59cbpython\u4ee3\u7801\u5b9e\u73b0\u7684\u57fa\u4e8eLSTM\u7684\u4e8c\u8fdb\u5236\u52a0\u6cd5\u5668\n\u8fd9\u4efd\u4ee3\u7801\u6765\u6e90\u4e8ehttps://iamtrask.github.io/2015/11/15/anyone-can-code-lstm/\uff0c\u56fd\u4eba\u4e5f\u505a\u4e86\u7ffb\u8bd1http://blog.csdn.net/zzukun/article/details/49968129\uff0c\u8fd9\u91cc\u6211\u518d\u6b21\u5f15\u7528\u610f\u5728\u4e00\u8fb9\u8bfb\u4e00\u8fb9\u5b66\u4e60\u4e00\u8fb9\u7406\u89e3\uff0c\u5e76\u4ece\u5236\u4f5c\u804a\u5929\u673a\u5668\u4eba\u7684\u76ee\u6807\u4e0a\u505a\u4e00\u4e9b\u6269\u5145\u89e3\u8bfb\uff0c\u4e0b\u9762\u6211\u5c31\u4e00\u53e5\u4e00\u53e5\u7684\u89e3\u91ca\uff08\u6ca1\u6709\u7f29\u8fdb\uff0c\u8bf7\u53c2\u8003\u539f\u59cb\u4ee3\u7801\uff09\uff1a\n\n\n1\n2\nimport\n \ncopy\n,\n \nnumpy\n \nas\n \nnp\n\n\nnp\n.\nrandom\n.\nseed\n(\n0\n)\n\n\n\n\n\n\n\n\u6700\u5f00\u59cb\u5f15\u5165\u4e86numpy\u5e93\uff0c\u8fd9\u662f\u4e3a\u4e86\u77e9\u9635\u64cd\u4f5c\u7684\u65b9\u4fbf\n\n\n1\n2\n3\ndef\n \nsigmoid\n(\nx\n):\n\n    \noutput\n \n=\n \n1\n/\n(\n1\n+\nnp\n.\nexp\n(\n-\nx\n))\n\n    \nreturn\n \noutput\n\n\n\n\n\n\n\n\u8fd9\u662f\u58f0\u660esigmoid\u6fc0\u6d3b\u51fd\u6570\uff0c\u8fd9\u662f\u795e\u7ecf\u7f51\u7edc\u7684\u57fa\u7840\u5185\u5bb9\uff0c\u5e38\u7528\u7684\u6fc0\u6d3b\u51fd\u6570\u6709sigmoid\u3001tan\u3001relu\u7b49\uff0csigmoid\u7684\u53d6\u503c\u8303\u56f4\u662f[0, 1]\uff0ctan\u7684\u53d6\u503c\u8303\u56f4\u662f[-1,1]\uff0c\u8fd9\u91cc\u7684x\u662f\u4e00\u4e2a\u5411\u91cf\uff0c\u90a3\u4e48\u8fd4\u56de\u7684output\u4e5f\u662f\u4e00\u4e2a\u5411\u91cf\n\n\n1\n2\ndef\n \nsigmoid_output_to_derivative\n(\noutput\n):\n\n    \nreturn\n \noutput\n*\n(\n1\n-\noutput\n)\n\n\n\n\n\n\n\n\u8fd9\u662f\u58f0\u660esigmoid\u7684\u6c42\u5bfc\u51fd\u6570\uff0c\u90a3\u4e48\u8fd9\u4e2a\u6c42\u5bfc\u51fd\u6570\u600e\u4e48\u6765\u7684\u5462\uff1f\u8bf7\u770b\u4e0b\u9762\u7684\u63a8\u5bfc\u4f60\u5c31\u660e\u767d\u4e86\n\n\n\u5728\u8fd9\u91cc\u5148\u8bf4\u4e00\u4e0b\u8fd9\u4e2a\u52a0\u6cd5\u5668\u7684\u601d\u8def\uff1a\u4e8c\u8fdb\u5236\u7684\u52a0\u6cd5\u662f\u4e00\u4e2a\u4e00\u4e2a\u4e8c\u8fdb\u5236\u4f4d\u76f8\u52a0\uff0c\u540c\u65f6\u4f1a\u8bb0\u5f55\u4e00\u4e2a\u6ee1\u4e8c\u8fdb\u4e00\u7684\u8fdb\u4f4d\uff0c\u90a3\u4e48\u8bad\u7ec3\u65f6\uff0c\u968f\u673a\u627e\u4e2ac=a+b\u5c31\u662f\u4e00\u4e2a\u6837\u672c\uff0c\u8f93\u5165a\u3001b\u8f93\u51fac\u5c31\u662f\u6574\u4e2alstm\u7684\u9884\u6d4b\u8fc7\u7a0b\uff0c\u6211\u4eec\u8981\u8bad\u7ec3\u7684\u5c31\u662f\u7531a\u3001b\u7684\u4e8c\u8fdb\u5236\u5411c\u8f6c\u6362\u7684\u5404\u79cd\u8f6c\u6362\u77e9\u9635\u548c\u6743\u91cd\u7b49\uff0c\u4e5f\u5c31\u662f\u6211\u4eec\u8981\u8bbe\u8ba1\u7684\u795e\u7ecf\u7f51\u7edc\n\n\n1\nint2binary\n \n=\n \n{}\n\n\n\n\n\n\n\n\u8fd9\u91cc\u58f0\u660e\u4e86\u4e00\u4e2a\u8bcd\u5178\uff0c\u7528\u4e8e\u7531\u6574\u578b\u6570\u5b57\u8f6c\u6210\u4e8c\u8fdb\u5236\uff0c\u8fd9\u6837\u5b58\u8d77\u6765\u662f\u4e3a\u4e86\u4e0d\u7528\u968f\u65f6\u8ba1\u7b97\uff0c\u63d0\u524d\u5b58\u597d\u80fd\u591f\u4f7f\u5f97\u8bfb\u53d6\u66f4\u5feb\n\n\n1\n2\nbinary_dim\n \n=\n \n8\n\n\nlargest_number\n \n=\n \npow\n(\n2\n,\nbinary_dim\n)\n\n\n\n\n\n\n\n\u8fd9\u662f\u58f0\u660e\u4e8c\u8fdb\u5236\u6570\u5b57\u7684\u7ef4\u5ea6\uff0c\u5982\u679c\u662f8\uff0c\u90a3\u4e48\u4e8c\u8fdb\u5236\u80fd\u8868\u8fbe\u7684\u6700\u5927\u6574\u6570\u662f2^8=256\uff0c\u4e5f\u5c31\u662f\u8fd9\u91cc\u7684largest_number\n\n\n1\n2\n3\n4\nbinary\n \n=\n \nnp\n.\nunpackbits\n(\n\n                       \nnp\n.\narray\n([\nrange\n(\nlargest_number\n)],\ndtype\n=\nnp\n.\nuint8\n)\n.\nT\n,\naxis\n=\n1\n)\n\n\nfor\n \ni\n \nin\n \nrange\n(\nlargest_number\n):\n\n    \nint2binary\n[\ni\n]\n \n=\n \nbinary\n[\ni\n]\n\n\n\n\n\n\n\n\u8fd9\u5c31\u662f\u6240\u8bf4\u7684\u9884\u5148\u628a\u6574\u6570\u5230\u4e8c\u8fdb\u5236\u7684\u8f6c\u6362\u8bcd\u5178\u5b58\u8d77\u6765\n\n\n1\n2\n3\n4\nalpha\n \n=\n \n0.1\n\n\ninput_dim\n \n=\n \n2\n\n\nhidden_dim\n \n=\n \n16\n\n\noutput_dim\n \n=\n \n1\n\n\n\n\n\n\n\n\u8fd9\u91cc\u8bbe\u7f6e\u4e86\u51e0\u4e2a\u53c2\u6570\uff0calpha\u662f\u5b66\u4e60\u901f\u5ea6\uff0cinput_dim\u662f\u8f93\u5165\u5c42\u5411\u91cf\u7684\u7ef4\u5ea6\uff0c\u56e0\u4e3a\u8f93\u5165a\u3001b\u4e24\u4e2a\u6570\uff0c\u6240\u4ee5\u662f2\uff0chidden_dim\u662f\u9690\u85cf\u5c42\u5411\u91cf\u7684\u7ef4\u5ea6\uff0c\u4e5f\u5c31\u662f\u9690\u85cf\u5c42\u795e\u7ecf\u5143\u7684\u4e2a\u6570\uff0coutput_dim\u662f\u8f93\u51fa\u5c42\u5411\u91cf\u7684\u7ef4\u5ea6\uff0c\u56e0\u4e3a\u8f93\u51fa\u4e00\u4e2ac\uff0c\u6240\u4ee5\u662f1\u7ef4\u3002\u8fd9\u6837\u4ece\u8f93\u5165\u5c42\u5230\u9690\u85cf\u5c42\u7684\u6743\u91cd\u77e9\u9635\u4e00\u5b9a\u662f2\n16\u7ef4\u7684\uff0c\u4ece\u9690\u85cf\u5c42\u5230\u8f93\u51fa\u5c42\u7684\u6743\u91cd\u77e9\u9635\u4e00\u5b9a\u662f16\n1\u7ef4\u7684\uff0c\u800c\u9690\u85cf\u5c42\u5230\u9690\u85cf\u5c42\u7684\u6743\u91cd\u77e9\u9635\u4e00\u5b9a\u662f16*16\u7ef4\u7684\uff0c\u4e5f\u5c31\u662f\u5982\u4e0b\uff1a\n\n\n1\n2\n3\nsynapse_0\n \n=\n \n2\n*\nnp\n.\nrandom\n.\nrandom\n((\ninput_dim\n,\nhidden_dim\n))\n \n-\n \n1\n\n\nsynapse_1\n \n=\n \n2\n*\nnp\n.\nrandom\n.\nrandom\n((\nhidden_dim\n,\noutput_dim\n))\n \n-\n \n1\n\n\nsynapse_h\n \n=\n \n2\n*\nnp\n.\nrandom\n.\nrandom\n((\nhidden_dim\n,\nhidden_dim\n))\n \n-\n \n1\n\n\n\n\n\n\n\n\u8fd9\u91cc\u75282x-1\u662f\u56e0\u4e3anp.random.random\u4f1a\u751f\u6210\u4ece0\u52301\u4e4b\u95f4\u7684\u968f\u673a\u6d6e\u70b9\u6570\uff0c\u90a3\u4e482x-1\u5c31\u662f\u4f7f\u5176\u53d6\u503c\u8303\u56f4\u5728[-1, 1]\n\n\n1\n2\n3\nsynapse_0_update\n \n=\n \nnp\n.\nzeros_like\n(\nsynapse_0\n)\n\n\nsynapse_1_update\n \n=\n \nnp\n.\nzeros_like\n(\nsynapse_1\n)\n\n\nsynapse_h_update\n \n=\n \nnp\n.\nzeros_like\n(\nsynapse_h\n)\n\n\n\n\n\n\n\n\u8fd9\u662f\u58f0\u660e\u4e86\u4e09\u4e2a\u77e9\u9635\u7684\u66f4\u65b0\uff0c\u4e5f\u5c31\u662f\u03b4\uff0c\u540e\u9762\u4f1a\u7528\u5230\n\n\n1\nfor j in range(10000):\n\n\n\n\n\n\n\u8fd9\u8868\u793a\u6211\u4eec\u8981\u5bf9\u4e0b\u9762\u7684\u8fc7\u7a0b\u8fdb\u884c10000\u6b21\u8fed\u4ee3\n\n\n1\n2\n3\n4\n5\n6\na_int\n \n=\n \nnp\n.\nrandom\n.\nrandint\n(\nlargest_number\n/\n2\n)\n\n\na\n \n=\n \nint2binary\n[\na_int\n]\n\n\nb_int\n \n=\n \nnp\n.\nrandom\n.\nrandint\n(\nlargest_number\n/\n2\n)\n\n\nb\n \n=\n \nint2binary\n[\nb_int\n]\n\n\nc_int\n \n=\n \na_int\n \n+\n \nb_int\n\n\nc\n \n=\n \nint2binary\n[\nc_int\n]\n\n\n\n\n\n\n\n\u8fd9\u91cc\u5176\u5b9e\u662f\u968f\u673a\u751f\u6210\u4e00\u4e2a\u6837\u672c\uff0c\u8fd9\u4e2a\u6837\u672c\u5305\u542b\u4e8c\u8fdb\u5236\u7684a\u3001b\u3001c\uff0c\u5176\u4e2dc=a+b\uff0ca_int\u3001b_int\u3001c_int\u5206\u522b\u662f\u662fa\u3001b\u3001c\u5bf9\u5e94\u7684\u6574\u6570\u683c\u5f0f\n\n\n1\nd\n \n=\n \nnp\n.\nzeros_like\n(\nc\n)\n\n\n\n\n\n\n\n\u8fd9\u4e2ad\u5728\u540e\u9762\u7528\u6765\u5b58\u6211\u4eec\u6a21\u578b\u5bf9c\u7684\u9884\u6d4b\u503c\n\n\n1\noverallError\n \n=\n \n0\n\n\n\n\n\n\n\n\u8fd9\u4e2a\u662f\u5168\u5c40\u8bef\u5dee\uff0c\u7528\u6765\u89c2\u5bdf\u6a21\u578b\u6548\u679c\n\n\n1\nlayer_2_deltas\n \n=\n \nlist\n()\n\n\n\n\n\n\n\n\u8fd9\u7528\u6765\u5b58\u50a8\u7b2c\u4e8c\u5c42(\u4e5f\u5c31\u662f\u8f93\u51fa\u5c42)\u7684\u6b8b\u5dee\uff0c\u5bf9\u4e8e\u8f93\u51fa\u5c42\uff0c\u6b8b\u5dee\u8ba1\u7b97\u516c\u5f0f\u63a8\u5bfc\u5982\u4e0b\uff08\u516c\u5f0f\u53ef\u4ee5\u5728http://deeplearning.stanford.edu/wiki/index.php/%E5%8F%8D%E5%90%91%E4%BC%A0%E5%AF%BC%E7%AE%97%E6%B3%95\u627e\u5230\uff09\uff1a\n\n\n\u8fd9\u4e2a\u516c\u5f0f\u4e0b\u9762\u4f1a\u7528\u5230\n\n\n1\n2\nlayer_1_values\n \n=\n \nlist\n()\n\n\nlayer_1_values\n.\nappend\n(\nnp\n.\nzeros\n(\nhidden_dim\n))\n\n\n\n\n\n\n\n\u8fd9\u7528\u6765\u5b58\u50a8\u7b2c\u4e00\u5c42(\u4e5f\u5c31\u662f\u9690\u85cf\u5c42)\u7684\u8f93\u51fa\u503c\uff0c\u9996\u5148\u6211\u4eec\u8d4b0\u503c\u4f5c\u4e3a\u4e0a\u4e00\u4e2a\u65f6\u95f4\u7684\u503c\n\n\n1\nfor\n \nposition\n \nin\n \nrange\n(\nbinary_dim\n):\n\n\n\n\n\n\n\n\u8fd9\u91cc\u6211\u4eec\u6765\u904d\u5386\u4e8c\u8fdb\u5236\u7684\u6bcf\u4e00\u4f4d\n\n\n1\n2\nX\n \n=\n \nnp\n.\narray\n([[\na\n[\nbinary_dim\n \n-\n \nposition\n \n-\n \n1\n],\nb\n[\nbinary_dim\n \n-\n \nposition\n \n-\n \n1\n]]])\n\n\ny\n \n=\n \nnp\n.\narray\n([[\nc\n[\nbinary_dim\n \n-\n \nposition\n \n-\n \n1\n]]])\n.\nT\n\n\n\n\n\n\n\n\u8fd9\u91cc\u7684X\u548cy\u5206\u522b\u662f\u6837\u672c\u7684\u8f93\u5165\u548c\u8f93\u51fa\u7684\u4e8c\u8fdb\u5236\u503c\u7684\u7b2cposition\u4f4d\uff0c\u5176\u4e2dX\u5bf9\u4e8e\u6bcf\u4e2a\u6837\u672c\u6709\u4e24\u4e2a\u503c\uff0c\u5206\u522b\u662fa\u548cb\u5bf9\u5e94\u7684\u7b2cposition\u4f4d\u3002\u628a\u6837\u672c\u62c6\u6210\u6bcf\u4e2a\u4e8c\u8fdb\u5236\u4f4d\u7528\u4e8e\u8bad\u7ec3\u662f\u56e0\u4e3a\u4e8c\u8fdb\u5236\u52a0\u6cd5\u4e2d\u5b58\u5728\u8fdb\u4f4d\u6807\u8bb0\u6b63\u597d\u9002\u5408\u5229\u7528LSTM\u7684\u957f\u77ed\u671f\u8bb0\u5fc6\u6765\u8bad\u7ec3\uff0c\u6bcf\u4e2a\u6837\u672c\u76848\u4e2a\u4e8c\u8fdb\u5236\u4f4d\u521a\u597d\u662f\u4e00\u4e2a\u65f6\u95f4\u5e8f\u5217\n\n\n1\nlayer_1\n \n=\n \nsigmoid\n(\nnp\n.\ndot\n(\nX\n,\nsynapse_0\n)\n \n+\n \nnp\n.\ndot\n(\nlayer_1_values\n[\n-\n1\n],\nsynapse_h\n))\n\n\n\n\n\n\n\n\u8fd9\u91cc\u4f7f\u7528\u7684\u516c\u5f0f\u662fCt = \u03c3(W0\u00b7Xt + Wh\u00b7Ct-1)\n\n\n1\nlayer_2\n \n=\n \nsigmoid\n(\nnp\n.\ndot\n(\nlayer_1\n,\nsynapse_1\n))\n\n\n\n\n\n\n\n\u8fd9\u91cc\u4f7f\u7528\u7684\u516c\u5f0f\u662fC2 = \u03c3(W1\u00b7C1)\n\n\n1\nlayer_2_error\n \n=\n \ny\n \n-\n \nlayer_2\n\n\n\n\n\n\n\n\u8fd9\u91cc\u8ba1\u7b97\u9884\u6d4b\u503c\u548c\u771f\u5b9e\u503c\u7684\u8bef\u5dee\n\n\n1\nlayer_2_deltas\n.\nappend\n((\nlayer_2_error\n)\n*\nsigmoid_output_to_derivative\n(\nlayer_2\n))\n\n\n\n\n\n\n\n\u8fd9\u91cc\u5f00\u59cb\u53cd\u5411\u4f20\u5bfc\u7684\u8fc7\u7a0b\uff0c\u901a\u8fc7\u5982\u4e0b\u516c\u5f0f\u8ba1\u7b97delta(\u4e0a\u9762\u63d0\u5230\u7684\u516c\u5f0f\u7528\u5728\u8fd9\u91cc)\uff0c\u5e76\u6dfb\u52a0\u5230\u6570\u7ec4layer_2_deltas\u4e2d\uff0c\u6b64\u6570\u7ec4\u5bf9\u4e8e\u6bcf\u4e2a\u4e8c\u8fdb\u5236\u4f4d(position)\u6709\u4e00\u4e2a\u503c\n\n\n1\noverallError\n \n+=\n \nnp\n.\nabs\n(\nlayer_2_error\n[\n0\n])\n\n\n\n\n\n\n\n\u8fd9\u91cc\u8ba1\u7b97\u7d2f\u52a0\u603b\u8bef\u5dee\uff0c\u540e\u9762\u7528\u4e8e\u5c55\u793a\u548c\u89c2\u5bdf\n\n\n1\nd\n[\nbinary_dim\n \n-\n \nposition\n \n-\n \n1\n]\n \n=\n \nnp\n.\nround\n(\nlayer_2\n[\n0\n][\n0\n])\n\n\n\n\n\n\n\n\u8fd9\u91cc\u5b58\u50a8\u9884\u6d4b\u51fa\u6765\u7684position\u4f4d\u7684\u8f93\u51fa\u503c\n\n\n1\nlayer_1_values\n.\nappend\n(\ncopy\n.\ndeepcopy\n(\nlayer_1\n))\n\n\n\n\n\n\n\n\u8fd9\u91cc\u5b58\u50a8\u4e2d\u95f4\u8fc7\u7a0b\u751f\u6210\u7684\u9690\u85cf\u5c42\u7684\u503c\n\n\n1\nfuture_layer_1_delta\n \n=\n \nnp\n.\nzeros\n(\nhidden_dim\n)\n\n\n\n\n\n\n\n\u8fd9\u7528\u6765\u5b58\u50a8\u7528\u4e8e\u4e0b\u4e00\u4e2a\u65f6\u95f4\u5468\u671f\u7528\u5230\u7684\u9690\u85cf\u5c42\u7684\u5386\u53f2\u8bb0\u5fc6\u503c\uff0c\u8fd8\u662f\u5148\u8d4b\u4e00\u4e2a\u7a7a\u503c\n\n\n1\nfor\n \nposition\n \nin\n \nrange\n(\nbinary_dim\n):\n\n\n\n\n\n\n\n\u8fd9\u91cc\u6211\u4eec\u518d\u6b21\u904d\u5386\u4e8c\u8fdb\u5236\u7684\u6bcf\u4e00\u4f4d\n\n\n1\nX\n \n=\n \nnp\n.\narray\n([[\na\n[\nposition\n],\nb\n[\nposition\n]]])\n\n\n\n\n\n\n\n\u548c\u524d\u9762\u4e00\u6837\u53d6\u51faX\u7684\u503c\uff0c\u4e0d\u540c\u7684\u662f\u6211\u4eec\u4ece\u5927\u4f4d\u5f00\u59cb\u505a\u66f4\u65b0\uff0c\u56e0\u4e3a\u53cd\u5411\u4f20\u5bfc\u662f\u6309\u65f6\u5e8f\u9006\u7740\u4e00\u7ea7\u4e00\u7ea7\u66f4\u65b0\u7684\n\n\n1\nlayer_1\n \n=\n \nlayer_1_values\n[\n-\nposition\n-\n1\n]\n\n\n\n\n\n\n\n\u53d6\u51fa\u8fd9\u4e00\u4f4d\u5bf9\u5e94\u9690\u85cf\u5c42\u7684\u8f93\u51fa\n\n\n1\nprev_layer_1\n \n=\n \nlayer_1_values\n[\n-\nposition\n-\n2\n]\n\n\n\n\n\n\n\n\u53d6\u51fa\u8fd9\u4e00\u4f4d\u5bf9\u5e94\u9690\u85cf\u5c42\u7684\u4e0a\u4e00\u65f6\u5e8f\u7684\u8f93\u51fa\n\n\n1\nlayer_2_delta\n \n=\n \nlayer_2_deltas\n[\n-\nposition\n-\n1\n]\n\n\n\n\n\n\n\n\u53d6\u51fa\u8fd9\u4e00\u4f4d\u5bf9\u5e94\u8f93\u51fa\u5c42\u7684delta\n\n\n1\nlayer_1_delta\n \n=\n \n(\nfuture_layer_1_delta\n.\ndot\n(\nsynapse_h\n.\nT\n)\n \n+\n \nlayer_2_delta\n.\ndot\n(\nsynapse_1\n.\nT\n))\n \n*\n \nsigmoid_output_to_derivative\n(\nlayer_1\n)\n\n\n\n\n\n\n\n\u8fd9\u91cc\u5176\u5b9e\u662f\u57fa\u4e8e\u4e0b\u9762\u7684\u795e\u7ecf\u7f51\u7edc\u53cd\u5411\u4f20\u5bfc\u516c\u5f0f\uff0c\u5e76\u989d\u5916\u52a0\u4e0a\u4e86\u9690\u85cf\u5c42\u7684\u03b4\u503c\u5f97\u51fa\u7684\n\n\n1\nsynapse_1_update\n \n+=\n \nnp\n.\natleast_2d\n(\nlayer_1\n)\n.\nT\n.\ndot\n(\nlayer_2_delta\n)\n\n\n\n\n\n\n\n\u8fd9\u91cc\u7d2f\u52a0\u6743\u91cd\u77e9\u9635\u7684\u66f4\u65b0\uff0c\u57fa\u4e8e\u4e0b\u9762\u7684\u516c\u5f0f\uff0c\u4e5f\u5c31\u662f\u5bf9\u6743\u91cd(\u6743\u91cd\u77e9\u9635)\u7684\u504f\u5bfc\u7b49\u4e8e\u672c\u5c42\u7684\u8f93\u51fa\u4e0e\u4e0b\u4e00\u5c42\u7684delta\u7684\u70b9\u4e58\n\n\n1\nsynapse_h_update\n \n+=\n \nnp\n.\natleast_2d\n(\nprev_layer_1\n)\n.\nT\n.\ndot\n(\nlayer_1_delta\n)\n\n\n\n\n\n\n\n\u5bf9\u524d\u4e00\u65f6\u5e8f\u7684\u9690\u85cf\u5c42\u6743\u91cd\u77e9\u9635\u7684\u66f4\u65b0\u548c\u4e0a\u9762\u516c\u5f0f\u7c7b\u4f3c\uff0c\u53ea\u4e0d\u8fc7\u6539\u6210\u524d\u4e00\u65f6\u5e8f\u7684\u9690\u85cf\u5c42\u8f93\u51fa\u4e0e\u672c\u65f6\u5e8f\u7684delta\u7684\u70b9\u4e58\n\n\n1\nsynapse_0_update\n \n+=\n \nX\n.\nT\n.\ndot\n(\nlayer_1_delta\n)\n\n\n\n\n\n\n\n\u5bf9\u8f93\u5165\u5c42\u6743\u91cd\u77e9\u9635\u7684\u66f4\u65b0\u4e5f\u662f\u7c7b\u4f3c\n\n\n1\nfuture_layer_1_delta\n \n=\n \nlayer_1_delta\n\n\n\n\n\n\n\n\u8bb0\u5f55\u4e0b\u672c\u65f6\u5e8f\u7684\u9690\u85cf\u5c42\u7684delta\u7528\u6765\u5728\u4e0b\u4e00\u65f6\u5e8f\u4f7f\u7528\n\n\n1\n2\n3\nsynapse_0\n \n+=\n \nsynapse_0_update\n \n*\n \nalpha\n\n\nsynapse_1\n \n+=\n \nsynapse_1_update\n \n*\n \nalpha\n\n\nsynapse_h\n \n+=\n \nsynapse_h_update\n \n*\n \nalpha\n\n\n\n\n\n\n\n\u5bf9\u6743\u91cd\u77e9\u9635\u505a\u66f4\u65b0\n\n\n1\n2\n3\nsynapse_0_update\n \n*=\n \n0\n\n\nsynapse_1_update\n \n*=\n \n0\n\n\nsynapse_h_update\n \n*=\n \n0\n\n\n\n\n\n\n\n\u66f4\u65b0\u53d8\u91cf\u5f52\u96f6\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\nif\n(\nj\n \n%\n \n1000\n \n==\n \n0\n):\n\n        \nprint\n \nError:\n \n+\n \nstr\n(\noverallError\n)\n\n        \nprint\n \nPred:\n \n+\n \nstr\n(\nd\n)\n\n        \nprint\n \nTrue:\n \n+\n \nstr\n(\nc\n)\n\n        \nout\n \n=\n \n0\n\n        \nfor\n \nindex\n,\nx\n \nin\n \nenumerate\n(\nreversed\n(\nd\n)):\n\n            \nout\n \n+=\n \nx\n*\npow\n(\n2\n,\nindex\n)\n\n        \nprint\n \nstr\n(\na_int\n)\n \n+\n \n + \n \n+\n \nstr\n(\nb_int\n)\n \n+\n \n = \n \n+\n \nstr\n(\nout\n)\n\n        \nprint\n \n------------\n\n\n\n\n\n\n\n\u8fd9\u91cc\u5728\u6bcf\u8bad\u7ec3\u4e861000\u4e2a\u6837\u672c\u540e\u8f93\u51fa\u603b\u8bef\u5dee\u4fe1\u606f\uff0c\u8fd0\u884c\u65f6\u53ef\u4ee5\u770b\u5230\u6536\u655b\u7684\u8fc7\u7a0b\n\n\n\u8fd9\u5957\u4ee3\u7801\u53ef\u4ee5\u8bf4\u662fLSTM\u6700\u7b80\u5355\u7684\u5b9e\u73b0\uff0c\u6ca1\u6709\u8003\u8651\u504f\u7f6e\u53d8\u91cf\uff0c\u53ea\u6709\u4e24\u4e2a\u795e\u7ecf\u5143\uff0c\u56e0\u6b64\u53ef\u4ee5\u4f5c\u4e3a\u4e00\u4e2ademo\u6765\u5b66\u4e60\uff0c\u76f8\u6bd4\u6765\u8bf4\u4e0b\u9762\u8fd9\u4e2aLSTM\u5c31\u662f\u4e00\u4e2a\u6bd4\u8f83\u5b8c\u5584\u7684\u5b9e\u73b0\u4e86\uff0c\u51e0\u4e4e\u662f\u6309\u7167\u8bba\u6587great intro paper\u63cf\u8ff0\u7684\u5b8c\u6574\u5b9e\u73b0\n\n\n\u53e6\u4e00\u4e2a\u5b8c\u6574\u7684LSTM\u7684python\u5b9e\u73b0\n\n\n\u8fd9\u4e2a\u5b9e\u73b0\u6bd4\u4e0a\u4e00\u4e2a\u66f4\u7b26\u5408LSTM\uff0c\u5b8c\u5168\u53c2\u7167\u8bba\u6587great intro paper\u6765\u5b9e\u73b0\u7684\uff0c\u4e0d\u5230200\u884c\u4ee3\u7801\uff0c\u539f\u59cb\u4ee3\u7801\u6765\u6e90\u4e8ehttps://github.com/nicodjimenez/lstm\uff0c\u4f5c\u8005\u89e3\u91ca\u5728http://nicodjimenez.github.io/2014/08/08/lstm.html\uff0c\u5177\u4f53\u8fc7\u7a0b\u8fd8\u53ef\u4ee5\u53c2\u8003http://colah.github.io/posts/2015-08-Understanding-LSTMs/\u4e2d\u7684\u56fe\u6765\u7406\u89e3\u3002\u4e0b\u9762\u6211\u5c31\u4e00\u53e5\u4e00\u53e5\u7684\u89e3\u91ca\uff08\u5177\u4f53\u7f29\u8fdb\u8bf7\u53c2\u8003\u539f\u59cb\u4ee3\u7801\uff09\uff1a\n\n\n1\n2\n3\n4\n5\n6\nimport\n \nrandom\n\n\nimport\n \nnumpy\n \nas\n \nnp\n\n\nimport\n \nmath\n\n\n\ndef\n \nsigmoid\n(\nx\n):\n\n    \nreturn\n \n1.\n \n/\n \n(\n1\n \n+\n \nnp\n.\nexp\n(\n-\nx\n))\n\n\n\n\n\n\n\n\u8fd9\u91cc\u540c\u6837\u662f\u58f0\u660esigmoid\u51fd\u6570\n\n\n1\n2\n3\ndef\n \nrand_arr\n(\na\n,\n \nb\n,\n \n*\nargs\n):\n\n    \nnp\n.\nrandom\n.\nseed\n(\n0\n)\n\n    \nreturn\n \nnp\n.\nrandom\n.\nrand\n(\n*\nargs\n)\n \n*\n \n(\nb\n \n-\n \na\n)\n \n+\n \na\n\n\n\n\n\n\n\n\u7528\u4e8e\u751f\u6210\u968f\u673a\u77e9\u9635\uff0c\u53d6\u503c\u8303\u56f4\u662f[a,b)\uff0cshape\u7528args\u6307\u5b9a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\nclass\n \nLstmParam\n:\n\n    \ndef\n \n__init__\n(\nself\n,\n \nmem_cell_ct\n,\n \nx_dim\n):\n\n        \nself\n.\nmem_cell_ct\n \n=\n \nmem_cell_ct\n\n        \nself\n.\nx_dim\n \n=\n \nx_dim\n\n        \nconcat_len\n \n=\n \nx_dim\n \n+\n \nmem_cell_ct\n\n        \n# weight matrices\n\n        \nself\n.\nwg\n \n=\n \nrand_arr\n(\n-\n0.1\n,\n \n0.1\n,\n \nmem_cell_ct\n,\n \nconcat_len\n)\n\n        \nself\n.\nwi\n \n=\n \nrand_arr\n(\n-\n0.1\n,\n \n0.1\n,\n \nmem_cell_ct\n,\n \nconcat_len\n)\n\n        \nself\n.\nwf\n \n=\n \nrand_arr\n(\n-\n0.1\n,\n \n0.1\n,\n \nmem_cell_ct\n,\n \nconcat_len\n)\n\n        \nself\n.\nwo\n \n=\n \nrand_arr\n(\n-\n0.1\n,\n \n0.1\n,\n \nmem_cell_ct\n,\n \nconcat_len\n)\n\n        \n# bias terms\n\n        \nself\n.\nbg\n \n=\n \nrand_arr\n(\n-\n0.1\n,\n \n0.1\n,\n \nmem_cell_ct\n)\n\n        \nself\n.\nbi\n \n=\n \nrand_arr\n(\n-\n0.1\n,\n \n0.1\n,\n \nmem_cell_ct\n)\n\n        \nself\n.\nbf\n \n=\n \nrand_arr\n(\n-\n0.1\n,\n \n0.1\n,\n \nmem_cell_ct\n)\n\n        \nself\n.\nbo\n \n=\n \nrand_arr\n(\n-\n0.1\n,\n \n0.1\n,\n \nmem_cell_ct\n)\n\n        \n# diffs (derivative of loss function w.r.t. all parameters)\n\n        \nself\n.\nwg_diff\n \n=\n \nnp\n.\nzeros\n((\nmem_cell_ct\n,\n \nconcat_len\n))\n\n        \nself\n.\nwi_diff\n \n=\n \nnp\n.\nzeros\n((\nmem_cell_ct\n,\n \nconcat_len\n))\n\n        \nself\n.\nwf_diff\n \n=\n \nnp\n.\nzeros\n((\nmem_cell_ct\n,\n \nconcat_len\n))\n\n        \nself\n.\nwo_diff\n \n=\n \nnp\n.\nzeros\n((\nmem_cell_ct\n,\n \nconcat_len\n))\n\n        \nself\n.\nbg_diff\n \n=\n \nnp\n.\nzeros\n(\nmem_cell_ct\n)\n\n        \nself\n.\nbi_diff\n \n=\n \nnp\n.\nzeros\n(\nmem_cell_ct\n)\n\n        \nself\n.\nbf_diff\n \n=\n \nnp\n.\nzeros\n(\nmem_cell_ct\n)\n\n        \nself\n.\nbo_diff\n \n=\n \nnp\n.\nzeros\n(\nmem_cell_ct\n)\n\n\n\n\n\n\n\nLstmParam\u7c7b\u7528\u4e8e\u4f20\u9012\u76f8\u5173\u53c2\u6570\uff0c\u5176\u4e2dmem_cell_ct\u662flstm\u7684\u795e\u7ecf\u5143\u6570\u76ee\uff0cx_dim\u662f\u8f93\u5165\u6570\u636e\u7684\u7ef4\u5ea6\uff0cconcat_len\u662fmem_cell_ct\u4e0ex_dim\u7684\u957f\u5ea6\u548c\uff0cwg\u662f\u8f93\u5165\u8282\u70b9\u7684\u6743\u91cd\u77e9\u9635(\u8fd9\u91cc\u7684g\u4e0d\u8981\u7406\u89e3\u4e3agate\uff0c\u539f\u59cb\u8bba\u6587\u91cc\u6709\u89e3\u91ca)\uff0cwi\u662f\u8f93\u5165\u95e8\u7684\u6743\u91cd\u77e9\u9635\uff0cwf\u662f\u5fd8\u8bb0\u95e8\u7684\u6743\u91cd\u77e9\u9635\uff0cwo\u662f\u8f93\u51fa\u95e8\u7684\u6743\u91cd\u77e9\u9635\uff0cbg\u3001bi\u3001bf\u3001bo\u5206\u522b\u662f\u8f93\u5165\u8282\u70b9\u3001\u8f93\u5165\u95e8\u3001\u5fd8\u8bb0\u95e8\u3001\u8f93\u51fa\u95e8\u7684\u504f\u7f6e\uff0cwg_diff\u3001wi_diff\u3001wf_diff\u3001wo_diff\u5206\u522b\u662f\u8f93\u5165\u8282\u70b9\u3001\u8f93\u5165\u95e8\u3001\u5fd8\u8bb0\u95e8\u3001\u8f93\u51fa\u95e8\u7684\u6743\u91cd\u635f\u5931\uff0cbg_diff\u3001bi_diff\u3001bf_diff\u3001bo_diff\u5206\u522b\u662f\u8f93\u5165\u8282\u70b9\u3001\u8f93\u5165\u95e8\u3001\u5fd8\u8bb0\u95e8\u3001\u8f93\u51fa\u95e8\u7684\u504f\u7f6e\u635f\u5931\uff0c\u8fd9\u91cc\u521d\u59cb\u5316\u65f6\u4f1a\u6309\u7167\u77e9\u9635\u7ef4\u5ea6\u521d\u59cb\u5316\uff0c\u5e76\u628a\u635f\u5931\u77e9\u9635\u5f52\u96f6\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n    \ndef\n \napply_diff\n(\nself\n,\n \nlr\n \n=\n \n1\n):\n\n        \nself\n.\nwg\n \n-=\n \nlr\n \n*\n \nself\n.\nwg_diff\n\n        \nself\n.\nwi\n \n-=\n \nlr\n \n*\n \nself\n.\nwi_diff\n\n        \nself\n.\nwf\n \n-=\n \nlr\n \n*\n \nself\n.\nwf_diff\n\n        \nself\n.\nwo\n \n-=\n \nlr\n \n*\n \nself\n.\nwo_diff\n\n        \nself\n.\nbg\n \n-=\n \nlr\n \n*\n \nself\n.\nbg_diff\n\n        \nself\n.\nbi\n \n-=\n \nlr\n \n*\n \nself\n.\nbi_diff\n\n        \nself\n.\nbf\n \n-=\n \nlr\n \n*\n \nself\n.\nbf_diff\n\n        \nself\n.\nbo\n \n-=\n \nlr\n \n*\n \nself\n.\nbo_diff\n\n        \n# reset diffs to zero\n\n        \nself\n.\nwg_diff\n \n=\n \nnp\n.\nzeros_like\n(\nself\n.\nwg\n)\n\n        \nself\n.\nwi_diff\n \n=\n \nnp\n.\nzeros_like\n(\nself\n.\nwi\n)\n\n        \nself\n.\nwf_diff\n \n=\n \nnp\n.\nzeros_like\n(\nself\n.\nwf\n)\n\n        \nself\n.\nwo_diff\n \n=\n \nnp\n.\nzeros_like\n(\nself\n.\nwo\n)\n\n        \nself\n.\nbg_diff\n \n=\n \nnp\n.\nzeros_like\n(\nself\n.\nbg\n)\n\n        \nself\n.\nbi_diff\n \n=\n \nnp\n.\nzeros_like\n(\nself\n.\nbi\n)\n\n        \nself\n.\nbf_diff\n \n=\n \nnp\n.\nzeros_like\n(\nself\n.\nbf\n)\n\n        \nself\n.\nbo_diff\n \n=\n \nnp\n.\nzeros_like\n(\nself\n.\nbo\n)\n\n\n\n\n\n\n\n\u8fd9\u91cc\u5b9a\u4e49\u4e86\u6743\u91cd\u7684\u66f4\u65b0\u8fc7\u7a0b\uff0c\u5148\u51cf\u6389\u635f\u5931\uff0c\u518d\u628a\u635f\u5931\u77e9\u9635\u5f52\u96f6\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\nclass\n \nLstmState\n:\n\n    \ndef\n \n__init__\n(\nself\n,\n \nmem_cell_ct\n,\n \nx_dim\n):\n\n        \nself\n.\ng\n \n=\n \nnp\n.\nzeros\n(\nmem_cell_ct\n)\n\n        \nself\n.\ni\n \n=\n \nnp\n.\nzeros\n(\nmem_cell_ct\n)\n\n        \nself\n.\nf\n \n=\n \nnp\n.\nzeros\n(\nmem_cell_ct\n)\n\n        \nself\n.\no\n \n=\n \nnp\n.\nzeros\n(\nmem_cell_ct\n)\n\n        \nself\n.\ns\n \n=\n \nnp\n.\nzeros\n(\nmem_cell_ct\n)\n\n        \nself\n.\nh\n \n=\n \nnp\n.\nzeros\n(\nmem_cell_ct\n)\n\n        \nself\n.\nbottom_diff_h\n \n=\n \nnp\n.\nzeros_like\n(\nself\n.\nh\n)\n\n        \nself\n.\nbottom_diff_s\n \n=\n \nnp\n.\nzeros_like\n(\nself\n.\ns\n)\n\n        \nself\n.\nbottom_diff_x\n \n=\n \nnp\n.\nzeros\n(\nx_dim\n)\n\n\n\n\n\n\n\nLstmState\u7528\u4e8e\u5b58\u50a8LSTM\u795e\u7ecf\u5143\u7684\u72b6\u6001\uff0c\u8fd9\u91cc\u5305\u62ecg\u3001i\u3001f\u3001o\u3001s\u3001h\uff0c\u5176\u4e2ds\u662f\u5185\u90e8\u72b6\u6001\u77e9\u9635(\u53ef\u4ee5\u7406\u89e3\u4e3a\u8bb0\u5fc6)\uff0ch\u662f\u9690\u85cf\u5c42\u795e\u7ecf\u5143\u7684\u8f93\u51fa\u77e9\u9635\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\nclass\n \nLstmNode\n:\n\n    \ndef\n \n__init__\n(\nself\n,\n \nlstm_param\n,\n \nlstm_state\n):\n\n        \n# store reference to parameters and to activations\n\n        \nself\n.\nstate\n \n=\n \nlstm_state\n\n        \nself\n.\nparam\n \n=\n \nlstm_param\n\n        \n# non-recurrent input to node\n\n        \nself\n.\nx\n \n=\n \nNone\n\n        \n# non-recurrent input concatenated with recurrent input\n\n        \nself\n.\nxc\n \n=\n \nNone\n\n\n\n\n\n\n\n\u4e00\u4e2aLstmNode\u5bf9\u5e94\u4e00\u4e2a\u6837\u672c\u7684\u8f93\u5165\uff0c\u5176\u4e2dx\u5c31\u662f\u8f93\u5165\u6837\u672c\u7684x\uff0cxc\u662f\u7528hstack\u628ax\u548c\u9012\u5f52\u7684\u8f93\u5165\u8282\u70b9\u62fc\u63a5\u51fa\u6765\u7684\u77e9\u9635\uff08hstack\u662f\u6a2a\u7740\u62fc\u6210\u77e9\u9635\uff0cvstack\u5c31\u662f\u7eb5\u7740\u62fc\u6210\u77e9\u9635\uff09\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n    \ndef\n \nbottom_data_is\n(\nself\n,\n \nx\n,\n \ns_prev\n \n=\n \nNone\n,\n \nh_prev\n \n=\n \nNone\n):\n\n        \n# if this is the first lstm node in the network\n\n        \nif\n \ns_prev\n \n==\n \nNone\n:\n \ns_prev\n \n=\n \nnp\n.\nzeros_like\n(\nself\n.\nstate\n.\ns\n)\n\n        \nif\n \nh_prev\n \n==\n \nNone\n:\n \nh_prev\n \n=\n \nnp\n.\nzeros_like\n(\nself\n.\nstate\n.\nh\n)\n\n        \n# save data for use in backprop\n\n        \nself\n.\ns_prev\n \n=\n \ns_prev\n\n        \nself\n.\nh_prev\n \n=\n \nh_prev\n\n\n        \n# concatenate x(t) and h(t-1)\n\n        \nxc\n \n=\n \nnp\n.\nhstack\n((\nx\n,\n  \nh_prev\n))\n\n        \nself\n.\nstate\n.\ng\n \n=\n \nnp\n.\ntanh\n(\nnp\n.\ndot\n(\nself\n.\nparam\n.\nwg\n,\n \nxc\n)\n \n+\n \nself\n.\nparam\n.\nbg\n)\n\n        \nself\n.\nstate\n.\ni\n \n=\n \nsigmoid\n(\nnp\n.\ndot\n(\nself\n.\nparam\n.\nwi\n,\n \nxc\n)\n \n+\n \nself\n.\nparam\n.\nbi\n)\n\n        \nself\n.\nstate\n.\nf\n \n=\n \nsigmoid\n(\nnp\n.\ndot\n(\nself\n.\nparam\n.\nwf\n,\n \nxc\n)\n \n+\n \nself\n.\nparam\n.\nbf\n)\n\n        \nself\n.\nstate\n.\no\n \n=\n \nsigmoid\n(\nnp\n.\ndot\n(\nself\n.\nparam\n.\nwo\n,\n \nxc\n)\n \n+\n \nself\n.\nparam\n.\nbo\n)\n\n        \nself\n.\nstate\n.\ns\n \n=\n \nself\n.\nstate\n.\ng\n \n*\n \nself\n.\nstate\n.\ni\n \n+\n \ns_prev\n \n*\n \nself\n.\nstate\n.\nf\n\n        \nself\n.\nstate\n.\nh\n \n=\n \nself\n.\nstate\n.\ns\n \n*\n \nself\n.\nstate\n.\no\n\n        \nself\n.\nx\n \n=\n \nx\n\n        \nself\n.\nxc\n \n=\n \nxc\n\n\n\n\n\n\n\n\u8fd9\u91cc\u7684bottom\u548c\u540e\u9762\u9047\u5230\u7684top\u5206\u522b\u662f\u4e24\u4e2a\u65b9\u5411\uff0c\u8f93\u5165\u6837\u672c\u65f6\u8ba4\u4e3a\u662f\u4ece\u5e95\u90e8\u8f93\u5165\uff0c\u53cd\u5411\u4f20\u5bfc\u65f6\u8ba4\u4e3a\u662f\u4ece\u9876\u90e8\u5f00\u59cb\u5411\u5e95\u90e8\u4f20\u5bfc\uff0c\u8fd9\u91cc\u7684bottom_data_is\u662f\u8f93\u5165\u6837\u672c\u7684\u8fc7\u7a0b\uff0c\u9996\u5148\u628ax\u548c\u5148\u524d\u7684\u8f93\u5165\u62fc\u63a5\u6210\u77e9\u9635\uff0c\u7136\u540e\u7528\u516c\u5f0fwx+b\u5206\u522b\u8ba1\u7b97g\u3001i\u3001f\u3001o\u7684\u503c\u7684\u503c\uff0c\u8fd9\u91cc\u9762\u7684\u6fc0\u6d3b\u51fd\u6570\u6709tanh\u548csigmoid\uff0c\u5b9e\u9645\u4e0a\u53ef\u4ee5\u770b\u4e0b\u9762\u7684\u56fe\u6765\u7406\u89e3\uff0c\u5148\u8bf4\u4ee3\u7801\u91ccg\u548ci\u7684\u8ba1\u7b97\u7684\u793a\u610f\u56fe\uff1a\n\n\n\u8fd9\u91cc\u7684[ht-1,xt]\u5176\u5b9e\u5c31\u662fnp.hstack((x,  h_prev))\uff0c\u8fd9\u91cc\u7684Ct\u5176\u5b9e\u5c31\u662fg\n\n\n\u518d\u770b\u4ee3\u7801\u91ccf\u7684\u8ba1\u7b97\u793a\u610f\u56fe\uff1a\n\n\n\u518d\u770b\u4ee3\u7801\u91ccs\u7684\u8ba1\u7b97\u793a\u610f\u56fe\uff08s\u5bf9\u5e94\u7684\u662f\u56fe\u91cc\u7684C\uff09\uff1a\n\n\n\u518d\u770b\u4ee3\u7801\u91cco\u548ch\u7684\u8ba1\u7b97\u793a\u610f\u56fe(\u8fd9\u91cc\u7684h\u7684\u8ba1\u7b97\u516c\u5f0f\u548c\u4ee3\u7801\u91cc\u6709\u4e0d\u540c\uff0c\u4e0d\u786e\u5b9a\u4f5c\u8005\u4e3a\u4ec0\u4e48\u8981\u4fee\u6539\u8fd9\u4e00\u90e8\u5206\uff0c\u6211\u4eec\u53ef\u4ee5\u5c1d\u8bd5\u6309\u7167\u8bba\u6587\u6765\u4fee\u6539\u770b\u6548\u679c\u54ea\u4e2a\u66f4\u597d)\uff1a\n\n\n\u6240\u4ee5\u5176\u5b9e\u6574\u4e2a\u5c31\u662f\u8fd9\u6837\u4e00\u4e2a\u8fc7\u7a0b\uff1a\n\n\n\u6bcf\u4e2a\u65f6\u5e8f\u7684\u795e\u7ecf\u7f51\u7edc\u53ef\u4ee5\u7406\u89e3\u4e3a\u6709\u56db\u4e2a\u795e\u7ecf\u7f51\u7edc\u5c42(\u56fe\u4e2d\u9ec4\u8272\u7684\u6fc0\u6d3b\u51fd\u6570\u90e8\u5206)\uff0c\u6700\u5de6\u8fb9\u7684\u662f\u5fd8\u8bb0\u95e8\uff0c\u5b83\u76f4\u63a5\u751f\u6548\u5230\u8bb0\u5fc6C\u4e0a\uff0c\u7b2c\u4e8c\u4e2a\u662f\u8f93\u5165\u95e8\uff0c\u5b83\u4e3b\u8981\u4f9d\u8d56\u4e8e\u8f93\u5165\u7684\u6837\u672c\u6570\u636e\uff0c\u4e4b\u540e\u6309\u7167\u4e00\u5b9a\u201c\u6bd4\u4f8b\u201d\u5f71\u54cd\u8bb0\u5fc6C\uff0c\u8fd9\u91cc\u7684\u201c\u6bd4\u4f8b\u201d\u662f\u901a\u8fc7\u7b2c\u4e09\u4e2a\u5c42(tanh)\u6765\u5b9e\u73b0\u7684\uff0c\u56e0\u4e3a\u5b83\u53d6\u503c\u8303\u56f4\u662f[-1,1]\u53ef\u4ee5\u662f\u6b63\u5411\u5f71\u54cd\u4e5f\u53ef\u4ee5\u662f\u8d1f\u5411\u5f71\u54cd\uff0c\u6700\u540e\u4e00\u4e2a\u662f\u8f93\u51fa\u95e8\uff0c\u6bcf\u4e00\u65f6\u5e8f\u4ea7\u751f\u7684\u8f93\u51fa\u65e2\u4f9d\u8d56\u4e8e\u8f93\u5165\u7684\u6837\u672cx\u548c\u4e0a\u4e00\u65f6\u5e8f\u7684\u8f93\u51fa\uff0c\u8fd8\u4f9d\u8d56\u4e8e\u8bb0\u5fc6C\uff0c\u6574\u4e2a\u8bbe\u8ba1\u51e0\u4e4e\u6a21\u4eff\u4e86\u751f\u7269\u795e\u7ecf\u5143\u7684\u8bb0\u5fc6\u529f\u80fd\uff0c\u5e94\u8be5\u5bb9\u6613\u7406\u89e3\u3002\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n    \ndef\n \ntop_diff_is\n(\nself\n,\n \ntop_diff_h\n,\n \ntop_diff_s\n):\n\n        \n# notice that top_diff_s is carried along the constant error carousel\n\n        \nds\n \n=\n \nself\n.\nstate\n.\no\n \n*\n \ntop_diff_h\n \n+\n \ntop_diff_s\n\n        \ndo\n \n=\n \nself\n.\nstate\n.\ns\n \n*\n \ntop_diff_h\n\n        \ndi\n \n=\n \nself\n.\nstate\n.\ng\n \n*\n \nds\n\n        \ndg\n \n=\n \nself\n.\nstate\n.\ni\n \n*\n \nds\n\n        \ndf\n \n=\n \nself\n.\ns_prev\n \n*\n \nds\n\n\n        \n# diffs w.r.t. vector inside sigma / tanh function\n\n        \ndi_input\n \n=\n \n(\n1.\n \n-\n \nself\n.\nstate\n.\ni\n)\n \n*\n \nself\n.\nstate\n.\ni\n \n*\n \ndi\n\n        \ndf_input\n \n=\n \n(\n1.\n \n-\n \nself\n.\nstate\n.\nf\n)\n \n*\n \nself\n.\nstate\n.\nf\n \n*\n \ndf\n\n        \ndo_input\n \n=\n \n(\n1.\n \n-\n \nself\n.\nstate\n.\no\n)\n \n*\n \nself\n.\nstate\n.\no\n \n*\n \ndo\n\n        \ndg_input\n \n=\n \n(\n1.\n \n-\n \nself\n.\nstate\n.\ng\n \n**\n \n2\n)\n \n*\n \ndg\n\n\n        \n# diffs w.r.t. inputs\n\n        \nself\n.\nparam\n.\nwi_diff\n \n+=\n \nnp\n.\nouter\n(\ndi_input\n,\n \nself\n.\nxc\n)\n\n        \nself\n.\nparam\n.\nwf_diff\n \n+=\n \nnp\n.\nouter\n(\ndf_input\n,\n \nself\n.\nxc\n)\n\n        \nself\n.\nparam\n.\nwo_diff\n \n+=\n \nnp\n.\nouter\n(\ndo_input\n,\n \nself\n.\nxc\n)\n\n        \nself\n.\nparam\n.\nwg_diff\n \n+=\n \nnp\n.\nouter\n(\ndg_input\n,\n \nself\n.\nxc\n)\n\n        \nself\n.\nparam\n.\nbi_diff\n \n+=\n \ndi_input\n\n        \nself\n.\nparam\n.\nbf_diff\n \n+=\n \ndf_input\n\n        \nself\n.\nparam\n.\nbo_diff\n \n+=\n \ndo_input\n\n        \nself\n.\nparam\n.\nbg_diff\n \n+=\n \ndg_input\n\n\n        \n# compute bottom diff\n\n        \ndxc\n \n=\n \nnp\n.\nzeros_like\n(\nself\n.\nxc\n)\n\n        \ndxc\n \n+=\n \nnp\n.\ndot\n(\nself\n.\nparam\n.\nwi\n.\nT\n,\n \ndi_input\n)\n\n        \ndxc\n \n+=\n \nnp\n.\ndot\n(\nself\n.\nparam\n.\nwf\n.\nT\n,\n \ndf_input\n)\n\n        \ndxc\n \n+=\n \nnp\n.\ndot\n(\nself\n.\nparam\n.\nwo\n.\nT\n,\n \ndo_input\n)\n\n        \ndxc\n \n+=\n \nnp\n.\ndot\n(\nself\n.\nparam\n.\nwg\n.\nT\n,\n \ndg_input\n)\n\n\n        \n# save bottom diffs\n\n        \nself\n.\nstate\n.\nbottom_diff_s\n \n=\n \nds\n \n*\n \nself\n.\nstate\n.\nf\n\n        \nself\n.\nstate\n.\nbottom_diff_x\n \n=\n \ndxc\n[:\nself\n.\nparam\n.\nx_dim\n]\n\n        \nself\n.\nstate\n.\nbottom_diff_h\n \n=\n \ndxc\n[\nself\n.\nparam\n.\nx_dim\n:]\n\n\n\n\n\n\n\n\u8fd9\u91cc\u662f\u53cd\u5411\u4f20\u5bfc\u7684\u8fc7\u7a0b\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u662f\u6574\u4e2a\u8bad\u7ec3\u8fc7\u7a0b\u7684\u6838\u5fc3\uff0c\u5982\u679c\u4e0d\u4e86\u89e3\u539f\u7406\uff0c\u8fd9\u90e8\u5206\u662f\u4e0d\u53ef\u80fd\u7406\u89e3\u7684\uff0c\u6240\u4ee5\u6211\u4eec\u9996\u5148\u4e86\u89e3\u4e00\u4e0b\u516c\u5f0f\u63a8\u5bfc\uff1a\n\n\n\u5047\u8bbe\u5728t\u65f6\u523blstm\u8f93\u51fa\u7684\u9884\u6d4b\u503c\u4e3ah(t)\uff0c\u800c\u5b9e\u9645\u7684\u8f93\u51fa\u503c\u662fy(t)\uff0c\u90a3\u4e48\u4ed6\u4eec\u4e4b\u95f4\u7684\u5dee\u522b\u5c31\u662f\u635f\u5931\uff0c\u6211\u4eec\u5047\u8bbe\u635f\u5931\u51fd\u6570\u4e3al(t) = f(h(t), y(t)) = ||h(t) - y(t)||^2\uff0c\u4e5f\u5c31\u662f\u6b27\u5f0f\u8ddd\u79bb\uff0c\u90a3\u4e48\u6574\u4f53\u635f\u5931\u51fd\u6570\u5c31\u662f\n\n\nL(t) = \u2211l(t)\uff0c\u5176\u4e2dt\u4ece1\u5230T\uff0cT\u8868\u793a\u6574\u4e2a\u4e8b\u4ef6\u5e8f\u5217\u7684\u6700\u5927\u957f\u5ea6\n\n\n\u6211\u4eec\u7684\u6700\u7ec8\u76ee\u6807\u5c31\u662f\u7528\u68af\u5ea6\u4e0b\u964d\u6cd5\u6765\u8ba9L(t)\u6700\u5c0f\u5316\uff0c\u4e5f\u5c31\u662f\u627e\u5230\u4e00\u4e2a\u6700\u4f18\u7684\u6743\u91cdw\u4f7f\u5f97L(t)\u6700\u5c0f\uff0c\u90a3\u4e48\u6743\u91cdw\u5728\u4ec0\u4e48\u60c5\u51b5\u4e0bL(t)\u6700\u5c0f\u5462\uff1f\u5c31\u662f\u5728\uff1a\u5f53w\u53d1\u751f\u5fae\u5c0f\u53d8\u5316\u65f6L(t)\u4e0d\u518d\u53d8\u5316\uff0c\u4e5f\u5c31\u662f\u8fbe\u5230\u5c40\u90e8\u6700\u4f18\uff0c\u5373L\u5bf9w\u7684\u504f\u5bfc\u4e5f\u5c31\u662f\u68af\u5ea6\u4e3a0\n\n\n\u4e0b\u9762\u6211\u4eec\u6765\u5206\u6790L\u5bf9w\u7684\u5fae\u5206\u600e\u4e48\u7b97\n\n\n\u8fd9\u4e2a\u516c\u5f0f\u8fd9\u6837\u6765\u7406\u89e3\uff1adL/dw\u8868\u793a\u5f53w\u53d1\u751f\u5355\u4f4d\u53d8\u5316\u65f6L\u53d8\u5316\u4e86\u591a\u5c11\uff0cdh(t)/dw\u8868\u793a\u5f53w\u53d1\u751f\u5355\u4f4d\u53d8\u5316\u65f6h(t)\u53d8\u5316\u4e86\u591a\u5c11\uff0cdL/dh(t)\u8868\u793a\u5f53h(t)\u53d1\u751f\u5355\u4f4d\u53d8\u5316\u65f6L\u53d8\u5316\u4e86\u591a\u5c11\uff0c\u90a3\u4e48(dL/dh(t)) * (dh(t)/dw)\u5c31\u8868\u793a\u5bf9\u4e8e\u7b2ct\u65f6\u5e8f\u7b2ci\u4e2a\u8bb0\u5fc6\u5355\u5143\u5f53w\u53d1\u751f\u5355\u4f4d\u53d8\u5316\u65f6L\u53d8\u5316\u4e86\u591a\u5c11\uff0c\u90a3\u4e48\u628a\u6240\u6709\u75311\u5230M\u7684i\u548c\u6240\u6709\u75311\u5230T\u7684t\u7d2f\u52a0\u8d77\u6765\u81ea\u7136\u5c31\u662f\u6574\u4f53\u4e0a\u7684dL/dw\n\n\n\u4e0b\u9762\u5355\u72ec\u6765\u770b\u5de6\u8fb9\u7684dL/dh(t)\uff0c\u5b83\u5176\u5b9e\u53ef\u4ee5\u5199\u6210\n\n\n\u53f3\u9762\u8868\u793a\uff1a\u5bf9\u4e8e\u7b2ci\u4e2a\u8bb0\u5fc6\u5355\u5143\uff0c\u5f53h(t)\u53d1\u751f\u5355\u4f4d\u53d8\u5316\u65f6\uff0c\u6574\u4e2a\u4ece1\u5230T\u7684\u65f6\u5e8f\u4e0a\u6240\u6709\u5c40\u90e8\u635f\u5931l\u7684\u7d2f\u52a0\u548c\uff0c\u8fd9\u5176\u5b9e\u521a\u597d\u5c31\u662fdL/dh(t)\uff0c\u90a3\u4e48\u5b9e\u9645\u4e0ah(t)\u53ea\u4f1a\u5f71\u54cd\u4ecet\u5230T\u8fd9\u6bb5\u65f6\u5e8f\u4e0a\u7684\u5c40\u90e8\u635f\u5931l\uff0c\u6240\u4ee5\u5f0f\u5b50\u53ef\u4ee5\u5199\u6210\n\n\n\u4e0b\u9762\u6211\u4eec\u5047\u8bbeL(t)\u8868\u793a\u4ecet\u5230T\u7684\u635f\u5931\u548c\uff0c\u90a3\u4e48\u6709L(t) = \u2211l(s)\uff0c\u5176\u4e2ds\u7531t\u5230T\uff0c\u90a3\u4e48\u6211\u4eec\u4e0a\u9762\u7684\u5f0f\u5b50\u53ef\u4ee5\u5199\u6210\n\n\n\u90a3\u4e48\u6211\u4eec\u4e0a\u9762\u7684\u68af\u5ea6\u516c\u5f0f\u5c31\u53ef\u4ee5\u5199\u6210\n\n\n\u53f3\u8fb9\u5176\u5b9e\u5c31\u662fh(t)\u5bf9w\u7684\u5bfc\u6570\uff0c\u4e0b\u9762\u6211\u4eec\u6765\u4e13\u95e8\u770b\u5de6\u8fb9\u7684\u5f0f\u5b50\n\n\n\u6211\u4eec\u77e5\u9053L(t) = l(t) + L(t+1)\uff0c\u90a3\u4e48dL(t)/dh(t) = dl(t)/dh(t) + dL(t+1)/dh(t)\uff0c\u53f3\u8fb9\u7684\u5f0f\u5b50\u5176\u5b9e\u5c31\u662fLSTM\u5e26\u6709\u8bb0\u5fc6\u7684\u771f\u8c1b\u4e4b\u6240\u5728\uff0c\u4e5f\u5c31\u662f\u7528\u4e0b\u4e00\u65f6\u5e8f\u7684\u5bfc\u6570\u53ef\u4ee5\u5f97\u51fa\u5f53\u524d\u65f6\u5e8f\u7684\u5bfc\u6570\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u6309\u7167\u8fd9\u4e2a\u89c4\u5f8b\u6765\u505a\u63a8\u5bfc\uff0c\u9996\u5148\u6211\u4eec\u8ba1\u7b97T\u65f6\u523b\u7684\u5bfc\u6570\u7136\u540e\u5f80\u524d\u63a8\uff0c\u5728T\u65f6\u523b\uff0cdL(T)/dh(T) = dl(T)/dh(T)\n\n\n\u4e3a\u4e86\u65b9\u4fbf\u7406\u89e3\uff0c\u6211\u4eec\u6682\u65f6\u5148\u7565\u8fc7\u4e0a\u9762\u90a3\u6bb5top_diff_is\uff0c\u770b\u4e4b\u540e\u7684\u4e00\u6bb5\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\nclass\n \nLstmNetwork\n():\n\n    \ndef\n \n__init__\n(\nself\n,\n \nlstm_param\n):\n\n        \nself\n.\nlstm_param\n \n=\n \nlstm_param\n\n        \nself\n.\nlstm_node_list\n \n=\n \n[]\n\n        \n# input sequence\n\n        \nself\n.\nx_list\n \n=\n \n[]\n\n\n    \ndef\n \ny_list_is\n(\nself\n,\n \ny_list\n,\n \nloss_layer\n):\n\n        \n\n\n        Updates diffs by setting target sequence\n\n\n        with corresponding loss layer.\n\n\n        Will *NOT* update parameters.  To update parameters,\n\n\n        call self.lstm_param.apply_diff()\n\n\n        \n\n        \nassert\n \nlen\n(\ny_list\n)\n \n==\n \nlen\n(\nself\n.\nx_list\n)\n\n        \nidx\n \n=\n \nlen\n(\nself\n.\nx_list\n)\n \n-\n \n1\n\n        \n# first node only gets diffs from label ...\n\n        \nloss\n \n=\n \nloss_layer\n.\nloss\n(\nself\n.\nlstm_node_list\n[\nidx\n]\n.\nstate\n.\nh\n,\n \ny_list\n[\nidx\n])\n\n        \ndiff_h\n \n=\n \nloss_layer\n.\nbottom_diff\n(\nself\n.\nlstm_node_list\n[\nidx\n]\n.\nstate\n.\nh\n,\n \ny_list\n[\nidx\n])\n\n        \n# here s is not affecting loss due to h(t+1), hence we set equal to zero\n\n        \ndiff_s\n \n=\n \nnp\n.\nzeros\n(\nself\n.\nlstm_param\n.\nmem_cell_ct\n)\n\n        \nself\n.\nlstm_node_list\n[\nidx\n]\n.\ntop_diff_is\n(\ndiff_h\n,\n \ndiff_s\n)\n\n        \nidx\n \n-=\n \n1\n\n\n        \n### ... following nodes also get diffs from next nodes, hence we add diffs to diff_h\n\n        \n### we also propagate error along constant error carousel using diff_s\n\n        \nwhile\n \nidx\n \n=\n \n0\n:\n\n            \nloss\n \n+=\n \nloss_layer\n.\nloss\n(\nself\n.\nlstm_node_list\n[\nidx\n]\n.\nstate\n.\nh\n,\n \ny_list\n[\nidx\n])\n\n            \ndiff_h\n \n=\n \nloss_layer\n.\nbottom_diff\n(\nself\n.\nlstm_node_list\n[\nidx\n]\n.\nstate\n.\nh\n,\n \ny_list\n[\nidx\n])\n\n            \ndiff_h\n \n+=\n \nself\n.\nlstm_node_list\n[\nidx\n \n+\n \n1\n]\n.\nstate\n.\nbottom_diff_h\n\n            \ndiff_s\n \n=\n \nself\n.\nlstm_node_list\n[\nidx\n \n+\n \n1\n]\n.\nstate\n.\nbottom_diff_s\n\n            \nself\n.\nlstm_node_list\n[\nidx\n]\n.\ntop_diff_is\n(\ndiff_h\n,\n \ndiff_s\n)\n\n            \nidx\n \n-=\n \n1\n\n\n        \nreturn\n \nloss\n\n\n\n\n\n\n\n\u91cd\u70b9\u5173\u6ce8\u8fd9\u91cc\u7684diff_h(\u8868\u8fbe\u7684\u662f\u9884\u6d4b\u7ed3\u679c\u8bef\u5dee\u53d1\u751f\u5355\u4f4d\u53d8\u5316\u65f6\u635f\u5931L\u662f\u591a\u5c11\uff0c\u4e5f\u5c31\u76f8\u5f53\u4e8e\u516c\u5f0f\u4e2d\u7684dL(t)/dh(t)\u7684\u4e00\u4e2a\u6570\u503c\u8ba1\u7b97)\uff0c\u6211\u4eec\u770b\u5230\u8fd9\u91cc\u7684\u8fc7\u7a0b\u662f\u7531idx\u4eceT\u5f80\u524d\u904d\u5386\u52301\uff0c\u8ba1\u7b97loss_layer.bottom_diff\u548c\u4e0b\u4e00\u4e2a\u65f6\u5e8f\u7684bottom_diff_h\u7684\u548c\u4f5c\u4e3adiff_h(\u5176\u4e2d\u7b2c\u4e00\u6b21\u904d\u5386\u5373T\u65f6\u4e0d\u52a0bottom_diff_h\u548c\u516c\u5f0f\u4e00\u6837)\n\n\n\u5176\u4e2dloss_layer.bottom_diff\u7684\u5b9e\u73b0\u5982\u4e0b\uff1a\n\n\n1\n2\n3\n4\n    \ndef\n \nbottom_diff\n(\nself\n,\n \npred\n,\n \nlabel\n):\n\n        \ndiff\n \n=\n \nnp\n.\nzeros_like\n(\npred\n)\n\n        \ndiff\n[\n0\n]\n \n=\n \n2\n \n*\n \n(\npred\n[\n0\n]\n \n-\n \nlabel\n)\n\n        \nreturn\n \ndiff\n\n\n\n\n\n\n\n\u8fd9\u91cc\u6c42\u7684\u5c31\u662fl(t) = f(h(t), y(t)) = ||h(t) - y(t)||^2\u7684\u5bfc\u6570l'(t) = 2 * (h(t) - y(t))\n\n\n\u4e0e\u4e0a\u9762\u63a8\u5bfcdL(t)/dh(t) \u7684\u8fc7\u7a0b\u7c7b\u4f3c\uff0c\u6211\u4eec\u6765\u63a8\u5bfcdL(t)/ds(t) \u3002\u5f53s(t)\u53d1\u751f\u53d8\u5316\u65f6\uff0cL(t)\u7684\u53d8\u5316\u6765\u6e90\u4e8es(t)\u5f71\u54cd\u4e86h(t)\u548ch(t+1)\uff0c\u4ece\u800c\u5f71\u54cd\u4e86L(t)\uff0c\u5373\n\n\n\u56e0\u4e3ah(t+1)\u4e0d\u4f1a\u5f71\u54cdl(t)\uff0c\u6240\u4ee5\n\n\n\u56e0\u6b64\u6709\n\n\n\u8fd9\u91cc\u5982\u679c\u80fd\u6c42\u5f97\u5de6\u8fb9\u7684\u5f0f\u5b50(dL(t)/dh(t)) * (dh(t)/ds(t))\uff0c\u90a3\u4e48\u5c31\u53ef\u4ee5\u7531t+1\u5230t\u6765\u9010\u7ea7\u53cd\u63a8dL(t)/ds(t)\u4e86\n\n\n\u4e0b\u9762\u6211\u4eec\u5c31\u6765\u770b\u600e\u4e48\u6765\u8ba1\u7b97\u5de6\u8fb9\u7684\u5f0f\u5b50\n\n\n\u56e0\u4e3a\u6211\u4eec\u795e\u7ecf\u5143\u8bbe\u8ba1\u6709\uff1aself.state.h = self.state.s * self.state.o\u4e5f\u5c31\u662fh(t) = s(t) * o(t)\uff0c\u90a3\u4e48dh(t)/ds(t) = o(t)\uff0c\u800c\u56e0\u4e3adL(t)/dh(t)\u5c31\u662ftop_diff_h\uff0c\u6240\u4ee5\u6709\uff1a\n\n\n\u6240\u4ee5\u5f97\u5230\n\n\n\u8fd9\u56de\u53ef\u4ee5\u56de\u6765\u770btop_diff_is\u4ee3\u7801\u4e86\uff0c\u6211\u81ea\u5df1\u8bfb\u5230\u8fd9\u91cc\u7684top\u548cbottom\u7684\u65f6\u5019\uff0c\u6ca1\u660e\u767d\u542b\u4e49\uff0c\u6240\u4ee5\u7279\u5730\u54a8\u8be2\u4e86\u4ee3\u7801\u539f\u4f5c\u8005\uff0c\u4ed6\u7684\u89e3\u91ca\u662f\uff1aBottom means input to the layer, top means output of the layer. Caffe also uses this terminology.\u4e5f\u5c31\u662f\u8bf4bottom\u8868\u793a\u795e\u7ecf\u7f51\u7edc\u5c42\u7684\u8f93\u5165\uff0ctop\u8868\u793a\u795e\u7ecf\u7f51\u7edc\u5c42\u7684\u8f93\u51fa\uff0c\u548ccaffe\u4e2d\u6982\u5ff5\u4e00\u81f4\n\n\n1\ndef\n \ntop_diff_is\n(\nself\n,\n \ntop_diff_h\n,\n \ntop_diff_s\n):\n\n\n\n\n\n\n\n\u9996\u5148\u770b\u4f20\u9012\u8fc7\u6765\u7684\u4e24\u4e2a\u53c2\u6570\uff1atop_diff_h\u8868\u793a\u5f53\u524dt\u65f6\u5e8f\u7684dL(t)/dh(t), top_diff_s\u8868\u793at+1\u65f6\u5e8f\u8bb0\u5fc6\u5355\u5143\u7684dL(t)/ds(t)\n\n\n1\n2\n3\n4\n5\n        \nds\n \n=\n \nself\n.\nstate\n.\no\n \n*\n \ntop_diff_h\n \n+\n \ntop_diff_s\n\n        \ndo\n \n=\n \nself\n.\nstate\n.\ns\n \n*\n \ntop_diff_h\n\n        \ndi\n \n=\n \nself\n.\nstate\n.\ng\n \n*\n \nds\n\n        \ndg\n \n=\n \nself\n.\nstate\n.\ni\n \n*\n \nds\n\n        \ndf\n \n=\n \nself\n.\ns_prev\n \n*\n \nds\n\n\n\n\n\n\n\n\u8fd9\u91cc\u9762\u7684\u524d\u7f00d\u8868\u8fbe\u7684\u662f\u8bef\u5deeL\u5bf9\u67d0\u4e00\u9879\u7684\u5bfc\u6570(directive)\n\n\n\u5176\u4e2dds\u4e00\u884c\u662f\u5728\u6839\u636e\u4e0a\u9762\u7684\u516c\u5f0fdL(t)/ds(t)\u8ba1\u7b97\u5f53\u524dt\u65f6\u5e8f\u7684dL(t)/ds(t)\n\n\n\u5176\u4e2ddo\u4e00\u884c\u662f\u8ba1\u7b97dL(t)/do(t)\uff0c\u56e0\u4e3ah(t) = s(t) * o(t)\uff0c\u6240\u4ee5dh(t)/do(t) = s(t)\uff0c\u6240\u4ee5dL(t)/do(t) = (dL(t)/dh(t)) * (dh(t)/do(t)) = top_diff_h * s(t)\n\n\n\u5176\u4e2ddi\u4e00\u884c\u662f\u8ba1\u7b97dL(t)/di(t)\uff0c\u8003\u8651\u5230\n\n\n\u6362\u4e2a\u7b26\u53f7\u8868\u793a\u5c31\u662f\n\n\n1\ns\n(\nt\n)\n \n=\n \nf\n(\nt\n)\n \n*\n \ns\n(\nt\n-\n1\n)\n \n+\n \ni\n(\nt\n)\n \n*\n \ng\n(\nt\n)\n\n\n\n\n\n\n\n\u6240\u4ee5dL(t)/di(t) = (dL(t)/ds(t)) * (ds(t)/di(t)) = ds * g(t)\n\n\n\u5176\u4e2ddg\u4e00\u884c\u662f\u8ba1\u7b97dL(t)/dg(t)\uff0c\u540c\u4e0a\u6709dL(t)/dg(t) = (dL(t)/ds(t)) * (ds(t)/dg(t)) = ds * i(t)\n\n\n\u5176\u4e2ddf\u4e00\u884c\u662f\u8ba1\u7b97dL(t)/df(t)\uff0c\u540c\u4e0a\u6709dL(t)/df(t) = (dL(t)/ds(t)) * (ds(t)/df(t)) = ds * s(t-1)\n\n\n1\n2\n3\n4\n        \ndi_input\n \n=\n \n(\n1.\n \n-\n \nself\n.\nstate\n.\ni\n)\n \n*\n \nself\n.\nstate\n.\ni\n \n*\n \ndi\n\n        \ndf_input\n \n=\n \n(\n1.\n \n-\n \nself\n.\nstate\n.\nf\n)\n \n*\n \nself\n.\nstate\n.\nf\n \n*\n \ndf\n\n        \ndo_input\n \n=\n \n(\n1.\n \n-\n \nself\n.\nstate\n.\no\n)\n \n*\n \nself\n.\nstate\n.\no\n \n*\n \ndo\n\n        \ndg_input\n \n=\n \n(\n1.\n \n-\n \nself\n.\nstate\n.\ng\n \n**\n \n2\n)\n \n*\n \ndg\n\n\n\n\n\n\n\n\u524d\u4e09\u884c\u7528\u4e86sigmoid\u51fd\u6570\u7684\u5bfc\u6570\uff0c\u540e\u4e00\u884c\u7528\u4e86tanh\u51fd\u6570\u7684\u5bfc\u6570\u3002\u4ee5\u7b2c\u4e00\u884cdi_input\u4e3a\u4f8b\uff0c(1. - self.state.i) * self.state.i\u662fsigmoid\u5bfc\u6570\uff0c\u8868\u793a\u5f53i\u795e\u7ecf\u5143\u7684\u8f93\u5165\u53d1\u751f\u5355\u4f4d\u53d8\u5316\u65f6\u8f93\u51fa\u503c\u6709\u591a\u5927\u53d8\u5316\uff0c\u90a3\u4e48\u518d\u4e58\u4ee5di\u5c31\u8868\u793a\u5f53i\u795e\u7ecf\u5143\u7684\u8f93\u5165\u53d1\u751f\u5355\u4f4d\u53d8\u5316\u65f6\u8bef\u5deeL(t)\u53d1\u751f\u591a\u5927\u53d8\u5316\uff0c\u4e5f\u5c31\u662fdL(t)/d i_input(t)\uff0c\u4e0b\u9762\u51e0\u4e2a\u90fd\u540c\u7406\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n        \nself\n.\nparam\n.\nwi_diff\n \n+=\n \nnp\n.\nouter\n(\ndi_input\n,\n \nself\n.\nxc\n)\n\n        \nself\n.\nparam\n.\nwf_diff\n \n+=\n \nnp\n.\nouter\n(\ndf_input\n,\n \nself\n.\nxc\n)\n\n        \nself\n.\nparam\n.\nwo_diff\n \n+=\n \nnp\n.\nouter\n(\ndo_input\n,\n \nself\n.\nxc\n)\n\n        \nself\n.\nparam\n.\nwg_diff\n \n+=\n \nnp\n.\nouter\n(\ndg_input\n,\n \nself\n.\nxc\n)\n\n        \nself\n.\nparam\n.\nbi_diff\n \n+=\n \ndi_input\n\n        \nself\n.\nparam\n.\nbf_diff\n \n+=\n \ndf_input\n\n        \nself\n.\nparam\n.\nbo_diff\n \n+=\n \ndo_input\n\n        \nself\n.\nparam\n.\nbg_diff\n \n+=\n \ndg_input\n\n\n\n\n\n\n\n\u8fd9\u91cc\u7684w\n_diff\u662f\u6743\u91cd\u77e9\u9635\u7684\u8bef\u5dee\uff0cb\n_diff\u662f\u504f\u7f6e\u7684\u8bef\u5dee\uff0c\u7528\u4e8e\u505a\u66f4\u65b0\uff0c\u8fd9\u91cc\u9762\u4e3a\u4ec0\u4e48\u662fd*_input\u548cxc\u7684\u5916\u79ef\u6ca1\u770b\u61c2\n\n\n1\n2\n3\n4\n5\n        \ndxc\n \n=\n \nnp\n.\nzeros_like\n(\nself\n.\nxc\n)\n\n        \ndxc\n \n+=\n \nnp\n.\ndot\n(\nself\n.\nparam\n.\nwi\n.\nT\n,\n \ndi_input\n)\n\n        \ndxc\n \n+=\n \nnp\n.\ndot\n(\nself\n.\nparam\n.\nwf\n.\nT\n,\n \ndf_input\n)\n\n        \ndxc\n \n+=\n \nnp\n.\ndot\n(\nself\n.\nparam\n.\nwo\n.\nT\n,\n \ndo_input\n)\n\n        \ndxc\n \n+=\n \nnp\n.\ndot\n(\nself\n.\nparam\n.\nwg\n.\nT\n,\n \ndg_input\n)\n\n\n\n\n\n\n\n\u8fd9\u91cc\u662f\u5728\u7d2f\u52a0\u8f93\u5165x\u7684diff\uff0c\u56e0\u4e3ax\u5728\u56db\u5904\u8d77\u4f5c\u7528\uff0c\u6240\u4ee5\u56db\u5904\u7684diff\u52a0\u548c\u4e4b\u540e\u624d\u7b97\u4f5cx\u7684diff\n\n\n1\n2\n3\n        \nself\n.\nstate\n.\nbottom_diff_s\n \n=\n \nds\n \n*\n \nself\n.\nstate\n.\nf\n\n        \nself\n.\nstate\n.\nbottom_diff_x\n \n=\n \ndxc\n[:\nself\n.\nparam\n.\nx_dim\n]\n\n        \nself\n.\nstate\n.\nbottom_diff_h\n \n=\n \ndxc\n[\nself\n.\nparam\n.\nx_dim\n:]\n\n\n\n\n\n\n\n\u8fd9\u91ccbottom_diff_s\u662f\u6839\u636e\u5982\u4e0b\u516c\u5f0f\u5f97\u51fa\u7684\u63a8\u5bfc\u5173\u7cfb\uff0c\u4e5f\u5c31\u662f\u5728t-1\u65f6\u5e8f\u4e0as\u7684\u53d8\u5316\u548ct\u65f6\u5e8f\u4e0as\u7684\u53d8\u5316\u65f6f\u500d\u7684\u5173\u7cfb\n\n\n\u56e0\u4e3adxc\u662fx\u548ch\u6a2a\u5411\u5408\u5e76\u51fa\u6765\u7684\u77e9\u9635\uff0c\u6240\u4ee5\u5206\u522b\u53d6\u51fa\u4e24\u90e8\u5206\u7684diff\u4fe1\u606f\u5c31\u662fbottom_diff_x\u548cbottom_diff_h\uff08\u8fd9\u91cc\u9762\u7684bottom_diff_x\u4ee3\u7801\u91cc\u9762\u6ca1\u6709\u771f\u6b63\u4f5c\u7528\uff09\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n    \ndef\n \nx_list_clear\n(\nself\n):\n\n        \nself\n.\nx_list\n \n=\n \n[]\n\n\n    \ndef\n \nx_list_add\n(\nself\n,\n \nx\n):\n\n        \nself\n.\nx_list\n.\nappend\n(\nx\n)\n\n        \nif\n \nlen\n(\nself\n.\nx_list\n)\n \n \nlen\n(\nself\n.\nlstm_node_list\n):\n\n            \n# need to add new lstm node, create new state mem\n\n            \nlstm_state\n \n=\n \nLstmState\n(\nself\n.\nlstm_param\n.\nmem_cell_ct\n,\n \nself\n.\nlstm_param\n.\nx_dim\n)\n\n            \nself\n.\nlstm_node_list\n.\nappend\n(\nLstmNode\n(\nself\n.\nlstm_param\n,\n \nlstm_state\n))\n\n\n        \n# get index of most recent x input\n\n        \nidx\n \n=\n \nlen\n(\nself\n.\nx_list\n)\n \n-\n \n1\n\n        \nif\n \nidx\n \n==\n \n0\n:\n\n            \n# no recurrent inputs yet\n\n            \nself\n.\nlstm_node_list\n[\nidx\n]\n.\nbottom_data_is\n(\nx\n)\n\n        \nelse\n:\n\n            \ns_prev\n \n=\n \nself\n.\nlstm_node_list\n[\nidx\n \n-\n \n1\n]\n.\nstate\n.\ns\n\n            \nh_prev\n \n=\n \nself\n.\nlstm_node_list\n[\nidx\n \n-\n \n1\n]\n.\nstate\n.\nh\n\n            \nself\n.\nlstm_node_list\n[\nidx\n]\n.\nbottom_data_is\n(\nx\n,\n \ns_prev\n,\n \nh_prev\n)\n\n\n\n\n\n\n\n\u8fd9\u4e00\u90e8\u5206\u662f\u6dfb\u52a0\u8bad\u7ec3\u6837\u672c\u7684\u8fc7\u7a0b\uff0c\u4e5f\u5c31\u662f\u8f93\u5165x\u6570\u636e\uff0c\u90a3\u4e48\u6574\u4e2a\u6267\u884c\u8fc7\u7a0b\u5982\u4e0b\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\ndef\n \nexample_0\n():\n\n    \n# learns to repeat simple sequence from random inputs\n\n    \nnp\n.\nrandom\n.\nseed\n(\n0\n)\n\n\n    \n# parameters for input data dimension and lstm cell count\n\n    \nmem_cell_ct\n \n=\n \n100\n\n    \nx_dim\n \n=\n \n50\n\n    \nconcat_len\n \n=\n \nx_dim\n \n+\n \nmem_cell_ct\n\n    \nlstm_param\n \n=\n \nLstmParam\n(\nmem_cell_ct\n,\n \nx_dim\n)\n\n    \nlstm_net\n \n=\n \nLstmNetwork\n(\nlstm_param\n)\n\n    \ny_list\n \n=\n \n[\n-\n0.5\n,\n0.2\n,\n0.1\n,\n \n-\n0.5\n]\n\n    \ninput_val_arr\n \n=\n \n[\nnp\n.\nrandom\n.\nrandom\n(\nx_dim\n)\n \nfor\n \n_\n \nin\n \ny_list\n]\n\n\n    \nfor\n \ncur_iter\n \nin\n \nrange\n(\n100\n):\n\n        \nprint\n \ncur iter: \n,\n \ncur_iter\n\n        \nfor\n \nind\n \nin\n \nrange\n(\nlen\n(\ny_list\n)):\n\n            \nlstm_net\n.\nx_list_add\n(\ninput_val_arr\n[\nind\n])\n\n            \nprint\n \ny_pred[\n%d\n] : \n%f\n \n%\n \n(\nind\n,\n \nlstm_net\n.\nlstm_node_list\n[\nind\n]\n.\nstate\n.\nh\n[\n0\n])\n\n\n        \nloss\n \n=\n \nlstm_net\n.\ny_list_is\n(\ny_list\n,\n \nToyLossLayer\n)\n\n        \nprint\n \nloss: \n,\n \nloss\n\n        \nlstm_param\n.\napply_diff\n(\nlr\n=\n0.1\n)\n\n        \nlstm_net\n.\nx_list_clear\n()\n\n\n\n\n\n\n\n\u9996\u5148\u521d\u59cb\u5316LstmParam\uff0c\u6307\u5b9a\u8bb0\u5fc6\u5b58\u50a8\u5355\u5143\u6570\u4e3a100\uff0c\u6307\u5b9a\u8f93\u5165\u6837\u672cx\u7ef4\u5ea6\u662f50\uff0c\u4e0b\u9762\u521d\u59cb\u5316\u4e00\u4e2aLstmNetwork\u7528\u4e8e\u8bad\u7ec3\u6a21\u578b\uff0c\u7136\u540e\u751f\u6210\u4e864\u7ec4\u540450\u4e2a\u968f\u673a\u6570\uff0c\u5e76\u5206\u522b\u4ee5[-0.5,0.2,0.1, -0.5]\u4f5c\u4e3ay\u503c\u6765\u8bad\u7ec3\uff0c\u6bcf\u6b21\u5582\u7ed950\u4e2a\u968f\u673a\u6570\u548c\u4e00\u4e2ay\u503c\uff0c\u5171\u8fed\u4ee3100\u6b21\n\n\n\u8fd9\u4e2a\u6d4b\u8bd5\u6837\u4f8b\u6700\u7ec8\u6267\u884c\u6548\u679c\u81ea\u5df1\u6765\u5c1d\u8bd5\u5427\n\n\n\u5229\u7528lstm\u5728\u8f93\u5165\u4e00\u4e32\u8fde\u7eed\u8d28\u6570\u65f6\u9884\u4f30\u4e0b\u4e00\u4e2a\u8d28\u6570\n\u4e3a\u4e86\u6d4b\u8bd5\u8fd9\u4e2a\u5f3a\u5927\u7684lstm\uff0c\u6211\u5199\u4e86\u8fd9\u6837\u4e00\u4e2a\u5c0f\u6d4b\u8bd5\uff0c\u9996\u5148\u751f\u6210100\u4ee5\u5185\u8d28\u6570\uff0c\u7136\u540e\u5faa\u73af\u5730\u62ff\u51fa50\u4e2a\u8d28\u6570\u5e8f\u5217\u4f5c\u4e3ax\uff0c\u7b2c51\u4e2a\u8d28\u6570\u4f5c\u4e3ay\uff0c\u8fd9\u6837\u62ff\u51fa10\u4e2a\u6837\u672c\u53c2\u4e0e\u8bad\u7ec31w\u6b21\uff0c\u5747\u65b9\u8bef\u5dee\u7531\u4e00\u5f00\u59cb\u76840.17973\u6700\u7ec8\u8fbe\u5230\u4e861.05172e-06\uff0c\u51e0\u4e4e\u5b8c\u5168\u6b63\u786e\uff0c\u6548\u679c\u76f8\u5f53\u8d5e\u554a\uff0c\u7a0b\u5e8f\u5982\u4e0b\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\nimport\n \nnumpy\n \nas\n \nnp\n\n\nimport\n \nsys\n\n\n\nfrom\n \nlstm\n \nimport\n \nLstmParam\n,\n \nLstmNetwork\n\n\n\nclass\n \nToyLossLayer\n:\n\n    \n\n\n    Computes square loss with first element of hidden layer array.\n\n\n    \n\n    \n@classmethod\n\n    \ndef\n \nloss\n(\nself\n,\n \npred\n,\n \nlabel\n):\n\n        \nreturn\n \n(\npred\n[\n0\n]\n \n-\n \nlabel\n)\n \n**\n \n2\n\n\n    \n@classmethod\n\n    \ndef\n \nbottom_diff\n(\nself\n,\n \npred\n,\n \nlabel\n):\n\n        \ndiff\n \n=\n \nnp\n.\nzeros_like\n(\npred\n)\n\n        \ndiff\n[\n0\n]\n \n=\n \n2\n \n*\n \n(\npred\n[\n0\n]\n \n-\n \nlabel\n)\n\n        \nreturn\n \ndiff\n\n\n\nclass\n \nPrimes\n:\n\n    \ndef\n \n__init__\n(\nself\n):\n\n        \nself\n.\nprimes\n \n=\n \nlist\n()\n\n        \nfor\n \ni\n \nin\n \nrange\n(\n2\n,\n \n100\n):\n\n            \nis_prime\n \n=\n \nTrue\n\n            \nfor\n \nj\n \nin\n \nrange\n(\n2\n,\n \ni\n-\n1\n):\n\n                \nif\n \ni\n \n%\n \nj\n \n==\n \n0\n:\n\n                    \nis_prime\n \n=\n \nFalse\n\n            \nif\n \nis_prime\n:\n\n                \nself\n.\nprimes\n.\nappend\n(\ni\n)\n\n        \nself\n.\nprimes_count\n \n=\n \nlen\n(\nself\n.\nprimes\n)\n\n    \ndef\n \nget_sample\n(\nself\n,\n \nx_dim\n,\n \ny_dim\n,\n \nindex\n):\n\n        \nresult\n \n=\n \nnp\n.\nzeros\n((\nx_dim\n+\ny_dim\n))\n\n        \nfor\n \ni\n \nin\n \nrange\n(\nindex\n,\n \nindex\n \n+\n \nx_dim\n \n+\n \ny_dim\n):\n\n            \nresult\n[\ni\n-\nindex\n]\n \n=\n \nself\n.\nprimes\n[\ni\n%\nself\n.\nprimes_count\n]\n/\n100.0\n\n        \nreturn\n \nresult\n\n\n\n\ndef\n \nexample_0\n():\n\n    \nmem_cell_ct\n \n=\n \n100\n\n    \nx_dim\n \n=\n \n50\n\n    \nconcat_len\n \n=\n \nx_dim\n \n+\n \nmem_cell_ct\n\n    \nlstm_param\n \n=\n \nLstmParam\n(\nmem_cell_ct\n,\n \nx_dim\n)\n\n    \nlstm_net\n \n=\n \nLstmNetwork\n(\nlstm_param\n)\n\n\n    \nprimes\n \n=\n \nPrimes\n()\n\n    \nx_list\n \n=\n \n[]\n\n    \ny_list\n \n=\n \n[]\n\n    \nfor\n \ni\n \nin\n \nrange\n(\n0\n,\n \n10\n):\n\n        \nsample\n \n=\n \nprimes\n.\nget_sample\n(\nx_dim\n,\n \n1\n,\n \ni\n)\n\n        \nx\n \n=\n \nsample\n[\n0\n:\nx_dim\n]\n\n        \ny\n \n=\n \nsample\n[\nx_dim\n:\nx_dim\n+\n1\n]\n.\ntolist\n()[\n0\n]\n\n        \nx_list\n.\nappend\n(\nx\n)\n\n        \ny_list\n.\nappend\n(\ny\n)\n\n\n    \nfor\n \ncur_iter\n \nin\n \nrange\n(\n10000\n):\n\n        \nif\n \ncur_iter\n \n%\n \n1000\n \n==\n \n0\n:\n\n            \nprint\n \ny_list=\n,\n \ny_list\n\n        \nfor\n \nind\n \nin\n \nrange\n(\nlen\n(\ny_list\n)):\n\n            \nlstm_net\n.\nx_list_add\n(\nx_list\n[\nind\n])\n\n            \nif\n \ncur_iter\n \n%\n \n1000\n \n==\n \n0\n:\n\n                \nprint\n \ny_pred[\n%d\n] : \n%f\n \n%\n \n(\nind\n,\n \nlstm_net\n.\nlstm_node_list\n[\nind\n]\n.\nstate\n.\nh\n[\n0\n])\n\n\n        \nloss\n \n=\n \nlstm_net\n.\ny_list_is\n(\ny_list\n,\n \nToyLossLayer\n)\n\n        \nif\n \ncur_iter\n \n%\n \n1000\n \n==\n \n0\n:\n\n            \nprint\n \nloss: \n,\n \nloss\n\n        \nlstm_param\n.\napply_diff\n(\nlr\n=\n0.01\n)\n\n        \nlstm_net\n.\nx_list_clear\n()\n\n\n\nif\n \n__name__\n \n==\n \n__main__\n:\n\n    \nexample_0\n()\n\n\n\n\n\n\n\n\u6700\u7ec8\u7684\u8fd0\u884c\u6548\u679c\u6700\u540e\u4e00\u6b21\u8fed\u4ee3\u7ed3\u679c\u8f93\u51fa\u5982\u4e0b(\u6ce8\uff1a\u8fd9\u91cc\u7684\u8d28\u6570\u5217\u8868\u6211\u5168\u90fd\u9664\u4ee5\u4e86100\uff0c\u56e0\u4e3a\u8fd9\u4e2a\u4ee3\u7801\u8bad\u7ec3\u7684\u6570\u636e\u5fc5\u987b\u662f\u5c0f\u4e8e1\u7684\u6570\u503c)\uff0c\u53ef\u4ee5\u770b\u5230\u9884\u6d4b\u57fa\u672c\u4e0a\u6b63\u786e\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\ny_list\n=\n \n[\n0.02\n,\n \n0.03\n,\n \n0.05\n,\n \n0.07\n,\n \n0.11\n,\n \n0.13\n,\n \n0.17\n,\n \n0.19\n,\n \n0.23\n,\n \n0.29\n]\n\n\ny_pred\n[\n0\n]\n \n:\n \n0.019828\n\n\ny_pred\n[\n1\n]\n \n:\n \n0.030286\n\n\ny_pred\n[\n2\n]\n \n:\n \n0.049671\n\n\ny_pred\n[\n3\n]\n \n:\n \n0.070302\n\n\ny_pred\n[\n4\n]\n \n:\n \n0.109682\n\n\ny_pred\n[\n5\n]\n \n:\n \n0.130395\n\n\ny_pred\n[\n6\n]\n \n:\n \n0.169550\n\n\ny_pred\n[\n7\n]\n \n:\n \n0.190424\n\n\ny_pred\n[\n8\n]\n \n:\n \n0.229697\n\n\ny_pred\n[\n9\n]\n \n:\n \n0.290101\n\n\nloss\n:\n  \n1.05172051911e-06", 
            "title": "\u4e09\u5341\u4e09-LSTM-RNN\u2014\u6709\u8bb0\u5fc6\u7684\u795e\u7ecf\u7f51\u7edc"
        }, 
        {
            "location": "/33.lstm-rnn/#lstm", 
            "text": "\u5728\u8bfb\u4ee3\u7801\u4e4b\u524d\u6211\u4eec\u8981\u5148\u77e5\u9053\u6211\u4eec\u8bfb\u8fd9\u6bb5\u4ee3\u7801\u7684\u610f\u4e49\u662f\u4ec0\u4e48\u3002LSTM\uff08Long Short Tem Memory\uff09\u662f\u4e00\u79cd\u7279\u6b8a\u9012\u5f52\u795e\u7ecf\u7f51\u7edc\uff0c\u5b83\u7684\u7279\u6b8a\u6027\u5728\u4e8e\u5b83\u7684\u795e\u7ecf\u5143\u7684\u8bbe\u8ba1\u80fd\u591f\u4fdd\u5b58\u5386\u53f2\u8bb0\u5fc6\uff0c\u8fd9\u6837\u53ef\u4ee5\u89e3\u51b3\u81ea\u7136\u8bed\u8a00\u5904\u7406\u7684\u7edf\u8ba1\u65b9\u6cd5\u4e2d\u53ea\u80fd\u8003\u8651\u6700\u8fd1n\u4e2a\u8bcd\u8bed\u800c\u5ffd\u7565\u4e86\u66f4\u4e45\u4e4b\u524d\u7684\u8bcd\u8bed\u7684\u95ee\u9898\u3002\u5b83\u7684\u7528\u9014\u6709\uff1aword representation\uff08embedding\uff09(\u4e5f\u5c31\u662f\u600e\u4e48\u6837\u628a\u8bcd\u8bed\u8868\u8fbe\u6210\u5411\u91cf)\u3001sequence to sequence learning\uff08\u4e5f\u5c31\u662f\u8f93\u5165\u4e00\u4e2a\u53e5\u5b50\u80fd\u9884\u6d4b\u53e6\u4e00\u4e2a\u53e5\u5b50\uff09\u3001\u4ee5\u53ca\u673a\u5668\u7ffb\u8bd1\u3001\u8bed\u97f3\u8bc6\u522b\u7b49  100\u591a\u884c\u539f\u59cbpython\u4ee3\u7801\u5b9e\u73b0\u7684\u57fa\u4e8eLSTM\u7684\u4e8c\u8fdb\u5236\u52a0\u6cd5\u5668\n\u8fd9\u4efd\u4ee3\u7801\u6765\u6e90\u4e8ehttps://iamtrask.github.io/2015/11/15/anyone-can-code-lstm/\uff0c\u56fd\u4eba\u4e5f\u505a\u4e86\u7ffb\u8bd1http://blog.csdn.net/zzukun/article/details/49968129\uff0c\u8fd9\u91cc\u6211\u518d\u6b21\u5f15\u7528\u610f\u5728\u4e00\u8fb9\u8bfb\u4e00\u8fb9\u5b66\u4e60\u4e00\u8fb9\u7406\u89e3\uff0c\u5e76\u4ece\u5236\u4f5c\u804a\u5929\u673a\u5668\u4eba\u7684\u76ee\u6807\u4e0a\u505a\u4e00\u4e9b\u6269\u5145\u89e3\u8bfb\uff0c\u4e0b\u9762\u6211\u5c31\u4e00\u53e5\u4e00\u53e5\u7684\u89e3\u91ca\uff08\u6ca1\u6709\u7f29\u8fdb\uff0c\u8bf7\u53c2\u8003\u539f\u59cb\u4ee3\u7801\uff09\uff1a  1\n2 import   copy ,   numpy   as   np  np . random . seed ( 0 )    \u6700\u5f00\u59cb\u5f15\u5165\u4e86numpy\u5e93\uff0c\u8fd9\u662f\u4e3a\u4e86\u77e9\u9635\u64cd\u4f5c\u7684\u65b9\u4fbf  1\n2\n3 def   sigmoid ( x ): \n     output   =   1 / ( 1 + np . exp ( - x )) \n     return   output    \u8fd9\u662f\u58f0\u660esigmoid\u6fc0\u6d3b\u51fd\u6570\uff0c\u8fd9\u662f\u795e\u7ecf\u7f51\u7edc\u7684\u57fa\u7840\u5185\u5bb9\uff0c\u5e38\u7528\u7684\u6fc0\u6d3b\u51fd\u6570\u6709sigmoid\u3001tan\u3001relu\u7b49\uff0csigmoid\u7684\u53d6\u503c\u8303\u56f4\u662f[0, 1]\uff0ctan\u7684\u53d6\u503c\u8303\u56f4\u662f[-1,1]\uff0c\u8fd9\u91cc\u7684x\u662f\u4e00\u4e2a\u5411\u91cf\uff0c\u90a3\u4e48\u8fd4\u56de\u7684output\u4e5f\u662f\u4e00\u4e2a\u5411\u91cf  1\n2 def   sigmoid_output_to_derivative ( output ): \n     return   output * ( 1 - output )    \u8fd9\u662f\u58f0\u660esigmoid\u7684\u6c42\u5bfc\u51fd\u6570\uff0c\u90a3\u4e48\u8fd9\u4e2a\u6c42\u5bfc\u51fd\u6570\u600e\u4e48\u6765\u7684\u5462\uff1f\u8bf7\u770b\u4e0b\u9762\u7684\u63a8\u5bfc\u4f60\u5c31\u660e\u767d\u4e86  \u5728\u8fd9\u91cc\u5148\u8bf4\u4e00\u4e0b\u8fd9\u4e2a\u52a0\u6cd5\u5668\u7684\u601d\u8def\uff1a\u4e8c\u8fdb\u5236\u7684\u52a0\u6cd5\u662f\u4e00\u4e2a\u4e00\u4e2a\u4e8c\u8fdb\u5236\u4f4d\u76f8\u52a0\uff0c\u540c\u65f6\u4f1a\u8bb0\u5f55\u4e00\u4e2a\u6ee1\u4e8c\u8fdb\u4e00\u7684\u8fdb\u4f4d\uff0c\u90a3\u4e48\u8bad\u7ec3\u65f6\uff0c\u968f\u673a\u627e\u4e2ac=a+b\u5c31\u662f\u4e00\u4e2a\u6837\u672c\uff0c\u8f93\u5165a\u3001b\u8f93\u51fac\u5c31\u662f\u6574\u4e2alstm\u7684\u9884\u6d4b\u8fc7\u7a0b\uff0c\u6211\u4eec\u8981\u8bad\u7ec3\u7684\u5c31\u662f\u7531a\u3001b\u7684\u4e8c\u8fdb\u5236\u5411c\u8f6c\u6362\u7684\u5404\u79cd\u8f6c\u6362\u77e9\u9635\u548c\u6743\u91cd\u7b49\uff0c\u4e5f\u5c31\u662f\u6211\u4eec\u8981\u8bbe\u8ba1\u7684\u795e\u7ecf\u7f51\u7edc  1 int2binary   =   {}    \u8fd9\u91cc\u58f0\u660e\u4e86\u4e00\u4e2a\u8bcd\u5178\uff0c\u7528\u4e8e\u7531\u6574\u578b\u6570\u5b57\u8f6c\u6210\u4e8c\u8fdb\u5236\uff0c\u8fd9\u6837\u5b58\u8d77\u6765\u662f\u4e3a\u4e86\u4e0d\u7528\u968f\u65f6\u8ba1\u7b97\uff0c\u63d0\u524d\u5b58\u597d\u80fd\u591f\u4f7f\u5f97\u8bfb\u53d6\u66f4\u5feb  1\n2 binary_dim   =   8  largest_number   =   pow ( 2 , binary_dim )    \u8fd9\u662f\u58f0\u660e\u4e8c\u8fdb\u5236\u6570\u5b57\u7684\u7ef4\u5ea6\uff0c\u5982\u679c\u662f8\uff0c\u90a3\u4e48\u4e8c\u8fdb\u5236\u80fd\u8868\u8fbe\u7684\u6700\u5927\u6574\u6570\u662f2^8=256\uff0c\u4e5f\u5c31\u662f\u8fd9\u91cc\u7684largest_number  1\n2\n3\n4 binary   =   np . unpackbits ( \n                        np . array ([ range ( largest_number )], dtype = np . uint8 ) . T , axis = 1 )  for   i   in   range ( largest_number ): \n     int2binary [ i ]   =   binary [ i ]    \u8fd9\u5c31\u662f\u6240\u8bf4\u7684\u9884\u5148\u628a\u6574\u6570\u5230\u4e8c\u8fdb\u5236\u7684\u8f6c\u6362\u8bcd\u5178\u5b58\u8d77\u6765  1\n2\n3\n4 alpha   =   0.1  input_dim   =   2  hidden_dim   =   16  output_dim   =   1    \u8fd9\u91cc\u8bbe\u7f6e\u4e86\u51e0\u4e2a\u53c2\u6570\uff0calpha\u662f\u5b66\u4e60\u901f\u5ea6\uff0cinput_dim\u662f\u8f93\u5165\u5c42\u5411\u91cf\u7684\u7ef4\u5ea6\uff0c\u56e0\u4e3a\u8f93\u5165a\u3001b\u4e24\u4e2a\u6570\uff0c\u6240\u4ee5\u662f2\uff0chidden_dim\u662f\u9690\u85cf\u5c42\u5411\u91cf\u7684\u7ef4\u5ea6\uff0c\u4e5f\u5c31\u662f\u9690\u85cf\u5c42\u795e\u7ecf\u5143\u7684\u4e2a\u6570\uff0coutput_dim\u662f\u8f93\u51fa\u5c42\u5411\u91cf\u7684\u7ef4\u5ea6\uff0c\u56e0\u4e3a\u8f93\u51fa\u4e00\u4e2ac\uff0c\u6240\u4ee5\u662f1\u7ef4\u3002\u8fd9\u6837\u4ece\u8f93\u5165\u5c42\u5230\u9690\u85cf\u5c42\u7684\u6743\u91cd\u77e9\u9635\u4e00\u5b9a\u662f2 16\u7ef4\u7684\uff0c\u4ece\u9690\u85cf\u5c42\u5230\u8f93\u51fa\u5c42\u7684\u6743\u91cd\u77e9\u9635\u4e00\u5b9a\u662f16 1\u7ef4\u7684\uff0c\u800c\u9690\u85cf\u5c42\u5230\u9690\u85cf\u5c42\u7684\u6743\u91cd\u77e9\u9635\u4e00\u5b9a\u662f16*16\u7ef4\u7684\uff0c\u4e5f\u5c31\u662f\u5982\u4e0b\uff1a  1\n2\n3 synapse_0   =   2 * np . random . random (( input_dim , hidden_dim ))   -   1  synapse_1   =   2 * np . random . random (( hidden_dim , output_dim ))   -   1  synapse_h   =   2 * np . random . random (( hidden_dim , hidden_dim ))   -   1    \u8fd9\u91cc\u75282x-1\u662f\u56e0\u4e3anp.random.random\u4f1a\u751f\u6210\u4ece0\u52301\u4e4b\u95f4\u7684\u968f\u673a\u6d6e\u70b9\u6570\uff0c\u90a3\u4e482x-1\u5c31\u662f\u4f7f\u5176\u53d6\u503c\u8303\u56f4\u5728[-1, 1]  1\n2\n3 synapse_0_update   =   np . zeros_like ( synapse_0 )  synapse_1_update   =   np . zeros_like ( synapse_1 )  synapse_h_update   =   np . zeros_like ( synapse_h )    \u8fd9\u662f\u58f0\u660e\u4e86\u4e09\u4e2a\u77e9\u9635\u7684\u66f4\u65b0\uff0c\u4e5f\u5c31\u662f\u03b4\uff0c\u540e\u9762\u4f1a\u7528\u5230  1 for j in range(10000):   \u8fd9\u8868\u793a\u6211\u4eec\u8981\u5bf9\u4e0b\u9762\u7684\u8fc7\u7a0b\u8fdb\u884c10000\u6b21\u8fed\u4ee3  1\n2\n3\n4\n5\n6 a_int   =   np . random . randint ( largest_number / 2 )  a   =   int2binary [ a_int ]  b_int   =   np . random . randint ( largest_number / 2 )  b   =   int2binary [ b_int ]  c_int   =   a_int   +   b_int  c   =   int2binary [ c_int ]    \u8fd9\u91cc\u5176\u5b9e\u662f\u968f\u673a\u751f\u6210\u4e00\u4e2a\u6837\u672c\uff0c\u8fd9\u4e2a\u6837\u672c\u5305\u542b\u4e8c\u8fdb\u5236\u7684a\u3001b\u3001c\uff0c\u5176\u4e2dc=a+b\uff0ca_int\u3001b_int\u3001c_int\u5206\u522b\u662f\u662fa\u3001b\u3001c\u5bf9\u5e94\u7684\u6574\u6570\u683c\u5f0f  1 d   =   np . zeros_like ( c )    \u8fd9\u4e2ad\u5728\u540e\u9762\u7528\u6765\u5b58\u6211\u4eec\u6a21\u578b\u5bf9c\u7684\u9884\u6d4b\u503c  1 overallError   =   0    \u8fd9\u4e2a\u662f\u5168\u5c40\u8bef\u5dee\uff0c\u7528\u6765\u89c2\u5bdf\u6a21\u578b\u6548\u679c  1 layer_2_deltas   =   list ()    \u8fd9\u7528\u6765\u5b58\u50a8\u7b2c\u4e8c\u5c42(\u4e5f\u5c31\u662f\u8f93\u51fa\u5c42)\u7684\u6b8b\u5dee\uff0c\u5bf9\u4e8e\u8f93\u51fa\u5c42\uff0c\u6b8b\u5dee\u8ba1\u7b97\u516c\u5f0f\u63a8\u5bfc\u5982\u4e0b\uff08\u516c\u5f0f\u53ef\u4ee5\u5728http://deeplearning.stanford.edu/wiki/index.php/%E5%8F%8D%E5%90%91%E4%BC%A0%E5%AF%BC%E7%AE%97%E6%B3%95\u627e\u5230\uff09\uff1a  \u8fd9\u4e2a\u516c\u5f0f\u4e0b\u9762\u4f1a\u7528\u5230  1\n2 layer_1_values   =   list ()  layer_1_values . append ( np . zeros ( hidden_dim ))    \u8fd9\u7528\u6765\u5b58\u50a8\u7b2c\u4e00\u5c42(\u4e5f\u5c31\u662f\u9690\u85cf\u5c42)\u7684\u8f93\u51fa\u503c\uff0c\u9996\u5148\u6211\u4eec\u8d4b0\u503c\u4f5c\u4e3a\u4e0a\u4e00\u4e2a\u65f6\u95f4\u7684\u503c  1 for   position   in   range ( binary_dim ):    \u8fd9\u91cc\u6211\u4eec\u6765\u904d\u5386\u4e8c\u8fdb\u5236\u7684\u6bcf\u4e00\u4f4d  1\n2 X   =   np . array ([[ a [ binary_dim   -   position   -   1 ], b [ binary_dim   -   position   -   1 ]]])  y   =   np . array ([[ c [ binary_dim   -   position   -   1 ]]]) . T    \u8fd9\u91cc\u7684X\u548cy\u5206\u522b\u662f\u6837\u672c\u7684\u8f93\u5165\u548c\u8f93\u51fa\u7684\u4e8c\u8fdb\u5236\u503c\u7684\u7b2cposition\u4f4d\uff0c\u5176\u4e2dX\u5bf9\u4e8e\u6bcf\u4e2a\u6837\u672c\u6709\u4e24\u4e2a\u503c\uff0c\u5206\u522b\u662fa\u548cb\u5bf9\u5e94\u7684\u7b2cposition\u4f4d\u3002\u628a\u6837\u672c\u62c6\u6210\u6bcf\u4e2a\u4e8c\u8fdb\u5236\u4f4d\u7528\u4e8e\u8bad\u7ec3\u662f\u56e0\u4e3a\u4e8c\u8fdb\u5236\u52a0\u6cd5\u4e2d\u5b58\u5728\u8fdb\u4f4d\u6807\u8bb0\u6b63\u597d\u9002\u5408\u5229\u7528LSTM\u7684\u957f\u77ed\u671f\u8bb0\u5fc6\u6765\u8bad\u7ec3\uff0c\u6bcf\u4e2a\u6837\u672c\u76848\u4e2a\u4e8c\u8fdb\u5236\u4f4d\u521a\u597d\u662f\u4e00\u4e2a\u65f6\u95f4\u5e8f\u5217  1 layer_1   =   sigmoid ( np . dot ( X , synapse_0 )   +   np . dot ( layer_1_values [ - 1 ], synapse_h ))    \u8fd9\u91cc\u4f7f\u7528\u7684\u516c\u5f0f\u662fCt = \u03c3(W0\u00b7Xt + Wh\u00b7Ct-1)  1 layer_2   =   sigmoid ( np . dot ( layer_1 , synapse_1 ))    \u8fd9\u91cc\u4f7f\u7528\u7684\u516c\u5f0f\u662fC2 = \u03c3(W1\u00b7C1)  1 layer_2_error   =   y   -   layer_2    \u8fd9\u91cc\u8ba1\u7b97\u9884\u6d4b\u503c\u548c\u771f\u5b9e\u503c\u7684\u8bef\u5dee  1 layer_2_deltas . append (( layer_2_error ) * sigmoid_output_to_derivative ( layer_2 ))    \u8fd9\u91cc\u5f00\u59cb\u53cd\u5411\u4f20\u5bfc\u7684\u8fc7\u7a0b\uff0c\u901a\u8fc7\u5982\u4e0b\u516c\u5f0f\u8ba1\u7b97delta(\u4e0a\u9762\u63d0\u5230\u7684\u516c\u5f0f\u7528\u5728\u8fd9\u91cc)\uff0c\u5e76\u6dfb\u52a0\u5230\u6570\u7ec4layer_2_deltas\u4e2d\uff0c\u6b64\u6570\u7ec4\u5bf9\u4e8e\u6bcf\u4e2a\u4e8c\u8fdb\u5236\u4f4d(position)\u6709\u4e00\u4e2a\u503c  1 overallError   +=   np . abs ( layer_2_error [ 0 ])    \u8fd9\u91cc\u8ba1\u7b97\u7d2f\u52a0\u603b\u8bef\u5dee\uff0c\u540e\u9762\u7528\u4e8e\u5c55\u793a\u548c\u89c2\u5bdf  1 d [ binary_dim   -   position   -   1 ]   =   np . round ( layer_2 [ 0 ][ 0 ])    \u8fd9\u91cc\u5b58\u50a8\u9884\u6d4b\u51fa\u6765\u7684position\u4f4d\u7684\u8f93\u51fa\u503c  1 layer_1_values . append ( copy . deepcopy ( layer_1 ))    \u8fd9\u91cc\u5b58\u50a8\u4e2d\u95f4\u8fc7\u7a0b\u751f\u6210\u7684\u9690\u85cf\u5c42\u7684\u503c  1 future_layer_1_delta   =   np . zeros ( hidden_dim )    \u8fd9\u7528\u6765\u5b58\u50a8\u7528\u4e8e\u4e0b\u4e00\u4e2a\u65f6\u95f4\u5468\u671f\u7528\u5230\u7684\u9690\u85cf\u5c42\u7684\u5386\u53f2\u8bb0\u5fc6\u503c\uff0c\u8fd8\u662f\u5148\u8d4b\u4e00\u4e2a\u7a7a\u503c  1 for   position   in   range ( binary_dim ):    \u8fd9\u91cc\u6211\u4eec\u518d\u6b21\u904d\u5386\u4e8c\u8fdb\u5236\u7684\u6bcf\u4e00\u4f4d  1 X   =   np . array ([[ a [ position ], b [ position ]]])    \u548c\u524d\u9762\u4e00\u6837\u53d6\u51faX\u7684\u503c\uff0c\u4e0d\u540c\u7684\u662f\u6211\u4eec\u4ece\u5927\u4f4d\u5f00\u59cb\u505a\u66f4\u65b0\uff0c\u56e0\u4e3a\u53cd\u5411\u4f20\u5bfc\u662f\u6309\u65f6\u5e8f\u9006\u7740\u4e00\u7ea7\u4e00\u7ea7\u66f4\u65b0\u7684  1 layer_1   =   layer_1_values [ - position - 1 ]    \u53d6\u51fa\u8fd9\u4e00\u4f4d\u5bf9\u5e94\u9690\u85cf\u5c42\u7684\u8f93\u51fa  1 prev_layer_1   =   layer_1_values [ - position - 2 ]    \u53d6\u51fa\u8fd9\u4e00\u4f4d\u5bf9\u5e94\u9690\u85cf\u5c42\u7684\u4e0a\u4e00\u65f6\u5e8f\u7684\u8f93\u51fa  1 layer_2_delta   =   layer_2_deltas [ - position - 1 ]    \u53d6\u51fa\u8fd9\u4e00\u4f4d\u5bf9\u5e94\u8f93\u51fa\u5c42\u7684delta  1 layer_1_delta   =   ( future_layer_1_delta . dot ( synapse_h . T )   +   layer_2_delta . dot ( synapse_1 . T ))   *   sigmoid_output_to_derivative ( layer_1 )    \u8fd9\u91cc\u5176\u5b9e\u662f\u57fa\u4e8e\u4e0b\u9762\u7684\u795e\u7ecf\u7f51\u7edc\u53cd\u5411\u4f20\u5bfc\u516c\u5f0f\uff0c\u5e76\u989d\u5916\u52a0\u4e0a\u4e86\u9690\u85cf\u5c42\u7684\u03b4\u503c\u5f97\u51fa\u7684  1 synapse_1_update   +=   np . atleast_2d ( layer_1 ) . T . dot ( layer_2_delta )    \u8fd9\u91cc\u7d2f\u52a0\u6743\u91cd\u77e9\u9635\u7684\u66f4\u65b0\uff0c\u57fa\u4e8e\u4e0b\u9762\u7684\u516c\u5f0f\uff0c\u4e5f\u5c31\u662f\u5bf9\u6743\u91cd(\u6743\u91cd\u77e9\u9635)\u7684\u504f\u5bfc\u7b49\u4e8e\u672c\u5c42\u7684\u8f93\u51fa\u4e0e\u4e0b\u4e00\u5c42\u7684delta\u7684\u70b9\u4e58  1 synapse_h_update   +=   np . atleast_2d ( prev_layer_1 ) . T . dot ( layer_1_delta )    \u5bf9\u524d\u4e00\u65f6\u5e8f\u7684\u9690\u85cf\u5c42\u6743\u91cd\u77e9\u9635\u7684\u66f4\u65b0\u548c\u4e0a\u9762\u516c\u5f0f\u7c7b\u4f3c\uff0c\u53ea\u4e0d\u8fc7\u6539\u6210\u524d\u4e00\u65f6\u5e8f\u7684\u9690\u85cf\u5c42\u8f93\u51fa\u4e0e\u672c\u65f6\u5e8f\u7684delta\u7684\u70b9\u4e58  1 synapse_0_update   +=   X . T . dot ( layer_1_delta )    \u5bf9\u8f93\u5165\u5c42\u6743\u91cd\u77e9\u9635\u7684\u66f4\u65b0\u4e5f\u662f\u7c7b\u4f3c  1 future_layer_1_delta   =   layer_1_delta    \u8bb0\u5f55\u4e0b\u672c\u65f6\u5e8f\u7684\u9690\u85cf\u5c42\u7684delta\u7528\u6765\u5728\u4e0b\u4e00\u65f6\u5e8f\u4f7f\u7528  1\n2\n3 synapse_0   +=   synapse_0_update   *   alpha  synapse_1   +=   synapse_1_update   *   alpha  synapse_h   +=   synapse_h_update   *   alpha    \u5bf9\u6743\u91cd\u77e9\u9635\u505a\u66f4\u65b0  1\n2\n3 synapse_0_update   *=   0  synapse_1_update   *=   0  synapse_h_update   *=   0    \u66f4\u65b0\u53d8\u91cf\u5f52\u96f6  1\n2\n3\n4\n5\n6\n7\n8\n9 if ( j   %   1000   ==   0 ): \n         print   Error:   +   str ( overallError ) \n         print   Pred:   +   str ( d ) \n         print   True:   +   str ( c ) \n         out   =   0 \n         for   index , x   in   enumerate ( reversed ( d )): \n             out   +=   x * pow ( 2 , index ) \n         print   str ( a_int )   +    +    +   str ( b_int )   +    =    +   str ( out ) \n         print   ------------    \u8fd9\u91cc\u5728\u6bcf\u8bad\u7ec3\u4e861000\u4e2a\u6837\u672c\u540e\u8f93\u51fa\u603b\u8bef\u5dee\u4fe1\u606f\uff0c\u8fd0\u884c\u65f6\u53ef\u4ee5\u770b\u5230\u6536\u655b\u7684\u8fc7\u7a0b  \u8fd9\u5957\u4ee3\u7801\u53ef\u4ee5\u8bf4\u662fLSTM\u6700\u7b80\u5355\u7684\u5b9e\u73b0\uff0c\u6ca1\u6709\u8003\u8651\u504f\u7f6e\u53d8\u91cf\uff0c\u53ea\u6709\u4e24\u4e2a\u795e\u7ecf\u5143\uff0c\u56e0\u6b64\u53ef\u4ee5\u4f5c\u4e3a\u4e00\u4e2ademo\u6765\u5b66\u4e60\uff0c\u76f8\u6bd4\u6765\u8bf4\u4e0b\u9762\u8fd9\u4e2aLSTM\u5c31\u662f\u4e00\u4e2a\u6bd4\u8f83\u5b8c\u5584\u7684\u5b9e\u73b0\u4e86\uff0c\u51e0\u4e4e\u662f\u6309\u7167\u8bba\u6587great intro paper\u63cf\u8ff0\u7684\u5b8c\u6574\u5b9e\u73b0", 
            "title": "\u638c\u63e1LSTM\u6709\u4ec0\u4e48\u7528"
        }, 
        {
            "location": "/33.lstm-rnn/#lstmpython", 
            "text": "\u8fd9\u4e2a\u5b9e\u73b0\u6bd4\u4e0a\u4e00\u4e2a\u66f4\u7b26\u5408LSTM\uff0c\u5b8c\u5168\u53c2\u7167\u8bba\u6587great intro paper\u6765\u5b9e\u73b0\u7684\uff0c\u4e0d\u5230200\u884c\u4ee3\u7801\uff0c\u539f\u59cb\u4ee3\u7801\u6765\u6e90\u4e8ehttps://github.com/nicodjimenez/lstm\uff0c\u4f5c\u8005\u89e3\u91ca\u5728http://nicodjimenez.github.io/2014/08/08/lstm.html\uff0c\u5177\u4f53\u8fc7\u7a0b\u8fd8\u53ef\u4ee5\u53c2\u8003http://colah.github.io/posts/2015-08-Understanding-LSTMs/\u4e2d\u7684\u56fe\u6765\u7406\u89e3\u3002\u4e0b\u9762\u6211\u5c31\u4e00\u53e5\u4e00\u53e5\u7684\u89e3\u91ca\uff08\u5177\u4f53\u7f29\u8fdb\u8bf7\u53c2\u8003\u539f\u59cb\u4ee3\u7801\uff09\uff1a  1\n2\n3\n4\n5\n6 import   random  import   numpy   as   np  import   math  def   sigmoid ( x ): \n     return   1.   /   ( 1   +   np . exp ( - x ))    \u8fd9\u91cc\u540c\u6837\u662f\u58f0\u660esigmoid\u51fd\u6570  1\n2\n3 def   rand_arr ( a ,   b ,   * args ): \n     np . random . seed ( 0 ) \n     return   np . random . rand ( * args )   *   ( b   -   a )   +   a    \u7528\u4e8e\u751f\u6210\u968f\u673a\u77e9\u9635\uff0c\u53d6\u503c\u8303\u56f4\u662f[a,b)\uff0cshape\u7528args\u6307\u5b9a   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24 class   LstmParam : \n     def   __init__ ( self ,   mem_cell_ct ,   x_dim ): \n         self . mem_cell_ct   =   mem_cell_ct \n         self . x_dim   =   x_dim \n         concat_len   =   x_dim   +   mem_cell_ct \n         # weight matrices \n         self . wg   =   rand_arr ( - 0.1 ,   0.1 ,   mem_cell_ct ,   concat_len ) \n         self . wi   =   rand_arr ( - 0.1 ,   0.1 ,   mem_cell_ct ,   concat_len ) \n         self . wf   =   rand_arr ( - 0.1 ,   0.1 ,   mem_cell_ct ,   concat_len ) \n         self . wo   =   rand_arr ( - 0.1 ,   0.1 ,   mem_cell_ct ,   concat_len ) \n         # bias terms \n         self . bg   =   rand_arr ( - 0.1 ,   0.1 ,   mem_cell_ct ) \n         self . bi   =   rand_arr ( - 0.1 ,   0.1 ,   mem_cell_ct ) \n         self . bf   =   rand_arr ( - 0.1 ,   0.1 ,   mem_cell_ct ) \n         self . bo   =   rand_arr ( - 0.1 ,   0.1 ,   mem_cell_ct ) \n         # diffs (derivative of loss function w.r.t. all parameters) \n         self . wg_diff   =   np . zeros (( mem_cell_ct ,   concat_len )) \n         self . wi_diff   =   np . zeros (( mem_cell_ct ,   concat_len )) \n         self . wf_diff   =   np . zeros (( mem_cell_ct ,   concat_len )) \n         self . wo_diff   =   np . zeros (( mem_cell_ct ,   concat_len )) \n         self . bg_diff   =   np . zeros ( mem_cell_ct ) \n         self . bi_diff   =   np . zeros ( mem_cell_ct ) \n         self . bf_diff   =   np . zeros ( mem_cell_ct ) \n         self . bo_diff   =   np . zeros ( mem_cell_ct )    LstmParam\u7c7b\u7528\u4e8e\u4f20\u9012\u76f8\u5173\u53c2\u6570\uff0c\u5176\u4e2dmem_cell_ct\u662flstm\u7684\u795e\u7ecf\u5143\u6570\u76ee\uff0cx_dim\u662f\u8f93\u5165\u6570\u636e\u7684\u7ef4\u5ea6\uff0cconcat_len\u662fmem_cell_ct\u4e0ex_dim\u7684\u957f\u5ea6\u548c\uff0cwg\u662f\u8f93\u5165\u8282\u70b9\u7684\u6743\u91cd\u77e9\u9635(\u8fd9\u91cc\u7684g\u4e0d\u8981\u7406\u89e3\u4e3agate\uff0c\u539f\u59cb\u8bba\u6587\u91cc\u6709\u89e3\u91ca)\uff0cwi\u662f\u8f93\u5165\u95e8\u7684\u6743\u91cd\u77e9\u9635\uff0cwf\u662f\u5fd8\u8bb0\u95e8\u7684\u6743\u91cd\u77e9\u9635\uff0cwo\u662f\u8f93\u51fa\u95e8\u7684\u6743\u91cd\u77e9\u9635\uff0cbg\u3001bi\u3001bf\u3001bo\u5206\u522b\u662f\u8f93\u5165\u8282\u70b9\u3001\u8f93\u5165\u95e8\u3001\u5fd8\u8bb0\u95e8\u3001\u8f93\u51fa\u95e8\u7684\u504f\u7f6e\uff0cwg_diff\u3001wi_diff\u3001wf_diff\u3001wo_diff\u5206\u522b\u662f\u8f93\u5165\u8282\u70b9\u3001\u8f93\u5165\u95e8\u3001\u5fd8\u8bb0\u95e8\u3001\u8f93\u51fa\u95e8\u7684\u6743\u91cd\u635f\u5931\uff0cbg_diff\u3001bi_diff\u3001bf_diff\u3001bo_diff\u5206\u522b\u662f\u8f93\u5165\u8282\u70b9\u3001\u8f93\u5165\u95e8\u3001\u5fd8\u8bb0\u95e8\u3001\u8f93\u51fa\u95e8\u7684\u504f\u7f6e\u635f\u5931\uff0c\u8fd9\u91cc\u521d\u59cb\u5316\u65f6\u4f1a\u6309\u7167\u77e9\u9635\u7ef4\u5ea6\u521d\u59cb\u5316\uff0c\u5e76\u628a\u635f\u5931\u77e9\u9635\u5f52\u96f6   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18      def   apply_diff ( self ,   lr   =   1 ): \n         self . wg   -=   lr   *   self . wg_diff \n         self . wi   -=   lr   *   self . wi_diff \n         self . wf   -=   lr   *   self . wf_diff \n         self . wo   -=   lr   *   self . wo_diff \n         self . bg   -=   lr   *   self . bg_diff \n         self . bi   -=   lr   *   self . bi_diff \n         self . bf   -=   lr   *   self . bf_diff \n         self . bo   -=   lr   *   self . bo_diff \n         # reset diffs to zero \n         self . wg_diff   =   np . zeros_like ( self . wg ) \n         self . wi_diff   =   np . zeros_like ( self . wi ) \n         self . wf_diff   =   np . zeros_like ( self . wf ) \n         self . wo_diff   =   np . zeros_like ( self . wo ) \n         self . bg_diff   =   np . zeros_like ( self . bg ) \n         self . bi_diff   =   np . zeros_like ( self . bi ) \n         self . bf_diff   =   np . zeros_like ( self . bf ) \n         self . bo_diff   =   np . zeros_like ( self . bo )    \u8fd9\u91cc\u5b9a\u4e49\u4e86\u6743\u91cd\u7684\u66f4\u65b0\u8fc7\u7a0b\uff0c\u5148\u51cf\u6389\u635f\u5931\uff0c\u518d\u628a\u635f\u5931\u77e9\u9635\u5f52\u96f6   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11 class   LstmState : \n     def   __init__ ( self ,   mem_cell_ct ,   x_dim ): \n         self . g   =   np . zeros ( mem_cell_ct ) \n         self . i   =   np . zeros ( mem_cell_ct ) \n         self . f   =   np . zeros ( mem_cell_ct ) \n         self . o   =   np . zeros ( mem_cell_ct ) \n         self . s   =   np . zeros ( mem_cell_ct ) \n         self . h   =   np . zeros ( mem_cell_ct ) \n         self . bottom_diff_h   =   np . zeros_like ( self . h ) \n         self . bottom_diff_s   =   np . zeros_like ( self . s ) \n         self . bottom_diff_x   =   np . zeros ( x_dim )    LstmState\u7528\u4e8e\u5b58\u50a8LSTM\u795e\u7ecf\u5143\u7684\u72b6\u6001\uff0c\u8fd9\u91cc\u5305\u62ecg\u3001i\u3001f\u3001o\u3001s\u3001h\uff0c\u5176\u4e2ds\u662f\u5185\u90e8\u72b6\u6001\u77e9\u9635(\u53ef\u4ee5\u7406\u89e3\u4e3a\u8bb0\u5fc6)\uff0ch\u662f\u9690\u85cf\u5c42\u795e\u7ecf\u5143\u7684\u8f93\u51fa\u77e9\u9635  1\n2\n3\n4\n5\n6\n7\n8\n9 class   LstmNode : \n     def   __init__ ( self ,   lstm_param ,   lstm_state ): \n         # store reference to parameters and to activations \n         self . state   =   lstm_state \n         self . param   =   lstm_param \n         # non-recurrent input to node \n         self . x   =   None \n         # non-recurrent input concatenated with recurrent input \n         self . xc   =   None    \u4e00\u4e2aLstmNode\u5bf9\u5e94\u4e00\u4e2a\u6837\u672c\u7684\u8f93\u5165\uff0c\u5176\u4e2dx\u5c31\u662f\u8f93\u5165\u6837\u672c\u7684x\uff0cxc\u662f\u7528hstack\u628ax\u548c\u9012\u5f52\u7684\u8f93\u5165\u8282\u70b9\u62fc\u63a5\u51fa\u6765\u7684\u77e9\u9635\uff08hstack\u662f\u6a2a\u7740\u62fc\u6210\u77e9\u9635\uff0cvstack\u5c31\u662f\u7eb5\u7740\u62fc\u6210\u77e9\u9635\uff09   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18      def   bottom_data_is ( self ,   x ,   s_prev   =   None ,   h_prev   =   None ): \n         # if this is the first lstm node in the network \n         if   s_prev   ==   None :   s_prev   =   np . zeros_like ( self . state . s ) \n         if   h_prev   ==   None :   h_prev   =   np . zeros_like ( self . state . h ) \n         # save data for use in backprop \n         self . s_prev   =   s_prev \n         self . h_prev   =   h_prev \n\n         # concatenate x(t) and h(t-1) \n         xc   =   np . hstack (( x ,    h_prev )) \n         self . state . g   =   np . tanh ( np . dot ( self . param . wg ,   xc )   +   self . param . bg ) \n         self . state . i   =   sigmoid ( np . dot ( self . param . wi ,   xc )   +   self . param . bi ) \n         self . state . f   =   sigmoid ( np . dot ( self . param . wf ,   xc )   +   self . param . bf ) \n         self . state . o   =   sigmoid ( np . dot ( self . param . wo ,   xc )   +   self . param . bo ) \n         self . state . s   =   self . state . g   *   self . state . i   +   s_prev   *   self . state . f \n         self . state . h   =   self . state . s   *   self . state . o \n         self . x   =   x \n         self . xc   =   xc    \u8fd9\u91cc\u7684bottom\u548c\u540e\u9762\u9047\u5230\u7684top\u5206\u522b\u662f\u4e24\u4e2a\u65b9\u5411\uff0c\u8f93\u5165\u6837\u672c\u65f6\u8ba4\u4e3a\u662f\u4ece\u5e95\u90e8\u8f93\u5165\uff0c\u53cd\u5411\u4f20\u5bfc\u65f6\u8ba4\u4e3a\u662f\u4ece\u9876\u90e8\u5f00\u59cb\u5411\u5e95\u90e8\u4f20\u5bfc\uff0c\u8fd9\u91cc\u7684bottom_data_is\u662f\u8f93\u5165\u6837\u672c\u7684\u8fc7\u7a0b\uff0c\u9996\u5148\u628ax\u548c\u5148\u524d\u7684\u8f93\u5165\u62fc\u63a5\u6210\u77e9\u9635\uff0c\u7136\u540e\u7528\u516c\u5f0fwx+b\u5206\u522b\u8ba1\u7b97g\u3001i\u3001f\u3001o\u7684\u503c\u7684\u503c\uff0c\u8fd9\u91cc\u9762\u7684\u6fc0\u6d3b\u51fd\u6570\u6709tanh\u548csigmoid\uff0c\u5b9e\u9645\u4e0a\u53ef\u4ee5\u770b\u4e0b\u9762\u7684\u56fe\u6765\u7406\u89e3\uff0c\u5148\u8bf4\u4ee3\u7801\u91ccg\u548ci\u7684\u8ba1\u7b97\u7684\u793a\u610f\u56fe\uff1a  \u8fd9\u91cc\u7684[ht-1,xt]\u5176\u5b9e\u5c31\u662fnp.hstack((x,  h_prev))\uff0c\u8fd9\u91cc\u7684Ct\u5176\u5b9e\u5c31\u662fg  \u518d\u770b\u4ee3\u7801\u91ccf\u7684\u8ba1\u7b97\u793a\u610f\u56fe\uff1a  \u518d\u770b\u4ee3\u7801\u91ccs\u7684\u8ba1\u7b97\u793a\u610f\u56fe\uff08s\u5bf9\u5e94\u7684\u662f\u56fe\u91cc\u7684C\uff09\uff1a  \u518d\u770b\u4ee3\u7801\u91cco\u548ch\u7684\u8ba1\u7b97\u793a\u610f\u56fe(\u8fd9\u91cc\u7684h\u7684\u8ba1\u7b97\u516c\u5f0f\u548c\u4ee3\u7801\u91cc\u6709\u4e0d\u540c\uff0c\u4e0d\u786e\u5b9a\u4f5c\u8005\u4e3a\u4ec0\u4e48\u8981\u4fee\u6539\u8fd9\u4e00\u90e8\u5206\uff0c\u6211\u4eec\u53ef\u4ee5\u5c1d\u8bd5\u6309\u7167\u8bba\u6587\u6765\u4fee\u6539\u770b\u6548\u679c\u54ea\u4e2a\u66f4\u597d)\uff1a  \u6240\u4ee5\u5176\u5b9e\u6574\u4e2a\u5c31\u662f\u8fd9\u6837\u4e00\u4e2a\u8fc7\u7a0b\uff1a  \u6bcf\u4e2a\u65f6\u5e8f\u7684\u795e\u7ecf\u7f51\u7edc\u53ef\u4ee5\u7406\u89e3\u4e3a\u6709\u56db\u4e2a\u795e\u7ecf\u7f51\u7edc\u5c42(\u56fe\u4e2d\u9ec4\u8272\u7684\u6fc0\u6d3b\u51fd\u6570\u90e8\u5206)\uff0c\u6700\u5de6\u8fb9\u7684\u662f\u5fd8\u8bb0\u95e8\uff0c\u5b83\u76f4\u63a5\u751f\u6548\u5230\u8bb0\u5fc6C\u4e0a\uff0c\u7b2c\u4e8c\u4e2a\u662f\u8f93\u5165\u95e8\uff0c\u5b83\u4e3b\u8981\u4f9d\u8d56\u4e8e\u8f93\u5165\u7684\u6837\u672c\u6570\u636e\uff0c\u4e4b\u540e\u6309\u7167\u4e00\u5b9a\u201c\u6bd4\u4f8b\u201d\u5f71\u54cd\u8bb0\u5fc6C\uff0c\u8fd9\u91cc\u7684\u201c\u6bd4\u4f8b\u201d\u662f\u901a\u8fc7\u7b2c\u4e09\u4e2a\u5c42(tanh)\u6765\u5b9e\u73b0\u7684\uff0c\u56e0\u4e3a\u5b83\u53d6\u503c\u8303\u56f4\u662f[-1,1]\u53ef\u4ee5\u662f\u6b63\u5411\u5f71\u54cd\u4e5f\u53ef\u4ee5\u662f\u8d1f\u5411\u5f71\u54cd\uff0c\u6700\u540e\u4e00\u4e2a\u662f\u8f93\u51fa\u95e8\uff0c\u6bcf\u4e00\u65f6\u5e8f\u4ea7\u751f\u7684\u8f93\u51fa\u65e2\u4f9d\u8d56\u4e8e\u8f93\u5165\u7684\u6837\u672cx\u548c\u4e0a\u4e00\u65f6\u5e8f\u7684\u8f93\u51fa\uff0c\u8fd8\u4f9d\u8d56\u4e8e\u8bb0\u5fc6C\uff0c\u6574\u4e2a\u8bbe\u8ba1\u51e0\u4e4e\u6a21\u4eff\u4e86\u751f\u7269\u795e\u7ecf\u5143\u7684\u8bb0\u5fc6\u529f\u80fd\uff0c\u5e94\u8be5\u5bb9\u6613\u7406\u89e3\u3002   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35      def   top_diff_is ( self ,   top_diff_h ,   top_diff_s ): \n         # notice that top_diff_s is carried along the constant error carousel \n         ds   =   self . state . o   *   top_diff_h   +   top_diff_s \n         do   =   self . state . s   *   top_diff_h \n         di   =   self . state . g   *   ds \n         dg   =   self . state . i   *   ds \n         df   =   self . s_prev   *   ds \n\n         # diffs w.r.t. vector inside sigma / tanh function \n         di_input   =   ( 1.   -   self . state . i )   *   self . state . i   *   di \n         df_input   =   ( 1.   -   self . state . f )   *   self . state . f   *   df \n         do_input   =   ( 1.   -   self . state . o )   *   self . state . o   *   do \n         dg_input   =   ( 1.   -   self . state . g   **   2 )   *   dg \n\n         # diffs w.r.t. inputs \n         self . param . wi_diff   +=   np . outer ( di_input ,   self . xc ) \n         self . param . wf_diff   +=   np . outer ( df_input ,   self . xc ) \n         self . param . wo_diff   +=   np . outer ( do_input ,   self . xc ) \n         self . param . wg_diff   +=   np . outer ( dg_input ,   self . xc ) \n         self . param . bi_diff   +=   di_input \n         self . param . bf_diff   +=   df_input \n         self . param . bo_diff   +=   do_input \n         self . param . bg_diff   +=   dg_input \n\n         # compute bottom diff \n         dxc   =   np . zeros_like ( self . xc ) \n         dxc   +=   np . dot ( self . param . wi . T ,   di_input ) \n         dxc   +=   np . dot ( self . param . wf . T ,   df_input ) \n         dxc   +=   np . dot ( self . param . wo . T ,   do_input ) \n         dxc   +=   np . dot ( self . param . wg . T ,   dg_input ) \n\n         # save bottom diffs \n         self . state . bottom_diff_s   =   ds   *   self . state . f \n         self . state . bottom_diff_x   =   dxc [: self . param . x_dim ] \n         self . state . bottom_diff_h   =   dxc [ self . param . x_dim :]    \u8fd9\u91cc\u662f\u53cd\u5411\u4f20\u5bfc\u7684\u8fc7\u7a0b\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u662f\u6574\u4e2a\u8bad\u7ec3\u8fc7\u7a0b\u7684\u6838\u5fc3\uff0c\u5982\u679c\u4e0d\u4e86\u89e3\u539f\u7406\uff0c\u8fd9\u90e8\u5206\u662f\u4e0d\u53ef\u80fd\u7406\u89e3\u7684\uff0c\u6240\u4ee5\u6211\u4eec\u9996\u5148\u4e86\u89e3\u4e00\u4e0b\u516c\u5f0f\u63a8\u5bfc\uff1a  \u5047\u8bbe\u5728t\u65f6\u523blstm\u8f93\u51fa\u7684\u9884\u6d4b\u503c\u4e3ah(t)\uff0c\u800c\u5b9e\u9645\u7684\u8f93\u51fa\u503c\u662fy(t)\uff0c\u90a3\u4e48\u4ed6\u4eec\u4e4b\u95f4\u7684\u5dee\u522b\u5c31\u662f\u635f\u5931\uff0c\u6211\u4eec\u5047\u8bbe\u635f\u5931\u51fd\u6570\u4e3al(t) = f(h(t), y(t)) = ||h(t) - y(t)||^2\uff0c\u4e5f\u5c31\u662f\u6b27\u5f0f\u8ddd\u79bb\uff0c\u90a3\u4e48\u6574\u4f53\u635f\u5931\u51fd\u6570\u5c31\u662f  L(t) = \u2211l(t)\uff0c\u5176\u4e2dt\u4ece1\u5230T\uff0cT\u8868\u793a\u6574\u4e2a\u4e8b\u4ef6\u5e8f\u5217\u7684\u6700\u5927\u957f\u5ea6  \u6211\u4eec\u7684\u6700\u7ec8\u76ee\u6807\u5c31\u662f\u7528\u68af\u5ea6\u4e0b\u964d\u6cd5\u6765\u8ba9L(t)\u6700\u5c0f\u5316\uff0c\u4e5f\u5c31\u662f\u627e\u5230\u4e00\u4e2a\u6700\u4f18\u7684\u6743\u91cdw\u4f7f\u5f97L(t)\u6700\u5c0f\uff0c\u90a3\u4e48\u6743\u91cdw\u5728\u4ec0\u4e48\u60c5\u51b5\u4e0bL(t)\u6700\u5c0f\u5462\uff1f\u5c31\u662f\u5728\uff1a\u5f53w\u53d1\u751f\u5fae\u5c0f\u53d8\u5316\u65f6L(t)\u4e0d\u518d\u53d8\u5316\uff0c\u4e5f\u5c31\u662f\u8fbe\u5230\u5c40\u90e8\u6700\u4f18\uff0c\u5373L\u5bf9w\u7684\u504f\u5bfc\u4e5f\u5c31\u662f\u68af\u5ea6\u4e3a0  \u4e0b\u9762\u6211\u4eec\u6765\u5206\u6790L\u5bf9w\u7684\u5fae\u5206\u600e\u4e48\u7b97  \u8fd9\u4e2a\u516c\u5f0f\u8fd9\u6837\u6765\u7406\u89e3\uff1adL/dw\u8868\u793a\u5f53w\u53d1\u751f\u5355\u4f4d\u53d8\u5316\u65f6L\u53d8\u5316\u4e86\u591a\u5c11\uff0cdh(t)/dw\u8868\u793a\u5f53w\u53d1\u751f\u5355\u4f4d\u53d8\u5316\u65f6h(t)\u53d8\u5316\u4e86\u591a\u5c11\uff0cdL/dh(t)\u8868\u793a\u5f53h(t)\u53d1\u751f\u5355\u4f4d\u53d8\u5316\u65f6L\u53d8\u5316\u4e86\u591a\u5c11\uff0c\u90a3\u4e48(dL/dh(t)) * (dh(t)/dw)\u5c31\u8868\u793a\u5bf9\u4e8e\u7b2ct\u65f6\u5e8f\u7b2ci\u4e2a\u8bb0\u5fc6\u5355\u5143\u5f53w\u53d1\u751f\u5355\u4f4d\u53d8\u5316\u65f6L\u53d8\u5316\u4e86\u591a\u5c11\uff0c\u90a3\u4e48\u628a\u6240\u6709\u75311\u5230M\u7684i\u548c\u6240\u6709\u75311\u5230T\u7684t\u7d2f\u52a0\u8d77\u6765\u81ea\u7136\u5c31\u662f\u6574\u4f53\u4e0a\u7684dL/dw  \u4e0b\u9762\u5355\u72ec\u6765\u770b\u5de6\u8fb9\u7684dL/dh(t)\uff0c\u5b83\u5176\u5b9e\u53ef\u4ee5\u5199\u6210  \u53f3\u9762\u8868\u793a\uff1a\u5bf9\u4e8e\u7b2ci\u4e2a\u8bb0\u5fc6\u5355\u5143\uff0c\u5f53h(t)\u53d1\u751f\u5355\u4f4d\u53d8\u5316\u65f6\uff0c\u6574\u4e2a\u4ece1\u5230T\u7684\u65f6\u5e8f\u4e0a\u6240\u6709\u5c40\u90e8\u635f\u5931l\u7684\u7d2f\u52a0\u548c\uff0c\u8fd9\u5176\u5b9e\u521a\u597d\u5c31\u662fdL/dh(t)\uff0c\u90a3\u4e48\u5b9e\u9645\u4e0ah(t)\u53ea\u4f1a\u5f71\u54cd\u4ecet\u5230T\u8fd9\u6bb5\u65f6\u5e8f\u4e0a\u7684\u5c40\u90e8\u635f\u5931l\uff0c\u6240\u4ee5\u5f0f\u5b50\u53ef\u4ee5\u5199\u6210  \u4e0b\u9762\u6211\u4eec\u5047\u8bbeL(t)\u8868\u793a\u4ecet\u5230T\u7684\u635f\u5931\u548c\uff0c\u90a3\u4e48\u6709L(t) = \u2211l(s)\uff0c\u5176\u4e2ds\u7531t\u5230T\uff0c\u90a3\u4e48\u6211\u4eec\u4e0a\u9762\u7684\u5f0f\u5b50\u53ef\u4ee5\u5199\u6210  \u90a3\u4e48\u6211\u4eec\u4e0a\u9762\u7684\u68af\u5ea6\u516c\u5f0f\u5c31\u53ef\u4ee5\u5199\u6210  \u53f3\u8fb9\u5176\u5b9e\u5c31\u662fh(t)\u5bf9w\u7684\u5bfc\u6570\uff0c\u4e0b\u9762\u6211\u4eec\u6765\u4e13\u95e8\u770b\u5de6\u8fb9\u7684\u5f0f\u5b50  \u6211\u4eec\u77e5\u9053L(t) = l(t) + L(t+1)\uff0c\u90a3\u4e48dL(t)/dh(t) = dl(t)/dh(t) + dL(t+1)/dh(t)\uff0c\u53f3\u8fb9\u7684\u5f0f\u5b50\u5176\u5b9e\u5c31\u662fLSTM\u5e26\u6709\u8bb0\u5fc6\u7684\u771f\u8c1b\u4e4b\u6240\u5728\uff0c\u4e5f\u5c31\u662f\u7528\u4e0b\u4e00\u65f6\u5e8f\u7684\u5bfc\u6570\u53ef\u4ee5\u5f97\u51fa\u5f53\u524d\u65f6\u5e8f\u7684\u5bfc\u6570\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u6309\u7167\u8fd9\u4e2a\u89c4\u5f8b\u6765\u505a\u63a8\u5bfc\uff0c\u9996\u5148\u6211\u4eec\u8ba1\u7b97T\u65f6\u523b\u7684\u5bfc\u6570\u7136\u540e\u5f80\u524d\u63a8\uff0c\u5728T\u65f6\u523b\uff0cdL(T)/dh(T) = dl(T)/dh(T)  \u4e3a\u4e86\u65b9\u4fbf\u7406\u89e3\uff0c\u6211\u4eec\u6682\u65f6\u5148\u7565\u8fc7\u4e0a\u9762\u90a3\u6bb5top_diff_is\uff0c\u770b\u4e4b\u540e\u7684\u4e00\u6bb5   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35 class   LstmNetwork (): \n     def   __init__ ( self ,   lstm_param ): \n         self . lstm_param   =   lstm_param \n         self . lstm_node_list   =   [] \n         # input sequence \n         self . x_list   =   [] \n\n     def   y_list_is ( self ,   y_list ,   loss_layer ): \n                  Updates diffs by setting target sequence          with corresponding loss layer.          Will *NOT* update parameters.  To update parameters,          call self.lstm_param.apply_diff()           \n         assert   len ( y_list )   ==   len ( self . x_list ) \n         idx   =   len ( self . x_list )   -   1 \n         # first node only gets diffs from label ... \n         loss   =   loss_layer . loss ( self . lstm_node_list [ idx ] . state . h ,   y_list [ idx ]) \n         diff_h   =   loss_layer . bottom_diff ( self . lstm_node_list [ idx ] . state . h ,   y_list [ idx ]) \n         # here s is not affecting loss due to h(t+1), hence we set equal to zero \n         diff_s   =   np . zeros ( self . lstm_param . mem_cell_ct ) \n         self . lstm_node_list [ idx ] . top_diff_is ( diff_h ,   diff_s ) \n         idx   -=   1 \n\n         ### ... following nodes also get diffs from next nodes, hence we add diffs to diff_h \n         ### we also propagate error along constant error carousel using diff_s \n         while   idx   =   0 : \n             loss   +=   loss_layer . loss ( self . lstm_node_list [ idx ] . state . h ,   y_list [ idx ]) \n             diff_h   =   loss_layer . bottom_diff ( self . lstm_node_list [ idx ] . state . h ,   y_list [ idx ]) \n             diff_h   +=   self . lstm_node_list [ idx   +   1 ] . state . bottom_diff_h \n             diff_s   =   self . lstm_node_list [ idx   +   1 ] . state . bottom_diff_s \n             self . lstm_node_list [ idx ] . top_diff_is ( diff_h ,   diff_s ) \n             idx   -=   1 \n\n         return   loss    \u91cd\u70b9\u5173\u6ce8\u8fd9\u91cc\u7684diff_h(\u8868\u8fbe\u7684\u662f\u9884\u6d4b\u7ed3\u679c\u8bef\u5dee\u53d1\u751f\u5355\u4f4d\u53d8\u5316\u65f6\u635f\u5931L\u662f\u591a\u5c11\uff0c\u4e5f\u5c31\u76f8\u5f53\u4e8e\u516c\u5f0f\u4e2d\u7684dL(t)/dh(t)\u7684\u4e00\u4e2a\u6570\u503c\u8ba1\u7b97)\uff0c\u6211\u4eec\u770b\u5230\u8fd9\u91cc\u7684\u8fc7\u7a0b\u662f\u7531idx\u4eceT\u5f80\u524d\u904d\u5386\u52301\uff0c\u8ba1\u7b97loss_layer.bottom_diff\u548c\u4e0b\u4e00\u4e2a\u65f6\u5e8f\u7684bottom_diff_h\u7684\u548c\u4f5c\u4e3adiff_h(\u5176\u4e2d\u7b2c\u4e00\u6b21\u904d\u5386\u5373T\u65f6\u4e0d\u52a0bottom_diff_h\u548c\u516c\u5f0f\u4e00\u6837)  \u5176\u4e2dloss_layer.bottom_diff\u7684\u5b9e\u73b0\u5982\u4e0b\uff1a  1\n2\n3\n4      def   bottom_diff ( self ,   pred ,   label ): \n         diff   =   np . zeros_like ( pred ) \n         diff [ 0 ]   =   2   *   ( pred [ 0 ]   -   label ) \n         return   diff    \u8fd9\u91cc\u6c42\u7684\u5c31\u662fl(t) = f(h(t), y(t)) = ||h(t) - y(t)||^2\u7684\u5bfc\u6570l'(t) = 2 * (h(t) - y(t))  \u4e0e\u4e0a\u9762\u63a8\u5bfcdL(t)/dh(t) \u7684\u8fc7\u7a0b\u7c7b\u4f3c\uff0c\u6211\u4eec\u6765\u63a8\u5bfcdL(t)/ds(t) \u3002\u5f53s(t)\u53d1\u751f\u53d8\u5316\u65f6\uff0cL(t)\u7684\u53d8\u5316\u6765\u6e90\u4e8es(t)\u5f71\u54cd\u4e86h(t)\u548ch(t+1)\uff0c\u4ece\u800c\u5f71\u54cd\u4e86L(t)\uff0c\u5373  \u56e0\u4e3ah(t+1)\u4e0d\u4f1a\u5f71\u54cdl(t)\uff0c\u6240\u4ee5  \u56e0\u6b64\u6709  \u8fd9\u91cc\u5982\u679c\u80fd\u6c42\u5f97\u5de6\u8fb9\u7684\u5f0f\u5b50(dL(t)/dh(t)) * (dh(t)/ds(t))\uff0c\u90a3\u4e48\u5c31\u53ef\u4ee5\u7531t+1\u5230t\u6765\u9010\u7ea7\u53cd\u63a8dL(t)/ds(t)\u4e86  \u4e0b\u9762\u6211\u4eec\u5c31\u6765\u770b\u600e\u4e48\u6765\u8ba1\u7b97\u5de6\u8fb9\u7684\u5f0f\u5b50  \u56e0\u4e3a\u6211\u4eec\u795e\u7ecf\u5143\u8bbe\u8ba1\u6709\uff1aself.state.h = self.state.s * self.state.o\u4e5f\u5c31\u662fh(t) = s(t) * o(t)\uff0c\u90a3\u4e48dh(t)/ds(t) = o(t)\uff0c\u800c\u56e0\u4e3adL(t)/dh(t)\u5c31\u662ftop_diff_h\uff0c\u6240\u4ee5\u6709\uff1a  \u6240\u4ee5\u5f97\u5230  \u8fd9\u56de\u53ef\u4ee5\u56de\u6765\u770btop_diff_is\u4ee3\u7801\u4e86\uff0c\u6211\u81ea\u5df1\u8bfb\u5230\u8fd9\u91cc\u7684top\u548cbottom\u7684\u65f6\u5019\uff0c\u6ca1\u660e\u767d\u542b\u4e49\uff0c\u6240\u4ee5\u7279\u5730\u54a8\u8be2\u4e86\u4ee3\u7801\u539f\u4f5c\u8005\uff0c\u4ed6\u7684\u89e3\u91ca\u662f\uff1aBottom means input to the layer, top means output of the layer. Caffe also uses this terminology.\u4e5f\u5c31\u662f\u8bf4bottom\u8868\u793a\u795e\u7ecf\u7f51\u7edc\u5c42\u7684\u8f93\u5165\uff0ctop\u8868\u793a\u795e\u7ecf\u7f51\u7edc\u5c42\u7684\u8f93\u51fa\uff0c\u548ccaffe\u4e2d\u6982\u5ff5\u4e00\u81f4  1 def   top_diff_is ( self ,   top_diff_h ,   top_diff_s ):    \u9996\u5148\u770b\u4f20\u9012\u8fc7\u6765\u7684\u4e24\u4e2a\u53c2\u6570\uff1atop_diff_h\u8868\u793a\u5f53\u524dt\u65f6\u5e8f\u7684dL(t)/dh(t), top_diff_s\u8868\u793at+1\u65f6\u5e8f\u8bb0\u5fc6\u5355\u5143\u7684dL(t)/ds(t)  1\n2\n3\n4\n5          ds   =   self . state . o   *   top_diff_h   +   top_diff_s \n         do   =   self . state . s   *   top_diff_h \n         di   =   self . state . g   *   ds \n         dg   =   self . state . i   *   ds \n         df   =   self . s_prev   *   ds    \u8fd9\u91cc\u9762\u7684\u524d\u7f00d\u8868\u8fbe\u7684\u662f\u8bef\u5deeL\u5bf9\u67d0\u4e00\u9879\u7684\u5bfc\u6570(directive)  \u5176\u4e2dds\u4e00\u884c\u662f\u5728\u6839\u636e\u4e0a\u9762\u7684\u516c\u5f0fdL(t)/ds(t)\u8ba1\u7b97\u5f53\u524dt\u65f6\u5e8f\u7684dL(t)/ds(t)  \u5176\u4e2ddo\u4e00\u884c\u662f\u8ba1\u7b97dL(t)/do(t)\uff0c\u56e0\u4e3ah(t) = s(t) * o(t)\uff0c\u6240\u4ee5dh(t)/do(t) = s(t)\uff0c\u6240\u4ee5dL(t)/do(t) = (dL(t)/dh(t)) * (dh(t)/do(t)) = top_diff_h * s(t)  \u5176\u4e2ddi\u4e00\u884c\u662f\u8ba1\u7b97dL(t)/di(t)\uff0c\u8003\u8651\u5230  \u6362\u4e2a\u7b26\u53f7\u8868\u793a\u5c31\u662f  1 s ( t )   =   f ( t )   *   s ( t - 1 )   +   i ( t )   *   g ( t )    \u6240\u4ee5dL(t)/di(t) = (dL(t)/ds(t)) * (ds(t)/di(t)) = ds * g(t)  \u5176\u4e2ddg\u4e00\u884c\u662f\u8ba1\u7b97dL(t)/dg(t)\uff0c\u540c\u4e0a\u6709dL(t)/dg(t) = (dL(t)/ds(t)) * (ds(t)/dg(t)) = ds * i(t)  \u5176\u4e2ddf\u4e00\u884c\u662f\u8ba1\u7b97dL(t)/df(t)\uff0c\u540c\u4e0a\u6709dL(t)/df(t) = (dL(t)/ds(t)) * (ds(t)/df(t)) = ds * s(t-1)  1\n2\n3\n4          di_input   =   ( 1.   -   self . state . i )   *   self . state . i   *   di \n         df_input   =   ( 1.   -   self . state . f )   *   self . state . f   *   df \n         do_input   =   ( 1.   -   self . state . o )   *   self . state . o   *   do \n         dg_input   =   ( 1.   -   self . state . g   **   2 )   *   dg    \u524d\u4e09\u884c\u7528\u4e86sigmoid\u51fd\u6570\u7684\u5bfc\u6570\uff0c\u540e\u4e00\u884c\u7528\u4e86tanh\u51fd\u6570\u7684\u5bfc\u6570\u3002\u4ee5\u7b2c\u4e00\u884cdi_input\u4e3a\u4f8b\uff0c(1. - self.state.i) * self.state.i\u662fsigmoid\u5bfc\u6570\uff0c\u8868\u793a\u5f53i\u795e\u7ecf\u5143\u7684\u8f93\u5165\u53d1\u751f\u5355\u4f4d\u53d8\u5316\u65f6\u8f93\u51fa\u503c\u6709\u591a\u5927\u53d8\u5316\uff0c\u90a3\u4e48\u518d\u4e58\u4ee5di\u5c31\u8868\u793a\u5f53i\u795e\u7ecf\u5143\u7684\u8f93\u5165\u53d1\u751f\u5355\u4f4d\u53d8\u5316\u65f6\u8bef\u5deeL(t)\u53d1\u751f\u591a\u5927\u53d8\u5316\uff0c\u4e5f\u5c31\u662fdL(t)/d i_input(t)\uff0c\u4e0b\u9762\u51e0\u4e2a\u90fd\u540c\u7406  1\n2\n3\n4\n5\n6\n7\n8          self . param . wi_diff   +=   np . outer ( di_input ,   self . xc ) \n         self . param . wf_diff   +=   np . outer ( df_input ,   self . xc ) \n         self . param . wo_diff   +=   np . outer ( do_input ,   self . xc ) \n         self . param . wg_diff   +=   np . outer ( dg_input ,   self . xc ) \n         self . param . bi_diff   +=   di_input \n         self . param . bf_diff   +=   df_input \n         self . param . bo_diff   +=   do_input \n         self . param . bg_diff   +=   dg_input    \u8fd9\u91cc\u7684w _diff\u662f\u6743\u91cd\u77e9\u9635\u7684\u8bef\u5dee\uff0cb _diff\u662f\u504f\u7f6e\u7684\u8bef\u5dee\uff0c\u7528\u4e8e\u505a\u66f4\u65b0\uff0c\u8fd9\u91cc\u9762\u4e3a\u4ec0\u4e48\u662fd*_input\u548cxc\u7684\u5916\u79ef\u6ca1\u770b\u61c2  1\n2\n3\n4\n5          dxc   =   np . zeros_like ( self . xc ) \n         dxc   +=   np . dot ( self . param . wi . T ,   di_input ) \n         dxc   +=   np . dot ( self . param . wf . T ,   df_input ) \n         dxc   +=   np . dot ( self . param . wo . T ,   do_input ) \n         dxc   +=   np . dot ( self . param . wg . T ,   dg_input )    \u8fd9\u91cc\u662f\u5728\u7d2f\u52a0\u8f93\u5165x\u7684diff\uff0c\u56e0\u4e3ax\u5728\u56db\u5904\u8d77\u4f5c\u7528\uff0c\u6240\u4ee5\u56db\u5904\u7684diff\u52a0\u548c\u4e4b\u540e\u624d\u7b97\u4f5cx\u7684diff  1\n2\n3          self . state . bottom_diff_s   =   ds   *   self . state . f \n         self . state . bottom_diff_x   =   dxc [: self . param . x_dim ] \n         self . state . bottom_diff_h   =   dxc [ self . param . x_dim :]    \u8fd9\u91ccbottom_diff_s\u662f\u6839\u636e\u5982\u4e0b\u516c\u5f0f\u5f97\u51fa\u7684\u63a8\u5bfc\u5173\u7cfb\uff0c\u4e5f\u5c31\u662f\u5728t-1\u65f6\u5e8f\u4e0as\u7684\u53d8\u5316\u548ct\u65f6\u5e8f\u4e0as\u7684\u53d8\u5316\u65f6f\u500d\u7684\u5173\u7cfb  \u56e0\u4e3adxc\u662fx\u548ch\u6a2a\u5411\u5408\u5e76\u51fa\u6765\u7684\u77e9\u9635\uff0c\u6240\u4ee5\u5206\u522b\u53d6\u51fa\u4e24\u90e8\u5206\u7684diff\u4fe1\u606f\u5c31\u662fbottom_diff_x\u548cbottom_diff_h\uff08\u8fd9\u91cc\u9762\u7684bottom_diff_x\u4ee3\u7801\u91cc\u9762\u6ca1\u6709\u771f\u6b63\u4f5c\u7528\uff09   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19      def   x_list_clear ( self ): \n         self . x_list   =   [] \n\n     def   x_list_add ( self ,   x ): \n         self . x_list . append ( x ) \n         if   len ( self . x_list )     len ( self . lstm_node_list ): \n             # need to add new lstm node, create new state mem \n             lstm_state   =   LstmState ( self . lstm_param . mem_cell_ct ,   self . lstm_param . x_dim ) \n             self . lstm_node_list . append ( LstmNode ( self . lstm_param ,   lstm_state )) \n\n         # get index of most recent x input \n         idx   =   len ( self . x_list )   -   1 \n         if   idx   ==   0 : \n             # no recurrent inputs yet \n             self . lstm_node_list [ idx ] . bottom_data_is ( x ) \n         else : \n             s_prev   =   self . lstm_node_list [ idx   -   1 ] . state . s \n             h_prev   =   self . lstm_node_list [ idx   -   1 ] . state . h \n             self . lstm_node_list [ idx ] . bottom_data_is ( x ,   s_prev ,   h_prev )    \u8fd9\u4e00\u90e8\u5206\u662f\u6dfb\u52a0\u8bad\u7ec3\u6837\u672c\u7684\u8fc7\u7a0b\uff0c\u4e5f\u5c31\u662f\u8f93\u5165x\u6570\u636e\uff0c\u90a3\u4e48\u6574\u4e2a\u6267\u884c\u8fc7\u7a0b\u5982\u4e0b\uff1a   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23 def   example_0 (): \n     # learns to repeat simple sequence from random inputs \n     np . random . seed ( 0 ) \n\n     # parameters for input data dimension and lstm cell count \n     mem_cell_ct   =   100 \n     x_dim   =   50 \n     concat_len   =   x_dim   +   mem_cell_ct \n     lstm_param   =   LstmParam ( mem_cell_ct ,   x_dim ) \n     lstm_net   =   LstmNetwork ( lstm_param ) \n     y_list   =   [ - 0.5 , 0.2 , 0.1 ,   - 0.5 ] \n     input_val_arr   =   [ np . random . random ( x_dim )   for   _   in   y_list ] \n\n     for   cur_iter   in   range ( 100 ): \n         print   cur iter:  ,   cur_iter \n         for   ind   in   range ( len ( y_list )): \n             lstm_net . x_list_add ( input_val_arr [ ind ]) \n             print   y_pred[ %d ] :  %f   %   ( ind ,   lstm_net . lstm_node_list [ ind ] . state . h [ 0 ]) \n\n         loss   =   lstm_net . y_list_is ( y_list ,   ToyLossLayer ) \n         print   loss:  ,   loss \n         lstm_param . apply_diff ( lr = 0.1 ) \n         lstm_net . x_list_clear ()    \u9996\u5148\u521d\u59cb\u5316LstmParam\uff0c\u6307\u5b9a\u8bb0\u5fc6\u5b58\u50a8\u5355\u5143\u6570\u4e3a100\uff0c\u6307\u5b9a\u8f93\u5165\u6837\u672cx\u7ef4\u5ea6\u662f50\uff0c\u4e0b\u9762\u521d\u59cb\u5316\u4e00\u4e2aLstmNetwork\u7528\u4e8e\u8bad\u7ec3\u6a21\u578b\uff0c\u7136\u540e\u751f\u6210\u4e864\u7ec4\u540450\u4e2a\u968f\u673a\u6570\uff0c\u5e76\u5206\u522b\u4ee5[-0.5,0.2,0.1, -0.5]\u4f5c\u4e3ay\u503c\u6765\u8bad\u7ec3\uff0c\u6bcf\u6b21\u5582\u7ed950\u4e2a\u968f\u673a\u6570\u548c\u4e00\u4e2ay\u503c\uff0c\u5171\u8fed\u4ee3100\u6b21  \u8fd9\u4e2a\u6d4b\u8bd5\u6837\u4f8b\u6700\u7ec8\u6267\u884c\u6548\u679c\u81ea\u5df1\u6765\u5c1d\u8bd5\u5427  \u5229\u7528lstm\u5728\u8f93\u5165\u4e00\u4e32\u8fde\u7eed\u8d28\u6570\u65f6\u9884\u4f30\u4e0b\u4e00\u4e2a\u8d28\u6570\n\u4e3a\u4e86\u6d4b\u8bd5\u8fd9\u4e2a\u5f3a\u5927\u7684lstm\uff0c\u6211\u5199\u4e86\u8fd9\u6837\u4e00\u4e2a\u5c0f\u6d4b\u8bd5\uff0c\u9996\u5148\u751f\u6210100\u4ee5\u5185\u8d28\u6570\uff0c\u7136\u540e\u5faa\u73af\u5730\u62ff\u51fa50\u4e2a\u8d28\u6570\u5e8f\u5217\u4f5c\u4e3ax\uff0c\u7b2c51\u4e2a\u8d28\u6570\u4f5c\u4e3ay\uff0c\u8fd9\u6837\u62ff\u51fa10\u4e2a\u6837\u672c\u53c2\u4e0e\u8bad\u7ec31w\u6b21\uff0c\u5747\u65b9\u8bef\u5dee\u7531\u4e00\u5f00\u59cb\u76840.17973\u6700\u7ec8\u8fbe\u5230\u4e861.05172e-06\uff0c\u51e0\u4e4e\u5b8c\u5168\u6b63\u786e\uff0c\u6548\u679c\u76f8\u5f53\u8d5e\u554a\uff0c\u7a0b\u5e8f\u5982\u4e0b\uff1a   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70 import   numpy   as   np  import   sys  from   lstm   import   LstmParam ,   LstmNetwork  class   ToyLossLayer : \n          Computes square loss with first element of hidden layer array.       \n     @classmethod \n     def   loss ( self ,   pred ,   label ): \n         return   ( pred [ 0 ]   -   label )   **   2 \n\n     @classmethod \n     def   bottom_diff ( self ,   pred ,   label ): \n         diff   =   np . zeros_like ( pred ) \n         diff [ 0 ]   =   2   *   ( pred [ 0 ]   -   label ) \n         return   diff  class   Primes : \n     def   __init__ ( self ): \n         self . primes   =   list () \n         for   i   in   range ( 2 ,   100 ): \n             is_prime   =   True \n             for   j   in   range ( 2 ,   i - 1 ): \n                 if   i   %   j   ==   0 : \n                     is_prime   =   False \n             if   is_prime : \n                 self . primes . append ( i ) \n         self . primes_count   =   len ( self . primes ) \n     def   get_sample ( self ,   x_dim ,   y_dim ,   index ): \n         result   =   np . zeros (( x_dim + y_dim )) \n         for   i   in   range ( index ,   index   +   x_dim   +   y_dim ): \n             result [ i - index ]   =   self . primes [ i % self . primes_count ] / 100.0 \n         return   result  def   example_0 (): \n     mem_cell_ct   =   100 \n     x_dim   =   50 \n     concat_len   =   x_dim   +   mem_cell_ct \n     lstm_param   =   LstmParam ( mem_cell_ct ,   x_dim ) \n     lstm_net   =   LstmNetwork ( lstm_param ) \n\n     primes   =   Primes () \n     x_list   =   [] \n     y_list   =   [] \n     for   i   in   range ( 0 ,   10 ): \n         sample   =   primes . get_sample ( x_dim ,   1 ,   i ) \n         x   =   sample [ 0 : x_dim ] \n         y   =   sample [ x_dim : x_dim + 1 ] . tolist ()[ 0 ] \n         x_list . append ( x ) \n         y_list . append ( y ) \n\n     for   cur_iter   in   range ( 10000 ): \n         if   cur_iter   %   1000   ==   0 : \n             print   y_list= ,   y_list \n         for   ind   in   range ( len ( y_list )): \n             lstm_net . x_list_add ( x_list [ ind ]) \n             if   cur_iter   %   1000   ==   0 : \n                 print   y_pred[ %d ] :  %f   %   ( ind ,   lstm_net . lstm_node_list [ ind ] . state . h [ 0 ]) \n\n         loss   =   lstm_net . y_list_is ( y_list ,   ToyLossLayer ) \n         if   cur_iter   %   1000   ==   0 : \n             print   loss:  ,   loss \n         lstm_param . apply_diff ( lr = 0.01 ) \n         lstm_net . x_list_clear ()  if   __name__   ==   __main__ : \n     example_0 ()    \u6700\u7ec8\u7684\u8fd0\u884c\u6548\u679c\u6700\u540e\u4e00\u6b21\u8fed\u4ee3\u7ed3\u679c\u8f93\u51fa\u5982\u4e0b(\u6ce8\uff1a\u8fd9\u91cc\u7684\u8d28\u6570\u5217\u8868\u6211\u5168\u90fd\u9664\u4ee5\u4e86100\uff0c\u56e0\u4e3a\u8fd9\u4e2a\u4ee3\u7801\u8bad\u7ec3\u7684\u6570\u636e\u5fc5\u987b\u662f\u5c0f\u4e8e1\u7684\u6570\u503c)\uff0c\u53ef\u4ee5\u770b\u5230\u9884\u6d4b\u57fa\u672c\u4e0a\u6b63\u786e\uff1a   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12 y_list =   [ 0.02 ,   0.03 ,   0.05 ,   0.07 ,   0.11 ,   0.13 ,   0.17 ,   0.19 ,   0.23 ,   0.29 ]  y_pred [ 0 ]   :   0.019828  y_pred [ 1 ]   :   0.030286  y_pred [ 2 ]   :   0.049671  y_pred [ 3 ]   :   0.070302  y_pred [ 4 ]   :   0.109682  y_pred [ 5 ]   :   0.130395  y_pred [ 6 ]   :   0.169550  y_pred [ 7 ]   :   0.190424  y_pred [ 8 ]   :   0.229697  y_pred [ 9 ]   :   0.290101  loss :    1.05172051911e-06", 
            "title": "\u53e6\u4e00\u4e2a\u5b8c\u6574\u7684LSTM\u7684python\u5b9e\u73b0"
        }, 
        {
            "location": "/34.torch/", 
            "text": "\u4e0a\u8282\u4ecb\u7ecd\u4e86lstm\u7684\u7b80\u5355\u5b9e\u73b0\uff0c\u4e3a\u4e86\u80fd\u8fdb\u4e00\u6b65\u5e94\u7528\u5230\u4e2d\u6587\u81ea\u52a8\u95ee\u7b54\uff0c\u6211\u4eec\u9700\u8981\u4e86\u89e3\u4e00\u4e9b\u5f00\u6e90\u7684\u5b9e\u73b0\uff0c\u8003\u8651\u5230\u57fa\u4e8etorch\u5b9e\u73b0\u7684lstm\u5e94\u7528\u8f83\u591a\uff0c\u6211\u4eec\u6765\u719f\u6089\u4e00\u4e0btorch \n\n\ntorch\u662f\u4ec0\u4e48\n\n\ntorch\u5c31\u662f\u8bf8\u591a\u6df1\u5ea6\u5b66\u4e60\u6846\u67b6\u4e2d\u7684\u4e00\u79cd\n\n\n\u4e1a\u754c\u6709\u51e0\u5927\u6df1\u5ea6\u5b66\u4e60\u6846\u67b6\uff1a1\uff09tensorflow\uff0c\u8c37\u6b4c\u4e3b\u63a8\uff0c\u65f6\u4e0b\u6700\u706b\uff0c\u5c0f\u578b\u8bd5\u9a8c\u548c\u5927\u578b\u8ba1\u7b97\u90fd\u53ef\u4ee5\uff0c\u57fa\u4e8epython\uff0c\u7f3a\u70b9\u662f\u4e0a\u624b\u76f8\u5bf9\u8f83\u96be\uff0c\u901f\u5ea6\u4e00\u822c\uff1b2\uff09torch\uff0cfacebook\u4e3b\u63a8\uff0c\u7528\u4e8e\u5c0f\u578b\u8bd5\u9a8c\uff0c\u5f00\u6e90\u5e94\u7528\u8f83\u591a\uff0c\u57fa\u4e8elua\uff0c\u4e0a\u624b\u8f83\u5feb\uff0c\u7f51\u4e0a\u6587\u6863\u8f83\u5168\uff0c\u7f3a\u70b9\u662flua\u8bed\u8a00\u76f8\u5bf9\u51b7\u95e8\uff1b3\uff09mxnet\uff0c\u5927\u516c\u53f8\u4e3b\u63a8\uff0c\u4e3b\u8981\u7528\u4e8e\u5927\u578b\u8ba1\u7b97\uff0c\u57fa\u4e8epython\u548cR\uff0c\u7f3a\u70b9\u662f\u7f51\u4e0a\u5f00\u6e90\u9879\u76ee\u8f83\u5c11\uff1b4\uff09caffe\uff0c\u5927\u516c\u53f8\u4e3b\u63a8\uff0c\u7528\u4e8e\u5927\u578b\u8ba1\u7b97\uff0c\u57fa\u4e8ec++\u3001python\uff0c\u7f3a\u70b9\u662f\u5f00\u53d1\u4e0d\u662f\u5f88\u65b9\u4fbf\uff1b5\uff09theano\uff0c\u901f\u5ea6\u4e00\u822c\uff0c\u57fa\u4e8epython\uff0c\u8bc4\u4ef7\u5f88\u597d\n\n\n\u4e3a\u4ec0\u4e48\u4f7f\u7528torch\n\n\n\u53ea\u662f\u56e0\u4e3agithub\u4e0alstm\u7684\u5b9e\u73b0\u9879\u76ee\u6bd4\u8f83\u591a\uff0c\u5b8c\u5168\u4e3a\u4e86\u5b66\u4e60\u7528\uff0c\u4e2a\u4eba\u4e0d\u89c9\u5f97\u8bed\u8a00\u548c\u6846\u67b6\u6709\u597d\u574f\u4e4b\u5206\uff0c\u5404\u6709\u5343\u79cb\uff0c\u8c01\u884c\u8c01\u4e0a\n\n\n\u5728mac\u4e0a\u5b89\u88c5torch\n\n\n\u5982\u679c\u4f60\u4f7f\u7528\u7684\u662f\u5176\u4ed6\u64cd\u4f5c\u7cfb\u7edf\uff0c\u53ef\u4ee5\u53c2\u8003https://github.com/torch/torch7/wiki/Cheatsheet#installing-and-running-torch\n\n\n\u6267\u884c\n\n\n1\n2\n3\ngit clone https://github.com/torch/distro.git ~/torch --recursive\n\ncd\n ~/torch\n;\n bash install-deps\n;\n\n./install.sh\n\n\n\n\n\n\n\u53ef\u80fd\u4f1a\u9047\u5230qt\u5b89\u88c5\u4e0d\u6210\u529f\u7684\u95ee\u9898\uff0c\u90a3\u4e48\u53ef\u4ee5\u81ea\u5df1\u5355\u72ec\u5b89\u88c5\uff0c\u5982\u4e0b\uff1a\n\n\n1\nbrew install cartr/qt4/qt\n\n\n\n\n\n\n\u5b89\u88c5\u540e\u9700\u8981\u624b\u5de5\u628a\u4e0b\u9762\u8fd9\u53e5\u52a0\u5230~/.bash_profile\u4e2d\n\n\n1\n. ~/torch/install/bin/torch-activate\n\n\n\n\n\n\n\u8fd9\u91cc\u7684\u8def\u5f84\u5c31\u662f\u4f60\u5b89\u88c5\u7684\u8def\u5f84\n\n\n1\nsource\n ~/.bash_profile\u4e4b\u540e\u5c31\u53ef\u4ee5\u6267\u884cth\u4f7f\u7528torch\u4e86\uff0c\u5982\u4e0b\uff1a\n\n\n\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n[\nroot@centos $\n]\n th\n\n  ______             __   \n|\n  Torch7\n /_  __/__  ________/ /   \n|\n  Scientific computing \nfor\n Lua.\n  / / / _ \n\\/\n __/ __/ _ \n\\ \n \n|\n  Type ? \nfor\n \nhelp\n\n /_/  \n\\_\n__/_/  \n\\_\n_/_//_/  \n|\n  https://github.com/torch\n                          \n|\n  http://torch.ch\n\nth\n\n\n\n\n\n\n\n\u4e3a\u4e86\u65b9\u4fbf\u8c03\u8bd5\uff0c\u6211\u4eec\u8fd8\u8981\u5b89\u88c5itorch\uff0c\u9996\u5148\u5b89\u88c5\u4f9d\u8d56\n\n\n1\n2\n3\nbrew install zeromq\nbrew install openssl\nluarocks install luacrypto \nOPENSSL_DIR\n=\n/usr/local/opt/openssl/\n\n\n\n\n\n\n\u7136\u540e\u6309\u5982\u4e0b\u5b89\u88c5\n\n\n1\n2\n3\ngit clone https://github.com/facebook/iTorch.git\n\ncd\n iTorch\nluarocks make \n\n\n\n\n\n\n\u7528\u5377\u79ef\u795e\u7ecf\u7f51\u7edc\u5b9e\u73b0\u56fe\u50cf\u8bc6\u522b\n\u521b\u5efapattern_recognition.lua\uff0c\u5185\u5bb9\u5982\u4e0b\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\nrequire\n \nnn\n\n\nrequire\n \npaths\n\n\nif\n \n(\nnot\n \npaths\n.\nfilep\n(\ncifar10torchsmall.zip\n))\n \nthen\n\n    \nos.execute\n(\nwget -c https://s3.amazonaws.com/torch7/data/cifar10torchsmall.zip\n)\n\n    \nos.execute\n(\nunzip cifar10torchsmall.zip\n)\n\n\nend\n\n\ntrainset\n \n=\n \ntorch\n.\nload\n(\ncifar10-train.t7\n)\n\n\ntestset\n \n=\n \ntorch\n.\nload\n(\ncifar10-test.t7\n)\n\n\nclasses\n \n=\n \n{\nairplane\n,\n \nautomobile\n,\n \nbird\n,\n \ncat\n,\n\n\ndeer\n,\n \ndog\n,\n \nfrog\n,\n \nhorse\n,\n \nship\n,\n \ntruck\n}\n\n\nsetmetatable\n(\ntrainset\n,\n\n\n{\n__index\n \n=\n \nfunction\n(\nt\n,\n \ni\n)\n\n    \nreturn\n \n{\nt\n.\ndata\n[\ni\n],\n \nt\n.\nlabel\n[\ni\n]}\n\n\nend\n}\n\n\n);\n\n\ntrainset\n.\ndata\n \n=\n \ntrainset\n.\ndata\n:\ndouble\n()\n \n-- convert the data from a ByteTensor to a DoubleTensor.\n\n\n\nfunction\n \ntrainset\n:\nsize\n()\n\n    \nreturn\n \nself\n.\ndata\n:\nsize\n(\n1\n)\n\n\nend\n\n\nmean\n \n=\n \n{}\n \n-- store the mean, to normalize the test set in the future\n\n\nstdv\n  \n=\n \n{}\n \n-- store the standard-deviation for the future\n\n\nfor\n \ni\n=\n1\n,\n3\n \ndo\n \n-- over each image channel\n\n    \nmean\n[\ni\n]\n \n=\n \ntrainset\n.\ndata\n[{\n \n{},\n \n{\ni\n},\n \n{},\n \n{}\n  \n}]:\nmean\n()\n \n-- mean estimation\n\n    \nprint\n(\nChannel \n \n..\n \ni\n \n..\n \n, Mean: \n \n..\n \nmean\n[\ni\n])\n\n    \ntrainset\n.\ndata\n[{\n \n{},\n \n{\ni\n},\n \n{},\n \n{}\n  \n}]:\nadd\n(\n-\nmean\n[\ni\n])\n \n-- mean subtraction\n\n\n    \nstdv\n[\ni\n]\n \n=\n \ntrainset\n.\ndata\n[{\n \n{},\n \n{\ni\n},\n \n{},\n \n{}\n  \n}]:\nstd\n()\n \n-- std estimation\n\n    \nprint\n(\nChannel \n \n..\n \ni\n \n..\n \n, Standard Deviation: \n \n..\n \nstdv\n[\ni\n])\n\n    \ntrainset\n.\ndata\n[{\n \n{},\n \n{\ni\n},\n \n{},\n \n{}\n  \n}]:\ndiv\n(\nstdv\n[\ni\n])\n \n-- std scaling\n\n\nend\n\n\nnet\n \n=\n \nnn\n.\nSequential\n()\n\n\nnet\n:\nadd\n(\nnn\n.\nSpatialConvolution\n(\n3\n,\n \n6\n,\n \n5\n,\n \n5\n))\n \n-- 3 input image channels, 6 output channels, 5x5 convolution kernel\n\n\nnet\n:\nadd\n(\nnn\n.\nReLU\n())\n                       \n-- non-linearity\n\n\nnet\n:\nadd\n(\nnn\n.\nSpatialMaxPooling\n(\n2\n,\n2\n,\n2\n,\n2\n))\n     \n-- A max-pooling operation that looks at 2x2 windows and finds the max.\n\n\nnet\n:\nadd\n(\nnn\n.\nSpatialConvolution\n(\n6\n,\n \n16\n,\n \n5\n,\n \n5\n))\n\n\nnet\n:\nadd\n(\nnn\n.\nReLU\n())\n                       \n-- non-linearity\n\n\nnet\n:\nadd\n(\nnn\n.\nSpatialMaxPooling\n(\n2\n,\n2\n,\n2\n,\n2\n))\n\n\nnet\n:\nadd\n(\nnn\n.\nView\n(\n16\n*\n5\n*\n5\n))\n                    \n-- reshapes from a 3D tensor of 16x5x5 into 1D tensor of 16*5*5\n\n\nnet\n:\nadd\n(\nnn\n.\nLinear\n(\n16\n*\n5\n*\n5\n,\n \n120\n))\n             \n-- fully connected layer (matrix multiplication between input and weights)\n\n\nnet\n:\nadd\n(\nnn\n.\nReLU\n())\n                       \n-- non-linearity\n\n\nnet\n:\nadd\n(\nnn\n.\nLinear\n(\n120\n,\n \n84\n))\n\n\nnet\n:\nadd\n(\nnn\n.\nReLU\n())\n                       \n-- non-linearity\n\n\nnet\n:\nadd\n(\nnn\n.\nLinear\n(\n84\n,\n \n10\n))\n                   \n-- 10 is the number of outputs of the network (in this case, 10 digits)\n\n\nnet\n:\nadd\n(\nnn\n.\nLogSoftMax\n())\n                     \n-- converts the output to a log-probability. Useful for classification problems\n\n\ncriterion\n \n=\n \nnn\n.\nClassNLLCriterion\n()\n\n\ntrainer\n \n=\n \nnn\n.\nStochasticGradient\n(\nnet\n,\n \ncriterion\n)\n\n\ntrainer\n.\nlearningRate\n \n=\n \n0.001\n\n\ntrainer\n.\nmaxIteration\n \n=\n \n5\n\n\ntrainer\n:\ntrain\n(\ntrainset\n)\n\n\ntestset\n.\ndata\n \n=\n \ntestset\n.\ndata\n:\ndouble\n()\n   \n-- convert from Byte tensor to Double tensor\n\n\nfor\n \ni\n=\n1\n,\n3\n \ndo\n \n-- over each image channel\n\n    \ntestset\n.\ndata\n[{\n \n{},\n \n{\ni\n},\n \n{},\n \n{}\n  \n}]:\nadd\n(\n-\nmean\n[\ni\n])\n \n-- mean subtraction\n\n    \ntestset\n.\ndata\n[{\n \n{},\n \n{\ni\n},\n \n{},\n \n{}\n  \n}]:\ndiv\n(\nstdv\n[\ni\n])\n \n-- std scaling\n\n\nend\n\n\npredicted\n \n=\n \nnet\n:\nforward\n(\ntestset\n.\ndata\n[\n100\n])\n\n\nprint\n(\nclasses\n[\ntestset\n.\nlabel\n[\n100\n]])\n\n\nprint\n(\npredicted\n:\nexp\n())\n\n\nfor\n \ni\n=\n1\n,\npredicted\n:\nsize\n(\n1\n)\n \ndo\n\n    \nprint\n(\nclasses\n[\ni\n],\n \npredicted\n[\ni\n])\n\n\nend\n\n\ncorrect\n \n=\n \n0\n\n\nfor\n \ni\n=\n1\n,\n10000\n \ndo\n\n    \nlocal\n \ngroundtruth\n \n=\n \ntestset\n.\nlabel\n[\ni\n]\n\n    \nlocal\n \nprediction\n \n=\n \nnet\n:\nforward\n(\ntestset\n.\ndata\n[\ni\n])\n\n    \nlocal\n \nconfidences\n,\n \nindices\n \n=\n \ntorch\n.\nsort\n(\nprediction\n,\n \ntrue\n)\n  \n-- true means sort in descending order\n\n    \nif\n \ngroundtruth\n \n==\n \nindices\n[\n1\n]\n \nthen\n\n        \ncorrect\n \n=\n \ncorrect\n \n+\n \n1\n\n    \nend\n\n\nend\n\n\n\nprint\n(\ncorrect\n,\n \n100\n*\ncorrect\n/\n10000\n \n..\n \n % \n)\n\n\nclass_performance\n \n=\n \n{\n0\n,\n \n0\n,\n \n0\n,\n \n0\n,\n \n0\n,\n \n0\n,\n \n0\n,\n \n0\n,\n \n0\n,\n \n0\n}\n\n\nfor\n \ni\n=\n1\n,\n10000\n \ndo\n\n    \nlocal\n \ngroundtruth\n \n=\n \ntestset\n.\nlabel\n[\ni\n]\n\n    \nlocal\n \nprediction\n \n=\n \nnet\n:\nforward\n(\ntestset\n.\ndata\n[\ni\n])\n\n    \nlocal\n \nconfidences\n,\n \nindices\n \n=\n \ntorch\n.\nsort\n(\nprediction\n,\n \ntrue\n)\n  \n-- true means sort in descending order\n\n    \nif\n \ngroundtruth\n \n==\n \nindices\n[\n1\n]\n \nthen\n\n        \nclass_performance\n[\ngroundtruth\n]\n \n=\n \nclass_performance\n[\ngroundtruth\n]\n \n+\n \n1\n\n    \nend\n\n\nend\n\n\n\nfor\n \ni\n=\n1\n,\n#\nclasses\n \ndo\n\n    \nprint\n(\nclasses\n[\ni\n],\n \n100\n*\nclass_performance\n[\ni\n]\n/\n1000\n \n..\n \n %\n)\n\n\nend\n\n\n\n\n\n\n\n\u6267\u884cth pattern_recognition.lua\uff0c\u6548\u679c\u5982\u4e0b\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\nChannel\n \n1\n,\n \nMean\n:\n \n125.83175029297\n\n\nChannel\n \n1\n,\n \nStandard\n \nDeviation\n:\n \n63.143400842609\n\n\nChannel\n \n2\n,\n \nMean\n:\n \n123.26066621094\n\n\nChannel\n \n2\n,\n \nStandard\n \nDeviation\n:\n \n62.369209019002\n\n\nChannel\n \n3\n,\n \nMean\n:\n \n114.03068681641\n\n\nChannel\n \n3\n,\n \nStandard\n \nDeviation\n:\n \n66.965808411114\n\n\n#\n \nStochasticGradient\n:\n \ntraining\n\n\n#\n \ncurrent\n \nerror\n \n=\n \n2.1494370275157\n\n\n#\n \ncurrent\n \nerror\n \n=\n \n1.8157547050302\n\n\n#\n \ncurrent\n \nerror\n \n=\n \n1.6500230258568\n\n\n#\n \ncurrent\n \nerror\n \n=\n \n1.5525866306324\n\n\n#\n \ncurrent\n \nerror\n \n=\n \n1.4768901429074\n\n\n#\n \nStochasticGradient\n:\n \nyou\n \nhave\n \nreached\n \nthe\n \nmaximum\n \nnumber\n \nof\n \niterations\n\n\n#\n \ntraining\n \nerror\n \n=\n \n1.4768901429074\n\n\nhorse\n\n \n0.0150\n\n \n0.0034\n\n \n0.0350\n\n \n0.0490\n\n \n0.0294\n\n \n0.0942\n\n \n0.0161\n\n \n0.6958\n\n \n0.0030\n\n \n0.0591\n\n\n[\ntorch\n.\nDoubleTensor\n \nof\n \nsize\n \n10\n]\n\n\n\nairplane\n    \n0.014967687525305\n\n\nautomobile\n  \n0.0034308404388647\n\n\nbird\n    \n0.034966173679979\n\n\ncat\n \n0.04902915779719\n\n\ndeer\n    \n0.029421766137696\n\n\ndog\n \n0.094170890240524\n\n\nfrog\n    \n0.016105971372693\n\n\nhorse\n   \n0.69584966710414\n\n\nship\n    \n0.0029695320731486\n\n\ntruck\n   \n0.059088313630455\n\n\n4519\n    \n45.19\n \n%\n\n\nairplane\n    \n61.3\n \n%\n\n\nautomobile\n  \n40.6\n \n%\n\n\nbird\n    \n30.5\n \n%\n\n\ncat\n \n22\n \n%\n\n\ndeer\n    \n16.3\n \n%\n\n\ndog\n \n47.4\n \n%\n\n\nfrog\n    \n62\n \n%\n\n\nhorse\n   \n61.4\n \n%\n\n\nship\n    \n41.1\n \n%\n\n\ntruck\n   \n69.3\n \n%\n\n\n\n\n\n\n\n\u89e3\u91ca\u4e00\u4e0b\n\n\n\u9996\u5148\u662f\u4e0b\u8f7dcifar10torchsmall.zip\u6837\u672c\uff0c\u91cc\u9762\u670950000\u5f20\u8bad\u7ec3\u7528\u7684\u56fe\u7247\uff0c10000\u5f20\u6d4b\u8bd5\u7528\u7684\u56fe\u7247\uff0c\u5206\u522b\u90fd\u6807\u6ce8\u4e86\u662f\u4ec0\u4e48\u5185\u5bb9\uff0c\u5305\u62ecairplane\u3001automobile\u7b4910\u79cd\u5206\u7c7b\uff0c\u7136\u540e\u5bf9trainset\u7ed1\u5b9a__index\u548csize\u65b9\u6cd5\uff0c\u4ee5\u517c\u5bb9nn.Sequential\u7684\u4f7f\u7528\uff0c\u6709\u5173\u7ed1\u5b9a\u51fd\u6570\u7684\u5185\u5bb9\u53ef\u4ee5\u770b\u8fd9\u4e2a15\u5206\u949flua\u6559\u7a0b\uff1ahttp://tylerneylon.com/a/learn-lua/,\u7136\u540e\u5bf9trainset\u6570\u636e\u505a\u6b63\u89c4\u5316\uff0c\u628a\u6570\u636e\u90fd\u8f6c\u6210\u5747\u503c\u4e3a1\u65b9\u5dee\u4e3a1\u7684double\u7c7b\u578b\u7684\u5f20\u91cf\n\n\n\u7136\u540e\u5c31\u662f\u521d\u59cb\u5316\u5377\u79ef\u795e\u7ecf\u7f51\u7edc\u6a21\u578b\uff0c\u8fd9\u4e2a\u795e\u7ecf\u7f51\u7edc\u6a21\u578b\u5305\u62ec\u4e86\u4e86\u4e24\u5c42\u5377\u79ef\u3001\u4e24\u5c42\u6c60\u5316\u3001\u4e00\u4e2a\u5168\u8fde\u63a5\u4ee5\u53ca\u4e00\u4e2asoftmax\u5c42\uff0c\u63a5\u7740\u8fdb\u884c\u8bad\u7ec3\uff0c\u5b66\u4e60\u7387\u4e3a0.001\uff0c\u8fed\u4ee35\u6b21\uff0c\u6a21\u578b\u8bad\u7ec3\u597d\u540e\u5bf9\u6d4b\u8bd5\u673a\u4e2d\u7684\u7b2c100\u53f7\u56fe\u7247\u505a\u9884\u6d4b\uff0c\u7136\u540e\u5c31\u662f\u6253\u5370\u51fa\u6574\u4f53\u7684\u6b63\u786e\u7387\u4ee5\u53ca\u6bcf\u79cd\u5206\u7c7b\u7684\u51c6\u786e\u7387\n\n\n\u4e5f\u53ef\u4ee5\u53c2\u8003\nDeep Learning with Torch\n\n\ntorch\u53ef\u4ee5\u65b9\u4fbf\u7684\u652f\u6301gpu\u8ba1\u7b97\uff0c\u5982\u679c\u4f7f\u7528gpu\u9700\u8981\u5bf9\u4ee3\u7801\u505a\u4fee\u6539\uff0c\u8fd9\u662f\u4e0etensorflow\u76f8\u6bd4\u7684\u4e0d\u8db3\u4e4b\u5904\uff0c\u540e\u7eed\u5c31\u662f\u7ee7\u7eed\u5b66\u4e60\u57fa\u4e8etorch\u6709\u5173lstm\u4ee3\u7801\u7684\u5185\u5bb9\u4e86\uff0c\u6709\u6536\u83b7\u4f1a\u968f\u65f6\u53d1\u6587", 
            "title": "\u4e09\u5341\u56db-\u6df1\u5ea6\u5b66\u4e60\u6846\u67b6torch"
        }, 
        {
            "location": "/34.torch/#torch", 
            "text": "torch\u5c31\u662f\u8bf8\u591a\u6df1\u5ea6\u5b66\u4e60\u6846\u67b6\u4e2d\u7684\u4e00\u79cd  \u4e1a\u754c\u6709\u51e0\u5927\u6df1\u5ea6\u5b66\u4e60\u6846\u67b6\uff1a1\uff09tensorflow\uff0c\u8c37\u6b4c\u4e3b\u63a8\uff0c\u65f6\u4e0b\u6700\u706b\uff0c\u5c0f\u578b\u8bd5\u9a8c\u548c\u5927\u578b\u8ba1\u7b97\u90fd\u53ef\u4ee5\uff0c\u57fa\u4e8epython\uff0c\u7f3a\u70b9\u662f\u4e0a\u624b\u76f8\u5bf9\u8f83\u96be\uff0c\u901f\u5ea6\u4e00\u822c\uff1b2\uff09torch\uff0cfacebook\u4e3b\u63a8\uff0c\u7528\u4e8e\u5c0f\u578b\u8bd5\u9a8c\uff0c\u5f00\u6e90\u5e94\u7528\u8f83\u591a\uff0c\u57fa\u4e8elua\uff0c\u4e0a\u624b\u8f83\u5feb\uff0c\u7f51\u4e0a\u6587\u6863\u8f83\u5168\uff0c\u7f3a\u70b9\u662flua\u8bed\u8a00\u76f8\u5bf9\u51b7\u95e8\uff1b3\uff09mxnet\uff0c\u5927\u516c\u53f8\u4e3b\u63a8\uff0c\u4e3b\u8981\u7528\u4e8e\u5927\u578b\u8ba1\u7b97\uff0c\u57fa\u4e8epython\u548cR\uff0c\u7f3a\u70b9\u662f\u7f51\u4e0a\u5f00\u6e90\u9879\u76ee\u8f83\u5c11\uff1b4\uff09caffe\uff0c\u5927\u516c\u53f8\u4e3b\u63a8\uff0c\u7528\u4e8e\u5927\u578b\u8ba1\u7b97\uff0c\u57fa\u4e8ec++\u3001python\uff0c\u7f3a\u70b9\u662f\u5f00\u53d1\u4e0d\u662f\u5f88\u65b9\u4fbf\uff1b5\uff09theano\uff0c\u901f\u5ea6\u4e00\u822c\uff0c\u57fa\u4e8epython\uff0c\u8bc4\u4ef7\u5f88\u597d", 
            "title": "torch\u662f\u4ec0\u4e48"
        }, 
        {
            "location": "/34.torch/#torch_1", 
            "text": "\u53ea\u662f\u56e0\u4e3agithub\u4e0alstm\u7684\u5b9e\u73b0\u9879\u76ee\u6bd4\u8f83\u591a\uff0c\u5b8c\u5168\u4e3a\u4e86\u5b66\u4e60\u7528\uff0c\u4e2a\u4eba\u4e0d\u89c9\u5f97\u8bed\u8a00\u548c\u6846\u67b6\u6709\u597d\u574f\u4e4b\u5206\uff0c\u5404\u6709\u5343\u79cb\uff0c\u8c01\u884c\u8c01\u4e0a", 
            "title": "\u4e3a\u4ec0\u4e48\u4f7f\u7528torch"
        }, 
        {
            "location": "/34.torch/#mactorch", 
            "text": "\u5982\u679c\u4f60\u4f7f\u7528\u7684\u662f\u5176\u4ed6\u64cd\u4f5c\u7cfb\u7edf\uff0c\u53ef\u4ee5\u53c2\u8003https://github.com/torch/torch7/wiki/Cheatsheet#installing-and-running-torch  \u6267\u884c  1\n2\n3 git clone https://github.com/torch/distro.git ~/torch --recursive cd  ~/torch ;  bash install-deps ; \n./install.sh   \u53ef\u80fd\u4f1a\u9047\u5230qt\u5b89\u88c5\u4e0d\u6210\u529f\u7684\u95ee\u9898\uff0c\u90a3\u4e48\u53ef\u4ee5\u81ea\u5df1\u5355\u72ec\u5b89\u88c5\uff0c\u5982\u4e0b\uff1a  1 brew install cartr/qt4/qt   \u5b89\u88c5\u540e\u9700\u8981\u624b\u5de5\u628a\u4e0b\u9762\u8fd9\u53e5\u52a0\u5230~/.bash_profile\u4e2d  1 . ~/torch/install/bin/torch-activate   \u8fd9\u91cc\u7684\u8def\u5f84\u5c31\u662f\u4f60\u5b89\u88c5\u7684\u8def\u5f84  1 source  ~/.bash_profile\u4e4b\u540e\u5c31\u53ef\u4ee5\u6267\u884cth\u4f7f\u7528torch\u4e86\uff0c\u5982\u4e0b\uff1a   1\n2\n3\n4\n5\n6\n7\n8\n9 [ root@centos $ ]  th\n\n  ______             __    |   Torch7\n /_  __/__  ________/ /    |   Scientific computing  for  Lua.\n  / / / _  \\/  __/ __/ _  \\    |   Type ?  for   help \n /_/   \\_ __/_/   \\_ _/_//_/   |   https://github.com/torch\n                           |   http://torch.ch\n\nth    \u4e3a\u4e86\u65b9\u4fbf\u8c03\u8bd5\uff0c\u6211\u4eec\u8fd8\u8981\u5b89\u88c5itorch\uff0c\u9996\u5148\u5b89\u88c5\u4f9d\u8d56  1\n2\n3 brew install zeromq\nbrew install openssl\nluarocks install luacrypto  OPENSSL_DIR = /usr/local/opt/openssl/   \u7136\u540e\u6309\u5982\u4e0b\u5b89\u88c5  1\n2\n3 git clone https://github.com/facebook/iTorch.git cd  iTorch\nluarocks make    \u7528\u5377\u79ef\u795e\u7ecf\u7f51\u7edc\u5b9e\u73b0\u56fe\u50cf\u8bc6\u522b\n\u521b\u5efapattern_recognition.lua\uff0c\u5185\u5bb9\u5982\u4e0b\uff1a   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85 require   nn  require   paths  if   ( not   paths . filep ( cifar10torchsmall.zip ))   then \n     os.execute ( wget -c https://s3.amazonaws.com/torch7/data/cifar10torchsmall.zip ) \n     os.execute ( unzip cifar10torchsmall.zip )  end  trainset   =   torch . load ( cifar10-train.t7 )  testset   =   torch . load ( cifar10-test.t7 )  classes   =   { airplane ,   automobile ,   bird ,   cat ,  deer ,   dog ,   frog ,   horse ,   ship ,   truck }  setmetatable ( trainset ,  { __index   =   function ( t ,   i ) \n     return   { t . data [ i ],   t . label [ i ]}  end }  );  trainset . data   =   trainset . data : double ()   -- convert the data from a ByteTensor to a DoubleTensor.  function   trainset : size () \n     return   self . data : size ( 1 )  end  mean   =   {}   -- store the mean, to normalize the test set in the future  stdv    =   {}   -- store the standard-deviation for the future  for   i = 1 , 3   do   -- over each image channel \n     mean [ i ]   =   trainset . data [{   {},   { i },   {},   {}    }]: mean ()   -- mean estimation \n     print ( Channel    ..   i   ..   , Mean:    ..   mean [ i ]) \n     trainset . data [{   {},   { i },   {},   {}    }]: add ( - mean [ i ])   -- mean subtraction \n\n     stdv [ i ]   =   trainset . data [{   {},   { i },   {},   {}    }]: std ()   -- std estimation \n     print ( Channel    ..   i   ..   , Standard Deviation:    ..   stdv [ i ]) \n     trainset . data [{   {},   { i },   {},   {}    }]: div ( stdv [ i ])   -- std scaling  end  net   =   nn . Sequential ()  net : add ( nn . SpatialConvolution ( 3 ,   6 ,   5 ,   5 ))   -- 3 input image channels, 6 output channels, 5x5 convolution kernel  net : add ( nn . ReLU ())                         -- non-linearity  net : add ( nn . SpatialMaxPooling ( 2 , 2 , 2 , 2 ))       -- A max-pooling operation that looks at 2x2 windows and finds the max.  net : add ( nn . SpatialConvolution ( 6 ,   16 ,   5 ,   5 ))  net : add ( nn . ReLU ())                         -- non-linearity  net : add ( nn . SpatialMaxPooling ( 2 , 2 , 2 , 2 ))  net : add ( nn . View ( 16 * 5 * 5 ))                      -- reshapes from a 3D tensor of 16x5x5 into 1D tensor of 16*5*5  net : add ( nn . Linear ( 16 * 5 * 5 ,   120 ))               -- fully connected layer (matrix multiplication between input and weights)  net : add ( nn . ReLU ())                         -- non-linearity  net : add ( nn . Linear ( 120 ,   84 ))  net : add ( nn . ReLU ())                         -- non-linearity  net : add ( nn . Linear ( 84 ,   10 ))                     -- 10 is the number of outputs of the network (in this case, 10 digits)  net : add ( nn . LogSoftMax ())                       -- converts the output to a log-probability. Useful for classification problems  criterion   =   nn . ClassNLLCriterion ()  trainer   =   nn . StochasticGradient ( net ,   criterion )  trainer . learningRate   =   0.001  trainer . maxIteration   =   5  trainer : train ( trainset )  testset . data   =   testset . data : double ()     -- convert from Byte tensor to Double tensor  for   i = 1 , 3   do   -- over each image channel \n     testset . data [{   {},   { i },   {},   {}    }]: add ( - mean [ i ])   -- mean subtraction \n     testset . data [{   {},   { i },   {},   {}    }]: div ( stdv [ i ])   -- std scaling  end  predicted   =   net : forward ( testset . data [ 100 ])  print ( classes [ testset . label [ 100 ]])  print ( predicted : exp ())  for   i = 1 , predicted : size ( 1 )   do \n     print ( classes [ i ],   predicted [ i ])  end  correct   =   0  for   i = 1 , 10000   do \n     local   groundtruth   =   testset . label [ i ] \n     local   prediction   =   net : forward ( testset . data [ i ]) \n     local   confidences ,   indices   =   torch . sort ( prediction ,   true )    -- true means sort in descending order \n     if   groundtruth   ==   indices [ 1 ]   then \n         correct   =   correct   +   1 \n     end  end  print ( correct ,   100 * correct / 10000   ..    %  )  class_performance   =   { 0 ,   0 ,   0 ,   0 ,   0 ,   0 ,   0 ,   0 ,   0 ,   0 }  for   i = 1 , 10000   do \n     local   groundtruth   =   testset . label [ i ] \n     local   prediction   =   net : forward ( testset . data [ i ]) \n     local   confidences ,   indices   =   torch . sort ( prediction ,   true )    -- true means sort in descending order \n     if   groundtruth   ==   indices [ 1 ]   then \n         class_performance [ groundtruth ]   =   class_performance [ groundtruth ]   +   1 \n     end  end  for   i = 1 , # classes   do \n     print ( classes [ i ],   100 * class_performance [ i ] / 1000   ..    % )  end    \u6267\u884cth pattern_recognition.lua\uff0c\u6548\u679c\u5982\u4e0b\uff1a   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48 Channel   1 ,   Mean :   125.83175029297  Channel   1 ,   Standard   Deviation :   63.143400842609  Channel   2 ,   Mean :   123.26066621094  Channel   2 ,   Standard   Deviation :   62.369209019002  Channel   3 ,   Mean :   114.03068681641  Channel   3 ,   Standard   Deviation :   66.965808411114  #   StochasticGradient :   training  #   current   error   =   2.1494370275157  #   current   error   =   1.8157547050302  #   current   error   =   1.6500230258568  #   current   error   =   1.5525866306324  #   current   error   =   1.4768901429074  #   StochasticGradient :   you   have   reached   the   maximum   number   of   iterations  #   training   error   =   1.4768901429074  horse \n  0.0150 \n  0.0034 \n  0.0350 \n  0.0490 \n  0.0294 \n  0.0942 \n  0.0161 \n  0.6958 \n  0.0030 \n  0.0591  [ torch . DoubleTensor   of   size   10 ]  airplane      0.014967687525305  automobile    0.0034308404388647  bird      0.034966173679979  cat   0.04902915779719  deer      0.029421766137696  dog   0.094170890240524  frog      0.016105971372693  horse     0.69584966710414  ship      0.0029695320731486  truck     0.059088313630455  4519      45.19   %  airplane      61.3   %  automobile    40.6   %  bird      30.5   %  cat   22   %  deer      16.3   %  dog   47.4   %  frog      62   %  horse     61.4   %  ship      41.1   %  truck     69.3   %", 
            "title": "\u5728mac\u4e0a\u5b89\u88c5torch"
        }, 
        {
            "location": "/34.torch/#_1", 
            "text": "\u9996\u5148\u662f\u4e0b\u8f7dcifar10torchsmall.zip\u6837\u672c\uff0c\u91cc\u9762\u670950000\u5f20\u8bad\u7ec3\u7528\u7684\u56fe\u7247\uff0c10000\u5f20\u6d4b\u8bd5\u7528\u7684\u56fe\u7247\uff0c\u5206\u522b\u90fd\u6807\u6ce8\u4e86\u662f\u4ec0\u4e48\u5185\u5bb9\uff0c\u5305\u62ecairplane\u3001automobile\u7b4910\u79cd\u5206\u7c7b\uff0c\u7136\u540e\u5bf9trainset\u7ed1\u5b9a__index\u548csize\u65b9\u6cd5\uff0c\u4ee5\u517c\u5bb9nn.Sequential\u7684\u4f7f\u7528\uff0c\u6709\u5173\u7ed1\u5b9a\u51fd\u6570\u7684\u5185\u5bb9\u53ef\u4ee5\u770b\u8fd9\u4e2a15\u5206\u949flua\u6559\u7a0b\uff1ahttp://tylerneylon.com/a/learn-lua/,\u7136\u540e\u5bf9trainset\u6570\u636e\u505a\u6b63\u89c4\u5316\uff0c\u628a\u6570\u636e\u90fd\u8f6c\u6210\u5747\u503c\u4e3a1\u65b9\u5dee\u4e3a1\u7684double\u7c7b\u578b\u7684\u5f20\u91cf  \u7136\u540e\u5c31\u662f\u521d\u59cb\u5316\u5377\u79ef\u795e\u7ecf\u7f51\u7edc\u6a21\u578b\uff0c\u8fd9\u4e2a\u795e\u7ecf\u7f51\u7edc\u6a21\u578b\u5305\u62ec\u4e86\u4e86\u4e24\u5c42\u5377\u79ef\u3001\u4e24\u5c42\u6c60\u5316\u3001\u4e00\u4e2a\u5168\u8fde\u63a5\u4ee5\u53ca\u4e00\u4e2asoftmax\u5c42\uff0c\u63a5\u7740\u8fdb\u884c\u8bad\u7ec3\uff0c\u5b66\u4e60\u7387\u4e3a0.001\uff0c\u8fed\u4ee35\u6b21\uff0c\u6a21\u578b\u8bad\u7ec3\u597d\u540e\u5bf9\u6d4b\u8bd5\u673a\u4e2d\u7684\u7b2c100\u53f7\u56fe\u7247\u505a\u9884\u6d4b\uff0c\u7136\u540e\u5c31\u662f\u6253\u5370\u51fa\u6574\u4f53\u7684\u6b63\u786e\u7387\u4ee5\u53ca\u6bcf\u79cd\u5206\u7c7b\u7684\u51c6\u786e\u7387  \u4e5f\u53ef\u4ee5\u53c2\u8003 Deep Learning with Torch  torch\u53ef\u4ee5\u65b9\u4fbf\u7684\u652f\u6301gpu\u8ba1\u7b97\uff0c\u5982\u679c\u4f7f\u7528gpu\u9700\u8981\u5bf9\u4ee3\u7801\u505a\u4fee\u6539\uff0c\u8fd9\u662f\u4e0etensorflow\u76f8\u6bd4\u7684\u4e0d\u8db3\u4e4b\u5904\uff0c\u540e\u7eed\u5c31\u662f\u7ee7\u7eed\u5b66\u4e60\u57fa\u4e8etorch\u6709\u5173lstm\u4ee3\u7801\u7684\u5185\u5bb9\u4e86\uff0c\u6709\u6536\u83b7\u4f1a\u968f\u65f6\u53d1\u6587", 
            "title": "\u89e3\u91ca\u4e00\u4e0b"
        }, 
        {
            "location": "/35.lstm-learning/", 
            "text": "\u5f53\u4eca\u6bd4\u8f83\u6d41\u884c\u7684seq2seq\u57fa\u672c\u90fd\u662f\u7528lstm\u7ec4\u6210\u7684\u7f16\u7801\u5668\u89e3\u7801\u5668\u6a21\u578b\u5b9e\u73b0\uff0c\u5f00\u6e90\u7684\u5b9e\u73b0\u5927\u90fd\u57fa\u4e8eone-hot\u7684embedding(\u6ca1\u6709\u8bcd\u5411\u91cf\u8868\u8fbe\u7684\u4fe1\u606f\u91cf\u5927)\uff0c\u56e0\u6b64\u6253\u7b97\u81ea\u5df1\u5b9e\u73b0\u4e00\u4e2a\u57fa\u4e8eword2vec\u8bcd\u5411\u91cf\u7684\u5f3a\u5927\u7684seq2seq\u6a21\u578b\uff0c\u9996\u5148\u5b9e\u73b0\u4e86\u53ea\u6709\u4e00\u4e2alstm\u5355\u5143\u7684\u673a\u5668\u4eba \n\n\n\u4e0b\u8f7d\u300a\u7504\u5b1b\u4f20\u300b\u5c0f\u8bf4\u539f\u6587\n\u4e0a\u7f51\u968f\u4fbf\u767e\u5ea6\u4e00\u4e2a\u201c\u7504\u5b1b\u4f20 txt\u201d\uff0c\u4e0b\u8f7d\u4e0b\u6765\uff0c\u9996\u5148\u8981\u628a\u6587\u4ef6\u8f6c\u7801\u6210utf-8\u7f16\u7801\uff0c\u7136\u540e\u8981\u628awindows\u7684\u56de\u8f66\u7b26\u90fd\u66ff\u6362\u6210\\n\uff0c\u4ee5\u4fbf\u540e\u7eed\u5904\u7406\uff0c\u6700\u7ec8\u6548\u679c\u5982\u4e0b\uff1a\n\n\n1\n[\nroot@centos $\n]\n head zhenhuanzhuan.txt\n\n\n\n\n\n\n\u5e8f\u6587--\u4e0d\u8fc7\u662f\u300c\u60c5\u300d\n\n\n1\n\u5728\u952e\u76d8\u4e0a\u6572\u843d\u4e00\u4e2a\u4e2a\u6587\u5b57\u7684\u65f6\u5019\uff0c\u7a97\u5916\u6709\u5927\u96e8\u8fc7\u540e\u7684\u6e05\u65b0\u3002\u7ad9\u5728\u5341\u4e8c\u697c\u7684\u843d\u5730\u73bb\u7483\u7a97\u524d\u5f80\u5916\u770b\uff0c\u6709\u5927\u7247\u5927\u7247\u5f00\u9614\u7684\u6df1\u7eff\u8513\u5ef6\u3002\n\n\n\n\n\n\n\u6211\u559c\u6b22\u8fd9\u4e2a\u6709\u5c71\u6709\u6c34\u7684\u5c0f\u57ce\uff0c\u6240\u4ee5\u5728\u8fd9\u6837\u4e00\u4e2a\u70e6\u70ed\u7684\u4e0b\u5348\uff0c\u80cc\u8d1f\u7740\u7a92\u95f7\u7684\u5fc3\u60c5\u4e0d\u987e\u4e00\u5207\u9003\u51fa\u6682\u5c45\u7684\u57ce\u5e02\uff0c\u6765\u5230\u8fd9\u91cc\uff0c\u5728\u5199\u5b8c\u4e86\u4e00\u4e2a\u6574\u6574\u5199\u4e86\u4e09\u5e74\u591a\u7684\u6545\u4e8b\u4e4b\u540e\u3002\n\n\n\u7ec8\u4e8e\uff0c\u5199\u5b8c\u4e86\u300a\u540e\u5bab\uff1a\u7504\u5b1b\u4f20\u300b\u7684\u6700\u540e\u4e00\u672c\uff0c\u7b2c\u4e03\u672c\u3002\u4e03\uff0c\u662f\u6211\u559c\u6b22\u7684\u4e00\u4e2a\u6570\u5b57\u3002\u7504\u5b1b\u7684\u6545\u4e8b\uff0c\u6700\u540e\u4e00\u4e2a\u5b57\uff0c\u662f\u6211\u5728\u521d\u590f\u7684\u67d0\u65e5\u5750\u5728\u5e08\u5927\u67d0\u4e2a\u5c0f\u5bbe\u9986\u7684\u623f\u95f4\u91cc\u5199\u4e0b\u7684\u3002\u8fd9\u4e2a\u6545\u4e8b\uff0c\u81ea\u6211\u5728\u6bcd\u6821\u65f6\u59cb\uff0c\u53c8\u4e8e\u6bcd\u6821\u7ec8\uff0c\u50cf\u4e00\u4e2a\u6709\u59cb\u6709\u7ec8\u7684\u5706\u5708\uff0c\u7ec8\u4e8e\u5b8c\u7ed3\u4e86\u3002\n\n\n\u8fd9\u662f\u6211\u7684\u7b2c\u4e00\u90e8\u957f\u7bc7\uff0c\u81ea\u5df1\u4e5f\u8f7b\u5401\u4e00\u53e3\u6c14\uff0c\u5c45\u7136\u5199\u4e86\u90a3\u4e48\u957f\uff0c\u90a3\u4e48\u4e45\u3002\n\u3000\u3000\u53ef\u662f\u5b8c\u7ed3\u7684\u90a3\u4e00\u523b\uff0c\u6211\u5fc3\u91cc\u4e00\u70b9\u4e5f\u4e0d\u5feb\u6d3b\u3002\u56e0?\u662f\u6211\u81ea\u5df1\uff0c\u628a\u6211\u559c\u7231\u7684\u6e05\uff0c\u628a\u6211\u7406\u60f3\u4e2d\u6e29\u6da6\u5982\u7389\u7684\u7537\u5b50\uff0c\u5199\u5230\u7389\u788e\u6591\u9a73\u3002\n\n\n\u5bf9\u7504\u5b1b\u4f20\u5207\u8bcd\n\u5207\u8bcd\u5de5\u5177word_segment.py\u8bf7\u5230\u6211\u7684github\u4e0b\u8f7d\uff0c\u5730\u5740\u5728https://github.com/warmheartli/ChatBotCourse/blob/master/word_segment.py\n\n\n\u6267\u884c\n\n\n1\npython ./word_segment.py zhenhuanzhuan.txt zhenhuanzhuan.segment\n\n\n\n\n\n\n\u751f\u6210\u7684\u6587\u4ef6\u5982\u4e0b\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n[\nroot@centos $\n]\n head zhenhuanzhuan.segment\n  \u5e8f\u6587 - - \u4e0d\u8fc7 \u662f \u300c \u60c5 \u300d\n\n \u5728 \u952e\u76d8 \u4e0a \u6572\u843d \u4e00\u4e2a\u4e2a \u6587\u5b57 \u7684 \u65f6\u5019 \uff0c \u7a97\u5916 \u6709 \u5927\u96e8 \u8fc7\u540e \u7684 \u6e05\u65b0 \u3002 \u7ad9 \u5728 \u5341\u4e8c\u697c \u7684 \u843d\u5730 \u73bb\u7483\u7a97 \u524d\u5f80 \u5916\u770b \uff0c \u6709 \u5927\u7247\u5927\u7247 \u5f00\u9614 \u7684 \u6df1\u7eff \u8513\u5ef6 \u3002\n\n \u3000 \u3000 \u6211 \u559c\u6b22 \u8fd9\u4e2a \u6709\u5c71\u6709\u6c34 \u7684 \u5c0f\u57ce \uff0c \u6240\u4ee5 \u5728 \u8fd9\u6837 \u4e00\u4e2a \u70e6\u70ed \u7684 \u4e0b\u5348 \uff0c \u80cc\u8d1f\u7740 \u7a92\u95f7 \u7684 \u5fc3\u60c5 \u4e0d\u987e\u4e00\u5207 \u9003\u51fa \u6682\u5c45 \u7684 \u57ce\u5e02 \uff0c \u6765\u5230 \u8fd9\u91cc \uff0c \u5728 \u5199 \u5b8c \u4e86 \u4e00\u4e2a \u6574\u6574 \u5199 \u4e86 \u4e09\u5e74 \u591a \u7684 \u6545\u4e8b \u4e4b\u540e \u3002\n\n \u3000 \u3000 \u7ec8\u4e8e \uff0c \u5199 \u5b8c \u4e86 \u300a \u540e\u5bab \uff1a \u7504 \u5b1b \u4f20 \u300b \u7684 \u6700\u540e \u4e00\u672c \uff0c \u7b2c\u4e03 \u672c \u3002 \u4e03 \uff0c \u662f \u6211 \u559c\u6b22 \u7684 \u4e00\u4e2a \u6570\u5b57 \u3002 \u7504 \u5b1b \u7684 \u6545\u4e8b \uff0c \u6700\u540e \u4e00\u4e2a \u5b57 \uff0c \u662f \u6211 \u5728 \u521d\u590f \u7684 \u67d0\u65e5 \u5750\u5728 \u5e08\u5927 \u67d0\u4e2a \u5c0f \u5bbe\u9986 \u7684 \u623f\u95f4 \u91cc \u5199\u4e0b \u7684 \u3002 \u8fd9\u4e2a \u6545\u4e8b \uff0c \u81ea\u6211 \u5728 \u6bcd\u6821 \u65f6\u59cb \uff0c \u53c8 \u4e8e \u6bcd\u6821 \u7ec8 \uff0c \u50cf \u4e00\u4e2a \u6709\u59cb\u6709\u7ec8 \u7684 \u5706\u5708 \uff0c \u7ec8\u4e8e \u5b8c\u7ed3 \u4e86 \u3002\n\n \u3000 \u3000 \u8fd9 \u662f \u6211 \u7684 \u7b2c\u4e00\u90e8 \u957f\u7bc7 \uff0c \u81ea\u5df1 \u4e5f \u8f7b\u5401 \u4e00\u53e3\u6c14 \uff0c \u5c45\u7136 \u5199 \u4e86 \u90a3\u4e48 \u957f \uff0c \u90a3\u4e48 \u4e45 \u3002\n \u3000 \u3000 \u53ef\u662f \u5b8c\u7ed3 \u7684 \u90a3\u4e00\u523b \uff0c \u6211 \u5fc3\u91cc \u4e00\u70b9 \u4e5f \u4e0d \u5feb\u6d3b \u3002 \u56e0 ? \u662f \u6211 \u81ea\u5df1 \uff0c \u628a \u6211 \u559c\u7231 \u7684 \u6e05 \uff0c \u628a \u6211 \u7406\u60f3 \u4e2d \u6e29\u6da6 \u5982\u7389 \u7684 \u7537\u5b50 \uff0c \u5199 \u5230 \u7389\u788e \u6591\u9a73 \u3002\n \n```\n\n\n\u751f\u6210\u8bcd\u5411\u91cf\n\u4e3a\u4e86\u80fd\u5e94\u7528\u8bcd\u5411\u91cf\uff0c\u6211\u4eec\u5229\u7528word2vec\u6765\u751f\u6210\u8bcd\u5411\u91cf\uff0cword2vec\u7684\u6e90\u7801\u53ef\u4ee5\u4ece\u7f51\u4e0a\u4e0b\u8f7d\n(\n\u6216\u8005\u53ef\u4ee5\u5728\u6211\u7684github\u4e0a\u4e0b\u8f7dhttps://github.com/warmheartli/ChatBotCourse/tree/master/word2vec\n)\n\uff0cmake\u7f16\u8bd1\u5373\u53ef\n\n\u6267\u884c\n\n```\nsh\n./word2vec -train ./zhenhuanzhuan.segment -output vectors.bin -cbow \n1\n -size \n200\n -window \n8\n -negative \n25\n -hs \n0\n -sample 1e-4 -threads \n20\n -binary \n1\n -iter \n15\n\n\n\n\n\n\n\n\u8fd9\u6837\u4f1a\u751f\u6210\u4e00\u4e2avectors.bin\u6587\u4ef6\uff0c\u8fd9\u5c31\u662f\u6211\u4eec\u60f3\u8981\u7684\u57fa\u4e8e\u7504\u5b1b\u4f20\u539f\u6587\u751f\u6210\u7684\u8bcd\u5411\u91cf\u6587\u4ef6\n\n\n\u5982\u679c\u60f3\u77e5\u9053vectors.bin\u6587\u4ef6\u91cc\u5982\u4f55\u5b58\u50a8\u4ee5\u53ca\u5982\u4f55\u52a0\u8f7d\uff0c\u53ef\u4ee5\u53c2\u8003\u6211\u7684\u53e6\u4e00\u7bc7\u6587\u7ae0\u300a\u4e09\u5341\u4e8c-\u7528\u4e09\u5343\u4e07\u5f71\u89c6\u5267\u5b57\u5e55\u8bed\u6599\u5e93\u751f\u6210\u8bcd\u5411\u91cf\u300b\n\n\n\u8bad\u7ec3\u4ee3\u7801\n\u4e0b\u9762\u662f\u6211\u7684\u4ee3\u7801\u539f\u6587\uff0c\u4ec5\u4f9b\u53c2\u8003\n\n\n  1\n  2\n  3\n  4\n  5\n  6\n  7\n  8\n  9\n 10\n 11\n 12\n 13\n 14\n 15\n 16\n 17\n 18\n 19\n 20\n 21\n 22\n 23\n 24\n 25\n 26\n 27\n 28\n 29\n 30\n 31\n 32\n 33\n 34\n 35\n 36\n 37\n 38\n 39\n 40\n 41\n 42\n 43\n 44\n 45\n 46\n 47\n 48\n 49\n 50\n 51\n 52\n 53\n 54\n 55\n 56\n 57\n 58\n 59\n 60\n 61\n 62\n 63\n 64\n 65\n 66\n 67\n 68\n 69\n 70\n 71\n 72\n 73\n 74\n 75\n 76\n 77\n 78\n 79\n 80\n 81\n 82\n 83\n 84\n 85\n 86\n 87\n 88\n 89\n 90\n 91\n 92\n 93\n 94\n 95\n 96\n 97\n 98\n 99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n122\n123\n124\n125\n126\n127\n128\n129\n130\n131\n132\n133\n# -*- coding: utf-8 -*-\n\n\n\nimport\n \nsys\n\n\nimport\n \nmath\n\n\nimport\n \ntflearn\n\n\nimport\n \nchardet\n\n\nimport\n \nnumpy\n \nas\n \nnp\n\n\nimport\n \nstruct\n\n\n\nseq\n \n=\n \n[]\n\n\n\nmax_w\n \n=\n \n50\n\n\nfloat_size\n \n=\n \n4\n\n\nword_vector_dict\n \n=\n \n{}\n\n\n\ndef\n \nload_vectors\n(\ninput\n):\n\n    \n\u4ecevectors.bin\u52a0\u8f7d\u8bcd\u5411\u91cf\uff0c\u8fd4\u56de\u4e00\u4e2aword_vector_dict\u7684\u8bcd\u5178\uff0ckey\u662f\u8bcd\uff0cvalue\u662f200\u7ef4\u7684\u5411\u91cf\n\n\n    \n\n    \nprint\n \nbegin load vectors\n\n\n    \ninput_file\n \n=\n \nopen\n(\ninput\n,\n \nrb\n)\n\n\n    \n# \u83b7\u53d6\u8bcd\u8868\u6570\u76ee\u53ca\u5411\u91cf\u7ef4\u5ea6\n\n    \nwords_and_size\n \n=\n \ninput_file\n.\nreadline\n()\n\n    \nwords_and_size\n \n=\n \nwords_and_size\n.\nstrip\n()\n\n    \nwords\n \n=\n \nlong\n(\nwords_and_size\n.\nsplit\n(\n \n)[\n0\n])\n\n    \nsize\n \n=\n \nlong\n(\nwords_and_size\n.\nsplit\n(\n \n)[\n1\n])\n\n    \nprint\n \nwords =\n,\n \nwords\n\n    \nprint\n \nsize =\n,\n \nsize\n\n\n    \nfor\n \nb\n \nin\n \nrange\n(\n0\n,\n \nwords\n):\n\n        \na\n \n=\n \n0\n\n        \nword\n \n=\n \n\n        \n# \u8bfb\u53d6\u4e00\u4e2a\u8bcd\n\n        \nwhile\n \nTrue\n:\n\n            \nc\n \n=\n \ninput_file\n.\nread\n(\n1\n)\n\n            \nword\n \n=\n \nword\n \n+\n \nc\n\n            \nif\n \nFalse\n \n==\n \nc\n \nor\n \nc\n \n==\n \n \n:\n\n                \nbreak\n\n            \nif\n \na\n \n \nmax_w\n \nand\n \nc\n \n!=\n \n\\n\n:\n\n                \na\n \n=\n \na\n \n+\n \n1\n\n        \nword\n \n=\n \nword\n.\nstrip\n()\n\n\n        \nvector\n \n=\n \n[]\n\n        \nfor\n \nindex\n \nin\n \nrange\n(\n0\n,\n \nsize\n):\n\n            \nm\n \n=\n \ninput_file\n.\nread\n(\nfloat_size\n)\n\n            \n(\nweight\n,)\n \n=\n \nstruct\n.\nunpack\n(\nf\n,\n \nm\n)\n\n            \nvector\n.\nappend\n(\nweight\n)\n\n\n        \n# \u5c06\u8bcd\u53ca\u5176\u5bf9\u5e94\u7684\u5411\u91cf\u5b58\u5230dict\u4e2d\n\n        \nword_vector_dict\n[\nword\n.\ndecode\n(\nutf-8\n)]\n \n=\n \nvector\n\n\n    \ninput_file\n.\nclose\n()\n\n    \nprint\n \nload vectors finish\n\n\n\ndef\n \ninit_seq\n():\n\n    \n\u8bfb\u53d6\u5207\u597d\u8bcd\u7684\u6587\u672c\u6587\u4ef6\uff0c\u52a0\u8f7d\u5168\u90e8\u8bcd\u5e8f\u5217\n\n\n    \n\n    \nfile_object\n \n=\n \nopen\n(\nzhenhuanzhuan.segment\n,\n \nr\n)\n\n    \nvocab_dict\n \n=\n \n{}\n\n    \nwhile\n \nTrue\n:\n\n        \nline\n \n=\n \nfile_object\n.\nreadline\n()\n\n        \nif\n \nline\n:\n\n            \nfor\n \nword\n \nin\n \nline\n.\ndecode\n(\nutf-8\n)\n.\nsplit\n(\n \n):\n\n                \nif\n \nword_vector_dict\n.\nhas_key\n(\nword\n):\n\n                    \nseq\n.\nappend\n(\nword_vector_dict\n[\nword\n])\n\n        \nelse\n:\n\n            \nbreak\n\n    \nfile_object\n.\nclose\n()\n\n\n\ndef\n \nvector_sqrtlen\n(\nvector\n):\n\n    \nlen\n \n=\n \n0\n\n    \nfor\n \nitem\n \nin\n \nvector\n:\n\n        \nlen\n \n+=\n \nitem\n \n*\n \nitem\n\n    \nlen\n \n=\n \nmath\n.\nsqrt\n(\nlen\n)\n\n    \nreturn\n \nlen\n\n\n\ndef\n \nvector_cosine\n(\nv1\n,\n \nv2\n):\n\n    \nif\n \nlen\n(\nv1\n)\n \n!=\n \nlen\n(\nv2\n):\n\n        \nsys\n.\nexit\n(\n1\n)\n\n    \nsqrtlen1\n \n=\n \nvector_sqrtlen\n(\nv1\n)\n\n    \nsqrtlen2\n \n=\n \nvector_sqrtlen\n(\nv2\n)\n\n    \nvalue\n \n=\n \n0\n\n    \nfor\n \nitem1\n,\n \nitem2\n \nin\n \nzip\n(\nv1\n,\n \nv2\n):\n\n        \nvalue\n \n+=\n \nitem1\n \n*\n \nitem2\n\n    \nreturn\n \nvalue\n \n/\n \n(\nsqrtlen1\n*\nsqrtlen2\n)\n\n\n\n\ndef\n \nvector2word\n(\nvector\n):\n\n    \nmax_cos\n \n=\n \n-\n10000\n\n    \nmatch_word\n \n=\n \n\n    \nfor\n \nword\n \nin\n \nword_vector_dict\n:\n\n        \nv\n \n=\n \nword_vector_dict\n[\nword\n]\n\n        \ncosine\n \n=\n \nvector_cosine\n(\nvector\n,\n \nv\n)\n\n        \nif\n \ncosine\n \n \nmax_cos\n:\n\n            \nmax_cos\n \n=\n \ncosine\n\n            \nmatch_word\n \n=\n \nword\n\n    \nreturn\n \n(\nmatch_word\n,\n \nmax_cos\n)\n\n\n\ndef\n \nmain\n():\n\n    \nload_vectors\n(\n./vectors.bin\n)\n\n    \ninit_seq\n()\n\n    \nxlist\n \n=\n \n[]\n\n    \nylist\n \n=\n \n[]\n\n    \ntest_X\n \n=\n \nNone\n\n    \n#for i in range(len(seq)-100):\n\n    \nfor\n \ni\n \nin\n \nrange\n(\n10\n):\n\n        \nsequence\n \n=\n \nseq\n[\ni\n:\ni\n+\n20\n]\n\n        \nxlist\n.\nappend\n(\nsequence\n)\n\n        \nylist\n.\nappend\n(\nseq\n[\ni\n+\n20\n])\n\n        \nif\n \ntest_X\n \nis\n \nNone\n:\n\n            \ntest_X\n \n=\n \nnp\n.\narray\n(\nsequence\n)\n\n            \n(\nmatch_word\n,\n \nmax_cos\n)\n \n=\n \nvector2word\n(\nseq\n[\ni\n+\n20\n])\n\n            \nprint\n \nright answer=\n,\n \nmatch_word\n,\n \nmax_cos\n\n\n    \nX\n \n=\n \nnp\n.\narray\n(\nxlist\n)\n\n    \nY\n \n=\n \nnp\n.\narray\n(\nylist\n)\n\n    \nnet\n \n=\n \ntflearn\n.\ninput_data\n([\nNone\n,\n \n20\n,\n \n200\n])\n\n    \nnet\n \n=\n \ntflearn\n.\nlstm\n(\nnet\n,\n \n200\n)\n\n    \nnet\n \n=\n \ntflearn\n.\nfully_connected\n(\nnet\n,\n \n200\n,\n \nactivation\n=\nlinear\n)\n\n    \nnet\n \n=\n \ntflearn\n.\nregression\n(\nnet\n,\n \noptimizer\n=\nsgd\n,\n \nlearning_rate\n=\n0.1\n,\n\n                                     \nloss\n=\nmean_square\n)\n\n    \nmodel\n \n=\n \ntflearn\n.\nDNN\n(\nnet\n)\n\n    \nmodel\n.\nfit\n(\nX\n,\n \nY\n,\n \nn_epoch\n=\n500\n,\n \nbatch_size\n=\n10\n,\nsnapshot_epoch\n=\nFalse\n,\nshow_metric\n=\nTrue\n)\n\n    \nmodel\n.\nsave\n(\nmodel\n)\n\n    \npredict\n \n=\n \nmodel\n.\npredict\n([\ntest_X\n])\n\n    \n#print predict\n\n    \n#for v in test_X:\n\n    \n#    print vector2word(v)\n\n    \n(\nmatch_word\n,\n \nmax_cos\n)\n \n=\n \nvector2word\n(\npredict\n[\n0\n])\n\n    \nprint\n \npredict=\n,\n \nmatch_word\n,\n \nmax_cos\n\n\n\nmain\n()\n\n\n\n\n\n\n\n\u89e3\u91ca\u4e00\u4e0b\u4e0a\u9762\u7684\u4ee3\u7801\uff0cload_vectors\u662f\u4ecevectors.bin\u4e2d\u52a0\u8f7d\u8bcd\u5411\u91cf\uff0cinit_seq\u662f\u52a0\u8f7d\u7504\u5b1b\u4f20\u5207\u8bcd\u540e\u7684\u6587\u672c\u5e76\u5b58\u5230\u4e00\u4e2a\u5e8f\u5217\u91cc\uff0cvector2word\u662f\u6c42\u8ddd\u79bb\u67d0\u5411\u91cf\u6700\u8fd1\u7684\u8bcd\uff0c\u6a21\u578b\u4e2d\u53ea\u6709\u4e00\u4e2alstm\u5355\u5143\n\n\n\u6267\u884c\u6548\u679c\u5982\u4e0b\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n[root@centos $] python one_lstm_sequence_generate.py\nbegin load vectors\nwords = 16995\nsize = 200\nload vectors finish\nright answer= \u7ad9 1.0\n---------------------------------\nRun id: DQK34Q\nLog directory: /tmp/tflearn_logs/\n---------------------------------\nTraining samples: 10\nValidation samples: \n--\nTraining Step: 500  | total loss: 0.33673\n| SGD | epoch: 500 | loss: 0.33673 - acc: 0.1748 -- iter: 10/10\n--\npredict= \u7ad9 0.941794432002\n\n\n\n\n\n\n\u53ef\u4ee5\u770b\u51fa\uff1a\u7ecf\u8fc7500\u4e2aepoch\u7684\u8bad\u7ec3\uff0c\u5747\u65b9\u635f\u5931\u964d\u52300.33673\uff0c\u5e76\u80fd\u4ee50.941794432002\u7684\u4f59\u5f26\u76f8\u4f3c\u5ea6\u9884\u6d4b\u51fa\u4e0b\u4e00\u4e2a\u5b57\n\n\n\u5982\u679c\u4f60\u6709\u5f3a\u5927\u7684gpu\uff0c\u53ef\u4ee5\u8c03\u6574\u4e0a\u8ff0\u53c2\u6570\uff0c\u628a\u6574\u7bc7\u6587\u7ae0\u90fd\u8bad\u7ec3\u8fdb\u53bb\uff0c\u7a0d\u7a0d\u4fee\u6539\u4ee3\u7801\u4e2dpredict\u7684\u90e8\u5206\uff0c\u8ba9\u4ed6\u4e0d\u65ad\u7684\u8f93\u51fa\u4e0b\u4e00\u4e2a\u5b57\uff0c\u5c31\u53ef\u4ee5\u81ea\u52a8\u5410\u51fa\u7504\u5b1b\u4f53\n\n\n\u8fd9\u6bb5\u4ee3\u7801\u662f\u57fa\u4e8etflearn\u5b9e\u73b0\u7684\uff0c\u5728tflearn\u5b98\u65b9\u6587\u6863\u7684examples\u4e2d\u5b9e\u73b0\u7684seq2seq\u662f\u76f4\u63a5\u8c03\u7528\u4e86tensorflow\u4e2d\u7684tensorflow/python/ops/seq2seq.py\uff0c\u800c\u8fd9\u90e8\u5206\u662f\u57fa\u4e8eone-hot\u7684embedding\u65b9\u6cd5\uff0c\u8fd9\u662f\u4e00\u5b9a\u6ca1\u6709\u8bcd\u5411\u91cf\u6548\u679c\u597d\u7684\uff0c\u56e0\u6b64\u4e0b\u4e00\u6b65\u6253\u7b97\u57fa\u4e8e\u4e0a\u9762\u7684\u4ee3\u7801\u7ee7\u7eed\u6539\u9020\uff0c\u5b9e\u73b0\u57fa\u4e8e\u8bcd\u5411\u91cf\u7684seq2seq\uff0c\u76f8\u4fe1\u80fd\u591f\u8ba9\u6211\u7684\u804a\u5929\u673a\u5668\u4eba\u95ee\u7b54\u6548\u679c\u66f4\u597d\uff0c\u656c\u8bf7\u671f\u5f85", 
            "title": "\u4e09\u5341\u4e94-\u4e00\u5b66\u4f1a\u7504\u5b1b\u4f53"
        }, 
        {
            "location": "/36.tensorflow-session-graph/", 
            "text": "tensorflow\u4f5c\u4e3a\u4e00\u4e2a\u57fa\u4e8e\u56fe\u7ed3\u6784\u7684\u6df1\u5ea6\u5b66\u4e60\u6846\u67b6\uff0c\u5185\u90e8\u901a\u8fc7session\u5b9e\u73b0\u56fe\u548c\u8ba1\u7b97\u5185\u6838\u7684\u4ea4\u4e92\uff0c\u90a3\u4e48\u8fd9\u4e2a\u56fe\u662f\u4ec0\u4e48\u6837\u7684\u7ed3\u6784\uff0csession\u7684\u5de5\u4f5c\u539f\u7406\u53c8\u662f\u4ec0\u4e48\u6837\u7684\u5462\uff1f\u6211\u4eec\u901a\u8fc7\u51e0\u6bb5\u4ee3\u7801\u6765\u6df1\u5165\u7406\u89e3\u4e00\u4e0b \n\n\ntensorflow\u4e2d\u7684\u57fa\u672c\u6570\u5b66\u8fd0\u7b97\u7528\u6cd5\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\nimport\n \ntensorflow\n \nas\n \ntf\n\n\n\nsess\n \n=\n \ntf\n.\nSession\n()\n\n\n\na\n \n=\n \ntf\n.\nplaceholder\n(\nfloat\n)\n\n\nb\n \n=\n \ntf\n.\nplaceholder\n(\nfloat\n)\n\n\nc\n \n=\n \ntf\n.\nconstant\n(\n6.0\n)\n\n\nd\n \n=\n \ntf\n.\nmul\n(\na\n,\n \nb\n)\n\n\ny\n \n=\n \ntf\n.\nmul\n(\nd\n,\n \nc\n)\n\n\nprint\n \nsess\n.\nrun\n(\ny\n,\n \nfeed_dict\n=\n{\na\n:\n \n3\n,\n \nb\n:\n \n3\n})\n\n\n\nA\n \n=\n \n[[\n1.1\n,\n2.3\n],[\n3.4\n,\n4.1\n]]\n\n\nY\n \n=\n \ntf\n.\nmatrix_inverse\n(\nA\n)\n\n\nprint\n \nsess\n.\nrun\n(\nY\n)\n\n\nsess\n.\nclose\n()\n\n\n\n\n\n\n\n\u4e3b\u8981\u6570\u5b57\u8fd0\u7b97\u8fd8\u5305\u62ec\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\ntf.add\ntf.sub\ntf.mul\ntf.div\ntf.mod\ntf.abs\ntf.neg\ntf.sign\ntf.inv\ntf.square\ntf.round\ntf.sqrt\ntf.pow\ntf.exp\ntf.log\ntf.maximum\ntf.minimum\ntf.cos\ntf.sin\n\n\n\n\n\n\n\u4e3b\u8981\u77e9\u9635\u8fd0\u7b97\u8fd8\u5305\u62ec\uff1a\n\n\n1\n2\n3\n4\n5\ntf.diag\u751f\u6210\u5bf9\u89d2\u9635\ntf.transpose\ntf.matmul\ntf.matrix_determinant\u8ba1\u7b97\u884c\u5217\u5f0f\u7684\u503c\ntf.matrix_inverse\u8ba1\u7b97\u77e9\u9635\u7684\u9006\n\n\n\n\n\n\n\u63d2\u64ad\u5c0f\u751c\u70b9\uff1atensorboard\u4f7f\u7528\ntensorflow\u56e0\u4e3a\u4ee3\u7801\u6267\u884c\u8fc7\u7a0b\u662f\u5148\u6784\u5efa\u56fe\uff0c\u7136\u540e\u5728\u6267\u884c\uff0c\u6240\u4ee5\u5bf9\u4e2d\u95f4\u8fc7\u7a0b\u7684\u8c03\u8bd5\u4e0d\u592a\u65b9\u4fbf\uff0c\u6240\u4ee5\u63d0\u4f9b\u4e86\u4e00\u4e2atensorboard\u5de5\u5177\u6765\u4fbf\u4e8e\u8c03\u8bd5\uff0c\u7528\u6cd5\u5982\u4e0b\uff1a\n\n\n\u5728\u8bad\u7ec3\u65f6\u4f1a\u63d0\u793a\u5199\u5165\u4e8b\u4ef6\u6587\u4ef6\u5230\u54ea\u4e2a\u76ee\u5f55(\u6bd4\u5982\uff1a/tmp/tflearn_logs/11U8M4/)\n\n\n\u6267\u884c\u5982\u4e0b\u547d\u4ee4\u5e76\u6253\u5f00http://192.168.1.101:6006\u5c31\u80fd\u770b\u5230tensorboard\u7684\u754c\u9762\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\ntensorboard\n \n--\nlogdir\n=/\ntmp\n/\ntflearn_logs\n/\n11\nU8M4\n/\n\n \n``\n`\n\n\n\n### \u4ec0\u4e48\u662fGraph\u548cSession\n\n\n\n\u4e3a\u4e86\u6b65\u5165\u6b63\u9898\uff0c\u6211\u4eec\u901a\u8fc7\u4e00\u6bb5\u4ee3\u7801\u6765\u5c55\u793a\nGraph\n\u548c\nSession\n\u7684\u4f7f\u7528\n\n\n\n``\n`\npython\n\n\nimport\n \ntensorflow\n \nas\n \ntf\n\n\n\nwith\n \ntf\n.\nGraph\n()\n.\nas_default\n()\n \nas\n \ng\n:\n\n    \nwith\n \ng\n.\nname_scope\n(\nmyscope\n)\n \nas\n \nscope\n:\n \n# \u6709\u4e86\u8fd9\u4e2ascope\uff0c\u4e0b\u9762\u7684op\u7684name\u90fd\u662f\u7c7b\u4f3cmyscope/Placeholder\u8fd9\u6837\u7684\u524d\u7f00\n\n        \nsess\n \n=\n \ntf\n.\nSession\n(\ntarget\n=\n,\n \ngraph\n \n=\n \ng\n,\n \nconfig\n=\nNone\n)\n \n# target\u8868\u793a\u8981\u8fde\u63a5\u7684tf\u6267\u884c\u5f15\u64ce\n\n        \nprint\n \ngraph version:\n,\n \ng\n.\nversion\n \n# 0\n\n        \na\n \n=\n \ntf\n.\nplaceholder\n(\nfloat\n)\n\n        \nprint\n \na\n.\nop\n \n# \u8f93\u51fa\u6574\u4e2aoperation\u4fe1\u606f\uff0c\u8ddf\u4e0b\u9762g.get_operations\u8fd4\u56de\u7ed3\u679c\u4e00\u6837\n\n        \nprint\n \ngraph version:\n,\n \ng\n.\nversion\n \n# 1\n\n        \nb\n \n=\n \ntf\n.\nplaceholder\n(\nfloat\n)\n\n        \nprint\n \ngraph version:\n,\n \ng\n.\nversion\n \n# 2\n\n        \nc\n \n=\n \ntf\n.\nplaceholder\n(\nfloat\n)\n\n        \nprint\n \ngraph version:\n,\n \ng\n.\nversion\n \n# 3\n\n        \ny1\n \n=\n \ntf\n.\nmul\n(\na\n,\n \nb\n)\n \n# \u4e5f\u53ef\u4ee5\u5199\u6210a * b\n\n        \nprint\n \ngraph version:\n,\n \ng\n.\nversion\n \n# 4\n\n        \ny2\n \n=\n \ntf\n.\nmul\n(\ny1\n,\n \nc\n)\n \n# \u4e5f\u53ef\u4ee5\u5199\u6210y1 * c\n\n        \nprint\n \ngraph version:\n,\n \ng\n.\nversion\n \n# 5\n\n        \noperations\n \n=\n \ng\n.\nget_operations\n()\n\n        \nfor\n \n(\ni\n,\n \nop\n)\n \nin\n \nenumerate\n(\noperations\n):\n\n            \nprint\n \n============ operation\n,\n \ni\n+\n1\n,\n \n===========\n\n            \nprint\n \nop\n \n# \u4e00\u4e2a\u7ed3\u6784\uff0c\u5305\u62ec\uff1aname\u3001op\u3001attr\u3001input\u7b49,\u4e0d\u540cop\u4e0d\u4e00\u6837\n\n        \nassert\n \ny1\n.\ngraph\n \nis\n \ng\n\n        \nassert\n \nsess\n.\ngraph\n \nis\n \ng\n\n        \nprint\n \n================ graph object address ================\n\n        \nprint\n \nsess\n.\ngraph\n\n        \nprint\n \n================ graph define ================\n\n        \nprint\n \nsess\n.\ngraph_def\n\n        \nprint\n \n================ sess str ================\n\n        \nprint\n \nsess\n.\nsess_str\n\n        \nprint\n \nsess\n.\nrun\n(\ny1\n,\n \nfeed_dict\n=\n{\na\n:\n \n3\n,\n \nb\n:\n \n3\n})\n \n# 9.0 feed_dictgraph\u4e2d\u7684\u5143\u7d20\u548c\u503c\u7684\u6620\u5c04\n\n        \nprint\n \nsess\n.\nrun\n(\nfetches\n=\n[\nb\n,\ny1\n],\n \nfeed_dict\n=\n{\na\n:\n \n3\n,\n \nb\n:\n \n3\n},\n \noptions\n=\nNone\n,\n \nrun_metadata\n=\nNone\n)\n \n# \u4f20\u5165\u7684feches\u548c\u8fd4\u56de\u503c\u7684shape\u76f8\u540c\n\n        \nprint\n \nsess\n.\nrun\n({\nret_name\n:\ny1\n},\n \nfeed_dict\n=\n{\na\n:\n \n3\n,\n \nb\n:\n \n3\n})\n \n# {\nret_name\n: 9.0} \u4f20\u5165\u7684feches\u548c\u8fd4\u56de\u503c\u7684shape\u76f8\u540c\n\n\n        \nassert\n \ntf\n.\nget_default_session\n()\n \nis\n \nnot\n \nsess\n\n        \nwith\n \nsess\n.\nas_default\n():\n \n# \u628asess\u4f5c\u4e3a\u9ed8\u8ba4\u7684session\uff0c\u90a3\u4e48tf.get_default_session\u5c31\u662fsess, \u5426\u5219\u4e0d\u662f\n\n            \nassert\n \ntf\n.\nget_default_session\n()\n \nis\n \nsess\n\n\n        \nh\n \n=\n \nsess\n.\npartial_run_setup\n([\ny1\n,\n \ny2\n],\n \n[\na\n,\n \nb\n,\n \nc\n])\n \n# \u5206\u9636\u6bb5\u8fd0\u884c\uff0c\u53c2\u6570\u6307\u660e\u4e86feches\u548cfeed_dict\u5217\u8868\n\n        \nres\n \n=\n \nsess\n.\npartial_run\n(\nh\n,\n \ny1\n,\n \nfeed_dict\n=\n{\na\n:\n \n3\n,\n \nb\n:\n \n4\n})\n \n# 12 \u8fd0\u884c\u7b2c\u4e00\u9636\u6bb5\n\n        \nres\n \n=\n \nsess\n.\npartial_run\n(\nh\n,\n \ny2\n,\n \nfeed_dict\n=\n{\nc\n:\n \nres\n})\n \n# 144.0 \u8fd0\u884c\u7b2c\u4e8c\u9636\u6bb5\uff0c\u5176\u4e2d\u4f7f\u7528\u4e86\u7b2c\u4e00\u9636\u6bb5\u7684\u6267\u884c\u7ed3\u679c\n\n        \nprint\n \npartial_run res:\n,\n \nres\n\n        \nsess\n.\nclose\n()\n\n\n\n\n\n\n\n\u8f93\u51fa\u5982\u4e0b\uff1a\n\n\n  1\n  2\n  3\n  4\n  5\n  6\n  7\n  8\n  9\n 10\n 11\n 12\n 13\n 14\n 15\n 16\n 17\n 18\n 19\n 20\n 21\n 22\n 23\n 24\n 25\n 26\n 27\n 28\n 29\n 30\n 31\n 32\n 33\n 34\n 35\n 36\n 37\n 38\n 39\n 40\n 41\n 42\n 43\n 44\n 45\n 46\n 47\n 48\n 49\n 50\n 51\n 52\n 53\n 54\n 55\n 56\n 57\n 58\n 59\n 60\n 61\n 62\n 63\n 64\n 65\n 66\n 67\n 68\n 69\n 70\n 71\n 72\n 73\n 74\n 75\n 76\n 77\n 78\n 79\n 80\n 81\n 82\n 83\n 84\n 85\n 86\n 87\n 88\n 89\n 90\n 91\n 92\n 93\n 94\n 95\n 96\n 97\n 98\n 99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n122\n123\n124\n125\n126\n127\n128\n129\n130\n131\n132\n133\n134\n135\n136\n137\n138\n139\n140\n141\n142\n143\n144\n145\n146\n147\n148\n149\n150\n151\n152\n153\n154\n155\n156\n157\n158\n159\n160\n161\n162\n163\n164\n165\n166\n167\n168\n169\n170\n171\n172\n173\n174\n175\n176\n177\n178\n179\n180\n181\n182\n183\n184\n185\ngraph\n \nversion\n:\n \n0\n\n\nname\n:\n \nmyscope/Placeholder\n\n\nop\n:\n \nPlaceholder\n\n\nattr\n \n{\n\n  \nkey\n:\n \ndtype\n\n  \nvalue\n \n{\n\n    \ntype\n:\n \nDT_FLOAT\n\n  \n}\n\n\n}\n\n\nattr\n \n{\n\n  \nkey\n:\n \nshape\n\n  \nvalue\n \n{\n\n    \nshape\n \n{\n\n    \n}\n\n  \n}\n\n\n}\n\n\n\ngraph\n \nversion\n:\n \n1\n\n\ngraph\n \nversion\n:\n \n2\n\n\ngraph\n \nversion\n:\n \n3\n\n\ngraph\n \nversion\n:\n \n4\n\n\ngraph\n \nversion\n:\n \n5\n\n\n============\n \noperation\n \n1\n \n===========\n\n\nname\n:\n \nmyscope/Placeholder\n\n\nop\n:\n \nPlaceholder\n\n\nattr\n \n{\n\n  \nkey\n:\n \ndtype\n\n  \nvalue\n \n{\n\n    \ntype\n:\n \nDT_FLOAT\n\n  \n}\n\n\n}\n\n\nattr\n \n{\n\n  \nkey\n:\n \nshape\n\n  \nvalue\n \n{\n\n    \nshape\n \n{\n\n    \n}\n\n  \n}\n\n\n}\n\n\n\n============\n \noperation\n \n2\n \n===========\n\n\nname\n:\n \nmyscope/Placeholder_1\n\n\nop\n:\n \nPlaceholder\n\n\nattr\n \n{\n\n  \nkey\n:\n \ndtype\n\n  \nvalue\n \n{\n\n    \ntype\n:\n \nDT_FLOAT\n\n  \n}\n\n\n}\n\n\nattr\n \n{\n\n  \nkey\n:\n \nshape\n\n  \nvalue\n \n{\n\n    \nshape\n \n{\n\n    \n}\n\n  \n}\n\n\n}\n\n\n\n============\n \noperation\n \n3\n \n===========\n\n\nname\n:\n \nmyscope/Placeholder_2\n\n\nop\n:\n \nPlaceholder\n\n\nattr\n \n{\n\n  \nkey\n:\n \ndtype\n\n  \nvalue\n \n{\n\n    \ntype\n:\n \nDT_FLOAT\n\n  \n}\n\n\n}\n\n\nattr\n \n{\n\n  \nkey\n:\n \nshape\n\n  \nvalue\n \n{\n\n    \nshape\n \n{\n\n    \n}\n\n  \n}\n\n\n}\n\n\n\n============\n \noperation\n \n4\n \n===========\n\n\nname\n:\n \nmyscope/Mul\n\n\nop\n:\n \nMul\n\n\ninput\n:\n \nmyscope/Placeholder\n\n\ninput\n:\n \nmyscope/Placeholder_1\n\n\nattr\n \n{\n\n  \nkey\n:\n \nT\n\n  \nvalue\n \n{\n\n    \ntype\n:\n \nDT_FLOAT\n\n  \n}\n\n\n}\n\n\n\n============\n \noperation\n \n5\n \n===========\n\n\nname\n:\n \nmyscope/Mul_1\n\n\nop\n:\n \nMul\n\n\ninput\n:\n \nmyscope/Mul\n\n\ninput\n:\n \nmyscope/Placeholder_2\n\n\nattr\n \n{\n\n  \nkey\n:\n \nT\n\n  \nvalue\n \n{\n\n    \ntype\n:\n \nDT_FLOAT\n\n  \n}\n\n\n}\n\n\n\n================\n \ngraph\n \nobject\n \naddress\n \n================\n\n\ntensorflow\n.\npython\n.\nframework\n.\nops\n.\nGraph\n \nobject\n \nat\n \n0x1138702d0\n\n\n================\n \ngraph\n \ndefine\n \n================\n\n\nnode\n \n{\n\n  \nname\n:\n \nmyscope/Placeholder\n\n  \nop\n:\n \nPlaceholder\n\n  \nattr\n \n{\n\n    \nkey\n:\n \ndtype\n\n    \nvalue\n \n{\n\n      \ntype\n:\n \nDT_FLOAT\n\n    \n}\n\n  \n}\n\n  \nattr\n \n{\n\n    \nkey\n:\n \nshape\n\n    \nvalue\n \n{\n\n      \nshape\n \n{\n\n      \n}\n\n    \n}\n\n  \n}\n\n\n}\n\n\nnode\n \n{\n\n  \nname\n:\n \nmyscope/Placeholder_1\n\n  \nop\n:\n \nPlaceholder\n\n  \nattr\n \n{\n\n    \nkey\n:\n \ndtype\n\n    \nvalue\n \n{\n\n      \ntype\n:\n \nDT_FLOAT\n\n    \n}\n\n  \n}\n\n  \nattr\n \n{\n\n    \nkey\n:\n \nshape\n\n    \nvalue\n \n{\n\n      \nshape\n \n{\n\n      \n}\n\n    \n}\n\n  \n}\n\n\n}\n\n\nnode\n \n{\n\n  \nname\n:\n \nmyscope/Placeholder_2\n\n  \nop\n:\n \nPlaceholder\n\n  \nattr\n \n{\n\n    \nkey\n:\n \ndtype\n\n    \nvalue\n \n{\n\n      \ntype\n:\n \nDT_FLOAT\n\n    \n}\n\n  \n}\n\n  \nattr\n \n{\n\n    \nkey\n:\n \nshape\n\n    \nvalue\n \n{\n\n      \nshape\n \n{\n\n      \n}\n\n    \n}\n\n  \n}\n\n\n}\n\n\nnode\n \n{\n\n  \nname\n:\n \nmyscope/Mul\n\n  \nop\n:\n \nMul\n\n  \ninput\n:\n \nmyscope/Placeholder\n\n  \ninput\n:\n \nmyscope/Placeholder_1\n\n  \nattr\n \n{\n\n    \nkey\n:\n \nT\n\n    \nvalue\n \n{\n\n      \ntype\n:\n \nDT_FLOAT\n\n    \n}\n\n  \n}\n\n\n}\n\n\nnode\n \n{\n\n  \nname\n:\n \nmyscope/Mul_1\n\n  \nop\n:\n \nMul\n\n  \ninput\n:\n \nmyscope/Mul\n\n  \ninput\n:\n \nmyscope/Placeholder_2\n\n  \nattr\n \n{\n\n    \nkey\n:\n \nT\n\n    \nvalue\n \n{\n\n      \ntype\n:\n \nDT_FLOAT\n\n    \n}\n\n  \n}\n\n\n}\n\n\nversions\n \n{\n\n  \nproducer\n:\n \n15\n\n\n}\n\n\n\n================\n \nsess\n \nstr\n \n================\n\n\n\n9.0\n\n\n[\narray\n(\n3.0\n,\n \ndtype\n=\nfloat32\n),\n \n9.0\n]\n\n\n{\nret_name\n:\n \n9.0\n}\n\n\npartial_run\n \nres\n:\n \n144.0\n\n\n\n\n\n\n\ntensorflow\u7684Session\u662f\u5982\u4f55\u5de5\u4f5c\u7684\n\n\nSession\u662fGraph\u548c\u6267\u884c\u8005\u4e4b\u95f4\u7684\u5a92\u4ecb\uff0cSession.run()\u5b9e\u9645\u4e0a\u5c06graph\u3001fetches\u3001feed_dict\u5e8f\u5217\u5316\u5230\u5b57\u8282\u6570\u7ec4\u4e2d\uff0c\u5e76\u8c03\u7528tf_session.TF_Run\uff08\u53c2\u89c1/usr/local/lib/python2.7/site-packages/tensorflow/python/client/session.py\uff09\n\n\n\u800c\u8fd9\u91cc\u7684tf_session.TF_Run\u5b9e\u9645\u4e0a\u8c03\u7528\u4e86\u52a8\u6001\u94fe\u63a5\u5e93_pywrap_tensorflow.so\u4e2d\u5b9e\u73b0\u7684_pywrap_tensorflow.TF_Run\u63a5\u53e3(\u53c2\u89c1/usr/local/lib/python2.7/site-packages/tensorflow/python/pywrap_tensorflow.py)\uff0c\u8fd9\u4e2a\u52a8\u6001\u94fe\u63a5\u5e93\u662ftensorflow\u63d0\u4f9b\u7684\u8bf8\u591a\u8bed\u8a00\u63a5\u53e3\u4e2dpython\u8bed\u8a00\u7684\u63a5\u53e3\n\n\n\u4e8b\u5b9e\u4e0a\u8fd9\u91cc\u7684_pywrap_tensorflow.so\u548cpywrap_tensorflow.py\u662f\u901a\u8fc7SWIG\u5de5\u5177\u81ea\u52a8\u751f\u6210\uff0c\u5927\u5bb6\u90fd\u77e5\u9053tensorflow\u6838\u5fc3\u8bed\u8a00\u662fc\u8bed\u8a00\uff0c\u8fd9\u91cc\u662f\u901a\u8fc7SWIG\u751f\u6210\u4e86\u5404\u79cd\u811a\u672c\u8bed\u8a00\u7684\u63a5\u53e3", 
            "title": "\u4e09\u5341\u516d-tensorflow\u7684session\u548cgraph"
        }, 
        {
            "location": "/36.tensorflow-session-graph/#tensorflow", 
            "text": "1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15 import   tensorflow   as   tf  sess   =   tf . Session ()  a   =   tf . placeholder ( float )  b   =   tf . placeholder ( float )  c   =   tf . constant ( 6.0 )  d   =   tf . mul ( a ,   b )  y   =   tf . mul ( d ,   c )  print   sess . run ( y ,   feed_dict = { a :   3 ,   b :   3 })  A   =   [[ 1.1 , 2.3 ],[ 3.4 , 4.1 ]]  Y   =   tf . matrix_inverse ( A )  print   sess . run ( Y )  sess . close ()    \u4e3b\u8981\u6570\u5b57\u8fd0\u7b97\u8fd8\u5305\u62ec\uff1a   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19 tf.add\ntf.sub\ntf.mul\ntf.div\ntf.mod\ntf.abs\ntf.neg\ntf.sign\ntf.inv\ntf.square\ntf.round\ntf.sqrt\ntf.pow\ntf.exp\ntf.log\ntf.maximum\ntf.minimum\ntf.cos\ntf.sin   \u4e3b\u8981\u77e9\u9635\u8fd0\u7b97\u8fd8\u5305\u62ec\uff1a  1\n2\n3\n4\n5 tf.diag\u751f\u6210\u5bf9\u89d2\u9635\ntf.transpose\ntf.matmul\ntf.matrix_determinant\u8ba1\u7b97\u884c\u5217\u5f0f\u7684\u503c\ntf.matrix_inverse\u8ba1\u7b97\u77e9\u9635\u7684\u9006   \u63d2\u64ad\u5c0f\u751c\u70b9\uff1atensorboard\u4f7f\u7528\ntensorflow\u56e0\u4e3a\u4ee3\u7801\u6267\u884c\u8fc7\u7a0b\u662f\u5148\u6784\u5efa\u56fe\uff0c\u7136\u540e\u5728\u6267\u884c\uff0c\u6240\u4ee5\u5bf9\u4e2d\u95f4\u8fc7\u7a0b\u7684\u8c03\u8bd5\u4e0d\u592a\u65b9\u4fbf\uff0c\u6240\u4ee5\u63d0\u4f9b\u4e86\u4e00\u4e2atensorboard\u5de5\u5177\u6765\u4fbf\u4e8e\u8c03\u8bd5\uff0c\u7528\u6cd5\u5982\u4e0b\uff1a  \u5728\u8bad\u7ec3\u65f6\u4f1a\u63d0\u793a\u5199\u5165\u4e8b\u4ef6\u6587\u4ef6\u5230\u54ea\u4e2a\u76ee\u5f55(\u6bd4\u5982\uff1a/tmp/tflearn_logs/11U8M4/)  \u6267\u884c\u5982\u4e0b\u547d\u4ee4\u5e76\u6253\u5f00http://192.168.1.101:6006\u5c31\u80fd\u770b\u5230tensorboard\u7684\u754c\u9762   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50 tensorboard   -- logdir =/ tmp / tflearn_logs / 11 U8M4 / \n  `` `  ### \u4ec0\u4e48\u662fGraph\u548cSession  \u4e3a\u4e86\u6b65\u5165\u6b63\u9898\uff0c\u6211\u4eec\u901a\u8fc7\u4e00\u6bb5\u4ee3\u7801\u6765\u5c55\u793a Graph \u548c Session \u7684\u4f7f\u7528  `` ` python  import   tensorflow   as   tf  with   tf . Graph () . as_default ()   as   g : \n     with   g . name_scope ( myscope )   as   scope :   # \u6709\u4e86\u8fd9\u4e2ascope\uff0c\u4e0b\u9762\u7684op\u7684name\u90fd\u662f\u7c7b\u4f3cmyscope/Placeholder\u8fd9\u6837\u7684\u524d\u7f00 \n         sess   =   tf . Session ( target = ,   graph   =   g ,   config = None )   # target\u8868\u793a\u8981\u8fde\u63a5\u7684tf\u6267\u884c\u5f15\u64ce \n         print   graph version: ,   g . version   # 0 \n         a   =   tf . placeholder ( float ) \n         print   a . op   # \u8f93\u51fa\u6574\u4e2aoperation\u4fe1\u606f\uff0c\u8ddf\u4e0b\u9762g.get_operations\u8fd4\u56de\u7ed3\u679c\u4e00\u6837 \n         print   graph version: ,   g . version   # 1 \n         b   =   tf . placeholder ( float ) \n         print   graph version: ,   g . version   # 2 \n         c   =   tf . placeholder ( float ) \n         print   graph version: ,   g . version   # 3 \n         y1   =   tf . mul ( a ,   b )   # \u4e5f\u53ef\u4ee5\u5199\u6210a * b \n         print   graph version: ,   g . version   # 4 \n         y2   =   tf . mul ( y1 ,   c )   # \u4e5f\u53ef\u4ee5\u5199\u6210y1 * c \n         print   graph version: ,   g . version   # 5 \n         operations   =   g . get_operations () \n         for   ( i ,   op )   in   enumerate ( operations ): \n             print   ============ operation ,   i + 1 ,   =========== \n             print   op   # \u4e00\u4e2a\u7ed3\u6784\uff0c\u5305\u62ec\uff1aname\u3001op\u3001attr\u3001input\u7b49,\u4e0d\u540cop\u4e0d\u4e00\u6837 \n         assert   y1 . graph   is   g \n         assert   sess . graph   is   g \n         print   ================ graph object address ================ \n         print   sess . graph \n         print   ================ graph define ================ \n         print   sess . graph_def \n         print   ================ sess str ================ \n         print   sess . sess_str \n         print   sess . run ( y1 ,   feed_dict = { a :   3 ,   b :   3 })   # 9.0 feed_dictgraph\u4e2d\u7684\u5143\u7d20\u548c\u503c\u7684\u6620\u5c04 \n         print   sess . run ( fetches = [ b , y1 ],   feed_dict = { a :   3 ,   b :   3 },   options = None ,   run_metadata = None )   # \u4f20\u5165\u7684feches\u548c\u8fd4\u56de\u503c\u7684shape\u76f8\u540c \n         print   sess . run ({ ret_name : y1 },   feed_dict = { a :   3 ,   b :   3 })   # { ret_name : 9.0} \u4f20\u5165\u7684feches\u548c\u8fd4\u56de\u503c\u7684shape\u76f8\u540c \n\n         assert   tf . get_default_session ()   is   not   sess \n         with   sess . as_default ():   # \u628asess\u4f5c\u4e3a\u9ed8\u8ba4\u7684session\uff0c\u90a3\u4e48tf.get_default_session\u5c31\u662fsess, \u5426\u5219\u4e0d\u662f \n             assert   tf . get_default_session ()   is   sess \n\n         h   =   sess . partial_run_setup ([ y1 ,   y2 ],   [ a ,   b ,   c ])   # \u5206\u9636\u6bb5\u8fd0\u884c\uff0c\u53c2\u6570\u6307\u660e\u4e86feches\u548cfeed_dict\u5217\u8868 \n         res   =   sess . partial_run ( h ,   y1 ,   feed_dict = { a :   3 ,   b :   4 })   # 12 \u8fd0\u884c\u7b2c\u4e00\u9636\u6bb5 \n         res   =   sess . partial_run ( h ,   y2 ,   feed_dict = { c :   res })   # 144.0 \u8fd0\u884c\u7b2c\u4e8c\u9636\u6bb5\uff0c\u5176\u4e2d\u4f7f\u7528\u4e86\u7b2c\u4e00\u9636\u6bb5\u7684\u6267\u884c\u7ed3\u679c \n         print   partial_run res: ,   res \n         sess . close ()    \u8f93\u51fa\u5982\u4e0b\uff1a    1\n  2\n  3\n  4\n  5\n  6\n  7\n  8\n  9\n 10\n 11\n 12\n 13\n 14\n 15\n 16\n 17\n 18\n 19\n 20\n 21\n 22\n 23\n 24\n 25\n 26\n 27\n 28\n 29\n 30\n 31\n 32\n 33\n 34\n 35\n 36\n 37\n 38\n 39\n 40\n 41\n 42\n 43\n 44\n 45\n 46\n 47\n 48\n 49\n 50\n 51\n 52\n 53\n 54\n 55\n 56\n 57\n 58\n 59\n 60\n 61\n 62\n 63\n 64\n 65\n 66\n 67\n 68\n 69\n 70\n 71\n 72\n 73\n 74\n 75\n 76\n 77\n 78\n 79\n 80\n 81\n 82\n 83\n 84\n 85\n 86\n 87\n 88\n 89\n 90\n 91\n 92\n 93\n 94\n 95\n 96\n 97\n 98\n 99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n122\n123\n124\n125\n126\n127\n128\n129\n130\n131\n132\n133\n134\n135\n136\n137\n138\n139\n140\n141\n142\n143\n144\n145\n146\n147\n148\n149\n150\n151\n152\n153\n154\n155\n156\n157\n158\n159\n160\n161\n162\n163\n164\n165\n166\n167\n168\n169\n170\n171\n172\n173\n174\n175\n176\n177\n178\n179\n180\n181\n182\n183\n184\n185 graph   version :   0  name :   myscope/Placeholder  op :   Placeholder  attr   { \n   key :   dtype \n   value   { \n     type :   DT_FLOAT \n   }  }  attr   { \n   key :   shape \n   value   { \n     shape   { \n     } \n   }  }  graph   version :   1  graph   version :   2  graph   version :   3  graph   version :   4  graph   version :   5  ============   operation   1   ===========  name :   myscope/Placeholder  op :   Placeholder  attr   { \n   key :   dtype \n   value   { \n     type :   DT_FLOAT \n   }  }  attr   { \n   key :   shape \n   value   { \n     shape   { \n     } \n   }  }  ============   operation   2   ===========  name :   myscope/Placeholder_1  op :   Placeholder  attr   { \n   key :   dtype \n   value   { \n     type :   DT_FLOAT \n   }  }  attr   { \n   key :   shape \n   value   { \n     shape   { \n     } \n   }  }  ============   operation   3   ===========  name :   myscope/Placeholder_2  op :   Placeholder  attr   { \n   key :   dtype \n   value   { \n     type :   DT_FLOAT \n   }  }  attr   { \n   key :   shape \n   value   { \n     shape   { \n     } \n   }  }  ============   operation   4   ===========  name :   myscope/Mul  op :   Mul  input :   myscope/Placeholder  input :   myscope/Placeholder_1  attr   { \n   key :   T \n   value   { \n     type :   DT_FLOAT \n   }  }  ============   operation   5   ===========  name :   myscope/Mul_1  op :   Mul  input :   myscope/Mul  input :   myscope/Placeholder_2  attr   { \n   key :   T \n   value   { \n     type :   DT_FLOAT \n   }  }  ================   graph   object   address   ================  tensorflow . python . framework . ops . Graph   object   at   0x1138702d0  ================   graph   define   ================  node   { \n   name :   myscope/Placeholder \n   op :   Placeholder \n   attr   { \n     key :   dtype \n     value   { \n       type :   DT_FLOAT \n     } \n   } \n   attr   { \n     key :   shape \n     value   { \n       shape   { \n       } \n     } \n   }  }  node   { \n   name :   myscope/Placeholder_1 \n   op :   Placeholder \n   attr   { \n     key :   dtype \n     value   { \n       type :   DT_FLOAT \n     } \n   } \n   attr   { \n     key :   shape \n     value   { \n       shape   { \n       } \n     } \n   }  }  node   { \n   name :   myscope/Placeholder_2 \n   op :   Placeholder \n   attr   { \n     key :   dtype \n     value   { \n       type :   DT_FLOAT \n     } \n   } \n   attr   { \n     key :   shape \n     value   { \n       shape   { \n       } \n     } \n   }  }  node   { \n   name :   myscope/Mul \n   op :   Mul \n   input :   myscope/Placeholder \n   input :   myscope/Placeholder_1 \n   attr   { \n     key :   T \n     value   { \n       type :   DT_FLOAT \n     } \n   }  }  node   { \n   name :   myscope/Mul_1 \n   op :   Mul \n   input :   myscope/Mul \n   input :   myscope/Placeholder_2 \n   attr   { \n     key :   T \n     value   { \n       type :   DT_FLOAT \n     } \n   }  }  versions   { \n   producer :   15  }  ================   sess   str   ================  9.0  [ array ( 3.0 ,   dtype = float32 ),   9.0 ]  { ret_name :   9.0 }  partial_run   res :   144.0", 
            "title": "tensorflow\u4e2d\u7684\u57fa\u672c\u6570\u5b66\u8fd0\u7b97\u7528\u6cd5"
        }, 
        {
            "location": "/36.tensorflow-session-graph/#tensorflowsession", 
            "text": "Session\u662fGraph\u548c\u6267\u884c\u8005\u4e4b\u95f4\u7684\u5a92\u4ecb\uff0cSession.run()\u5b9e\u9645\u4e0a\u5c06graph\u3001fetches\u3001feed_dict\u5e8f\u5217\u5316\u5230\u5b57\u8282\u6570\u7ec4\u4e2d\uff0c\u5e76\u8c03\u7528tf_session.TF_Run\uff08\u53c2\u89c1/usr/local/lib/python2.7/site-packages/tensorflow/python/client/session.py\uff09  \u800c\u8fd9\u91cc\u7684tf_session.TF_Run\u5b9e\u9645\u4e0a\u8c03\u7528\u4e86\u52a8\u6001\u94fe\u63a5\u5e93_pywrap_tensorflow.so\u4e2d\u5b9e\u73b0\u7684_pywrap_tensorflow.TF_Run\u63a5\u53e3(\u53c2\u89c1/usr/local/lib/python2.7/site-packages/tensorflow/python/pywrap_tensorflow.py)\uff0c\u8fd9\u4e2a\u52a8\u6001\u94fe\u63a5\u5e93\u662ftensorflow\u63d0\u4f9b\u7684\u8bf8\u591a\u8bed\u8a00\u63a5\u53e3\u4e2dpython\u8bed\u8a00\u7684\u63a5\u53e3  \u4e8b\u5b9e\u4e0a\u8fd9\u91cc\u7684_pywrap_tensorflow.so\u548cpywrap_tensorflow.py\u662f\u901a\u8fc7SWIG\u5de5\u5177\u81ea\u52a8\u751f\u6210\uff0c\u5927\u5bb6\u90fd\u77e5\u9053tensorflow\u6838\u5fc3\u8bed\u8a00\u662fc\u8bed\u8a00\uff0c\u8fd9\u91cc\u662f\u901a\u8fc7SWIG\u751f\u6210\u4e86\u5404\u79cd\u811a\u672c\u8bed\u8a00\u7684\u63a5\u53e3", 
            "title": "tensorflow\u7684Session\u662f\u5982\u4f55\u5de5\u4f5c\u7684"
        }, 
        {
            "location": "/37.tensorflow-lr/", 
            "text": "\u7528\u68af\u5ea6\u4e0b\u964d\u6c42\u89e3\u7ebf\u6027\u56de\u5f52\u95ee\u9898\u662ftensorflow\u6700\u7b80\u5355\u7684\u5165\u95e8\u4f8b\u5b50\uff0810\u884c\u5173\u952e\u4ee3\u7801\uff09\uff0c\u672c\u8282\u7ed3\u5408\u4e0a\u4e00\u8282\u8bb2\u5230\u7684tensorflow\u4e2d\u7684graph\u6765\u66f4\u52a0\u5f62\u8c61\u5730\u4e86\u89e3tensorflow\u4e2d\u7684\u7ebf\u6027\u56de\u5f52\u5de5\u4f5c\u539f\u7406 \n\n\n10\u884c\u5173\u952e\u4ee3\u7801\u5b9e\u73b0\u7684\u7ebf\u6027\u56de\u5f52\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n# -*- coding: utf-8 -*-\n\n\n\nimport\n \nnumpy\n \nas\n \nnp\n\n\nimport\n \ntensorflow\n \nas\n \ntf\n\n\n\n# \u968f\u673a\u751f\u62101000\u4e2a\u70b9\uff0c\u56f4\u7ed5\u5728y=0.1x+0.3\u7684\u76f4\u7ebf\u5468\u56f4\n\n\nnum_points\n \n=\n \n1000\n\n\nvectors_set\n \n=\n \n[]\n\n\nfor\n \ni\n \nin\n \nxrange\n(\nnum_points\n):\n\n    \nx1\n \n=\n \nnp\n.\nrandom\n.\nnormal\n(\n0.0\n,\n \n0.55\n)\n\n    \ny1\n \n=\n \nx1\n \n*\n \n0.1\n \n+\n \n0.3\n \n+\n \nnp\n.\nrandom\n.\nnormal\n(\n0.0\n,\n \n0.03\n)\n\n    \nvectors_set\n.\nappend\n([\nx1\n,\n \ny1\n])\n\n\n\n# \u751f\u6210\u4e00\u4e9b\u6837\u672c\n\n\nx_data\n \n=\n \n[\nv\n[\n0\n]\n \nfor\n \nv\n \nin\n \nvectors_set\n]\n\n\ny_data\n \n=\n \n[\nv\n[\n1\n]\n \nfor\n \nv\n \nin\n \nvectors_set\n]\n\n\n\n\n# \u751f\u62101\u7ef4\u7684W\u77e9\u9635\uff0c\u53d6\u503c\u662f[-1,1]\u4e4b\u95f4\u7684\u968f\u673a\u6570\n\n\nW\n \n=\n \ntf\n.\nVariable\n(\ntf\n.\nrandom_uniform\n([\n1\n],\n \n-\n1.0\n,\n \n1.0\n),\n \nname\n=\nW\n)\n\n\n# \u751f\u62101\u7ef4\u7684b\u77e9\u9635\uff0c\u521d\u59cb\u503c\u662f0\n\n\nb\n \n=\n \ntf\n.\nVariable\n(\ntf\n.\nzeros\n([\n1\n]),\n \nname\n=\nb\n)\n\n\n# \u7ecf\u8fc7\u8ba1\u7b97\u5f97\u51fa\u9884\u4f30\u503cy\n\n\ny\n \n=\n \nW\n \n*\n \nx_data\n \n+\n \nb\n\n\n\n# \u4ee5\u9884\u4f30\u503cy\u548c\u5b9e\u9645\u503cy_data\u4e4b\u95f4\u7684\u5747\u65b9\u8bef\u5dee\u4f5c\u4e3a\u635f\u5931\n\n\nloss\n \n=\n \ntf\n.\nreduce_mean\n(\ntf\n.\nsquare\n(\ny\n \n-\n \ny_data\n),\n \nname\n=\nloss\n)\n\n\n# \u91c7\u7528\u68af\u5ea6\u4e0b\u964d\u6cd5\u6765\u4f18\u5316\u53c2\u6570\n\n\noptimizer\n \n=\n \ntf\n.\ntrain\n.\nGradientDescentOptimizer\n(\n0.5\n)\n\n\n# \u8bad\u7ec3\u7684\u8fc7\u7a0b\u5c31\u662f\u6700\u5c0f\u5316\u8fd9\u4e2a\u8bef\u5dee\u503c\n\n\ntrain\n \n=\n \noptimizer\n.\nminimize\n(\nloss\n,\n \nname\n=\ntrain\n)\n\n\n\nsess\n \n=\n \ntf\n.\nSession\n()\n\n\n# \u8f93\u51fa\u56fe\u7ed3\u6784\n\n\n#print sess.graph_def\n\n\n\ninit\n \n=\n \ntf\n.\ninitialize_all_variables\n()\n\n\nsess\n.\nrun\n(\ninit\n)\n\n\n\n# \u521d\u59cb\u5316\u7684W\u548cb\u662f\u591a\u5c11\n\n\nprint\n \nW =\n,\n \nsess\n.\nrun\n(\nW\n),\n \nb =\n,\n \nsess\n.\nrun\n(\nb\n),\n \nloss =\n,\n \nsess\n.\nrun\n(\nloss\n)\n\n\n# \u6267\u884c20\u6b21\u8bad\u7ec3\n\n\nfor\n \nstep\n \nin\n \nxrange\n(\n20\n):\n\n    \nsess\n.\nrun\n(\ntrain\n)\n\n    \n# \u8f93\u51fa\u8bad\u7ec3\u597d\u7684W\u548cb\n\n    \nprint\n \nW =\n,\n \nsess\n.\nrun\n(\nW\n),\n \nb =\n,\n \nsess\n.\nrun\n(\nb\n),\n \nloss =\n,\n \nsess\n.\nrun\n(\nloss\n)\n\n\n# \u751f\u6210summary\u6587\u4ef6\uff0c\u7528\u4e8etensorboard\u4f7f\u7528\n\n\nwriter\n \n=\n \ntf\n.\ntrain\n.\nSummaryWriter\n(\n./tmp\n,\n \nsess\n.\ngraph\n)\n\n\n\n\n\n\n\n\u6574\u4e2a\u6536\u655b\u8fc7\u7a0b\u53ef\u4ee5\u4ece\u8f93\u51fa\u7ed3\u679c\u4e2d\u770b\u51fa\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\nW\n \n=\n \n[\n-\n0.67839384\n]\n \nb\n \n=\n \n[\n \n0.\n]\n \nloss\n \n=\n \n0.293898\n\n\nW\n \n=\n \n[\n-\n0.41792655\n]\n \nb\n \n=\n \n[\n \n0.30027848\n]\n \nloss\n \n=\n \n0.0907883\n\n\nW\n \n=\n \n[\n-\n0.24463286\n]\n \nb\n \n=\n \n[\n \n0.30015084\n]\n \nloss\n \n=\n \n0.0407606\n\n\nW\n \n=\n \n[\n-\n0.12923941\n]\n \nb\n \n=\n \n[\n \n0.30006593\n]\n \nloss\n \n=\n \n0.0185783\n\n\nW\n \n=\n \n[\n-\n0.05240078\n]\n \nb\n \n=\n \n[\n \n0.30000937\n]\n \nloss\n \n=\n \n0.00874262\n\n\nW\n \n=\n \n[\n-\n0.00123519\n]\n \nb\n \n=\n \n[\n \n0.29997173\n]\n \nloss\n \n=\n \n0.00438147\n\n\nW\n \n=\n \n[\n \n0.03283515\n]\n \nb\n \n=\n \n[\n \n0.29994667\n]\n \nloss\n \n=\n \n0.00244773\n\n\nW\n \n=\n \n[\n \n0.05552204\n]\n \nb\n \n=\n \n[\n \n0.29992998\n]\n \nloss\n \n=\n \n0.00159031\n\n\nW\n \n=\n \n[\n \n0.07062886\n]\n \nb\n \n=\n \n[\n \n0.29991883\n]\n \nloss\n \n=\n \n0.00121013\n\n\nW\n \n=\n \n[\n \n0.08068825\n]\n \nb\n \n=\n \n[\n \n0.29991144\n]\n \nloss\n \n=\n \n0.00104155\n\n\nW\n \n=\n \n[\n \n0.08738664\n]\n \nb\n \n=\n \n[\n \n0.29990652\n]\n \nloss\n \n=\n \n0.000966807\n\n\nW\n \n=\n \n[\n \n0.09184699\n]\n \nb\n \n=\n \n[\n \n0.29990324\n]\n \nloss\n \n=\n \n0.000933665\n\n\nW\n \n=\n \n[\n \n0.09481706\n]\n \nb\n \n=\n \n[\n \n0.29990104\n]\n \nloss\n \n=\n \n0.00091897\n\n\nW\n \n=\n \n[\n \n0.09679478\n]\n \nb\n \n=\n \n[\n \n0.29989958\n]\n \nloss\n \n=\n \n0.000912454\n\n\nW\n \n=\n \n[\n \n0.09811172\n]\n \nb\n \n=\n \n[\n \n0.29989862\n]\n \nloss\n \n=\n \n0.000909564\n\n\nW\n \n=\n \n[\n \n0.09898864\n]\n \nb\n \n=\n \n[\n \n0.29989797\n]\n \nloss\n \n=\n \n0.000908283\n\n\nW\n \n=\n \n[\n \n0.09957258\n]\n \nb\n \n=\n \n[\n \n0.29989755\n]\n \nloss\n \n=\n \n0.000907715\n\n\nW\n \n=\n \n[\n \n0.09996141\n]\n \nb\n \n=\n \n[\n \n0.29989725\n]\n \nloss\n \n=\n \n0.000907463\n\n\nW\n \n=\n \n[\n \n0.10022032\n]\n \nb\n \n=\n \n[\n \n0.29989707\n]\n \nloss\n \n=\n \n0.000907352\n\n\nW\n \n=\n \n[\n \n0.10039273\n]\n \nb\n \n=\n \n[\n \n0.29989696\n]\n \nloss\n \n=\n \n0.000907302\n\n\nW\n \n=\n \n[\n \n0.10050753\n]\n \nb\n \n=\n \n[\n \n0.29989687\n]\n \nloss\n \n=\n \n0.00090728\n\n\n\n\n\n\n\n\u4e00\u5f20\u56fe\u5c55\u793a\u7ebf\u6027\u56de\u5f52\u5de5\u4f5c\u539f\u7406\n\u6267\u884c\u4e0a\u9762\u7684\u4ee3\u7801\u540e\u4f1a\u5728\u672c\u5730\u751f\u6210\u4e00\u4e2atmp\u76ee\u5f55\uff0c\u91cc\u9762\u4f1a\u4ea7\u751f\u7528\u4e8etensorboard\u8bfb\u53d6\u7684\u6570\u636e\uff0c\u4e0b\u9762\u6211\u4eec\u6267\u884c\uff1a\n\n\n1\ntensorboard --logdir=./tmp/\n\n\n\n\n\n\n\u6253\u5f00http://localhost:6006/\u7684GRAPHS\uff0c\u5e76\u5c55\u5f00\u91cc\u9762\u7684\u4e00\u7cfb\u5217\u5173\u952e\u8282\u70b9\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a\n\n\n\u8fd9\u5f20\u56fe\u5c31\u662f\u4e0a\u9762\u8fd9\u6bb5\u4ee3\u7801\u751f\u6210\u7684graph\u7ed3\u6784\uff0c\u8fd9\u4e2agraph\u63cf\u8ff0\u4e86\u6574\u4e2a\u68af\u5ea6\u4e0b\u964d\u89e3\u51b3\u7ebf\u6027\u56de\u5f52\u95ee\u9898\u7684\u6574\u4e2a\u8fc7\u7a0b\uff0c\u6bcf\u4e00\u4e2a\u8282\u70b9\u90fd\u4ee3\u8868\u4e86\u4ee3\u7801\u4e2d\u7684\u4e00\u6b65\u64cd\u4f5c\uff0c\u6211\u4eec\u6765\u5177\u4f53\u770b\u4e00\u4e0b\u6bcf\u4e00\u90e8\u5206\u7684\u5185\u5bb9\n\n\n\u8be6\u7ec6\u5206\u6790\u7ebf\u6027\u56de\u5f52\u7684graph\n\u9996\u5148\u6765\u770b\u6211\u4eec\u8981\u8bad\u7ec3\u7684W\u548cb\uff0c\u5982\u4e0b\u56fe\uff1a\n\n\n\u6211\u4eec\u4ee3\u7801\u4e2d\u5bf9W\u5171\u6709\u4e09\u79cd\u64cd\u4f5c\uff1aAssign\u3001read\u3001train\u3002\n\n\n\u5176\u4e2dassign\u662f\u57fa\u4e8erandom_uniform\u8d4b\u503c\u7684\uff0c\u5bf9\u5e94\u7740\u4e0b\u9762\u8fd9\u53e5\u4ee3\u7801\uff1a\n\n\n1\nW\n \n=\n \ntf\n.\nVariable\n(\ntf\n.\nrandom_uniform\n([\n1\n],\n \n-\n1.0\n,\n \n1.0\n),\n \nname\n=\nW\n)\n\n\n\n\n\n\n\n\u8fd9\u91cc\u7684tf.random_uniform\u7684graph\u90e8\u5206\u5982\u4e0b\uff1a\n\n\n\u5176\u4e2dread\u5bf9\u5e94\u7684\u8fd9\u53e5\u4ee3\u7801\uff1a\n\n\n1\ny\n \n=\n \nW\n \n*\n \nx_data\n \n+\n \nb\n\n\n\n\n\n\n\n\u5176\u4e2dtrain\u5bf9\u5e94\u7684\u662f\u68af\u5ea6\u4e0b\u964d\u8bad\u7ec3\u8fc7\u7a0b\u7684\u64cd\u4f5c\n\n\n\u6211\u4eec\u4ee3\u7801\u4e2d\u5bf9b\u540c\u6837\u4e5f\u6709\u4e09\u79cd\u64cd\u4f5c\uff1aAssign\u3001read\u3001train\u3002\u4e0eW\u4e0d\u540c\u7684\u662f\u5b83\u662f\u7528zeros\u8d4b\u521d\u59cb\u5316\u503c\u7684\n\n\n\u6211\u4eec\u7684W\u548cb\u5c31\u662f\u901a\u8fc7\u68af\u5ea6\u4e0b\u964d\u8ba1\u7b97update_W\u548cupdate_b\uff0c\u4ece\u800c\u66f4\u65b0W\u548cb\u7684\u503c\u7684\u3002\u8fd9\u91cc\u7684update_W\u548cupdate_b\u90fd\u662f\u57fa\u4e8e\u4e09\u4e2a\u8f93\u5165\u6765\u8ba1\u7b97\u5f97\u51fa\u7684\uff1a\u5b66\u4e60\u7387learning_rate\u3001W/b\u5f53\u524d\u503c\u3001\u68af\u5ea6gradients\uff0c\u8fc7\u7a0b\u5982\u4e0b\u56fe\uff1a\n\n\n\u6700\u5173\u952e\u7684\u68af\u5ea6\u4e0b\u964d\u8fc7\u7a0b\u7531\u4e0b\u9762\u51e0\u4e2a\u8fc7\u7a0b\u5b9e\u73b0\uff1a\n\n\n\u4e0b\u9762\u6211\u4eec\u5206\u6790\u4e00\u4e0b\u8be6\u7ec6\u7684\u8ba1\u7b97\u8fc7\u7a0b\uff0c\u9996\u5148\u770b\u8fd9\u53e5\u4ee3\u7801\uff1a\n\n\n1\nloss\n \n=\n \ntf\n.\nreduce_mean\n(\ntf\n.\nsquare\n(\ny\n \n-\n \ny_data\n),\n \nname\n=\nloss\n)\n\n\n\n\n\n\n\n\u8fd9\u91cc\u7684y-y_data\u5bf9\u5e94\u7740\u8fd9\u90e8\u5206\uff1a\n\n\n\u90a3\u4e48tf.squre(y-y_data)\u5bf9\u5e94\u7740\u90a3\u6761\u957f\u957f\u7684\u66f2\u7ebf\n\n\n\u4e0b\u9762\u6211\u4eec\u770b\u8fd9\u91cc\uff1a\n\n\n\u8fd9\u91cc\u7684\u53f3\u4e0b\u89d2\u662f\u4ee5y-y_data\u4e3a\u8f93\u5165\u7684\uff0c\u4f46\u8fd9\u91cc\u7684x\u4e0d\u662f\u6211\u4eec\u7684x_data\uff0c\u800c\u662f\u4e00\u4e2a\u4e34\u65f6\u5e38\u91cf\uff1a2\u3002\u4e5f\u5373\u662f2(y-y_data)\uff0c\u8fd9\u660e\u663e\u662f(y-y_data)^2\u7684\u5bfc\u6570\n\n\n\u7ee7\u7eed\u5f80\u4e0a\u770b\uff1a\n\n\n\u8fd9\u91cc\u662f\u4ee52(y-y_data)\u4e3a\u8f93\u5165\u7ecf\u8fc7\u5404\u79cd\u5904\u7406\u6700\u7ec8\u751f\u6210\u53c2\u6570b\u7684\u589e\u91cfupdate_b\uff0c\u81f3\u6b64\uff0c\u6211\u4eec\u5b8c\u6210\u4e86\u4e00\u534a\u4e86\uff0c\u56e0\u4e3a\u80fd\u591f\u66f4\u65b0b\u4e86\n\n\n\u6211\u4eec\u7ee7\u7eed\u5f80\u4e0a\u770b\uff1a\n\n\n\u8fd9\u91cc\u53ef\u4ee5\u751f\u6210update_W\u7528\u6765\u66f4\u65b0W\uff0c\u53cd\u5411\u8ffd\u6eaf\u53ef\u4ee5\u770b\u51fa\u8fd9\u4e2a\u503c\u662f\u4f9d\u8d56\u4e8eadd_grad(\u4e5f\u5c31\u662f\u57fa\u4e8ey-y_data\u7684\u90e8\u5206)\u548cW\u4ee5\u53cay\u751f\u6210\u7684\uff0c\u81f3\u6b64\u68af\u5ea6\u4e0b\u964d\u6574\u4e2a\u8fc7\u7a0b\u5c31\u5206\u6790\u5b8c\u4e86\uff0c\n\n\n\u5728\u8fd9\u4e2a\u5927\u56fe\u4e2d\uff0c\u8be6\u7ec6\u8ba1\u7b97\u8fc7\u7a0b\u5982\uff1ahttp://stackoverflow.com/questions/39580427/how-does-tensorflow-calculate-the-gradients-for-the-tf-train-gradientdescentopti\u6240\u8bf4\uff0c\u4e00\u6b65\u7b80\u5355\u7684\u64cd\u4f5c\u5f88\u666e\u904d\u7684\u88abtensorflow\u8f6c\u6210\u4e86\u5f88\u591a\u4e2a\u8282\u70b9\u7684\u56fe\uff0c\u6240\u4ee5\u91cc\u9762\u6709\u4e00\u4e9b\u7ec6\u8282\u7684\u8282\u70b9\u5c31\u4e0d\u6df1\u5165\u5206\u6790\uff0c\u56e0\u4e3a\u53ea\u662f\u4e00\u4e9b\u64cd\u4f5c\u7684\u56fe\u8868\u8fbe\uff0c\u6ca1\u6709\u592a\u91cd\u8981\u7684\u610f\u4e49", 
            "title": "\u4e09\u5341\u4e03-tensorflow\u4e2d\u7684\u7ebf\u6027\u56de\u5f52"
        }, 
        {
            "location": "/38.make-chatbot/", 
            "text": "tensorflow\u81ea\u5e26\u7684seq2seq\u6a21\u578b\u57fa\u4e8eone-hot\u7684\u8bcd\u5d4c\u5165\uff0c\u6bcf\u4e2a\u8bcd\u7528\u4e00\u4e2a\u6570\u5b57\u4ee3\u66ff\u4e0d\u8db3\u4ee5\u8868\u793a\u8bcd\u4e0e\u8bcd\u4e4b\u95f4\u7684\u5173\u7cfb\uff0cword2vec\u901a\u8fc7\u591a\u7ef4\u5411\u91cf\u6765\u505a\u8bcd\u5d4c\u5165\uff0c\u80fd\u591f\u8868\u793a\u51fa\u8bcd\u4e4b\u95f4\u7684\u5173\u7cfb\uff0c\u6bd4\u5982\uff1a\u7537-\u5973\n\u738b\u5b50-\u516c\u4e3b\u3002\u57fa\u4e8eseq2seq\u7684\u601d\u60f3\uff0c\u5229\u7528\u591a\u7ef4\u8bcd\u5411\u91cf\u6765\u5b9e\u73b0\u6a21\u578b\uff0c\u9884\u671f\u4f1a\u6709\u66f4\u9ad8\u7684\u51c6\u786e\u6027\u3002 \n\n\nseq2seq\u6a21\u578b\u539f\u7406\n\n\n\u4e3b\u8981\u53c2\u8003\n\u300aSequence to Sequence Learning with Neural Networks\u300b\n\u8fd9\u7bc7\u8bba\u6587\uff0c\u6838\u5fc3\u601d\u60f3\u5982\u4e0b\u56fe\uff1a\n\n\nABC\u662f\u8f93\u5165\u8bed\u53e5\uff0cWXYZ\u662f\u8f93\u51fa\u8bed\u53e5\uff0cEOS\u662f\u6807\u8bc6\u4e00\u53e5\u8bdd\u7ed3\u675f\uff0c\u56fe\u4e2d\u7684\u8bad\u7ec3\u5355\u5143\u662flstm\uff0clstm\u7684\u7279\u70b9\u662f\u6709\u957f\u77ed\u65f6\u8bb0\u5fc6\uff0c\u6240\u4ee5\u80fd\u591f\u6839\u636e\u8f93\u5165\u7684\u591a\u4e2a\u5b57\u6765\u786e\u5b9a\u540e\u9762\u7684\u591a\u4e2a\u5b57\uff0c\u6709\u5173lstm\u7684\u77e5\u8bc6\u53ef\u4ee5\u53c2\u8003\u300ahttp://deeplearning.net/tutorial/lstm.html\u300b\n\n\n\u4e0a\u9762\u7684\u6a21\u578b\u4e2d\u7f16\u7801\u5668\u548c\u89e3\u7801\u5668\u5171\u7528\u4e86\u540c\u4e00\u4e2alstm\u5c42\uff0c\u4e5f\u5c31\u662f\u5171\u4eab\u4e86\u53c2\u6570\uff0c\u725b\u4eba\u4eec\u5c1d\u8bd5\u628a\u4ed6\u4eec\u5206\u5f00\u50cfhttps://github.com/farizrahman4u/seq2seq\u4e2d\u63d0\u5230\u7684\u6837\u5b50\uff1a\n\n\n\n\n\u5176\u4e2d\u7eff\u8272\u662f\u7f16\u7801\u5668\uff0c\u9ec4\u8272\u662f\u89e3\u7801\u5668\uff0c\u6a59\u8272\u7684\u7bad\u5934\u4f20\u9012\u7684\u662flstm\u5c42\u7684\u72b6\u6001\u4fe1\u606f\u4e5f\u5c31\u662f\u8bb0\u5fc6\u4fe1\u606f\uff0c\u7f16\u7801\u5668\u552f\u4e00\u4f20\u7ed9\u89e3\u7801\u5668\u7684\u5c31\u662f\u8fd9\u4e2a\u72b6\u6001\u4fe1\u606f\n\n\n\u6211\u4eec\u770b\u5230\u89e3\u7801\u5668\u6bcf\u4e00\u65f6\u5e8f\u7684\u8f93\u5165\u90fd\u662f\u524d\u4e00\u4e2a\u65f6\u5e8f\u7684\u8f93\u51fa\uff0c\u4ece\u6574\u4f53\u4e0a\u6765\u770b\u5c31\u662f\uff1a\u6211\u901a\u8fc7\u4e0d\u540c\u65f6\u5e8f\u8f93\u5165\u201cHow are you \n\u201d\uff0c\u6a21\u578b\u5c31\u80fd\u81ea\u52a8\u4e00\u4e2a\u5b57\u4e00\u4e2a\u5b57\u7684\u8f93\u51fa\u201cW I am fine \n\u201d\uff0c\u8fd9\u91cc\u7684W\u662f\u4e00\u4e2a\u7279\u6b8a\u7684\u6807\u8bc6\uff0c\u5b83\u65e2\u662f\u7f16\u7801\u5668\u6700\u540e\u7684\u8f93\u51fa\uff0c\u540c\u65f6\u53c8\u662f\u89e3\u7801\u5668\u7684\u4e00\u4e2a\u89e6\u53d1\u4fe1\u53f7\n\n\n\u90a3\u4e48\u6211\u4eec\u8bad\u7ec3\u7684\u65f6\u5019\u8f93\u5165\u7684X,Y\u5e94\u8be5\u662f\u4ec0\u4e48\u5462\uff1fX=\"How are you \n\"\uff0cY=\"W I am fine \n\"?\n\n\n\u8fd9\u662f\u4e0d\u884c\u7684\uff0c\u56e0\u4e3a\u5728\u89e3\u7801\u5668\u8fd8\u6ca1\u6709\u8bad\u7ec3\u51fa\u9760\u8c31\u7684\u53c2\u6570\u4e4b\u524d\uff0c\u6211\u4eec\u65e0\u6cd5\u4fdd\u8bc1\u7b2c\u4e00\u4e2a\u65f6\u5e8f\u7684\u8f93\u51fa\u5c31\u662f\u201cI\u201d\uff0c\u90a3\u4e48\u4f20\u7ed9\u7b2c\u4e8c\u4e2a\u65f6\u5e8f\u7684\u8f93\u5165\u5c31\u4e0d\u4e00\u5b9a\u662fI\uff0c\u540c\u6837\u7b2c\u4e09\u3001\u56db\u4e2a\u65f6\u5e8f\u7684\u8f93\u5165\u5c31\u65e0\u6cd5\u4fdd\u8bc1\u662fam\u548cfine\uff0c\u90a3\u4e48\u662f\u65e0\u6cd5\u8bad\u7ec3\u51fa\u60f3\u8981\u7684\u6a21\u578b\u7684\n\n\n\u6211\u4eec\u8981\u8fd9\u6837\u6765\u505a\uff1a\u6211\u4eec\u76f4\u63a5\u628a\u89e3\u7801\u5668\u4e2d\u6bcf\u4e00\u65f6\u5e8f\u7684\u8f93\u5165\u5f3a\u5236\u6539\u4e3a\"W I am fine\"\uff0c\u4e5f\u5c31\u662f\u628a\u8fd9\u90e8\u5206\u4ece\u6211\u4eec\u8bad\u7ec3\u6837\u672c\u7684\u8f93\u5165X\u4e2d\u4f20\u8fc7\u6765\uff0c\u800cY\u4f9d\u7136\u662f\u9884\u6d4b\u8f93\u51fa\u7684\"W I am fine \n\"\uff0c\u8fd9\u6837\u8bad\u7ec3\u51fa\u6765\u7684\u6a21\u578b\u5c31\u662f\u6211\u4eec\u8bbe\u8ba1\u7684\u7f16\u7801\u5668\u89e3\u7801\u5668\u6a21\u578b\u4e86\n\n\n\u90a3\u4e48\u5728\u4f7f\u7528\u8bad\u7ec3\u597d\u7684\u6a21\u578b\u505a\u9884\u6d4b\u7684\u65f6\u5019\uff0c\u6211\u4eec\u6539\u53d8\u5904\u7406\u65b9\u5f0f\uff1a\u5728\u89e3\u7801\u65f6\u4ee5\u524d\u4e00\u65f6\u5e8f\u7684\u8f93\u51fa\u4e3a\u8f93\u5165\u505a\u9884\u6d4b\uff0c\u8fd9\u6837\u5c31\u80fd\u8f93\u51fa\u6211\u4eec\u5e0c\u671b\u8f93\u51fa\u7684\"W I am fine \n\"\u4e86\n\n\n\u57fa\u4e8e\u4ee5\u4e0a\u7684\u539f\u7406\uff0c\u4e0b\u9762\u5f00\u59cb\u6211\u4eec\u7684\u5de5\u7a0b\u5b9e\u8df5\n\n\n\u8bed\u6599\u51c6\u5907\u5de5\u4f5c\n\n\n\u51c6\u5907\u81f3\u5c11300w\u7684\u804a\u5929\u8bed\u6599\u7528\u4e8e\u8bcd\u5411\u91cf\u7684\u8bad\u7ec3\u548cseq2seq\u6a21\u578b\u7684\u8bad\u7ec3\uff0c\u8bed\u6599\u8d8a\u4e30\u5bcc\u8bad\u7ec3\u51fa\u6765\u7684\u8bcd\u5411\u91cf\u8d28\u91cf\u8d8a\u597d\uff0c\u5982\u679c\u60f3\u901a\u8fc7\u5f71\u89c6\u5267\u5b57\u5e55\u6765\u83b7\u53d6\u8bed\u6599\u53ef\u4ee5\u53c2\u8003\n\u300a\u81ea\u5df1\u52a8\u624b\u505a\u804a\u5929\u673a\u5668\u4eba \u4e8c\u5341\u4e5d-\u91cd\u78c5\uff1a\u8fd11GB\u7684\u4e09\u5343\u4e07\u804a\u5929\u8bed\u6599\u4f9b\u51fa\u300b\n\n\n\u83b7\u53d6\u5230\u539f\u59cb\u8bed\u6599\u540e\u9700\u8981\u505a\u4e00\u4e9b\u52a0\u5de5\u5904\u7406\uff0c\u9996\u5148\u9700\u8981\u505a\u5207\u8bcd\uff0c\u65b9\u6cd5\u5982\u4e0b\uff1a\n\n\n1\npython word_segment.py ./corpus.raw ./corpus.segment\n\n\n\n\n\n\n\u5176\u4e2dword_segment.py\u662f\u6211\u5199\u7684\u5207\u8bcd\u5de5\u5177\uff0c\u4ec5\u4f9b\u53c2\u8003\n\n\n\u4e4b\u540e\u8981\u628a\u5207\u8bcd\u597d\u7684\u6587\u4ef6\u8f6c\u6210\u201c|\u201d\u5206\u9694\u7684\u95ee\u7b54\u5bf9\uff0c\u5982\u4e0b\uff1a\n\n\n1\ncat ./corpus.segment \n|\n awk \n{if(last!=\n)print last\n|\n$0;last=$0}\n \n|\n sed \ns/| /|/g\n \n ./corpus.segment.pair\n\n\n\n\n\n\n\u8fd9\u6837\u8bed\u6599\u51c6\u5907\u5de5\u4f5c\u5c31\u9f50\u5168\u4e86\n\n\n\u8bad\u7ec3\u8bcd\u5411\u91cf\n\n\n\u6211\u4eec\u76f4\u63a5\u5229\u7528google\u7684word2vec\u6765\u8bad\u7ec3\u8bcd\u5411\u91cf\uff0c\u5982\u4e0b\uff1a\n\n\n1\nword2vec -train ./corpus.segment -output vectors.bin -cbow \n1\n -size \n200\n -window \n8\n -negative \n25\n -hs \n0\n -sample 1e-5 -threads \n20\n -binary \n1\n -iter \n15\n\n\n\n\n\n\n\n\u5176\u4e2dcorpus.raw\u662f\u539f\u59cb\u8bed\u6599\u6570\u636e\uff0cvectors.bin\u662f\u751f\u6210\u7684\u8bcd\u5411\u91cf\u4e8c\u8fdb\u5236\u6587\u4ef6\n\n\n\u4e86\u89e3word2vec\u7684\u539f\u7406\u8bf7\u89c1\u300a\u81ea\u5df1\u52a8\u624b\u505a\u804a\u5929\u673a\u5668\u4eba \u4e8c\u5341\u4e94-google\u7684\u6587\u672c\u6316\u6398\u6df1\u5ea6\u5b66\u4e60\u5de5\u5177word2vec\u7684\u5b9e\u73b0\u539f\u7406\u300b\n\n\n\u751f\u6210\u7684\u8bcd\u5411\u91cf\u4e8c\u8fdb\u5236\u52a0\u8f7d\u65b9\u6cd5\u53ef\u4ee5\u53c2\u8003\u6211\u5199\u7684\uff1aword_vectors_loader.py\n\n\n\u521b\u5efa\u6a21\u578b\n\n\n\u4e0b\u9762\u5c31\u662f\u91cd\u70b9\u7684\u6a21\u578b\u521b\u5efa\u8fc7\u7a0b\uff0c\u8fd9\u91cc\u9762\u6211\u4eec\u76f4\u63a5\u4f7f\u7528tensorflow+tflearn\u5e93\u6765\u5b9e\u73b0\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n# \u9996\u5148\u6211\u4eec\u4e3a\u8f93\u5165\u7684\u6837\u672c\u6570\u636e\u7533\u8bf7\u53d8\u91cf\u7a7a\u95f4\uff0c\u5982\u4e0b\u3002\n\n\n# \u5176\u4e2dself.max_seq_len\u662f\u6307\u4e00\u4e2a\u5207\u597d\u8bcd\u7684\u53e5\u5b50\u6700\u591a\u5305\u542b\u591a\u5c11\u4e2a\u8bcd\uff0c\n\n\n# self.word_vec_dim\u662f\u8bcd\u5411\u91cf\u7684\u7ef4\u5ea6\uff0c\u8fd9\u91cc\u9762shape\u6307\u5b9a\u4e86\u8f93\u5165\u6570\u636e\u662f\u4e0d\u786e\u5b9a\u6570\u91cf\u7684\u6837\u672c\uff0c\n\n\n# \u6bcf\u4e2a\u6837\u672c\u6700\u591a\u5305\u542bmax_seq_len*2\u4e2a\u8bcd\uff0c\u6bcf\u4e2a\u8bcd\u7528word_vec_dim\u7ef4\u6d6e\u70b9\u6570\u8868\u793a\u3002\n\n\n# \u8fd9\u91cc\u9762\u75282\u500d\u7684max_seq_len\u662f\u56e0\u4e3a\u6211\u4eec\u8bad\u7ec3\u662f\u8f93\u5165\u7684X\u65e2\u8981\u5305\u542bquestion\u53e5\u5b50\u53c8\u8981\u5305\u542banswer\u53e5\u5b50\n\n\ninput_data\n \n=\n \ntflearn\n.\ninput_data\n(\nshape\n=\n[\nNone\n,\n \nself\n.\nmax_seq_len\n*\n2\n,\n \nself\n.\nword_vec_dim\n],\n \ndtype\n=\ntf\n.\nfloat32\n,\n \nname\n \n=\n \nXY\n)\n\n\n# \u7136\u540e\u6211\u4eec\u5c06\u8f93\u5165\u7684\u6240\u6709\u6837\u672c\u6570\u636e\u7684\u8bcd\u5e8f\u5217\u5207\u51fa\u524dmax_seq_len\u4e2a\uff0c\u4e5f\u5c31\u662fquestion\u53e5\u5b50\u90e8\u5206\uff0c\u4f5c\u4e3a\u7f16\u7801\u5668\u7684\u8f93\u5165\n\n\nencoder_inputs\n \n=\n \ntf\n.\nslice\n(\ninput_data\n,\n \n[\n0\n,\n \n0\n,\n \n0\n],\n \n[\n-\n1\n,\n \nself\n.\nmax_seq_len\n,\n \nself\n.\nword_vec_dim\n],\n \nname\n=\nenc_in\n)\n\n\n# \u518d\u53d6\u51fa\u540emax_seq_len-1\u4e2a\uff0c\u4e5f\u5c31\u662fanswer\u53e5\u5b50\u90e8\u5206\uff0c\u4f5c\u4e3a\u89e3\u7801\u5668\u7684\u8f93\u5165\u3002\n\n\n# \u6ce8\u610f\uff0c\u8fd9\u91cc\u53ea\u53d6\u4e86max_seq_len-1\u4e2a\uff0c\u662f\u56e0\u4e3a\u8fd8\u8981\u5728\u524d\u9762\u62fc\u4e0a\u4e00\u7ec4GO\u6807\u8bc6\u6765\u544a\u8bc9\u89e3\u7801\u5668\u6211\u4eec\u8981\u5f00\u59cb\u89e3\u7801\u4e86\uff0c\n\n\n# \u4e5f\u5c31\u662f\u4e0b\u9762\u52a0\u4e0ago_inputs\u62fc\u6210\u6700\u7ec8\u7684go_inputs\n\n\ndecoder_inputs_tmp\n \n=\n \ntf\n.\nslice\n(\ninput_data\n,\n \n[\n0\n,\n \nself\n.\nmax_seq_len\n,\n \n0\n],\n \n[\n-\n1\n,\n \nself\n.\nmax_seq_len\n-\n1\n,\n \nself\n.\nword_vec_dim\n],\n \nname\n=\ndec_in_tmp\n)\n\n\ngo_inputs\n \n=\n \ntf\n.\nones_like\n(\ndecoder_inputs_tmp\n)\n\n\ngo_inputs\n \n=\n \ntf\n.\nslice\n(\ngo_inputs\n,\n \n[\n0\n,\n \n0\n,\n \n0\n],\n \n[\n-\n1\n,\n \n1\n,\n \nself\n.\nword_vec_dim\n])\n\n\ndecoder_inputs\n \n=\n \ntf\n.\nconcat\n(\n1\n,\n \n[\ngo_inputs\n,\n \ndecoder_inputs_tmp\n],\n \nname\n=\ndec_in\n)\n\n\n# \u4e4b\u540e\u5f00\u59cb\u7f16\u7801\u8fc7\u7a0b\uff0c\u8fd4\u56de\u7684encoder_output_tensor\u5c55\u5f00\u6210tflearn.regression\u56de\u5f52\u53ef\u4ee5\u8bc6\u522b\u7684\u5f62\u5982(?, 1, 200)\u7684\u5411\u91cf\uff1b\u8fd4\u56de\u7684states\u540e\u9762\u4f20\u5165\u7ed9\u89e3\u7801\u5668\n\n\n(\nencoder_output_tensor\n,\n \nstates\n)\n \n=\n \ntflearn\n.\nlstm\n(\nencoder_inputs\n,\n \nself\n.\nword_vec_dim\n,\n \nreturn_state\n=\nTrue\n,\n \nscope\n=\nencoder_lstm\n)\n\n\nencoder_output_sequence\n \n=\n \ntf\n.\npack\n([\nencoder_output_tensor\n],\n \naxis\n=\n1\n)\n\n\n# \u53d6\u51fadecoder_inputs\u7684\u7b2c\u4e00\u4e2a\u8bcd\uff0c\u4e5f\u5c31\u662fGO\n\n\nfirst_dec_input\n \n=\n \ntf\n.\nslice\n(\ndecoder_inputs\n,\n \n[\n0\n,\n \n0\n,\n \n0\n],\n \n[\n-\n1\n,\n \n1\n,\n \nself\n.\nword_vec_dim\n])\n\n\n# \u5c06\u5176\u8f93\u5165\u5230\u89e3\u7801\u5668\u4e2d\uff0c\u5982\u4e0b\uff0c\u89e3\u7801\u5668\u7684\u521d\u59cb\u5316\u72b6\u6001\u4e3a\u7f16\u7801\u5668\u751f\u6210\u7684states\uff0c\n\n\n# \u6ce8\u610f\uff1a\u8fd9\u91cc\u7684scope=\ndecoder_lstm\n\u662f\u4e3a\u4e86\u4e0b\u9762\u91cd\u7528\u540c\u4e00\u4e2a\u89e3\u7801\u5668\n\n\ndecoder_output_tensor\n \n=\n \ntflearn\n.\nlstm\n(\nfirst_dec_input\n,\n \nself\n.\nword_vec_dim\n,\n \ninitial_state\n=\nstates\n,\n \nreturn_seq\n=\nFalse\n,\n \nreuse\n=\nFalse\n,\n \nscope\n=\ndecoder_lstm\n)\n\n\n# \u6682\u65f6\u5148\u5c06\u89e3\u7801\u5668\u7684\u7b2c\u4e00\u4e2a\u8f93\u51fa\u5b58\u5230decoder_output_sequence_list\u4e2d\u4f9b\u6700\u540e\u4e00\u8d77\u8f93\u51fa\n\n\ndecoder_output_sequence_single\n \n=\n \ntf\n.\npack\n([\ndecoder_output_tensor\n],\n \naxis\n=\n1\n)\n\n\ndecoder_output_sequence_list\n \n=\n \n[\ndecoder_output_tensor\n]\n\n\n# \u63a5\u4e0b\u6765\u6211\u4eec\u5faa\u73afmax_seq_len-1\u6b21\uff0c\u4e0d\u65ad\u53d6decoder_inputs\u7684\u4e00\u4e2a\u4e2a\u8bcd\u5411\u91cf\u4f5c\u4e3a\u4e0b\u4e00\u8f6e\u89e3\u7801\u5668\u8f93\u5165\uff0c\n\n\n# \u5e76\u5c06\u7ed3\u679c\u6dfb\u52a0\u5230decoder_output_sequence_list\u4e2d\uff0c\n\n\n# \u8fd9\u91cc\u9762\u7684reuse=True, scope=\ndecoder_lstm\n\u8bf4\u660e\u548c\u4e0a\u9762\u7b2c\u4e00\u6b21\u89e3\u7801\u7528\u7684\u662f\u540c\u4e00\u4e2alstm\u5c42\n\n\nfor\n \ni\n \nin\n \nrange\n(\nself\n.\nmax_seq_len\n-\n1\n):\n\n   \nnext_dec_input\n \n=\n \ntf\n.\nslice\n(\ndecoder_inputs\n,\n \n[\n0\n,\n \ni\n+\n1\n,\n \n0\n],\n \n[\n-\n1\n,\n \n1\n,\n \nself\n.\nword_vec_dim\n])\n\n   \ndecoder_output_tensor\n \n=\n \ntflearn\n.\nlstm\n(\nnext_dec_input\n,\n \nself\n.\nword_vec_dim\n,\n \nreturn_seq\n=\nFalse\n,\n \nreuse\n=\nTrue\n,\n \nscope\n=\ndecoder_lstm\n)\n\n   \ndecoder_output_sequence_single\n \n=\n \ntf\n.\npack\n([\ndecoder_output_tensor\n],\n \naxis\n=\n1\n)\n\n   \ndecoder_output_sequence_list\n.\nappend\n(\ndecoder_output_tensor\n)\n\n\n# \u4e0b\u9762\u6211\u4eec\u628a\u7f16\u7801\u5668\u7b2c\u4e00\u4e2a\u8f93\u51fa\u548c\u89e3\u7801\u5668\u6240\u6709\u8f93\u51fa\u62fc\u63a5\u8d77\u6765\uff0c\u4f5c\u4e3atflearn.regression\u56de\u5f52\u7684\u8f93\u5165\n\n\ndecoder_output_sequence\n \n=\n \ntf\n.\npack\n(\ndecoder_output_sequence_list\n,\n \naxis\n=\n1\n)\n\n\nreal_output_sequence\n \n=\n \ntf\n.\nconcat\n(\n1\n,\n \n[\nencoder_output_sequence\n,\n \ndecoder_output_sequence\n])\n\n\nnet\n \n=\n \ntflearn\n.\nregression\n(\nreal_output_sequence\n,\n \noptimizer\n=\nsgd\n,\n \nlearning_rate\n=\n0.1\n,\n \nloss\n=\nmean_square\n)\n\n\nmodel\n \n=\n \ntflearn\n.\nDNN\n(\nnet\n)\n\n\n\n\n\n\n\n\u81f3\u6b64\u6a21\u578b\u521b\u5efa\u5b8c\u6210\uff0c\u8ba9\u6211\u4eec\u6c47\u603b\u4e00\u4e0b\u91cc\u9762\u7684\u601d\u60f3\uff1a\n\n\n\n\n\u8bad\u7ec3\u8f93\u5165\u7684X\u3001Y\u5206\u522b\u662f\u7f16\u7801\u5668\u89e3\u7801\u5668\u7684\u8f93\u5165\u548c\u9884\u6d4b\u7684\u8f93\u51fa\uff1b\n\n\nX\u5207\u5206\u4e24\u534a\uff0c\u524d\u4e00\u534a\u662f\u7f16\u7801\u5668\u8f93\u5165\uff0c\u540e\u4e00\u534a\u662f\u89e3\u7801\u5668\u8f93\u5165\uff1b\n\n\n\u7f16\u7801\u89e3\u7801\u5668\u8f93\u51fa\u7684\u9884\u6d4b\u503c\u7528Y\u505a\u56de\u5f52\u8bad\u7ec3\n\n\n\u8bad\u7ec3\u65f6\u901a\u8fc7\u6837\u672c\u7684\u771f\u5b9e\u503c\u4f5c\u4e3a\u89e3\u7801\u5668\u8f93\u5165\uff0c\u5b9e\u9645\u9884\u6d4b\u65f6\u5c06\u4e0d\u4f1a\u6709\u4e0a\u56fe\u4e2dWXYZ\u90e8\u5206\uff0c\u56e0\u6b64\u4e0a\u4e00\u65f6\u5e8f\u7684\u8f93\u51fa\u5c06\u4f5c\u4e3a\u4e0b\u4e00\u65f6\u5e8f\u7684\u8f93\u5165(\u540e\u9762\u4f1a\u8be6\u8ff0\u9884\u6d4b\u7684\u5b9e\u73b0)\n\n\n\n\n\u8bad\u7ec3\u6a21\u578b\n\n\n\u4e0b\u9762\u6211\u4eec\u6765\u5b9e\u4f8b\u5316\u6a21\u578b\u5e76\u5582\u6570\u636e\u505a\u8bad\u7ec3\uff0c\u5982\u4e0b\uff1a\n\n\n1\n2\n3\nmodel\n \n=\n \nself\n.\nmodel\n()\n\n\nmodel\n.\nfit\n(\ntrainXY\n,\n \ntrainY\n,\n \nn_epoch\n=\n1000\n,\n \nsnapshot_epoch\n=\nFalse\n,\n \nbatch_size\n=\n1\n)\n\n\nmodel\n.\nload\n(\n./model/model\n)\n\n\n\n\n\n\n\n\u8fd9\u91cc\u7684trainXY\u548ctrainY\u901a\u8fc7\u52a0\u8f7d\u4e0a\u9762\u6211\u4eec\u51c6\u5907\u7684\u8bed\u6599\u6765\u8d4b\u503c\n\n\n\u9996\u5148\u6211\u4eec\u52a0\u8f7d\u8bcd\u5411\u91cf\u5e76\u5b58\u5230word_vector_dict\u4e2d\uff0c\u7136\u540e\u8bfb\u53d6\u8bed\u6599\u6587\u4ef6\u5e76\u6328\u4e2a\u8bcd\u67e5word_vector_dict\u5e76\u8d4b\u503c\u5411\u91cf\u7ed9question_seq\u548canswer_seq\uff0c\u5982\u4e0b\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\ndef\n \ninit_seq\n(\ninput_file\n):\n\n    \n\u8bfb\u53d6\u5207\u597d\u8bcd\u7684\u6587\u672c\u6587\u4ef6\uff0c\u52a0\u8f7d\u5168\u90e8\u8bcd\u5e8f\u5217\n\n\n    \n\n    \nfile_object\n \n=\n \nopen\n(\ninput_file\n,\n \nr\n)\n\n    \nvocab_dict\n \n=\n \n{}\n\n    \nwhile\n \nTrue\n:\n\n        \nquestion_seq\n \n=\n \n[]\n\n        \nanswer_seq\n \n=\n \n[]\n\n        \nline\n \n=\n \nfile_object\n.\nreadline\n()\n\n        \nif\n \nline\n:\n\n            \nline_pair\n \n=\n \nline\n.\nsplit\n(\n|\n)\n\n            \nline_question\n \n=\n \nline_pair\n[\n0\n]\n\n            \nline_answer\n \n=\n \nline_pair\n[\n1\n]\n\n            \nfor\n \nword\n \nin\n \nline_question\n.\ndecode\n(\nutf-8\n)\n.\nsplit\n(\n \n):\n\n                \nif\n \nword_vector_dict\n.\nhas_key\n(\nword\n):\n\n                    \nquestion_seq\n.\nappend\n(\nword_vector_dict\n[\nword\n])\n\n            \nfor\n \nword\n \nin\n \nline_answer\n.\ndecode\n(\nutf-8\n)\n.\nsplit\n(\n \n):\n\n                \nif\n \nword_vector_dict\n.\nhas_key\n(\nword\n):\n\n                    \nanswer_seq\n.\nappend\n(\nword_vector_dict\n[\nword\n])\n\n        \nelse\n:\n\n            \nbreak\n\n        \nquestion_seqs\n.\nappend\n(\nquestion_seq\n)\n\n        \nanswer_seqs\n.\nappend\n(\nanswer_seq\n)\n\n    \nfile_object\n.\nclose\n()\n\n\n\n\n\n\n\n\u6709\u4e86question_seq\u548canswer_seq\uff0c\u6211\u4eec\u6765\u6784\u9020trainXY\u548ctrainY\uff0c\u5982\u4e0b\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n    \ndef\n \ngenerate_trainig_data\n(\nself\n):\n\n        \nxy_data\n \n=\n \n[]\n\n        \ny_data\n \n=\n \n[]\n\n        \nfor\n \ni\n \nin\n \nrange\n(\nlen\n(\nquestion_seqs\n)):\n\n            \nquestion_seq\n \n=\n \nquestion_seqs\n[\ni\n]\n\n            \nanswer_seq\n \n=\n \nanswer_seqs\n[\ni\n]\n\n            \nif\n \nlen\n(\nquestion_seq\n)\n \n \nself\n.\nmax_seq_len\n \nand\n \nlen\n(\nanswer_seq\n)\n \n \nself\n.\nmax_seq_len\n:\n\n                \nsequence_xy\n \n=\n \n[\nnp\n.\nzeros\n(\nself\n.\nword_vec_dim\n)]\n \n*\n \n(\nself\n.\nmax_seq_len\n-\nlen\n(\nquestion_seq\n))\n \n+\n \nlist\n(\nreversed\n(\nquestion_seq\n))\n\n                \nsequence_y\n \n=\n \nanswer_seq\n \n+\n \n[\nnp\n.\nzeros\n(\nself\n.\nword_vec_dim\n)]\n \n*\n \n(\nself\n.\nmax_seq_len\n-\nlen\n(\nanswer_seq\n))\n\n                \nsequence_xy\n \n=\n \nsequence_xy\n \n+\n \nsequence_y\n\n                \nsequence_y\n \n=\n \n[\nnp\n.\nones\n(\nself\n.\nword_vec_dim\n)]\n \n+\n \nsequence_y\n\n                \nxy_data\n.\nappend\n(\nsequence_xy\n)\n\n                \ny_data\n.\nappend\n(\nsequence_y\n)\n\n        \nreturn\n \nnp\n.\narray\n(\nxy_data\n),\n \nnp\n.\narray\n(\ny_data\n)\n\n\n\n\n\n\n\n\u6784\u9020\u4e86\u8bad\u7ec3\u6570\u636e\u4e5f\u521b\u5efa\u597d\u4e86\u6a21\u578b\uff0c\u8bad\u7ec3\u7684\u6548\u679c\u5982\u4e0b\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n[\nroot@centos \n#] python my_seq2seq_v2.py train\n\nbegin load vectors\n\nwords\n \n=\n \n70937\n\n\nsize\n \n=\n \n200\n\nload vectors finish\n---------------------------------\nRun id: 9PZWKM\nLog directory: /tmp/tflearn_logs/\n---------------------------------\nTraining samples: \n368\n\nValidation samples: \n0\n\n--\nTraining Step: \n47\n  \n|\n total loss: \n0\n.62260\n\n|\n SGD \n|\n epoch: \n001\n \n|\n loss: \n0\n.62260 -- iter: \n047\n/368\n\n\n\n\n\n\n\u6700\u7ec8\u4f1a\u751f\u6210./model/model\u6a21\u578b\u6587\u4ef6\n\n\n\u6548\u679c\u9884\u6d4b\n\n\n\u8bad\u7ec3\u597d\u6a21\u578b\uff0c\u6211\u4eec\u5e0c\u671b\u80fd\u8f93\u5165\u4e00\u53e5\u8bdd\u6765\u9884\u6d4b\u4e00\u4e0b\u56de\u7b54\uff0c\u5982\u4e0b\uff1a\n\n\n1\npredict\n \n=\n \nmodel\n.\npredict\n(\ntestXY\n)\n\n\n\n\n\n\n\n\u56e0\u4e3a\u6211\u4eec\u53ea\u6709question\u6ca1\u6709answer\uff0c\u6240\u4ee5testXY\u4e2d\u662f\u6ca1\u6709Y\u90e8\u5206\u7684\uff0c\u6240\u4ee5\u9700\u8981\u5728\u7a0b\u5e8f\u4e2d\u505a\u4e00\u4e9b\u6539\u53d8\uff0c\u5373\u7528\u4e0a\u4e00\u53e5\u7684\u8f93\u51fa\u4f5c\u4e3a\u4e0b\u4e00\u53e5\u7684\u8f93\u5165\uff0c\u5982\u4e0b\uff1a\n\n\n1\n2\n3\n4\n5\n6\nfor\n \ni\n \nin\n \nrange\n(\nself\n.\nmax_seq_len\n-\n1\n):\n\n   \n# next_dec_input = tf.slice(decoder_inputs, [0, i+1, 0], [-1, 1, self.word_vec_dim])\u8fd9\u91cc\u6539\u6210\u4e0b\u9762\u8fd9\u53e5\n\n   \nnext_dec_input\n \n=\n \ndecoder_output_sequence_single\n\n   \ndecoder_output_tensor\n \n=\n \ntflearn\n.\nlstm\n(\nnext_dec_input\n,\n \nself\n.\nword_vec_dim\n,\n \nreturn_seq\n=\nFalse\n,\n \nreuse\n=\nTrue\n,\n \nscope\n=\ndecoder_lstm\n)\n\n   \ndecoder_output_sequence_single\n \n=\n \ntf\n.\npack\n([\ndecoder_output_tensor\n],\n \naxis\n=\n1\n)\n\n   \ndecoder_output_sequence_list\n.\nappend\n(\ndecoder_output_tensor\n)\n\n\n\n\n\n\n\n\u56e0\u4e3a\u8bcd\u5411\u91cf\u662f\u591a\u7ef4\u6d6e\u70b9\u6570\uff0c\u9884\u6d4b\u51fa\u7684\u8bcd\u5411\u91cf\u9700\u8981\u901a\u8fc7\u4f59\u5f26\u76f8\u4f3c\u5ea6\u6765\u5339\u914d\uff0c\u4f59\u5f26\u76f8\u4f3c\u5ea6\u5339\u914d\u65b9\u6cd5\u5982\u4e0b\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\ndef\n \nvector2word\n(\nvector\n):\n\n    \nmax_cos\n \n=\n \n-\n10000\n\n    \nmatch_word\n \n=\n \n\n    \nfor\n \nword\n \nin\n \nword_vector_dict\n:\n\n        \nv\n \n=\n \nword_vector_dict\n[\nword\n]\n\n        \ncosine\n \n=\n \nvector_cosine\n(\nvector\n,\n \nv\n)\n\n        \nif\n \ncosine\n \n \nmax_cos\n:\n\n            \nmax_cos\n \n=\n \ncosine\n\n            \nmatch_word\n \n=\n \nword\n\n    \nreturn\n \n(\nmatch_word\n,\n \nmax_cos\n)\n\n\n\n\n\n\n\n\u5176\u4e2d\u7684vector_cosine\u5b9e\u73b0\u5982\u4e0b\uff1a\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\ndef\n \nvector_cosine\n(\nv1\n,\n \nv2\n):\n\n    \nif\n \nlen\n(\nv1\n)\n \n!=\n \nlen\n(\nv2\n):\n\n        \nsys\n.\nexit\n(\n1\n)\n\n    \nsqrtlen1\n \n=\n \nvector_sqrtlen\n(\nv1\n)\n\n    \nsqrtlen2\n \n=\n \nvector_sqrtlen\n(\nv2\n)\n\n    \nvalue\n \n=\n \n0\n\n    \nfor\n \nitem1\n,\n \nitem2\n \nin\n \nzip\n(\nv1\n,\n \nv2\n):\n\n        \nvalue\n \n+=\n \nitem1\n \n*\n \nitem2\n\n    \nreturn\n \nvalue\n \n/\n \n(\nsqrtlen1\n*\nsqrtlen2\n)\n\n\n\n\n\n\n\n\u5176\u4e2d\u7684vector_sqrtlen\u5b9e\u73b0\u5982\u4e0b\uff1a\n\n\n1\n2\n3\n4\n5\n6\ndef\n \nvector_sqrtlen\n(\nvector\n):\n\n    \nlen\n \n=\n \n0\n\n    \nfor\n \nitem\n \nin\n \nvector\n:\n\n        \nlen\n \n+=\n \nitem\n \n*\n \nitem\n\n    \nlen\n \n=\n \nmath\n.\nsqrt\n(\nlen\n)\n\n    \nreturn\n \nlen\n\n\n\n\n\n\n\n\u9884\u6d4b\u6548\u679c\u5982\u4e0b\uff1a\n\n\n1\n\u8f93\u5165\u662f\u201c\u771f \u8ba8\u538c\u201d\n\n\n\n\n\n\n\u9884\u6d4b\u7ed3\u679c\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n[\nroot@centos \n#] python my_seq2seq_v2.py test test.data\n\nbegin load vectors\n\nwords\n \n=\n \n70937\n\n\nsize\n \n=\n \n200\n\nload vectors finish\npredict answer\n\u7adf\u7136 \n0\n.796628661264 \n8\n.13188244428\n\u662f \n0\n.361905373571 \n4\n.72316883181\n\u4f60 \n0\n.416023172832 \n3\n.78265507983\n\u554a \n0\n.454288467277 \n3\n.13229596833\n\u4e0d\u662f \n0\n.424590214456 \n2\n.90688231062\n\u4f60 \n0\n.489174557107 \n2\n.62733802498\n\u554a \n0\n.501460288258 \n2\n.87990178439\n\u4f60 \n0\n.560230783333 \n3\n.09066126524\n\n\n\n\n\n\n\u8f93\u51fa\u7684\u7b2c\u4e00\u5217\u662f\u9884\u6d4b\u7684\u6bcf\u4e2a\u65f6\u5e8f\u4ea7\u751f\u7684\u8bcd\uff0c\u7b2c\u4e8c\u5217\u662f\u9884\u6d4b\u8f93\u51fa\u5411\u91cf\u548c\u6700\u8fd1\u7684\u8bcd\u5411\u91cf\u7684\u4f59\u5f26\u76f8\u4f3c\u5ea6\uff0c\u7b2c\u4e09\u5217\u662f\u9884\u6d4b\u5411\u91cf\u7684\u6b27\u6c0f\u8ddd\u79bb\n\n\n\u56e0\u4e3a\u6211\u4eec\u8bbe\u8ba1\u7684max_seq_len\u662f\u5b9a\u957f8\uff0c\u6240\u4ee5\u8f93\u51fa\u7684\u5e8f\u5217\u6700\u540e\u4f1a\u591a\u4f59\u4e00\u4e9b\u5b57\uff0c\u53ef\u4ee5\u6839\u636e\u4f59\u5f26\u76f8\u4f3c\u5ea6\u6216\u8005\u5176\u4ed6\u6307\u6807\u8bbe\u5b9a\u4e00\u4e2a\u9608\u503c\u6765\u622a\u65ad\n\n\n\u4ee5\u4e0a\u5217\u51fa\u7684\u662f\u90e8\u5206\u4ee3\u7801\uff0c\u5168\u90e8\u4ee3\u7801\u5206\u4eab\u5728my_seq2seq_v2.py\u6b22\u8fce\u70b9\u51fb\u89c2\u770b", 
            "title": "\u4e09\u5341\u516b-\u804a\u5929\u673a\u5668\u4eba\u6784\u5efa\u6d41\u7a0b"
        }, 
        {
            "location": "/38.make-chatbot/#seq2seq", 
            "text": "\u4e3b\u8981\u53c2\u8003 \u300aSequence to Sequence Learning with Neural Networks\u300b \u8fd9\u7bc7\u8bba\u6587\uff0c\u6838\u5fc3\u601d\u60f3\u5982\u4e0b\u56fe\uff1a  ABC\u662f\u8f93\u5165\u8bed\u53e5\uff0cWXYZ\u662f\u8f93\u51fa\u8bed\u53e5\uff0cEOS\u662f\u6807\u8bc6\u4e00\u53e5\u8bdd\u7ed3\u675f\uff0c\u56fe\u4e2d\u7684\u8bad\u7ec3\u5355\u5143\u662flstm\uff0clstm\u7684\u7279\u70b9\u662f\u6709\u957f\u77ed\u65f6\u8bb0\u5fc6\uff0c\u6240\u4ee5\u80fd\u591f\u6839\u636e\u8f93\u5165\u7684\u591a\u4e2a\u5b57\u6765\u786e\u5b9a\u540e\u9762\u7684\u591a\u4e2a\u5b57\uff0c\u6709\u5173lstm\u7684\u77e5\u8bc6\u53ef\u4ee5\u53c2\u8003\u300ahttp://deeplearning.net/tutorial/lstm.html\u300b  \u4e0a\u9762\u7684\u6a21\u578b\u4e2d\u7f16\u7801\u5668\u548c\u89e3\u7801\u5668\u5171\u7528\u4e86\u540c\u4e00\u4e2alstm\u5c42\uff0c\u4e5f\u5c31\u662f\u5171\u4eab\u4e86\u53c2\u6570\uff0c\u725b\u4eba\u4eec\u5c1d\u8bd5\u628a\u4ed6\u4eec\u5206\u5f00\u50cfhttps://github.com/farizrahman4u/seq2seq\u4e2d\u63d0\u5230\u7684\u6837\u5b50\uff1a   \u5176\u4e2d\u7eff\u8272\u662f\u7f16\u7801\u5668\uff0c\u9ec4\u8272\u662f\u89e3\u7801\u5668\uff0c\u6a59\u8272\u7684\u7bad\u5934\u4f20\u9012\u7684\u662flstm\u5c42\u7684\u72b6\u6001\u4fe1\u606f\u4e5f\u5c31\u662f\u8bb0\u5fc6\u4fe1\u606f\uff0c\u7f16\u7801\u5668\u552f\u4e00\u4f20\u7ed9\u89e3\u7801\u5668\u7684\u5c31\u662f\u8fd9\u4e2a\u72b6\u6001\u4fe1\u606f  \u6211\u4eec\u770b\u5230\u89e3\u7801\u5668\u6bcf\u4e00\u65f6\u5e8f\u7684\u8f93\u5165\u90fd\u662f\u524d\u4e00\u4e2a\u65f6\u5e8f\u7684\u8f93\u51fa\uff0c\u4ece\u6574\u4f53\u4e0a\u6765\u770b\u5c31\u662f\uff1a\u6211\u901a\u8fc7\u4e0d\u540c\u65f6\u5e8f\u8f93\u5165\u201cHow are you  \u201d\uff0c\u6a21\u578b\u5c31\u80fd\u81ea\u52a8\u4e00\u4e2a\u5b57\u4e00\u4e2a\u5b57\u7684\u8f93\u51fa\u201cW I am fine  \u201d\uff0c\u8fd9\u91cc\u7684W\u662f\u4e00\u4e2a\u7279\u6b8a\u7684\u6807\u8bc6\uff0c\u5b83\u65e2\u662f\u7f16\u7801\u5668\u6700\u540e\u7684\u8f93\u51fa\uff0c\u540c\u65f6\u53c8\u662f\u89e3\u7801\u5668\u7684\u4e00\u4e2a\u89e6\u53d1\u4fe1\u53f7  \u90a3\u4e48\u6211\u4eec\u8bad\u7ec3\u7684\u65f6\u5019\u8f93\u5165\u7684X,Y\u5e94\u8be5\u662f\u4ec0\u4e48\u5462\uff1fX=\"How are you  \"\uff0cY=\"W I am fine  \"?  \u8fd9\u662f\u4e0d\u884c\u7684\uff0c\u56e0\u4e3a\u5728\u89e3\u7801\u5668\u8fd8\u6ca1\u6709\u8bad\u7ec3\u51fa\u9760\u8c31\u7684\u53c2\u6570\u4e4b\u524d\uff0c\u6211\u4eec\u65e0\u6cd5\u4fdd\u8bc1\u7b2c\u4e00\u4e2a\u65f6\u5e8f\u7684\u8f93\u51fa\u5c31\u662f\u201cI\u201d\uff0c\u90a3\u4e48\u4f20\u7ed9\u7b2c\u4e8c\u4e2a\u65f6\u5e8f\u7684\u8f93\u5165\u5c31\u4e0d\u4e00\u5b9a\u662fI\uff0c\u540c\u6837\u7b2c\u4e09\u3001\u56db\u4e2a\u65f6\u5e8f\u7684\u8f93\u5165\u5c31\u65e0\u6cd5\u4fdd\u8bc1\u662fam\u548cfine\uff0c\u90a3\u4e48\u662f\u65e0\u6cd5\u8bad\u7ec3\u51fa\u60f3\u8981\u7684\u6a21\u578b\u7684  \u6211\u4eec\u8981\u8fd9\u6837\u6765\u505a\uff1a\u6211\u4eec\u76f4\u63a5\u628a\u89e3\u7801\u5668\u4e2d\u6bcf\u4e00\u65f6\u5e8f\u7684\u8f93\u5165\u5f3a\u5236\u6539\u4e3a\"W I am fine\"\uff0c\u4e5f\u5c31\u662f\u628a\u8fd9\u90e8\u5206\u4ece\u6211\u4eec\u8bad\u7ec3\u6837\u672c\u7684\u8f93\u5165X\u4e2d\u4f20\u8fc7\u6765\uff0c\u800cY\u4f9d\u7136\u662f\u9884\u6d4b\u8f93\u51fa\u7684\"W I am fine  \"\uff0c\u8fd9\u6837\u8bad\u7ec3\u51fa\u6765\u7684\u6a21\u578b\u5c31\u662f\u6211\u4eec\u8bbe\u8ba1\u7684\u7f16\u7801\u5668\u89e3\u7801\u5668\u6a21\u578b\u4e86  \u90a3\u4e48\u5728\u4f7f\u7528\u8bad\u7ec3\u597d\u7684\u6a21\u578b\u505a\u9884\u6d4b\u7684\u65f6\u5019\uff0c\u6211\u4eec\u6539\u53d8\u5904\u7406\u65b9\u5f0f\uff1a\u5728\u89e3\u7801\u65f6\u4ee5\u524d\u4e00\u65f6\u5e8f\u7684\u8f93\u51fa\u4e3a\u8f93\u5165\u505a\u9884\u6d4b\uff0c\u8fd9\u6837\u5c31\u80fd\u8f93\u51fa\u6211\u4eec\u5e0c\u671b\u8f93\u51fa\u7684\"W I am fine  \"\u4e86  \u57fa\u4e8e\u4ee5\u4e0a\u7684\u539f\u7406\uff0c\u4e0b\u9762\u5f00\u59cb\u6211\u4eec\u7684\u5de5\u7a0b\u5b9e\u8df5", 
            "title": "seq2seq\u6a21\u578b\u539f\u7406"
        }, 
        {
            "location": "/38.make-chatbot/#_1", 
            "text": "\u51c6\u5907\u81f3\u5c11300w\u7684\u804a\u5929\u8bed\u6599\u7528\u4e8e\u8bcd\u5411\u91cf\u7684\u8bad\u7ec3\u548cseq2seq\u6a21\u578b\u7684\u8bad\u7ec3\uff0c\u8bed\u6599\u8d8a\u4e30\u5bcc\u8bad\u7ec3\u51fa\u6765\u7684\u8bcd\u5411\u91cf\u8d28\u91cf\u8d8a\u597d\uff0c\u5982\u679c\u60f3\u901a\u8fc7\u5f71\u89c6\u5267\u5b57\u5e55\u6765\u83b7\u53d6\u8bed\u6599\u53ef\u4ee5\u53c2\u8003 \u300a\u81ea\u5df1\u52a8\u624b\u505a\u804a\u5929\u673a\u5668\u4eba \u4e8c\u5341\u4e5d-\u91cd\u78c5\uff1a\u8fd11GB\u7684\u4e09\u5343\u4e07\u804a\u5929\u8bed\u6599\u4f9b\u51fa\u300b  \u83b7\u53d6\u5230\u539f\u59cb\u8bed\u6599\u540e\u9700\u8981\u505a\u4e00\u4e9b\u52a0\u5de5\u5904\u7406\uff0c\u9996\u5148\u9700\u8981\u505a\u5207\u8bcd\uff0c\u65b9\u6cd5\u5982\u4e0b\uff1a  1 python word_segment.py ./corpus.raw ./corpus.segment   \u5176\u4e2dword_segment.py\u662f\u6211\u5199\u7684\u5207\u8bcd\u5de5\u5177\uff0c\u4ec5\u4f9b\u53c2\u8003  \u4e4b\u540e\u8981\u628a\u5207\u8bcd\u597d\u7684\u6587\u4ef6\u8f6c\u6210\u201c|\u201d\u5206\u9694\u7684\u95ee\u7b54\u5bf9\uff0c\u5982\u4e0b\uff1a  1 cat ./corpus.segment  |  awk  {if(last!= )print last | $0;last=$0}   |  sed  s/| /|/g    ./corpus.segment.pair   \u8fd9\u6837\u8bed\u6599\u51c6\u5907\u5de5\u4f5c\u5c31\u9f50\u5168\u4e86", 
            "title": "\u8bed\u6599\u51c6\u5907\u5de5\u4f5c"
        }, 
        {
            "location": "/38.make-chatbot/#_2", 
            "text": "\u6211\u4eec\u76f4\u63a5\u5229\u7528google\u7684word2vec\u6765\u8bad\u7ec3\u8bcd\u5411\u91cf\uff0c\u5982\u4e0b\uff1a  1 word2vec -train ./corpus.segment -output vectors.bin -cbow  1  -size  200  -window  8  -negative  25  -hs  0  -sample 1e-5 -threads  20  -binary  1  -iter  15    \u5176\u4e2dcorpus.raw\u662f\u539f\u59cb\u8bed\u6599\u6570\u636e\uff0cvectors.bin\u662f\u751f\u6210\u7684\u8bcd\u5411\u91cf\u4e8c\u8fdb\u5236\u6587\u4ef6  \u4e86\u89e3word2vec\u7684\u539f\u7406\u8bf7\u89c1\u300a\u81ea\u5df1\u52a8\u624b\u505a\u804a\u5929\u673a\u5668\u4eba \u4e8c\u5341\u4e94-google\u7684\u6587\u672c\u6316\u6398\u6df1\u5ea6\u5b66\u4e60\u5de5\u5177word2vec\u7684\u5b9e\u73b0\u539f\u7406\u300b  \u751f\u6210\u7684\u8bcd\u5411\u91cf\u4e8c\u8fdb\u5236\u52a0\u8f7d\u65b9\u6cd5\u53ef\u4ee5\u53c2\u8003\u6211\u5199\u7684\uff1aword_vectors_loader.py", 
            "title": "\u8bad\u7ec3\u8bcd\u5411\u91cf"
        }, 
        {
            "location": "/38.make-chatbot/#_3", 
            "text": "\u4e0b\u9762\u5c31\u662f\u91cd\u70b9\u7684\u6a21\u578b\u521b\u5efa\u8fc7\u7a0b\uff0c\u8fd9\u91cc\u9762\u6211\u4eec\u76f4\u63a5\u4f7f\u7528tensorflow+tflearn\u5e93\u6765\u5b9e\u73b0\uff1a   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39 # \u9996\u5148\u6211\u4eec\u4e3a\u8f93\u5165\u7684\u6837\u672c\u6570\u636e\u7533\u8bf7\u53d8\u91cf\u7a7a\u95f4\uff0c\u5982\u4e0b\u3002  # \u5176\u4e2dself.max_seq_len\u662f\u6307\u4e00\u4e2a\u5207\u597d\u8bcd\u7684\u53e5\u5b50\u6700\u591a\u5305\u542b\u591a\u5c11\u4e2a\u8bcd\uff0c  # self.word_vec_dim\u662f\u8bcd\u5411\u91cf\u7684\u7ef4\u5ea6\uff0c\u8fd9\u91cc\u9762shape\u6307\u5b9a\u4e86\u8f93\u5165\u6570\u636e\u662f\u4e0d\u786e\u5b9a\u6570\u91cf\u7684\u6837\u672c\uff0c  # \u6bcf\u4e2a\u6837\u672c\u6700\u591a\u5305\u542bmax_seq_len*2\u4e2a\u8bcd\uff0c\u6bcf\u4e2a\u8bcd\u7528word_vec_dim\u7ef4\u6d6e\u70b9\u6570\u8868\u793a\u3002  # \u8fd9\u91cc\u9762\u75282\u500d\u7684max_seq_len\u662f\u56e0\u4e3a\u6211\u4eec\u8bad\u7ec3\u662f\u8f93\u5165\u7684X\u65e2\u8981\u5305\u542bquestion\u53e5\u5b50\u53c8\u8981\u5305\u542banswer\u53e5\u5b50  input_data   =   tflearn . input_data ( shape = [ None ,   self . max_seq_len * 2 ,   self . word_vec_dim ],   dtype = tf . float32 ,   name   =   XY )  # \u7136\u540e\u6211\u4eec\u5c06\u8f93\u5165\u7684\u6240\u6709\u6837\u672c\u6570\u636e\u7684\u8bcd\u5e8f\u5217\u5207\u51fa\u524dmax_seq_len\u4e2a\uff0c\u4e5f\u5c31\u662fquestion\u53e5\u5b50\u90e8\u5206\uff0c\u4f5c\u4e3a\u7f16\u7801\u5668\u7684\u8f93\u5165  encoder_inputs   =   tf . slice ( input_data ,   [ 0 ,   0 ,   0 ],   [ - 1 ,   self . max_seq_len ,   self . word_vec_dim ],   name = enc_in )  # \u518d\u53d6\u51fa\u540emax_seq_len-1\u4e2a\uff0c\u4e5f\u5c31\u662fanswer\u53e5\u5b50\u90e8\u5206\uff0c\u4f5c\u4e3a\u89e3\u7801\u5668\u7684\u8f93\u5165\u3002  # \u6ce8\u610f\uff0c\u8fd9\u91cc\u53ea\u53d6\u4e86max_seq_len-1\u4e2a\uff0c\u662f\u56e0\u4e3a\u8fd8\u8981\u5728\u524d\u9762\u62fc\u4e0a\u4e00\u7ec4GO\u6807\u8bc6\u6765\u544a\u8bc9\u89e3\u7801\u5668\u6211\u4eec\u8981\u5f00\u59cb\u89e3\u7801\u4e86\uff0c  # \u4e5f\u5c31\u662f\u4e0b\u9762\u52a0\u4e0ago_inputs\u62fc\u6210\u6700\u7ec8\u7684go_inputs  decoder_inputs_tmp   =   tf . slice ( input_data ,   [ 0 ,   self . max_seq_len ,   0 ],   [ - 1 ,   self . max_seq_len - 1 ,   self . word_vec_dim ],   name = dec_in_tmp )  go_inputs   =   tf . ones_like ( decoder_inputs_tmp )  go_inputs   =   tf . slice ( go_inputs ,   [ 0 ,   0 ,   0 ],   [ - 1 ,   1 ,   self . word_vec_dim ])  decoder_inputs   =   tf . concat ( 1 ,   [ go_inputs ,   decoder_inputs_tmp ],   name = dec_in )  # \u4e4b\u540e\u5f00\u59cb\u7f16\u7801\u8fc7\u7a0b\uff0c\u8fd4\u56de\u7684encoder_output_tensor\u5c55\u5f00\u6210tflearn.regression\u56de\u5f52\u53ef\u4ee5\u8bc6\u522b\u7684\u5f62\u5982(?, 1, 200)\u7684\u5411\u91cf\uff1b\u8fd4\u56de\u7684states\u540e\u9762\u4f20\u5165\u7ed9\u89e3\u7801\u5668  ( encoder_output_tensor ,   states )   =   tflearn . lstm ( encoder_inputs ,   self . word_vec_dim ,   return_state = True ,   scope = encoder_lstm )  encoder_output_sequence   =   tf . pack ([ encoder_output_tensor ],   axis = 1 )  # \u53d6\u51fadecoder_inputs\u7684\u7b2c\u4e00\u4e2a\u8bcd\uff0c\u4e5f\u5c31\u662fGO  first_dec_input   =   tf . slice ( decoder_inputs ,   [ 0 ,   0 ,   0 ],   [ - 1 ,   1 ,   self . word_vec_dim ])  # \u5c06\u5176\u8f93\u5165\u5230\u89e3\u7801\u5668\u4e2d\uff0c\u5982\u4e0b\uff0c\u89e3\u7801\u5668\u7684\u521d\u59cb\u5316\u72b6\u6001\u4e3a\u7f16\u7801\u5668\u751f\u6210\u7684states\uff0c  # \u6ce8\u610f\uff1a\u8fd9\u91cc\u7684scope= decoder_lstm \u662f\u4e3a\u4e86\u4e0b\u9762\u91cd\u7528\u540c\u4e00\u4e2a\u89e3\u7801\u5668  decoder_output_tensor   =   tflearn . lstm ( first_dec_input ,   self . word_vec_dim ,   initial_state = states ,   return_seq = False ,   reuse = False ,   scope = decoder_lstm )  # \u6682\u65f6\u5148\u5c06\u89e3\u7801\u5668\u7684\u7b2c\u4e00\u4e2a\u8f93\u51fa\u5b58\u5230decoder_output_sequence_list\u4e2d\u4f9b\u6700\u540e\u4e00\u8d77\u8f93\u51fa  decoder_output_sequence_single   =   tf . pack ([ decoder_output_tensor ],   axis = 1 )  decoder_output_sequence_list   =   [ decoder_output_tensor ]  # \u63a5\u4e0b\u6765\u6211\u4eec\u5faa\u73afmax_seq_len-1\u6b21\uff0c\u4e0d\u65ad\u53d6decoder_inputs\u7684\u4e00\u4e2a\u4e2a\u8bcd\u5411\u91cf\u4f5c\u4e3a\u4e0b\u4e00\u8f6e\u89e3\u7801\u5668\u8f93\u5165\uff0c  # \u5e76\u5c06\u7ed3\u679c\u6dfb\u52a0\u5230decoder_output_sequence_list\u4e2d\uff0c  # \u8fd9\u91cc\u9762\u7684reuse=True, scope= decoder_lstm \u8bf4\u660e\u548c\u4e0a\u9762\u7b2c\u4e00\u6b21\u89e3\u7801\u7528\u7684\u662f\u540c\u4e00\u4e2alstm\u5c42  for   i   in   range ( self . max_seq_len - 1 ): \n    next_dec_input   =   tf . slice ( decoder_inputs ,   [ 0 ,   i + 1 ,   0 ],   [ - 1 ,   1 ,   self . word_vec_dim ]) \n    decoder_output_tensor   =   tflearn . lstm ( next_dec_input ,   self . word_vec_dim ,   return_seq = False ,   reuse = True ,   scope = decoder_lstm ) \n    decoder_output_sequence_single   =   tf . pack ([ decoder_output_tensor ],   axis = 1 ) \n    decoder_output_sequence_list . append ( decoder_output_tensor )  # \u4e0b\u9762\u6211\u4eec\u628a\u7f16\u7801\u5668\u7b2c\u4e00\u4e2a\u8f93\u51fa\u548c\u89e3\u7801\u5668\u6240\u6709\u8f93\u51fa\u62fc\u63a5\u8d77\u6765\uff0c\u4f5c\u4e3atflearn.regression\u56de\u5f52\u7684\u8f93\u5165  decoder_output_sequence   =   tf . pack ( decoder_output_sequence_list ,   axis = 1 )  real_output_sequence   =   tf . concat ( 1 ,   [ encoder_output_sequence ,   decoder_output_sequence ])  net   =   tflearn . regression ( real_output_sequence ,   optimizer = sgd ,   learning_rate = 0.1 ,   loss = mean_square )  model   =   tflearn . DNN ( net )    \u81f3\u6b64\u6a21\u578b\u521b\u5efa\u5b8c\u6210\uff0c\u8ba9\u6211\u4eec\u6c47\u603b\u4e00\u4e0b\u91cc\u9762\u7684\u601d\u60f3\uff1a   \u8bad\u7ec3\u8f93\u5165\u7684X\u3001Y\u5206\u522b\u662f\u7f16\u7801\u5668\u89e3\u7801\u5668\u7684\u8f93\u5165\u548c\u9884\u6d4b\u7684\u8f93\u51fa\uff1b  X\u5207\u5206\u4e24\u534a\uff0c\u524d\u4e00\u534a\u662f\u7f16\u7801\u5668\u8f93\u5165\uff0c\u540e\u4e00\u534a\u662f\u89e3\u7801\u5668\u8f93\u5165\uff1b  \u7f16\u7801\u89e3\u7801\u5668\u8f93\u51fa\u7684\u9884\u6d4b\u503c\u7528Y\u505a\u56de\u5f52\u8bad\u7ec3  \u8bad\u7ec3\u65f6\u901a\u8fc7\u6837\u672c\u7684\u771f\u5b9e\u503c\u4f5c\u4e3a\u89e3\u7801\u5668\u8f93\u5165\uff0c\u5b9e\u9645\u9884\u6d4b\u65f6\u5c06\u4e0d\u4f1a\u6709\u4e0a\u56fe\u4e2dWXYZ\u90e8\u5206\uff0c\u56e0\u6b64\u4e0a\u4e00\u65f6\u5e8f\u7684\u8f93\u51fa\u5c06\u4f5c\u4e3a\u4e0b\u4e00\u65f6\u5e8f\u7684\u8f93\u5165(\u540e\u9762\u4f1a\u8be6\u8ff0\u9884\u6d4b\u7684\u5b9e\u73b0)", 
            "title": "\u521b\u5efa\u6a21\u578b"
        }, 
        {
            "location": "/38.make-chatbot/#_4", 
            "text": "\u4e0b\u9762\u6211\u4eec\u6765\u5b9e\u4f8b\u5316\u6a21\u578b\u5e76\u5582\u6570\u636e\u505a\u8bad\u7ec3\uff0c\u5982\u4e0b\uff1a  1\n2\n3 model   =   self . model ()  model . fit ( trainXY ,   trainY ,   n_epoch = 1000 ,   snapshot_epoch = False ,   batch_size = 1 )  model . load ( ./model/model )    \u8fd9\u91cc\u7684trainXY\u548ctrainY\u901a\u8fc7\u52a0\u8f7d\u4e0a\u9762\u6211\u4eec\u51c6\u5907\u7684\u8bed\u6599\u6765\u8d4b\u503c  \u9996\u5148\u6211\u4eec\u52a0\u8f7d\u8bcd\u5411\u91cf\u5e76\u5b58\u5230word_vector_dict\u4e2d\uff0c\u7136\u540e\u8bfb\u53d6\u8bed\u6599\u6587\u4ef6\u5e76\u6328\u4e2a\u8bcd\u67e5word_vector_dict\u5e76\u8d4b\u503c\u5411\u91cf\u7ed9question_seq\u548canswer_seq\uff0c\u5982\u4e0b\uff1a   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24 def   init_seq ( input_file ): \n     \u8bfb\u53d6\u5207\u597d\u8bcd\u7684\u6587\u672c\u6587\u4ef6\uff0c\u52a0\u8f7d\u5168\u90e8\u8bcd\u5e8f\u5217       \n     file_object   =   open ( input_file ,   r ) \n     vocab_dict   =   {} \n     while   True : \n         question_seq   =   [] \n         answer_seq   =   [] \n         line   =   file_object . readline () \n         if   line : \n             line_pair   =   line . split ( | ) \n             line_question   =   line_pair [ 0 ] \n             line_answer   =   line_pair [ 1 ] \n             for   word   in   line_question . decode ( utf-8 ) . split (   ): \n                 if   word_vector_dict . has_key ( word ): \n                     question_seq . append ( word_vector_dict [ word ]) \n             for   word   in   line_answer . decode ( utf-8 ) . split (   ): \n                 if   word_vector_dict . has_key ( word ): \n                     answer_seq . append ( word_vector_dict [ word ]) \n         else : \n             break \n         question_seqs . append ( question_seq ) \n         answer_seqs . append ( answer_seq ) \n     file_object . close ()    \u6709\u4e86question_seq\u548canswer_seq\uff0c\u6211\u4eec\u6765\u6784\u9020trainXY\u548ctrainY\uff0c\u5982\u4e0b\uff1a   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14      def   generate_trainig_data ( self ): \n         xy_data   =   [] \n         y_data   =   [] \n         for   i   in   range ( len ( question_seqs )): \n             question_seq   =   question_seqs [ i ] \n             answer_seq   =   answer_seqs [ i ] \n             if   len ( question_seq )     self . max_seq_len   and   len ( answer_seq )     self . max_seq_len : \n                 sequence_xy   =   [ np . zeros ( self . word_vec_dim )]   *   ( self . max_seq_len - len ( question_seq ))   +   list ( reversed ( question_seq )) \n                 sequence_y   =   answer_seq   +   [ np . zeros ( self . word_vec_dim )]   *   ( self . max_seq_len - len ( answer_seq )) \n                 sequence_xy   =   sequence_xy   +   sequence_y \n                 sequence_y   =   [ np . ones ( self . word_vec_dim )]   +   sequence_y \n                 xy_data . append ( sequence_xy ) \n                 y_data . append ( sequence_y ) \n         return   np . array ( xy_data ),   np . array ( y_data )    \u6784\u9020\u4e86\u8bad\u7ec3\u6570\u636e\u4e5f\u521b\u5efa\u597d\u4e86\u6a21\u578b\uff0c\u8bad\u7ec3\u7684\u6548\u679c\u5982\u4e0b\uff1a   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14 [ root@centos  #] python my_seq2seq_v2.py train \nbegin load vectors words   =   70937  size   =   200 \nload vectors finish\n---------------------------------\nRun id: 9PZWKM\nLog directory: /tmp/tflearn_logs/\n---------------------------------\nTraining samples:  368 \nValidation samples:  0 \n--\nTraining Step:  47    |  total loss:  0 .62260 |  SGD  |  epoch:  001   |  loss:  0 .62260 -- iter:  047 /368   \u6700\u7ec8\u4f1a\u751f\u6210./model/model\u6a21\u578b\u6587\u4ef6", 
            "title": "\u8bad\u7ec3\u6a21\u578b"
        }, 
        {
            "location": "/38.make-chatbot/#_5", 
            "text": "\u8bad\u7ec3\u597d\u6a21\u578b\uff0c\u6211\u4eec\u5e0c\u671b\u80fd\u8f93\u5165\u4e00\u53e5\u8bdd\u6765\u9884\u6d4b\u4e00\u4e0b\u56de\u7b54\uff0c\u5982\u4e0b\uff1a  1 predict   =   model . predict ( testXY )    \u56e0\u4e3a\u6211\u4eec\u53ea\u6709question\u6ca1\u6709answer\uff0c\u6240\u4ee5testXY\u4e2d\u662f\u6ca1\u6709Y\u90e8\u5206\u7684\uff0c\u6240\u4ee5\u9700\u8981\u5728\u7a0b\u5e8f\u4e2d\u505a\u4e00\u4e9b\u6539\u53d8\uff0c\u5373\u7528\u4e0a\u4e00\u53e5\u7684\u8f93\u51fa\u4f5c\u4e3a\u4e0b\u4e00\u53e5\u7684\u8f93\u5165\uff0c\u5982\u4e0b\uff1a  1\n2\n3\n4\n5\n6 for   i   in   range ( self . max_seq_len - 1 ): \n    # next_dec_input = tf.slice(decoder_inputs, [0, i+1, 0], [-1, 1, self.word_vec_dim])\u8fd9\u91cc\u6539\u6210\u4e0b\u9762\u8fd9\u53e5 \n    next_dec_input   =   decoder_output_sequence_single \n    decoder_output_tensor   =   tflearn . lstm ( next_dec_input ,   self . word_vec_dim ,   return_seq = False ,   reuse = True ,   scope = decoder_lstm ) \n    decoder_output_sequence_single   =   tf . pack ([ decoder_output_tensor ],   axis = 1 ) \n    decoder_output_sequence_list . append ( decoder_output_tensor )    \u56e0\u4e3a\u8bcd\u5411\u91cf\u662f\u591a\u7ef4\u6d6e\u70b9\u6570\uff0c\u9884\u6d4b\u51fa\u7684\u8bcd\u5411\u91cf\u9700\u8981\u901a\u8fc7\u4f59\u5f26\u76f8\u4f3c\u5ea6\u6765\u5339\u914d\uff0c\u4f59\u5f26\u76f8\u4f3c\u5ea6\u5339\u914d\u65b9\u6cd5\u5982\u4e0b\uff1a   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10 def   vector2word ( vector ): \n     max_cos   =   - 10000 \n     match_word   =   \n     for   word   in   word_vector_dict : \n         v   =   word_vector_dict [ word ] \n         cosine   =   vector_cosine ( vector ,   v ) \n         if   cosine     max_cos : \n             max_cos   =   cosine \n             match_word   =   word \n     return   ( match_word ,   max_cos )    \u5176\u4e2d\u7684vector_cosine\u5b9e\u73b0\u5982\u4e0b\uff1a  1\n2\n3\n4\n5\n6\n7\n8\n9 def   vector_cosine ( v1 ,   v2 ): \n     if   len ( v1 )   !=   len ( v2 ): \n         sys . exit ( 1 ) \n     sqrtlen1   =   vector_sqrtlen ( v1 ) \n     sqrtlen2   =   vector_sqrtlen ( v2 ) \n     value   =   0 \n     for   item1 ,   item2   in   zip ( v1 ,   v2 ): \n         value   +=   item1   *   item2 \n     return   value   /   ( sqrtlen1 * sqrtlen2 )    \u5176\u4e2d\u7684vector_sqrtlen\u5b9e\u73b0\u5982\u4e0b\uff1a  1\n2\n3\n4\n5\n6 def   vector_sqrtlen ( vector ): \n     len   =   0 \n     for   item   in   vector : \n         len   +=   item   *   item \n     len   =   math . sqrt ( len ) \n     return   len    \u9884\u6d4b\u6548\u679c\u5982\u4e0b\uff1a  1 \u8f93\u5165\u662f\u201c\u771f \u8ba8\u538c\u201d   \u9884\u6d4b\u7ed3\u679c\uff1a   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14 [ root@centos  #] python my_seq2seq_v2.py test test.data \nbegin load vectors words   =   70937  size   =   200 \nload vectors finish\npredict answer\n\u7adf\u7136  0 .796628661264  8 .13188244428\n\u662f  0 .361905373571  4 .72316883181\n\u4f60  0 .416023172832  3 .78265507983\n\u554a  0 .454288467277  3 .13229596833\n\u4e0d\u662f  0 .424590214456  2 .90688231062\n\u4f60  0 .489174557107  2 .62733802498\n\u554a  0 .501460288258  2 .87990178439\n\u4f60  0 .560230783333  3 .09066126524   \u8f93\u51fa\u7684\u7b2c\u4e00\u5217\u662f\u9884\u6d4b\u7684\u6bcf\u4e2a\u65f6\u5e8f\u4ea7\u751f\u7684\u8bcd\uff0c\u7b2c\u4e8c\u5217\u662f\u9884\u6d4b\u8f93\u51fa\u5411\u91cf\u548c\u6700\u8fd1\u7684\u8bcd\u5411\u91cf\u7684\u4f59\u5f26\u76f8\u4f3c\u5ea6\uff0c\u7b2c\u4e09\u5217\u662f\u9884\u6d4b\u5411\u91cf\u7684\u6b27\u6c0f\u8ddd\u79bb  \u56e0\u4e3a\u6211\u4eec\u8bbe\u8ba1\u7684max_seq_len\u662f\u5b9a\u957f8\uff0c\u6240\u4ee5\u8f93\u51fa\u7684\u5e8f\u5217\u6700\u540e\u4f1a\u591a\u4f59\u4e00\u4e9b\u5b57\uff0c\u53ef\u4ee5\u6839\u636e\u4f59\u5f26\u76f8\u4f3c\u5ea6\u6216\u8005\u5176\u4ed6\u6307\u6807\u8bbe\u5b9a\u4e00\u4e2a\u9608\u503c\u6765\u622a\u65ad  \u4ee5\u4e0a\u5217\u51fa\u7684\u662f\u90e8\u5206\u4ee3\u7801\uff0c\u5168\u90e8\u4ee3\u7801\u5206\u4eab\u5728my_seq2seq_v2.py\u6b22\u8fce\u70b9\u51fb\u89c2\u770b", 
            "title": "\u6548\u679c\u9884\u6d4b"
        }, 
        {
            "location": "/39.gpu-server/", 
            "text": "\u4f5c\u8005\u4e00\u4f17\u7b79\u60f3\u6cd5", 
            "title": "\u4e09\u5341\u4e5d-\u642d\u5efa\u4e00\u53f0GPU\u5171\u4eab\u4e91\u670d\u52a1"
        }, 
        {
            "location": "/40.video-knowledge-point/", 
            "text": "\u4e3a\u4e86\u54cd\u5e94\u5404\u4f4d\u7f51\u53cb\u7684\u53f7\u53ec\uff0c\u5f00\u59cb\u5f55\u5236\u6211\u7684\u804a\u5929\u673a\u5668\u4eba\u89c6\u9891\u6559\u7a0b\uff0c\u8003\u8651\u5230\u4f17\u53e3\u96be\u8c03\u7684\u95ee\u9898\u4ee5\u53ca\u672c\u4eba\u7684\u624d\u758f\u5b66\u6d45\uff0c\u628a\u6559\u7a0b\u5b9a\u4f4d\u4e3a\u9762\u5411\u521d\u5b66\u8005\uff0c\u5e76\u9010\u6b65\u62d3\u5c55\u77e5\u8bc6\u9762\uff0c\u589e\u52a0\u6df1\u5ea6\uff0c\u90e8\u5206\u89c6\u9891\u4e5f\u8bb8\u4f1a\u6536\u53d6\u51e0\u5757\u94b1\u7684\u52b3\u82e6\u8d39\uff0c\u4ee5\u9f13\u52b1\u81ea\u5df1\u80fd\u575a\u6301\u4e0b\u53bb\uff0c\u5e0c\u671b\u5927\u5bb6\u591a\u591a\u652f\u6301 \n\n\n\u7b2c\u4e00\u8282\u89c6\u9891\u622a\u5c4f\n\n\n\u65f6\u957f\uff1a27\u520629\u79d2\n\n\n\u7b2c\u4e00\u8282\u89c6\u9891\u5185\u5bb9\u6897\u6982\n\n\n\u9762\u5411\u4eba\u7fa4\n\n\n\u5927\u4e8c\u81f3\u5728\u804c\n\n\n\u77e5\u8bc6\u7ebf\u7d22\u56fe\n\n\n50\u591a\u4e2a\u77e5\u8bc6\u8282\u70b9\u7684\u68b3\u7406\u548c\u8bf4\u660e\n\n\n\u6211\u7684\u98ce\u683c\n\n\n\u591a\u8bb2\u4ee3\u7801\u5b9e\u64cd\uff0c\u5c11\u8bb2\u7406\u8bba\u516c\u5f0f\n\n\n\u4e0d\u8ffd\u6c42\u8868\u8ff0\u4e25\u8c28\uff0c\u4f46\u8ffd\u6c42\u7406\u89e3\u5230\u4f4d\n\n\n\u4e0d\u8ffd\u6c42\u6df1\u523b\u7406\u89e3\uff0c\u4f46\u8ffd\u6c42\u9762\u9762\u4ff1\u5230\n\n\n\u7b2c\u4e00\u8282\u89c6\u9891\u7684\u4e0b\u8f7d\u65b9\u5f0f\n\n\n\u5728\u4e0b\u65b9\u7559\u8a00\u7559\u4e0b\u60a8\u7684\u90ae\u7bb1\uff0c\u6216\u8005\u76f4\u63a5\u53d1\u90ae\u7bb1\u5230shareditor.com^_^gmail.com(\u6807\u9898\u8bf4\u660e\uff1a\u804a\u5929\u673a\u5668\u4eba\u89c6\u9891\u6559\u7a0b\u4e4b\u5f00\u7bc7\u5ba3\u8a00)\uff0c\u6211\u4f1a\u628a\u4e0b\u8f7d\u5730\u5740\u53d1\u81f3\u60a8\u7684\u90ae\u7bb1\n\n\n\u7248\u6743\u6240\u6709\uff0c\u7ffb\u7248\u5fc5\u7a76\uff0c\u5982\u6709\u5de7\u5408\uff0c\u7eaf\u5c5e\u96f7\u540c", 
            "title": "\u56db\u5341-\u89c6\u9891\u4e4b\u5f00\u7bc7\u5ba3\u8a00\u4e0e\u77e5\u8bc6\u70b9"
        }, 
        {
            "location": "/40.video-knowledge-point/#_1", 
            "text": "\u65f6\u957f\uff1a27\u520629\u79d2", 
            "title": "\u7b2c\u4e00\u8282\u89c6\u9891\u622a\u5c4f"
        }, 
        {
            "location": "/40.video-knowledge-point/#_2", 
            "text": "", 
            "title": "\u7b2c\u4e00\u8282\u89c6\u9891\u5185\u5bb9\u6897\u6982"
        }, 
        {
            "location": "/40.video-knowledge-point/#_3", 
            "text": "\u5927\u4e8c\u81f3\u5728\u804c", 
            "title": "\u9762\u5411\u4eba\u7fa4"
        }, 
        {
            "location": "/40.video-knowledge-point/#_4", 
            "text": "50\u591a\u4e2a\u77e5\u8bc6\u8282\u70b9\u7684\u68b3\u7406\u548c\u8bf4\u660e", 
            "title": "\u77e5\u8bc6\u7ebf\u7d22\u56fe"
        }, 
        {
            "location": "/40.video-knowledge-point/#_5", 
            "text": "\u591a\u8bb2\u4ee3\u7801\u5b9e\u64cd\uff0c\u5c11\u8bb2\u7406\u8bba\u516c\u5f0f  \u4e0d\u8ffd\u6c42\u8868\u8ff0\u4e25\u8c28\uff0c\u4f46\u8ffd\u6c42\u7406\u89e3\u5230\u4f4d  \u4e0d\u8ffd\u6c42\u6df1\u523b\u7406\u89e3\uff0c\u4f46\u8ffd\u6c42\u9762\u9762\u4ff1\u5230", 
            "title": "\u6211\u7684\u98ce\u683c"
        }, 
        {
            "location": "/40.video-knowledge-point/#_6", 
            "text": "\u5728\u4e0b\u65b9\u7559\u8a00\u7559\u4e0b\u60a8\u7684\u90ae\u7bb1\uff0c\u6216\u8005\u76f4\u63a5\u53d1\u90ae\u7bb1\u5230shareditor.com^_^gmail.com(\u6807\u9898\u8bf4\u660e\uff1a\u804a\u5929\u673a\u5668\u4eba\u89c6\u9891\u6559\u7a0b\u4e4b\u5f00\u7bc7\u5ba3\u8a00)\uff0c\u6211\u4f1a\u628a\u4e0b\u8f7d\u5730\u5740\u53d1\u81f3\u60a8\u7684\u90ae\u7bb1  \u7248\u6743\u6240\u6709\uff0c\u7ffb\u7248\u5fc5\u7a76\uff0c\u5982\u6709\u5de7\u5408\uff0c\u7eaf\u5c5e\u96f7\u540c", 
            "title": "\u7b2c\u4e00\u8282\u89c6\u9891\u7684\u4e0b\u8f7d\u65b9\u5f0f"
        }, 
        {
            "location": "/41.video-python/", 
            "text": "ython\u662f\u505a\u673a\u5668\u5b66\u4e60\u6700\u5e38\u7528\u5e76\u5fc5\u987b\u638c\u63e1\u7684\u4e00\u79cd\u8bed\u8a00\uff0c\u672c\u7bc7\u89c6\u9891\u6559\u7a0b\u9996\u5148\u6f14\u793a\u4e86\u865a\u62df\u673a\u4e2d\u5b89\u88c5ubuntu\u548c\u90e8\u7f72\u5f00\u53d1\u73af\u5883\uff0c\u5e76\u63cf\u8ff0\u4e86\u865a\u62df\u673a\u5de5\u4f5c\u539f\u7406\uff0c\u4e4b\u540e\u6f14\u793a\u5f00\u53d1\u4e86\u4e00\u4e2a\u4effpython\u7684\u89e3\u91ca\u5668\u6765\u6df1\u5165\u7406\u89e3python\u7684\u5de5\u4f5c\u539f\u7406\uff0c\u6700\u540e\u901a\u8fc7\u624b\u628a\u624b\u6f14\u793a\u8bb2\u89e3\u4e86python\u7684\u53d8\u91cf\u3001\u5206\u652f\u3001\u5faa\u73af\u3001\u51fd\u6570\u3001\u590d\u6742\u6570\u636e\u7ed3\u6784\u3001\u8f93\u5165\u8f93\u51fa\u3001\u5f02\u5e38\u3001\u7c7b\uff0c\u4ee5\u53ca\u5f00\u6e90\u5e93\u7684\u5b89\u88c5\u548c\u4f7f\u7528\u65b9\u6cd5 \n\n\n\u89c6\u9891\u5927\u7eb2\n\n\n\n\n\u865a\u62df\u673a\u4e0e\u64cd\u4f5c\u7cfb\u7edf\n\n\n\u5f00\u53d1\u4e00\u4e2a\u4effpython\u7684\u89e3\u91ca\u5668\n\n\npython\u7684\u53d8\u91cf\u3001\u51fd\u6570\u3001\u5206\u652f\u3001\u5faa\u73af\n\n\npython\u7684\u590d\u6742\u6570\u636e\u7ed3\u6784\u3001\u8f93\u5165\u8f93\u51fa\u3001\u5f02\u5e38\u3001\u7c7b\u3001\u5f00\u6e90\u5e93\n\n\n\n\n\u89c6\u9891\u622a\u5c4f\n\n\n\n\u65f6\u957f1\u5c0f\u65f612\u5206\n\n\n\u89c6\u9891\u83b7\u53d6\u65b9\u5f0f\n\n\n\u8003\u8651\u5230\u4e2a\u4eba\u7684\u77e5\u8bc6\u6574\u7406\u3001\u89c6\u9891\u5f55\u5236\u3001\u89c6\u9891\u526a\u8f91\u3001\u4ee5\u53ca\u77e5\u8bc6\u672c\u8eab\u7684\u4ef7\u503c\uff0c\u5f62\u5f0f\u4e0a\u6536\u53d69.9\u5143\u7684\u82e6\u529b\u8d39\u4ee5\u8868\u652f\u6301\uff0c\u5e0c\u671b\u5927\u5bb6\u591a\u591a\u7406\u89e3\uff0c\u4e5f\u7b97\u662f\u5bf9\u6211\u7684\u9f13\u52b1\uff0c\u83b7\u53d6\u65b9\u5f0f\u6bd4\u8f83\u7b80\u5355\uff0c\u8bf7\u5237\u4e0b\u65b9\u5fae\u4fe1\u6216\u652f\u4ed8\u5b9d\u4e8c\u7ef4\u7801\uff0c\u652f\u4ed89.9\u5143\uff0c\u4e4b\u540e\u628a\u8ba2\u5355\u53f7\u4ee5\u5982\u4e0b\u4efb\u610f\u65b9\u5f0f\u53d1\u9001\u7ed9\u6211\uff0c\u6211\u4f1a\u628a\u89c6\u9891\u4e0b\u8f7d\u5730\u5740\u5949\u4e0a(\u4e00\u822c\u6211\u4f1a\u5728\u4e0b\u4e00\u4e2a\u5de5\u4f5c\u65e5\u7edf\u4e00\u56de\u590d)\uff1a\n\n\n\n\n\u628a\u652f\u4ed8\u8ba2\u5355\u53f7\u7684\u540e\u516d\u4f4d\u6216\u622a\u56fe\u53d1\u5230\u6211\u7684\u90ae\u7bb1shareditor.com@gmail.com\uff0c\u90ae\u4ef6\u6807\u9898\u8bf7\u6ce8\u660e\uff1a\u201c\u89c6\u9891\u6559\u7a0b\u4e4b\u73af\u5883\u642d\u5efa\u4e0epython\u57fa\u7840\u201d\uff1b\n\n\n\u5728\u672c\u9875\u4e0b\u65b9\u7559\u8a00\uff0c\u9644\u4e0a\u652f\u4ed8\u8ba2\u5355\u53f7\u7684\u540e\u516d\u4f4d\u53ca\u4f60\u7684\u90ae\u7bb1\u5730\u5740\u3002\n\n\n\n\n\u53e6\u5916\uff0c\u6b22\u8fce\u5173\u6ce8\u6211\u7684\u5fae\u4fe1\u516c\u4f17\u53f7SharEDITor(\u4e5f\u53ef\u4ee5\u626b\u672c\u7f51\u9875\u4e2d\u7684\u516c\u4f17\u53f7\u4e8c\u7ef4\u7801)\uff0c\u66f4\u6b22\u8fce\u6253\u8d4f\n\n\n\u6211\u8fd8\u521b\u5efa\u4e86\u4e00\u4e2a\u804a\u5929\u673a\u5668\u4eba\u6280\u672f\u4ea4\u6d41\u5206\u4eab\u5fae\u4fe1\u7fa4\uff0c\u626b\u5982\u4e0b\u4e8c\u7ef4\u7801\u53ef\u4ee5\u5165\u7fa4\n\n\n\u5982\u679c\u65e0\u6cd5\u626b\u7801\u53ef\u4ee5\u52a0\u6211\u5fae\u4fe1\u53f7warmheartli\u5e76\u8bf4\u660e\u201c\u52a0\u804a\u5929\u673a\u5668\u4eba\u7fa4\u201d\uff0c\u6211\u4f1a\u7ed9\u60a8\u53d1\u9001\u7fa4\u9080\u8bf7", 
            "title": "\u56db\u5341\u4e00-\u89c6\u9891\u4e4b\u73af\u5883\u642d\u5efa\u4e0epython\u57fa\u7840"
        }, 
        {
            "location": "/41.video-python/#_1", 
            "text": "\u865a\u62df\u673a\u4e0e\u64cd\u4f5c\u7cfb\u7edf  \u5f00\u53d1\u4e00\u4e2a\u4effpython\u7684\u89e3\u91ca\u5668  python\u7684\u53d8\u91cf\u3001\u51fd\u6570\u3001\u5206\u652f\u3001\u5faa\u73af  python\u7684\u590d\u6742\u6570\u636e\u7ed3\u6784\u3001\u8f93\u5165\u8f93\u51fa\u3001\u5f02\u5e38\u3001\u7c7b\u3001\u5f00\u6e90\u5e93", 
            "title": "\u89c6\u9891\u5927\u7eb2"
        }, 
        {
            "location": "/41.video-python/#_2", 
            "text": "\u65f6\u957f1\u5c0f\u65f612\u5206", 
            "title": "\u89c6\u9891\u622a\u5c4f"
        }, 
        {
            "location": "/41.video-python/#_3", 
            "text": "\u8003\u8651\u5230\u4e2a\u4eba\u7684\u77e5\u8bc6\u6574\u7406\u3001\u89c6\u9891\u5f55\u5236\u3001\u89c6\u9891\u526a\u8f91\u3001\u4ee5\u53ca\u77e5\u8bc6\u672c\u8eab\u7684\u4ef7\u503c\uff0c\u5f62\u5f0f\u4e0a\u6536\u53d69.9\u5143\u7684\u82e6\u529b\u8d39\u4ee5\u8868\u652f\u6301\uff0c\u5e0c\u671b\u5927\u5bb6\u591a\u591a\u7406\u89e3\uff0c\u4e5f\u7b97\u662f\u5bf9\u6211\u7684\u9f13\u52b1\uff0c\u83b7\u53d6\u65b9\u5f0f\u6bd4\u8f83\u7b80\u5355\uff0c\u8bf7\u5237\u4e0b\u65b9\u5fae\u4fe1\u6216\u652f\u4ed8\u5b9d\u4e8c\u7ef4\u7801\uff0c\u652f\u4ed89.9\u5143\uff0c\u4e4b\u540e\u628a\u8ba2\u5355\u53f7\u4ee5\u5982\u4e0b\u4efb\u610f\u65b9\u5f0f\u53d1\u9001\u7ed9\u6211\uff0c\u6211\u4f1a\u628a\u89c6\u9891\u4e0b\u8f7d\u5730\u5740\u5949\u4e0a(\u4e00\u822c\u6211\u4f1a\u5728\u4e0b\u4e00\u4e2a\u5de5\u4f5c\u65e5\u7edf\u4e00\u56de\u590d)\uff1a   \u628a\u652f\u4ed8\u8ba2\u5355\u53f7\u7684\u540e\u516d\u4f4d\u6216\u622a\u56fe\u53d1\u5230\u6211\u7684\u90ae\u7bb1shareditor.com@gmail.com\uff0c\u90ae\u4ef6\u6807\u9898\u8bf7\u6ce8\u660e\uff1a\u201c\u89c6\u9891\u6559\u7a0b\u4e4b\u73af\u5883\u642d\u5efa\u4e0epython\u57fa\u7840\u201d\uff1b  \u5728\u672c\u9875\u4e0b\u65b9\u7559\u8a00\uff0c\u9644\u4e0a\u652f\u4ed8\u8ba2\u5355\u53f7\u7684\u540e\u516d\u4f4d\u53ca\u4f60\u7684\u90ae\u7bb1\u5730\u5740\u3002   \u53e6\u5916\uff0c\u6b22\u8fce\u5173\u6ce8\u6211\u7684\u5fae\u4fe1\u516c\u4f17\u53f7SharEDITor(\u4e5f\u53ef\u4ee5\u626b\u672c\u7f51\u9875\u4e2d\u7684\u516c\u4f17\u53f7\u4e8c\u7ef4\u7801)\uff0c\u66f4\u6b22\u8fce\u6253\u8d4f  \u6211\u8fd8\u521b\u5efa\u4e86\u4e00\u4e2a\u804a\u5929\u673a\u5668\u4eba\u6280\u672f\u4ea4\u6d41\u5206\u4eab\u5fae\u4fe1\u7fa4\uff0c\u626b\u5982\u4e0b\u4e8c\u7ef4\u7801\u53ef\u4ee5\u5165\u7fa4  \u5982\u679c\u65e0\u6cd5\u626b\u7801\u53ef\u4ee5\u52a0\u6211\u5fae\u4fe1\u53f7warmheartli\u5e76\u8bf4\u660e\u201c\u52a0\u804a\u5929\u673a\u5668\u4eba\u7fa4\u201d\uff0c\u6211\u4f1a\u7ed9\u60a8\u53d1\u9001\u7fa4\u9080\u8bf7", 
            "title": "\u89c6\u9891\u83b7\u53d6\u65b9\u5f0f"
        }, 
        {
            "location": "/42.practice/", 
            "text": "\u7ecf\u8fc7\u51e0\u4e2a\u6708\u7684\u4e0d\u65ad\u8bd5\u9519\u4e0d\u65ad\u7f16\u7801\uff0c\u7ec8\u4e8e\u6574\u7406\u51fa\u4e00\u5957\u76f8\u5bf9\u5b8c\u5907\u7684\u7406\u8bba\u548c\u4e00\u5957\u6548\u679c\u8fd8\u4e0d\u9519\u7684\u4ee3\u7801\u4f9b\u5927\u5bb6\u628a\u73a9\uff0c\u8bad\u7ec3\u4e8610\u4e2a\u5c0f\u65f6\u540e\u6548\u679c\u8bf7\u89c1\u6587\u7ae0\u672b\u5c3e\uff0c\u4ee3\u7801\u5df2\u5206\u4eab\u5230github \n\n\n\u4ec0\u4e48\u662f\u795e\u7ecf\u7f51\u7edc\n\n\n\u8fd9\u672c\u5c0f\u4e66\u4e00\u5b9a\u8981\u770b\uff1a\u300aMake Your Own Neural Network\u300b\uff0c\u8001\u5916\u5199\u7684\uff0c200\u591a\u9875\uff0c\u6ca1\u627e\u5230\u4e2d\u6587\u8bd1\u672c\uff0c\u539f\u7248\u767e\u5ea6\u4e00\u4e0b\u53ef\u4ee5\u4e0b\u8f7d\u5230\uff0c\u4ed6\u7528\u975e\u5e38\u901a\u4fd7\u6613\u61c2\u7684\u63cf\u8ff0\u8bb2\u89e3\u4e86\u4eba\u5de5\u795e\u7ecf\u7f51\u7edc\u7684\u539f\u7406\u5e76\u7528\u4ee3\u7801\u5b9e\u73b0\uff0c\u800c\u4e14\u8bd5\u9a8c\u6548\u679c\u975e\u5e38\u597d\uff0c\u4f5c\u4e3a\u6df1\u5ea6\u5b66\u4e60\u5165\u95e8\u975e\u5e38\u503c\u5f97\u63a8\u8350\u3002\n\n\n\u4ec0\u4e48\u662f\u5faa\u73af\u795e\u7ecf\u7f51\u7edc\u548cLSTM\n\n\n\u53ef\u4ee5\u53c2\u8003\u6211\u7684\u8fd9\u7bc7\u6587\u7ae0\u81ea\u5df1\u52a8\u624b\u505a\u804a\u5929\u673a\u5668\u4eba \u4e8c\u5341\u516d-\u56fe\u89e3\u9012\u5f52\u795e\u7ecf\u7f51\u7edc(RNN)\uff0c\u6216\u8005\u76f4\u63a5\u770bChristopher Olah\u7684\n2015-08-Understanding-LSTMs\n\uff0c\u8fd9\u7bc7\u535a\u6587\u88ab\u4e1a\u754c\u5f15\u7528\u65e0\u6570\u6b21\u4e86\uff0c\u7ecf\u5178\u4e2d\u7684\u7ecf\u5178\u3002\n\n\n\u4ec0\u4e48\u662fseq2seq\u6a21\u578b\n\n\nseq2seq\u662f\u57fa\u4e8e\u5faa\u73af\u795e\u7ecf\u7f51\u7edc\u7684\u4e00\u79cd\u5e8f\u5217\u5230\u5e8f\u5217\u6a21\u578b\uff0c\u8bed\u8a00\u7ffb\u8bd1\u3001\u81ea\u52a8\u95ee\u7b54\u7b49\u90fd\u5c5e\u4e8e\u5e8f\u5217\u5230\u5e8f\u5217\u7684\u573a\u666f\uff0c\u90fd\u53ef\u4ee5\u4f7f\u7528seq2seq\u6a21\u578b\uff0c\u7528seq2seq\u5b9e\u73b0\u804a\u5929\u673a\u5668\u4eba\u7684\u539f\u7406\u53ef\u4ee5\u770b\u4e0b\n\u8fd9\u7bc7\u6587\u7ae0\n\u3002tensorflow\u4e2d\u5df2\u7ecf\u6709\u5b9e\u73b0\u597d\u7684api\u4f9b\u6211\u4eec\u4f7f\u7528\uff0c\u4f46\u56e0\u4e3a\u53c2\u6570\u8f83\u591a\u3001\u539f\u7406\u590d\u6742\uff0c\u7406\u89e3\u8d77\u6765\u6bd4\u8f83\u6666\u6da9\uff0c\u672c\u6587\u5c31\u8ba9\u6211\u5e26\u7740\u5927\u5bb6\u4e00\u6b65\u4e00\u6b65\u63a2\u7d22\u5e76\u4f7f\u7528\u3002\n\n\n\u4ec0\u4e48\u662fattention\u6a21\u578b\n\n\nattention\u6a21\u578b(\u6ce8\u610f\u529b\u6a21\u578b)\u662f\u4e3a\u4e86\u89e3\u51b3seq2seq\u4e2d\u89e3\u7801\u5668\u53ea\u63a5\u53d7\u7f16\u7801\u5668\u6700\u540e\u4e00\u4e2a\u8f93\u51fa\u800c\u8fdc\u79bb\u4e86\u4e4b\u524d\u7684\u8f93\u51fa\u5bfc\u81f4\u7684\u4fe1\u606f\u4e22\u5931\u7684\u95ee\u9898\uff0c\u4ece\u539f\u7406\u4e0a\u8bb2\uff0c\u4e00\u4e2a\u56de\u7b54\u4e00\u822c\u662f\u57fa\u4e8e\u95ee\u9898\u4e2d\u4e00\u4e9b\u5173\u952e\u4f4d\u7f6e\u7684\u4fe1\u606f\uff0c\u4e5f\u5c31\u662f\u6ce8\u610f\u529b\u96c6\u4e2d\u7684\u5730\u65b9\uff0c\u5177\u4f53\u7ec6\u8282\u53ef\u4ee5\u770b\u4e0b\n\u8fd9\u91cc\n\n\n\u7528tensorflow\u7684seq2seq\u5236\u4f5c\u4f60\u81ea\u5df1\u7684\u804a\u5929\u673a\u5668\u4eba\n\n\n\u5230\u8fd9\u91cc\uff0c\u5047\u8bbe\u4f60\u5df2\u7ecf\u638c\u63e1\u4e86\u4e0a\u9762\u7684\u7406\u8bba\u90e8\u5206\uff0c\u73b0\u5728\u6211\u4eec\u76f4\u63a5\u9501\u5b9a\u5728tensorflow\u63d0\u4f9b\u7ed9\u6211\u4eec\u7684\u5f3a\u5927api\u4e0a\u3002\u60f3\u771f\u6b63\u5229\u7528\u597dtensorflow\u5fc5\u987b\u7406\u89e3\u597d\u5b83\u7684\u91cd\u8981\u63a5\u53e3\u53ca\u5176\u6240\u6709\u53c2\u6570\uff0c\u6240\u4ee5\u7b2c\u4e00\u6b65\u6211\u4eec\u627e\u5230\u6211\u4eec\u8fd9\u6b21\u8981\u4f7f\u7528\u7684\u6700\n\u5173\u952e\u7684\u63a5\u53e3\n\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\nembedding_attention_seq2seq\n(\n\n    \nencoder_inputs\n,\n\n    \ndecoder_inputs\n,\n\n    \ncell\n,\n\n    \nnum_encoder_symbols\n,\n\n    \nnum_decoder_symbols\n,\n\n    \nembedding_size\n,\n\n    \nnum_heads\n=\n1\n,\n\n    \noutput_projection\n=\nNone\n,\n\n    \nfeed_previous\n=\nFalse\n,\n\n    \ndtype\n=\nNone\n,\n\n    \nscope\n=\nNone\n,\n\n    \ninitial_state_attention\n=\nFalse\n\n\n)\n\n\n\n\n\n\n\n\u4e3a\u4e86\u8bf4\u660e\u8fd9\u4e2a\u63a5\u53e3\u7684\u529f\u80fd\uff0c\u5148\u6765\u770b\u4e00\u4e0b\u5b83\u6240\u6d89\u53ca\u5230\u7684\u6a21\u578b\u7ed3\u6784\uff0c\u5982\u4e0b\u6240\u793a\uff1a\n\n\n\n\u53c2\u6570encoder_inputs\u662f\u4e00\u4e2alist\uff0clist\u4e2d\u6bcf\u4e00\u9879\u662f1D\u7684Tensor\uff0c\u8fd9\u4e2aTensor\u7684shape\u662f[batch_size]\uff0cTensor\u4e2d\u6bcf\u4e00\u9879\u662f\u4e00\u4e2a\u6574\u6570\uff0c\u7c7b\u4f3c\u8fd9\u6837\uff1a\n\n\n1\n2\n3\n4\n5\n[\narray\n([\n0\n,\n \n0\n,\n \n0\n,\n \n0\n],\n \ndtype\n=\nint32\n),\n \n\narray\n([\n0\n,\n \n0\n,\n \n0\n,\n \n0\n],\n \ndtype\n=\nint32\n),\n \n\narray\n([\n8\n,\n \n3\n,\n \n5\n,\n \n3\n],\n \ndtype\n=\nint32\n),\n \n\narray\n([\n7\n,\n \n8\n,\n \n2\n,\n \n1\n],\n \ndtype\n=\nint32\n),\n \n\narray\n([\n6\n,\n \n2\n,\n \n10\n,\n \n9\n],\n \ndtype\n=\nint32\n)]\n\n\n\n\n\n\n\n\u5176\u4e2d\u76845\u4e2aarray\uff0c\u8868\u793a\u4e00\u53e5\u8bdd\u7684\u957f\u5ea6\u662f5\u4e2a\u8bcd\n\n\n\u5176\u4e2d\u6bcf\u4e2aarray\u91cc\u67094\u4e2a\u6570\uff0c\u8868\u793abatch\u662f4\uff0c\u4e5f\u5c31\u662f\u4e00\u51714\u4e2a\u6837\u672c\u3002\u90a3\u4e48\u53ef\u4ee5\u770b\u51fa\u7b2c\u4e00\u4e2a\u6837\u672c\u662f[[0],[0],[8],[7],[6]]\uff0c\u7b2c\u4e8c\u4e2a\u6837\u672c\u662f[[0],[0],[3],[8],[2]]\uff0c\u8fd9\u91cc\u7684\u6570\u5b57\u662f\u7528\u6765\u533a\u5206\u4e0d\u540c\u8bcd\u7684\u4e00\u4e2aid\uff0c\u4e00\u822c\u901a\u8fc7\u7edf\u8ba1\u5f97\u51fa\uff0c\u4e00\u4e2aid\u8868\u793a\u4e00\u4e2a\u8bcd\n\n\n\u540c\u7406\uff0c\u53c2\u6570\ndecoder_inputs\n\u4e5f\u662f\u548c\nencoder_inputs\n\u4e00\u6837\u7ed3\u6784\uff0c\u4e0d\u8d58\u8ff0\n\n\n\u53c2\u6570\ncell\n\u662f\ntf.nn.rnn_cell.RNNCell\n\u7c7b\u578b\u7684\u5faa\u73af\u795e\u7ecf\u7f51\u7edc\u5355\u5143\uff0c\u53ef\u4ee5\u7528\ntf.contrib.rnn.BasicLSTMCell\n\u3001\ntf.contrib.rnn.GRUCell\n\n\n\u53c2\u6570num_encoder_symbols\u662f\u4e00\u4e2a\u6574\u6570\uff0c\u8868\u793aencoder_inputs\u4e2d\u7684\u6574\u6570\u8bcdid\u7684\u6570\u76ee\uff0c\u540c\u7406num_decoder_symbols\u8868\u793adecoder_inputs\u4e2d\u6574\u6570\u8bcdid\u7684\u6570\u76ee\n\n\nembedding_size\u8868\u793a\u5728\u5185\u90e8\u505aword embedding\u65f6\u8f6c\u6210\u51e0\u7ef4\u5411\u91cf\uff0c\u9700\u8981\u548cRNNCell\u7684size\u5927\u5c0f\u76f8\u7b49\n\n\nnum_heads\u8868\u793a\u5728attention_states\u4e2d\u7684\u62bd\u5934\u6570\u91cf\n\n\noutput_projection\u662f\u4e00\u4e2a(W, B)\u7ed3\u6784\u7684tuple\uff0cW\u662fshape\u4e3a[output_size x num_decoder_symbols]\u7684weight\u77e9\u9635\uff0cB\u662fshape\u4e3a[num_decoder_symbols]\u7684\u504f\u7f6e\u5411\u91cf\uff0c\u90a3\u4e48\u6bcf\u4e2aRNNCell\u7684\u8f93\u51fa\u7ecf\u8fc7WX+B\u5c31\u53ef\u4ee5\u6620\u5c04\u6210num_decoder_symbols\u7ef4\u7684\u5411\u91cf\uff0c\u8fd9\u4e2a\u5411\u91cf\u91cc\u7684\u503c\u8868\u793a\u7684\u662f\u4efb\u610f\u4e00\u4e2adecoder_symbol\u7684\u53ef\u80fd\u6027\uff0c\u4e5f\u5c31\u662fsoftmax\n\n\nfeed_previous\u8868\u793adecoder_inputs\u662f\u6211\u4eec\u76f4\u63a5\u63d0\u4f9b\u8bad\u7ec3\u6570\u636e\u7684\u8f93\u5165\uff0c\u8fd8\u662f\u7528\u524d\u4e00\u4e2aRNNCell\u7684\u8f93\u51fa\u6620\u5c04\u51fa\u6765\u7684\uff0c\u5982\u679cfeed_previous\u4e3aTrue\uff0c\u90a3\u4e48\u5c31\u662f\u7528\u524d\u4e00\u4e2aRNNCell\u7684\u8f93\u51fa\uff0c\u5e76\u7ecf\u8fc7WX+B\u6620\u5c04\u6210\n\n\ndtype\u662fRNN\u72b6\u6001\u6570\u636e\u7684\u7c7b\u578b\uff0c\u9ed8\u8ba4\u662ftf.float32\n\n\nscope\u662f\u5b50\u56fe\u7684\u547d\u540d\uff0c\u9ed8\u8ba4\u662f\u201cembedding_attention_seq2seq\u201d\n\n\ninitial_state_attention\u8868\u793a\u662f\u5426\u521d\u59cb\u5316attentions\uff0c\u9ed8\u8ba4\u4e3a\u5426\uff0c\u8868\u793a\u5168\u90fd\u521d\u59cb\u5316\u4e3a0\n\n\n\u5b83\u7684\u8fd4\u56de\u503c\u662f\u4e00\u4e2a(outputs, state)\u7ed3\u6784\u7684tuple\uff0c\u5176\u4e2doutputs\u662f\u4e00\u4e2a\u957f\u5ea6\u4e3a\u53e5\u5b50\u957f\u5ea6(\u8bcd\u6570\uff0c\u4e0e\u4e0a\u9762encoder_inputs\u7684list\u957f\u5ea6\u4e00\u6837)\u7684list\uff0clist\u4e2d\u6bcf\u4e00\u9879\u662f\u4e00\u4e2a2D\u7684tf.float32\u7c7b\u578b\u7684Tensor\uff0c\u7b2c\u4e00\u7ef4\u5ea6\u662f\u6837\u672c\u6570\uff0c\u6bd4\u59824\u4e2a\u6837\u672c\u5219\u6709\u56db\u7ec4Tensor\uff0c\u6bcf\u4e2aTensor\u957f\u5ea6\u662fembedding_size\uff0c\u50cf\u4e0b\u9762\u7684\u6837\u5b50\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n  \n[\n\n    \narray\n([\n\n      \n[\n-\n0.02027004\n,\n \n-\n0.017872\n  \n,\n \n-\n0.00233014\n,\n \n-\n0.0437047\n \n,\n  \n0.00083584\n,\n\n      \n0.01339234\n,\n  \n0.02355197\n,\n  \n0.02923143\n],\n\n      \n[\n-\n0.02027004\n,\n \n-\n0.017872\n  \n,\n \n-\n0.00233014\n,\n \n-\n0.0437047\n \n,\n  \n0.00083584\n,\n\n      \n0.01339234\n,\n  \n0.02355197\n,\n  \n0.02923143\n],\n\n      \n[\n-\n0.02027004\n,\n \n-\n0.017872\n  \n,\n \n-\n0.00233014\n,\n \n-\n0.0437047\n \n,\n  \n0.00083584\n,\n\n      \n0.01339234\n,\n  \n0.02355197\n,\n  \n0.02923143\n],\n\n      \n[\n-\n0.02027004\n,\n \n-\n0.017872\n  \n,\n \n-\n0.00233014\n,\n \n-\n0.0437047\n \n,\n  \n0.00083584\n,\n\n      \n0.01339234\n,\n  \n0.02355197\n,\n  \n0.02923143\n]\n\n    \n],\ndtype\n=\nfloat32\n),\n\n    \narray\n([\n\n    \n......\n\n    \n],\ndtype\n=\nfloat32\n),\n  \n    \narray\n([\n\n    \n......\n\n    \n],\ndtype\n=\nfloat32\n),\n  \n    \narray\n([\n\n    \n......\n\n    \n],\ndtype\n=\nfloat32\n),\n  \n    \narray\n([\n\n    \n......\n\n    \n],\ndtype\n=\nfloat32\n),\n  \n  \n]\n\n\n\n\n\n\n\n\u5176\u5b9e\u8fd9\u4e2aoutputs\u53ef\u4ee5\u63cf\u8ff0\u4e3a5\n4\n8\u4e2a\u6d6e\u70b9\u6570\uff0c5\u662f\u53e5\u5b50\u957f\u5ea6\uff0c4\u662f\u6837\u672c\u6570\uff0c8\u662f\u8bcd\u5411\u91cf\u7ef4\u6570\n\n\n\u4e0b\u9762\u518d\u770b\u8fd4\u56de\u7684state\uff0c\u5b83\u662fnum_layers\u4e2aLSTMStateTuple\u7ec4\u6210\u7684\u5927tuple\uff0c\u8fd9\u91ccnum_layers\u662f\u521d\u59cb\u5316cell\u65f6\u7684\u53c2\u6570\uff0c\u8868\u793a\u795e\u7ecf\u7f51\u7edc\u5355\u5143\u6709\u51e0\u5c42\uff0c\u4e00\u4e2a\u75313\u5c42LSTM\u795e\u7ecf\u5143\u7ec4\u6210\u7684encoder-decoder\u591a\u5c42\u5faa\u73af\u795e\u7ecf\u7f51\u7edc\u662f\u50cf\u4e0b\u9762\u8fd9\u6837\u7684\u7f51\u7edc\u7ed3\u6784\uff1a\n\n\n\n\nencoder_inputs\u8f93\u5165encoder\u7684\u7b2c\u4e00\u5c42LSTM\u795e\u7ecf\u5143\uff0c\u8fd9\u4e2a\u795e\u7ecf\u5143\u7684output\u4f20\u7ed9\u7b2c\u4e8c\u5c42LSTM\u795e\u7ecf\u5143\uff0c\u7b2c\u4e8c\u5c42\u7684output\u518d\u4f20\u7ed9\u7b2c\u4e09\u5c42\uff0c\u800cencoder\u7684\u7b2c\u4e00\u5c42\u8f93\u51fa\u7684state\u5219\u4f20\u7ed9decoder\u7b2c\u4e00\u5c42\u7684LSTM\u795e\u7ecf\u5143\uff0c\u4f9d\u6b21\u7c7b\u63a8\uff0c\u5982\u4e0a\u56fe\u6240\u793a\n\n\n\u56de\u8fc7\u5934\u6765\u518d\u770bLSTMStateTuple\u8fd9\u4e2a\u7ed3\u6784\uff0c\u5b83\u662f\u7531\u4e24\u4e2aTensor\u7ec4\u6210\u7684tuple\uff0c\u7b2c\u4e00\u4e2atensor\u547d\u540d\u4e3ac\uff0c\u75314\u4e2a8\u7ef4\u5411\u91cf\u7ec4\u6210(4\u662fbatch, 8\u662fstate_size\u4e5f\u5c31\u662f\u8bcd\u5411\u91cf\u7ef4\u5ea6)\uff0c \u7b2c\u4e8c\u4e2atensor\u547d\u540d\u4e3ah\uff0c\u540c\u6837\u75314\u4e2a8\u7ef4\u5411\u91cf\u7ec4\u6210\n\n\n\u8fd9\u91cc\u7684c\u548ch\u5982\u4e0b\u6240\u793a\uff1a\n\n\n\n\nc\u662f\u4f20\u7ed9\u4e0b\u4e00\u4e2a\u65f6\u5e8f\u7684\u5b58\u50a8\u6570\u636e\uff0ch\u662f\u9690\u85cf\u5c42\u7684\u8f93\u51fa\uff0c\u8fd9\u91cc\u7684\u8ba1\u7b97\u516c\u5f0f\u662f\n\n\n\u5728tensorflow\u4ee3\u7801\u91cc\u4e5f\u6709\u5bf9\u5e94\u7684\u5b9e\u73b0\uff1a\n\n\n1\n2\n3\n4\nconcat\n \n=\n \n_linear\n([\ninputs\n,\n \nh\n],\n \n4\n \n*\n \nself\n.\n_num_units\n,\n \nTrue\n)\n\n\ni\n,\n \nj\n,\n \nf\n,\n \no\n \n=\n \narray_ops\n.\nsplit\n(\nvalue\n=\nconcat\n,\n \nnum_or_size_splits\n=\n4\n,\n \naxis\n=\n1\n)\n\n\nnew_c\n \n=\n \n(\nc\n \n*\n \nsigmoid\n(\nf\n \n+\n \nself\n.\n_forget_bias\n)\n \n+\n \nsigmoid\n(\ni\n)\n \n*\n \nself\n.\n_activation\n(\nj\n))\n\n\nnew_h\n \n=\n \nself\n.\n_activation\n(\nnew_c\n)\n \n*\n \nsigmoid\n(\no\n)\n\n\n\n\n\n\n\n\u4e8b\u5b9e\u4e0a\uff0c\u5982\u679c\u6211\u4eec\u76f4\u63a5\u4f7f\u7528embedding_attention_seq2seq\u6765\u505a\u8bad\u7ec3\uff0c\u8fd4\u56de\u7684state\u4e00\u822c\u662f\u7528\u4e0d\u5230\u7684\n\n\n\u4e0b\u9762\uff0c\u6211\u4eec\u5c31\u6765\u60f3\u529e\u6cd5\u6784\u9020\u8fd9\u4e9b\u8f93\u5165\u53c2\u6570\u6765\u8bad\u7ec3\u4e00\u4e2aseq2seq\u6a21\u578b\u51fa\u6765\n\n\n\u6211\u4eec\u4ee51\u30013\u30015\u30017\u30019\u2026\u2026\u5947\u6570\u5e8f\u5217\u4e3a\u4f8b\u6765\u6784\u9020\u6837\u672c\uff0c\u6bd4\u5982\u4e24\u4e2a\u6837\u672c\u662f[[1,3,5],[7,9,11]]\u548c[[3,5,7],[9,11,13]]\uff0c\u76f8\u5f53\u4e8e\u6211\u4eec\u7684\uff1a\n\n\n1\ntrain_set\n \n=\n \n[[[\n1\n,\n \n3\n,\n \n5\n],\n \n[\n7\n,\n \n9\n,\n \n11\n]],\n \n[[\n3\n,\n \n5\n,\n \n7\n],\n \n[\n9\n,\n \n11\n,\n \n13\n]]]\n\n\n\n\n\n\n\n\u4e3a\u4e86\u6211\u4eec\u80fd\u591f\u6ee1\u8db3\u4e0d\u540c\u957f\u5ea6\u7684\u5e8f\u5217\uff0c\u9700\u8981\u8ba9\u6211\u4eec\u8bad\u7ec3\u7684\u5e8f\u5217\u6bd4\u6837\u672c\u7684\u5e8f\u5217\u957f\u5ea6\u8981\u957f\u4e00\u4e9b\uff0c\u6bd4\u5982\u6211\u4eec\u8bbe\u7f6e\u4e3a5\uff0c\u5373\n\n\n1\n2\ninput_seq_len\n \n=\n \n5\n\n\noutput_seq_len\n \n=\n \n5\n\n\n\n\n\n\n\n\u56e0\u4e3a\u6837\u672c\u957f\u5ea6\u5c0f\u4e8e\u8bad\u7ec3\u5e8f\u5217\u7684\u957f\u5ea6\uff0c\u6240\u4ee5\u6211\u4eec\u75280\u6765\u586b\u5145\uff0c\u5373\n\n\n1\nPAD_ID\n \n=\n \n0\n\n\n\n\n\n\n\n\u90a3\u4e48\u6211\u4eec\u7684\u7b2c\u4e00\u4e2a\u6837\u672c\u7684encoder_input\u5c31\u662f\uff1a\n\n\n1\nencoder_input_0\n \n=\n \n[\nPAD_ID\n]\n \n*\n \n(\ninput_seq_len\n \n-\n \nlen\n(\ntrain_set\n[\n0\n][\n0\n]))\n \n+\n \ntrain_set\n[\n0\n][\n0\n]\n\n\n\n\n\n\n\n\u7b2c\u4e8c\u4e2a\u6837\u672c\u7684encoder_input\u5c31\u662f\uff1a\n\n\n1\nencoder_input_1\n \n=\n \n[\nPAD_ID\n]\n \n*\n \n(\ninput_seq_len\n \n-\n \nlen\n(\ntrain_set\n[\n1\n][\n0\n]))\n \n+\n \ntrain_set\n[\n1\n][\n0\n]\n\n\n\n\n\n\n\ndecoder_input\u6211\u4eec\u9700\u8981\u7528\u4e00\u4e2aGO_ID\u6765\u4f5c\u4e3a\u8d77\u59cb\uff0c\u518d\u8f93\u5165\u6837\u672c\u5e8f\u5217\uff0c\u6700\u540e\u518d\u7528PAD_ID\u6765\u586b\u5145\uff0c\u5373\n\n\n1\n2\n3\n4\n5\nGO_ID\n \n=\n \n1\n\n\ndecoder_input_0\n \n=\n \n[\nGO_ID\n]\n \n+\n \ntrain_set\n[\n0\n][\n1\n]\n \n    \n+\n \n[\nPAD_ID\n]\n \n*\n \n(\noutput_seq_len\n \n-\n \nlen\n(\ntrain_set\n[\n0\n][\n1\n])\n \n-\n \n1\n)\n\n\ndecoder_input_1\n \n=\n \n[\nGO_ID\n]\n \n+\n \ntrain_set\n[\n1\n][\n1\n]\n \n    \n+\n \n[\nPAD_ID\n]\n \n*\n \n(\noutput_seq_len\n \n-\n \nlen\n(\ntrain_set\n[\n1\n][\n1\n])\n \n-\n \n1\n)\n\n\n\n\n\n\n\n\u4e3a\u4e86\u628a\u8f93\u5165\u8f6c\u6210\u4e0a\u9762\u8bb2\u5230\u7684embedding_attention_seq2seq\u8f93\u5165\u53c2\u6570encoder_inputs\u548cdecoder_inputs\u7684\u683c\u5f0f\uff0c\u6211\u4eec\u8fdb\u884c\u5982\u4e0b\u8f6c\u6362\u5373\u53ef\uff1a\n\n\n1\n2\n3\n4\n5\n6\n7\n8\nencoder_inputs\n \n=\n \n[]\n\n\ndecoder_inputs\n \n=\n \n[]\n\n\nfor\n \nlength_idx\n \nin\n \nxrange\n(\ninput_seq_len\n):\n\n    \nencoder_inputs\n.\nappend\n(\nnp\n.\narray\n([\nencoder_input_0\n[\nlength_idx\n],\n \n                          \nencoder_input_1\n[\nlength_idx\n]],\n \ndtype\n=\nnp\n.\nint32\n))\n\n\nfor\n \nlength_idx\n \nin\n \nxrange\n(\noutput_seq_len\n):\n\n    \ndecoder_inputs\n.\nappend\n(\nnp\n.\narray\n([\ndecoder_input_0\n[\nlength_idx\n],\n \n                          \ndecoder_input_1\n[\nlength_idx\n]],\n \ndtype\n=\nnp\n.\nint32\n))\n\n\n\n\n\n\n\n\u8fd0\u884c\u5df2\u7ecf\u5199\u5b8c\u7684\u8fd9\u6bb5\u7a0b\u5e8f\uff0c\u6253\u5370\u51fa\nencoder_inputs\n\u548c\ndecoder_inputs\n\u5982\u4e0b\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n[\n\n  \narray\n([\n0\n,\n \n0\n],\n \ndtype\n=\nint32\n),\n \n  \narray\n([\n0\n,\n \n0\n],\n \ndtype\n=\nint32\n),\n \n  \narray\n([\n \n1\n,\n \n23\n],\n \ndtype\n=\nint32\n),\n \n  \narray\n([\n \n3\n,\n \n25\n],\n \ndtype\n=\nint32\n),\n \n  \narray\n([\n \n5\n,\n \n27\n],\n \ndtype\n=\nint32\n)\n\n\n]\n\n\n[\n\n  \narray\n([\n1\n,\n \n1\n],\n \ndtype\n=\nint32\n),\n \n  \narray\n([\n \n7\n,\n \n29\n],\n \ndtype\n=\nint32\n),\n \n  \narray\n([\n \n9\n,\n \n31\n],\n \ndtype\n=\nint32\n),\n \n  \narray\n([\n11\n,\n \n33\n],\n \ndtype\n=\nint32\n),\n \n  \narray\n([\n0\n,\n \n0\n],\n \ndtype\n=\nint32\n)\n\n\n]\n\n\n\n\n\n\n\n\u597d\uff0c\u7b2c\u4e00\u6b65\u5927\u529f\u544a\u6210\uff0c\u6211\u4eec\u628a\u8fd9\u90e8\u5206\u72ec\u7acb\u51fa\u4e00\u4e2a\u51fd\u6570\uff0c\u6574\u7406\u4ee3\u7801\u5982\u4e0b\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n# coding:utf-8\n\n\nimport\n \nnumpy\n \nas\n \nnp\n\n\n\n# \u8f93\u5165\u5e8f\u5217\u957f\u5ea6\n\n\ninput_seq_len\n \n=\n \n5\n\n\n# \u8f93\u51fa\u5e8f\u5217\u957f\u5ea6\n\n\noutput_seq_len\n \n=\n \n5\n\n\n# \u7a7a\u503c\u586b\u51450\n\n\nPAD_ID\n \n=\n \n0\n\n\n# \u8f93\u51fa\u5e8f\u5217\u8d77\u59cb\u6807\u8bb0\n\n\nGO_ID\n \n=\n \n1\n\n\n\n\ndef\n \nget_samples\n():\n\n    \n\u6784\u9020\u6837\u672c\u6570\u636e\n\n\n\n    :return:\n\n\n        encoder_inputs: [array([0, 0], dtype=int32), \n\n\n                         array([0, 0], dtype=int32), \n\n\n                         array([1, 3], dtype=int32),\n\n\n                         array([3, 5], dtype=int32), \n\n\n                         array([5, 7], dtype=int32)]\n\n\n        decoder_inputs: [array([1, 1], dtype=int32), \n\n\n                         array([7, 9], dtype=int32), \n\n\n                         array([ 9, 11], dtype=int32),\n\n\n                         array([11, 13], dtype=int32), \n\n\n                         array([0, 0], dtype=int32)]\n\n\n    \n\n    \ntrain_set\n \n=\n \n[[[\n1\n,\n \n3\n,\n \n5\n],\n \n[\n7\n,\n \n9\n,\n \n11\n]],\n \n[[\n3\n,\n \n5\n,\n \n7\n],\n \n[\n9\n,\n \n11\n,\n \n13\n]]]\n\n    \nencoder_input_0\n \n=\n \n[\nPAD_ID\n]\n \n*\n \n(\ninput_seq_len\n \n-\n \nlen\n(\ntrain_set\n[\n0\n][\n0\n]))\n \n                      \n+\n \ntrain_set\n[\n0\n][\n0\n]\n\n    \nencoder_input_1\n \n=\n \n[\nPAD_ID\n]\n \n*\n \n(\ninput_seq_len\n \n-\n \nlen\n(\ntrain_set\n[\n1\n][\n0\n]))\n \n                      \n+\n \ntrain_set\n[\n1\n][\n0\n]\n\n    \ndecoder_input_0\n \n=\n \n[\nGO_ID\n]\n \n+\n \ntrain_set\n[\n0\n][\n1\n]\n \n                      \n+\n \n[\nPAD_ID\n]\n \n*\n \n(\noutput_seq_len\n \n-\n \nlen\n(\ntrain_set\n[\n0\n][\n1\n])\n \n-\n \n1\n)\n\n    \ndecoder_input_1\n \n=\n \n[\nGO_ID\n]\n \n+\n \ntrain_set\n[\n1\n][\n1\n]\n \n                      \n+\n \n[\nPAD_ID\n]\n \n*\n \n(\noutput_seq_len\n \n-\n \nlen\n(\ntrain_set\n[\n1\n][\n1\n])\n \n-\n \n1\n)\n\n\n    \nencoder_inputs\n \n=\n \n[]\n\n    \ndecoder_inputs\n \n=\n \n[]\n\n    \nfor\n \nlength_idx\n \nin\n \nxrange\n(\ninput_seq_len\n):\n\n        \nencoder_inputs\n.\nappend\n(\nnp\n.\narray\n([\nencoder_input_0\n[\nlength_idx\n],\n \n                              \nencoder_input_1\n[\nlength_idx\n]],\n \ndtype\n=\nnp\n.\nint32\n))\n\n    \nfor\n \nlength_idx\n \nin\n \nxrange\n(\noutput_seq_len\n):\n\n        \ndecoder_inputs\n.\nappend\n(\nnp\n.\narray\n([\ndecoder_input_0\n[\nlength_idx\n],\n \n                              \ndecoder_input_1\n[\nlength_idx\n]],\n \ndtype\n=\nnp\n.\nint32\n))\n\n    \nreturn\n \nencoder_inputs\n,\n \ndecoder_inputs\n\n\n\n\n\n\n\n\u641e\u5b9a\u4e0a\u9762\u8fd9\u90e8\u5206\u4e4b\u540e\uff0c\u6211\u4eec\u5f00\u59cb\u6784\u9020\u6a21\u578b\uff0c\u6211\u4eec\u4e86\u89e3\u4e86tensorflow\u7684\u8fd0\u884c\u8fc7\u7a0b\u662f\u5148\u6784\u9020\u56fe\uff0c\u518d\u585e\u6570\u636e\u8ba1\u7b97\u7684\uff0c\u6240\u4ee5\u6211\u4eec\u6784\u5efa\u6a21\u578b\u7684\u8fc7\u7a0b\u5b9e\u9645\u4e0a\u5c31\u662f\u6784\u5efa\u4e00\u5f20\u56fe\uff0c\n\n\n\u9996\u5148\u6211\u4eec\u521b\u5efa\nencoder_inputs\n\u548c\ndecoder_inputs\u7684placeholder\n(\u5360\u4f4d\u7b26)\uff1a\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\nimport\n \ntensorflow\n \nas\n \ntf\n\n\nencoder_inputs\n \n=\n \n[]\n\n\ndecoder_inputs\n \n=\n \n[]\n\n\nfor\n \ni\n \nin\n \nxrange\n(\ninput_seq_len\n):\n\n    \nencoder_inputs\n.\nappend\n(\ntf\n.\nplaceholder\n(\ntf\n.\nint32\n,\n \nshape\n=\n[\nNone\n],\n \n                          \nname\n=\nencoder{0}\n.\nformat\n(\ni\n)))\n\n\nfor\n \ni\n \nin\n \nxrange\n(\noutput_seq_len\n):\n\n    \ndecoder_inputs\n.\nappend\n(\ntf\n.\nplaceholder\n(\ntf\n.\nint32\n,\n \nshape\n=\n[\nNone\n],\n \n                          \nname\n=\ndecoder{0}\n.\nformat\n(\ni\n)))\n\n\n\n\n\n\n\n\u63a5\u4e0b\u6765\u6211\u4eec\u521b\u5efa\u4e00\u4e2a\u8bb0\u5fc6\u5355\u5143\u6570\u76ee\u4e3asize=8\u7684LSTM\u795e\u7ecf\u5143\u7ed3\u6784\uff1a\n\n\n1\n2\nsize\n \n=\n \n8\n\n\ncell\n \n=\n \ntf\n.\ncontrib\n.\nrnn\n.\nBasicLSTMCell\n(\nsize\n)\n\n\n\n\n\n\n\n\u6211\u4eec\u5047\u8bbe\u6211\u4eec\u8981\u8bad\u7ec3\u7684\u5947\u6570\u5e8f\u5217\u6700\u5927\u6570\u503c\u662f\u8f93\u5165\u6700\u592710\u8f93\u51fa\u6700\u592716\uff0c\u90a3\u4e48\n\n\n1\n2\nnum_encoder_symbols\n \n=\n \n10\n\n\nnum_decoder_symbols\n \n=\n \n16\n\n\n\n\n\n\n\n\u7136\u540e\u628a\u53c2\u6570\u4f20\u5165\nembedding_attention_seq2seq\n\u83b7\u53d6\noutput\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\nfrom\n \ntensorflow.contrib.legacy_seq2seq.python.ops\n \nimport\n \nseq2seq\n\n\noutputs\n,\n \n_\n \n=\n \nseq2seq\n.\nembedding_attention_seq2seq\n(\n\n                    \nencoder_inputs\n,\n\n                    \ndecoder_inputs\n[:\noutput_seq_len\n],\n\n                    \ncell\n,\n\n                    \ncell\n,\n\n                    \nnum_encoder_symbols\n=\nnum_encoder_symbols\n,\n\n                    \nnum_decoder_symbols\n=\nnum_decoder_symbols\n,\n\n                    \nembedding_size\n=\nsize\n,\n\n                    \noutput_projection\n=\nNone\n,\n\n                    \nfeed_previous\n=\nFalse\n,\n\n                    \ndtype\n=\ntf\n.\nfloat32\n)\n\n\n\n\n\n\n\n\u4e3a\u4e86\u8bf4\u660e\u4e4b\u540e\u7684\u64cd\u4f5c\uff0c\u6211\u4eec\u5148\u628a\u8fd9\u90e8\u5206\u8fd0\u884c\u4e00\u4e0b\uff0c\u770b\u770b\u8f93\u51fa\u7684output\u662f\u4e2a\u4ec0\u4e48\u6837\u7684\u6570\u636e\uff0c\u6211\u4eec\u5148\u628a\u4e0a\u9762\u7684\u6784\u5efa\u6a21\u578b\u90e8\u5206\u653e\u5230\u4e00\u4e2a\u5355\u72ec\u7684\u51fd\u6570\u91cc\uff0c\u5982\u4e0b\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\ndef\n \nget_model\n():\n\n    \n\u6784\u9020\u6a21\u578b\n\n\n    \n\n    \nencoder_inputs\n \n=\n \n[]\n\n    \ndecoder_inputs\n \n=\n \n[]\n\n    \nfor\n \ni\n \nin\n \nxrange\n(\ninput_seq_len\n):\n\n        \nencoder_inputs\n.\nappend\n(\ntf\n.\nplaceholder\n(\ntf\n.\nint32\n,\n \nshape\n=\n[\nNone\n],\n \n                          \nname\n=\nencoder{0}\n.\nformat\n(\ni\n)))\n\n    \nfor\n \ni\n \nin\n \nxrange\n(\noutput_seq_len\n):\n\n        \ndecoder_inputs\n.\nappend\n(\ntf\n.\nplaceholder\n(\ntf\n.\nint32\n,\n \nshape\n=\n[\nNone\n],\n \n                          \nname\n=\ndecoder{0}\n.\nformat\n(\ni\n)))\n\n\n    \ncell\n \n=\n \ntf\n.\ncontrib\n.\nrnn\n.\nBasicLSTMCell\n(\nsize\n)\n\n\n    \n# \u8fd9\u91cc\u8f93\u51fa\u7684\u72b6\u6001\u6211\u4eec\u4e0d\u9700\u8981\n\n    \noutputs\n,\n \n_\n \n=\n \nseq2seq\n.\nembedding_attention_seq2seq\n(\n\n                        \nencoder_inputs\n,\n\n                        \ndecoder_inputs\n,\n\n                        \ncell\n,\n\n                        \nnum_encoder_symbols\n=\nnum_encoder_symbols\n,\n\n                        \nnum_decoder_symbols\n=\nnum_decoder_symbols\n,\n\n                        \nembedding_size\n=\nsize\n,\n\n                        \noutput_projection\n=\nNone\n,\n\n                        \nfeed_previous\n=\nFalse\n,\n\n                        \ndtype\n=\ntf\n.\nfloat32\n)\n\n    \nreturn\n \nencoder_inputs\n,\n \ndecoder_inputs\n,\n \noutputs\n\n\n\n\n\n\n\n\u6765\u6784\u9020\u8fd0\u884c\u65f6\u7684\nsession\n\uff0c\u5e76\u586b\u5165\u6837\u672c\u6570\u636e\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\nwith\n \ntf\n.\nSession\n()\n \nas\n \nsess\n:\n\n    \nsample_encoder_inputs\n,\n \nsample_decoder_inputs\n \n=\n \nget_samples\n()\n\n    \nencoder_inputs\n,\n \ndecoder_inputs\n,\n \noutputs\n \n=\n \nget_model\n()\n\n    \ninput_feed\n \n=\n \n{}\n\n    \nfor\n \nl\n \nin\n \nxrange\n(\ninput_seq_len\n):\n\n        \ninput_feed\n[\nencoder_inputs\n[\nl\n]\n.\nname\n]\n \n=\n \nsample_encoder_inputs\n[\nl\n]\n\n    \nfor\n \nl\n \nin\n \nxrange\n(\noutput_seq_len\n):\n\n        \ninput_feed\n[\ndecoder_inputs\n[\nl\n]\n.\nname\n]\n \n=\n \nsample_decoder_inputs\n[\nl\n]\n\n\n    \nsess\n.\nrun\n(\ntf\n.\nglobal_variables_initializer\n())\n\n    \noutputs\n \n=\n \nsess\n.\nrun\n(\noutputs\n,\n \ninput_feed\n)\n\n    \nprint\n \noutputs\n\n\n\n\n\n\n\n\u6211\u4eec\u770b\u5230\u8fd9\u91cc\u8f93\u51fa\u7684outputs\u662f\u75315\u4e2aarray\u7ec4\u6210\u7684list(5\u662f\u5e8f\u5217\u957f\u5ea6)\uff0c\u6bcf\u4e2aarray\u7531\u4e24\u4e2asize\u662f16\u7684list\u7ec4\u6210(2\u8868\u793a2\u4e2a\u6837\u672c\uff0c16\u8868\u793a\u8f93\u51fa\u7b26\u53f7\u670916\u4e2a)\n\n\n\u8fd9\u91cc\u7684outputs\u5b9e\u9645\u4e0a\u5e94\u8be5\u5bf9\u5e94seq2seq\u7684\u8f93\u51fa\uff0c\u4e5f\u5c31\u662f\u4e0b\u56fe\u4e2d\u7684W\u3001X\u3001Y\u3001Z\u3001EOS\uff0c\u4e5f\u5c31\u662fdecoder_inputs[1:]\uff0c\u4e5f\u5c31\u662f\u6211\u4eec\u6837\u672c\u91cc\u7684[7,9,11]\u548c[9,11,13]\n\n\n\n\n\u4f46\u662f\u6211\u4eec\u7684\ndecoder_inputs\n\u7684\u7ed3\u6784\u662f\u8fd9\u6837\u7684\uff1a\n\n\n1\n[\narray\n([\n1\n,\n \n1\n],\n \ndtype\n=\nint32\n),\n \narray\n([\n \n7\n,\n \n29\n],\n \ndtype\n=\nint32\n),\n \narray\n([\n \n9\n,\n \n31\n],\n \ndtype\n=\nint32\n),\n \narray\n([\n11\n,\n \n33\n],\n \ndtype\n=\nint32\n),\n \narray\n([\n0\n,\n \n0\n],\n \ndtype\n=\nint32\n)]\n\n\n\n\n\n\n\n\u4e0e\u8fd9\u91cc\u7684outputs\u7a0d\u6709\u4e0d\u540c\uff0c\u6240\u4ee5\u4e0d\u662f\u76f4\u63a5\u7684\u5bf9\u5e94\u5173\u7cfb\uff0c\u90a3\u4e48\u5230\u5e95\u662f\u4ec0\u4e48\u5173\u7cfb\u5462\uff1f\u6211\u4eec\u5148\u6765\u770b\u4e00\u4e2a\n\u635f\u5931\u51fd\u6570\u7684\u8bf4\u660e\n\uff1a\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\nsequence_loss\n(\n\n    \nlogits\n,\n\n    \ntargets\n,\n\n    \nweights\n,\n\n    \naverage_across_timesteps\n=\nTrue\n,\n\n    \naverage_across_batch\n=\nTrue\n,\n\n    \nsoftmax_loss_function\n=\nNone\n,\n\n    \nname\n=\nNone\n\n\n)\n\n\n\n\n\n\n\n\u8fd9\u4e2a\u51fd\u6570\u7684\u539f\u7406\u53ef\u4ee5\u770b\u8fd9\u4e2a\u516c\u5f0f(\u635f\u5931\u51fd\u6570\uff0c\u76ee\u6807\u8bcd\u8bed\u7684\u5e73\u5747\u8d1f\u5bf9\u6570\u6982\u7387\u6700\u5c0f)\uff1a\n\n\n\u5176\u4e2dlogits\u662f\u4e00\u4e2a\u7531\u591a\u4e2a2D\u7684shape\u4e3a[batch * num_decoder_symbols]\u7684Tensor\u7ec4\u6210\u7684list\uff0c\u6211\u4eec\u8fd9\u91ccbatch\u5c31\u662f2\uff0cnum_decoder_symbols\u5c31\u662f16\uff0c\u8fd9\u91cc\u7ec4\u6210list\u7684Tensor\u7684\u4e2a\u6570\u662foutput_seq_len\uff0c\u6240\u4ee5\u6211\u4eec\u521a\u624d\u5f97\u5230\u7684outputs\u521a\u597d\u7b26\u5408\n\n\n\u5176\u4e2dtargets\u662f\u4e00\u4e2a\u548clogits\u4e00\u6837\u957f\u5ea6(output_seq_len)\u7684list\uff0clist\u91cc\u6bcf\u4e00\u9879\u662f\u4e00\u4e2a\u6574\u6570\u7ec4\u6210\u76841D\u7684Tensor\uff0c\u6bcf\u4e2aTensor\u7684shape\u662f[batch]\uff0c\u6570\u636e\u7c7b\u578b\u662ftf.int32\uff0c\u8fd9\u521a\u597d\u548c\u6211\u4eec\u7684decoder_inputs[1:]\u4e5f\u5c31\u662f\u521a\u624d\u8bf4\u7684W\u3001X\u3001Y\u3001Z\u3001EOS\u7ed3\u6784\u4e00\u6837\n\n\n\u5176\u4e2dweights\u662f\u4e00\u4e2a\u548ctargets\u7ed3\u6784\u4e00\u6837\uff0c\u53ea\u662f\u6570\u636e\u7c7b\u578b\u662ftf.float32\n\n\n\u6240\u4ee5\u8fd9\u4e2a\u51fd\u6570\u5c31\u662f\u7528\u6765\u8ba1\u7b97\u52a0\u6743\u4ea4\u53c9\u71b5\u635f\u5931\u7684\uff0c\u8fd9\u91cc\u9762\u7684weights\u6211\u4eec\u9700\u8981\u521d\u59cb\u5316\u4ed6\u7684\u5360\u4f4d\u7b26\uff0c\u5982\u4e0b\uff1a\n\n\n1\n2\n3\ntarget_weights\n \n=\n \n[]\n\n    \ntarget_weights\n.\nappend\n(\ntf\n.\nplaceholder\n(\ntf\n.\nfloat32\n,\n \nshape\n=\n[\nNone\n],\n \n                          \nname\n=\nweight{0}\n.\nformat\n(\ni\n)))\n\n\n\n\n\n\n\n\u90a3\u4e48\u6211\u4eec\u8ba1\u7b97\u5f97\u51fa\u7684\u635f\u5931\u503c\u5c31\u662f\uff1a\n\n\n1\n2\ntargets\n \n=\n \n[\ndecoder_inputs\n[\ni\n \n+\n \n1\n]\n \nfor\n \ni\n \nin\n \nxrange\n(\nlen\n(\ndecoder_inputs\n)\n \n-\n \n1\n)]\n\n\nloss\n \n=\n \nseq2seq\n.\nsequence_loss\n(\noutputs\n,\n \ntargets\n,\n \ntarget_weights\n)\n\n\n\n\n\n\n\n\u770b\u5230\u8fd9\u91cc\uff0c\u5176\u5b9e\u6211\u4eec\u9047\u5230\u4e00\u4e2a\u95ee\u9898\uff0c\u8fd9\u91cc\u7684targets\u957f\u5ea6\u6bd4decoder_inputs\u5c11\u4e86\u4e00\u4e2a\uff0c\u4e3a\u4e86\u8ba9\u957f\u5ea6\u4fdd\u6301\u4e00\u81f4\uff0c\u9700\u8981\u6211\u4eec\u5bf9\u524d\u9762decoder_inputs\u7684\u521d\u59cb\u5316\u505a\u4e2a\u8c03\u6574\uff0c\u628a\u957f\u5ea6\u52a01\n\n\n\u90a3\u4e48\u95ee\u9898\u6765\u4e86\uff0c\u8fd9\u91cc\u6211\u4eec\u591a\u4e86\u4e00\u4e2atarget_weights\u8fd9\u4e2aplaceholder\uff0c\u90a3\u4e48\u6211\u4eec\u7528\u4ec0\u4e48\u6570\u636e\u6765\u586b\u5145\u8fd9\u4e2a\u5360\u4f4d\u7b26\u5462\uff1f\u56e0\u4e3a\u6211\u4eec\u8981\u8ba1\u7b97\u7684\u662f\u52a0\u6743\u4ea4\u53c9\u71b5\u635f\u5931\uff0c\u4e5f\u5c31\u662f\u5bf9\u4e8e\u6709\u610f\u4e49\u7684\u6570\u6743\u91cd\u5927\uff0c\u65e0\u610f\u4e49\u7684\u6743\u91cd\u5c0f\uff0c\u6240\u4ee5\u6211\u4eec\u628atargets\u4e2d\u6709\u503c\u7684\u8d4b\u503c\u4e3a1\uff0c\u6ca1\u503c\u7684\u8d4b\u503c\u4e3a0\uff0c\u6240\u6709\u4ee3\u7801\u6574\u7406\u540e\u5982\u4e0b\uff1a\n\n\n  1\n  2\n  3\n  4\n  5\n  6\n  7\n  8\n  9\n 10\n 11\n 12\n 13\n 14\n 15\n 16\n 17\n 18\n 19\n 20\n 21\n 22\n 23\n 24\n 25\n 26\n 27\n 28\n 29\n 30\n 31\n 32\n 33\n 34\n 35\n 36\n 37\n 38\n 39\n 40\n 41\n 42\n 43\n 44\n 45\n 46\n 47\n 48\n 49\n 50\n 51\n 52\n 53\n 54\n 55\n 56\n 57\n 58\n 59\n 60\n 61\n 62\n 63\n 64\n 65\n 66\n 67\n 68\n 69\n 70\n 71\n 72\n 73\n 74\n 75\n 76\n 77\n 78\n 79\n 80\n 81\n 82\n 83\n 84\n 85\n 86\n 87\n 88\n 89\n 90\n 91\n 92\n 93\n 94\n 95\n 96\n 97\n 98\n 99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n122\n123\n# coding:utf-8\n\n\nimport\n \nnumpy\n \nas\n \nnp\n\n\nimport\n \ntensorflow\n \nas\n \ntf\n\n\nfrom\n \ntensorflow.contrib.legacy_seq2seq.python.ops\n \nimport\n \nseq2seq\n\n\n\n# \u8f93\u5165\u5e8f\u5217\u957f\u5ea6\n\n\ninput_seq_len\n \n=\n \n5\n\n\n# \u8f93\u51fa\u5e8f\u5217\u957f\u5ea6\n\n\noutput_seq_len\n \n=\n \n5\n\n\n# \u7a7a\u503c\u586b\u51450\n\n\nPAD_ID\n \n=\n \n0\n\n\n# \u8f93\u51fa\u5e8f\u5217\u8d77\u59cb\u6807\u8bb0\n\n\nGO_ID\n \n=\n \n1\n\n\n# LSTM\u795e\u7ecf\u5143size\n\n\nsize\n \n=\n \n8\n\n\n# \u6700\u5927\u8f93\u5165\u7b26\u53f7\u6570\n\n\nnum_encoder_symbols\n \n=\n \n10\n\n\n# \u6700\u5927\u8f93\u51fa\u7b26\u53f7\u6570\n\n\nnum_decoder_symbols\n \n=\n \n16\n\n\n\n\ndef\n \nget_samples\n():\n\n    \n\u6784\u9020\u6837\u672c\u6570\u636e\n\n\n\n    :return:\n\n\n        encoder_inputs: [array([0, 0], dtype=int32), \n\n\n                         array([0, 0], dtype=int32), \n\n\n                         array([1, 3], dtype=int32),\n\n\n                         array([3, 5], dtype=int32), \n\n\n                         array([5, 7], dtype=int32)]\n\n\n        decoder_inputs: [array([1, 1], dtype=int32), \n\n\n                         array([7, 9], dtype=int32), \n\n\n                         array([ 9, 11], dtype=int32),\n\n\n                         array([11, 13], dtype=int32), \n\n\n                         array([0, 0], dtype=int32)]\n\n\n    \n\n    \ntrain_set\n \n=\n \n[[[\n1\n,\n \n3\n,\n \n5\n],\n \n[\n7\n,\n \n9\n,\n \n11\n]],\n \n[[\n3\n,\n \n5\n,\n \n7\n],\n \n[\n9\n,\n \n11\n,\n \n13\n]]]\n\n    \nencoder_input_0\n \n=\n \n[\nPAD_ID\n]\n \n*\n \n(\ninput_seq_len\n \n-\n \nlen\n(\ntrain_set\n[\n0\n][\n0\n]))\n \n                         \n+\n \ntrain_set\n[\n0\n][\n0\n]\n\n    \nencoder_input_1\n \n=\n \n[\nPAD_ID\n]\n \n*\n \n(\ninput_seq_len\n \n-\n \nlen\n(\ntrain_set\n[\n1\n][\n0\n]))\n \n                         \n+\n \ntrain_set\n[\n1\n][\n0\n]\n\n    \ndecoder_input_0\n \n=\n \n[\nGO_ID\n]\n \n+\n \ntrain_set\n[\n0\n][\n1\n]\n \n                         \n+\n \n[\nPAD_ID\n]\n \n*\n \n(\noutput_seq_len\n \n-\n \nlen\n(\ntrain_set\n[\n0\n][\n1\n])\n \n-\n \n1\n)\n\n    \ndecoder_input_1\n \n=\n \n[\nGO_ID\n]\n \n+\n \ntrain_set\n[\n1\n][\n1\n]\n \n                         \n+\n \n[\nPAD_ID\n]\n \n*\n \n(\noutput_seq_len\n \n-\n \nlen\n(\ntrain_set\n[\n1\n][\n1\n])\n \n-\n \n1\n)\n\n\n    \nencoder_inputs\n \n=\n \n[]\n\n    \ndecoder_inputs\n \n=\n \n[]\n\n    \ntarget_weights\n \n=\n \n[]\n\n    \nfor\n \nlength_idx\n \nin\n \nxrange\n(\ninput_seq_len\n):\n\n        \nencoder_inputs\n.\nappend\n(\nnp\n.\narray\n([\nencoder_input_0\n[\nlength_idx\n],\n \n                         \nencoder_input_1\n[\nlength_idx\n]],\n \ndtype\n=\nnp\n.\nint32\n))\n\n    \nfor\n \nlength_idx\n \nin\n \nxrange\n(\noutput_seq_len\n):\n\n        \ndecoder_inputs\n.\nappend\n(\nnp\n.\narray\n([\ndecoder_input_0\n[\nlength_idx\n],\n \n                         \ndecoder_input_1\n[\nlength_idx\n]],\n \ndtype\n=\nnp\n.\nint32\n))\n\n        \ntarget_weights\n.\nappend\n(\nnp\n.\narray\n([\n\n            \n0.0\n \nif\n \nlength_idx\n \n==\n \noutput_seq_len\n \n-\n \n1\n \n                         \nor\n \ndecoder_input_0\n[\nlength_idx\n]\n \n==\n \nPAD_ID\n \nelse\n \n1.0\n,\n\n            \n0.0\n \nif\n \nlength_idx\n \n==\n \noutput_seq_len\n \n-\n \n1\n \n                         \nor\n \ndecoder_input_1\n[\nlength_idx\n]\n \n==\n \nPAD_ID\n \nelse\n \n1.0\n,\n\n        \n],\n \ndtype\n=\nnp\n.\nfloat32\n))\n\n    \nreturn\n \nencoder_inputs\n,\n \ndecoder_inputs\n,\n \ntarget_weights\n\n\n\n\ndef\n \nget_model\n():\n\n    \n\u6784\u9020\u6a21\u578b\n\n\n    \n\n    \nencoder_inputs\n \n=\n \n[]\n\n    \ndecoder_inputs\n \n=\n \n[]\n\n    \ntarget_weights\n \n=\n \n[]\n\n    \nfor\n \ni\n \nin\n \nxrange\n(\ninput_seq_len\n):\n\n        \nencoder_inputs\n.\nappend\n(\ntf\n.\nplaceholder\n(\ntf\n.\nint32\n,\n \nshape\n=\n[\nNone\n],\n \n                          \nname\n=\nencoder{0}\n.\nformat\n(\ni\n)))\n\n    \nfor\n \ni\n \nin\n \nxrange\n(\noutput_seq_len\n \n+\n \n1\n):\n\n        \ndecoder_inputs\n.\nappend\n(\ntf\n.\nplaceholder\n(\ntf\n.\nint32\n,\n \nshape\n=\n[\nNone\n],\n \n                          \nname\n=\ndecoder{0}\n.\nformat\n(\ni\n)))\n\n    \nfor\n \ni\n \nin\n \nxrange\n(\noutput_seq_len\n):\n\n        \ntarget_weights\n.\nappend\n(\ntf\n.\nplaceholder\n(\ntf\n.\nfloat32\n,\n \nshape\n=\n[\nNone\n],\n\n                          \nname\n=\nweight{0}\n.\nformat\n(\ni\n)))\n\n\n    \n# decoder_inputs\u5de6\u79fb\u4e00\u4e2a\u65f6\u5e8f\u4f5c\u4e3atargets\n\n    \ntargets\n \n=\n \n[\ndecoder_inputs\n[\ni\n \n+\n \n1\n]\n \nfor\n \ni\n \nin\n \nxrange\n(\noutput_seq_len\n)]\n\n\n    \ncell\n \n=\n \ntf\n.\ncontrib\n.\nrnn\n.\nBasicLSTMCell\n(\nsize\n)\n\n\n    \n# \u8fd9\u91cc\u8f93\u51fa\u7684\u72b6\u6001\u6211\u4eec\u4e0d\u9700\u8981\n\n    \noutputs\n,\n \n_\n \n=\n \nseq2seq\n.\nembedding_attention_seq2seq\n(\n\n                        \nencoder_inputs\n,\n\n                        \ndecoder_inputs\n[:\noutput_seq_len\n],\n\n                        \ncell\n,\n\n                        \nnum_encoder_symbols\n=\nnum_encoder_symbols\n,\n\n                        \nnum_decoder_symbols\n=\nnum_decoder_symbols\n,\n\n                        \nembedding_size\n=\nsize\n,\n\n                        \noutput_projection\n=\nNone\n,\n\n                        \nfeed_previous\n=\nFalse\n,\n\n                        \ndtype\n=\ntf\n.\nfloat32\n)\n\n\n    \n# \u8ba1\u7b97\u52a0\u6743\u4ea4\u53c9\u71b5\u635f\u5931\n\n    \nloss\n \n=\n \nseq2seq\n.\nsequence_loss\n(\noutputs\n,\n \ntargets\n,\n \ntarget_weights\n)\n\n    \nreturn\n \nencoder_inputs\n,\n \ndecoder_inputs\n,\n \ntarget_weights\n,\n \noutputs\n,\n \nloss\n\n\n\n\ndef\n \nmain\n():\n\n    \nwith\n \ntf\n.\nSession\n()\n \nas\n \nsess\n:\n\n        \nsample_encoder_inputs\n,\n \nsample_decoder_inputs\n,\n \nsample_target_weights\n \n                          \n=\n \nget_samples\n()\n\n        \nencoder_inputs\n,\n \ndecoder_inputs\n,\n \ntarget_weights\n,\n \noutputs\n,\n \nloss\n \n=\n \nget_model\n()\n\n\n        \ninput_feed\n \n=\n \n{}\n\n        \nfor\n \nl\n \nin\n \nxrange\n(\ninput_seq_len\n):\n\n            \ninput_feed\n[\nencoder_inputs\n[\nl\n]\n.\nname\n]\n \n=\n \nsample_encoder_inputs\n[\nl\n]\n\n        \nfor\n \nl\n \nin\n \nxrange\n(\noutput_seq_len\n):\n\n            \ninput_feed\n[\ndecoder_inputs\n[\nl\n]\n.\nname\n]\n \n=\n \nsample_decoder_inputs\n[\nl\n]\n\n            \ninput_feed\n[\ntarget_weights\n[\nl\n]\n.\nname\n]\n \n=\n \nsample_target_weights\n[\nl\n]\n\n        \ninput_feed\n[\ndecoder_inputs\n[\noutput_seq_len\n]\n.\nname\n]\n \n=\n \nnp\n.\nzeros\n([\n2\n],\n \ndtype\n=\nnp\n.\nint32\n)\n\n\n        \nsess\n.\nrun\n(\ntf\n.\nglobal_variables_initializer\n())\n\n        \nloss\n \n=\n \nsess\n.\nrun\n(\nloss\n,\n \ninput_feed\n)\n\n        \nprint\n \nloss\n\n\n\n\nif\n \n__name__\n \n==\n \n__main__\n:\n\n    \nmain\n()\n\n\n\n\n\n\n\n\u6211\u4eec\u53ef\u4ee5\u8fd0\u884c\u4ee5\u4e0a\u4ee3\u7801\u6765\u8f93\u51fa\u6700\u7ec8loss\u503c\n\n\n\u5230\u8fd9\u91cc\u8fdc\u8fdc\u6ca1\u6709\u7ed3\u675f\uff0c\u6211\u4eec\u7684\u65c5\u7a0b\u624d\u521a\u521a\u5f00\u59cb\uff0c\u4e0b\u9762\u662f\u600e\u4e48\u8bad\u7ec3\u8fd9\u4e2a\u6a21\u578b\uff0c\u9996\u5148\u6211\u4eec\u9700\u8981\u7ecf\u8fc7\u591a\u8f6e\u8ba1\u7b97\u8ba9\u8fd9\u91cc\u7684loss\u53d8\u5f97\u5f88\u5c0f\uff0c\u8fd9\u5c31\u9700\u8981\u8fd0\u7528\u68af\u5ea6\u4e0b\u964d\u6765\u66f4\u65b0\u53c2\u6570\uff0c\u6211\u4eec\u5148\u6765\u770b\u4e00\u4e0btensorflow\u63d0\u4f9b\u7ed9\u6211\u4eec\u7684\n\u68af\u5ea6\u4e0b\u964d\u7684\u7c7b\n\uff1a\n\n\nClass GradientDescentOptimizer\u7684\u6784\u9020\u65b9\u6cd5\u5982\u4e0b\uff1a\n\n\n1\n2\n3\n4\n5\n__init__\n(\n\n    \nlearning_rate\n,\n\n    \nuse_locking\n=\nFalse\n,\n\n    \nname\n=\nGradientDescent\n\n\n)\n\n\n\n\n\n\n\n\u5176\u4e2d\u5173\u952e\u5c31\u662f\u7b2c\u4e00\u4e2a\u53c2\u6570\uff1a\u5b66\u4e60\u7387\n\n\n\u4ed6\u7684\u53e6\u5916\u4e00\u4e2a\u65b9\u6cd5\u662f\u8ba1\u7b97\u68af\u5ea6\uff1a\n\n\n1\n2\n3\n4\n5\n6\n7\n8\ncompute_gradients\n(\n\n    \nloss\n,\n\n    \nvar_list\n=\nNone\n,\n\n    \ngate_gradients\n=\nGATE_OP\n\n    \naggregation_method\n=\nNone\n,\n\n    \ncolocate_gradients_with_ops\n=\nFalse\n,\n\n    \ngrad_loss\n=\nNone\n\n\n)\n\n\n\n\n\n\n\n\u5176\u4e2d\u5173\u952e\u53c2\u6570loss\u5c31\u662f\u4f20\u5165\u7684\u8bef\u5dee\u503c\uff0c\u4ed6\u7684\u8fd4\u56de\u503c\u662f(gradient, variable)\u7ec4\u6210\u7684list\n\n\n\u518d\u770b\u53e6\u5916\u4e00\u4e2a\u65b9\u6cd5\u662f\u66f4\u65b0\u53c2\u6570\uff1a\n\n\n1\n2\n3\n4\n5\napply_gradients\n(\n\n    \ngrads_and_vars\n,\n\n    \nglobal_step\n=\nNone\n,\n\n    \nname\n=\nNone\n\n\n)\n\n\n\n\n\n\n\n\u5176\u4e2dgrads_and_vars\u5c31\u662fcompute_gradients\u7684\u8fd4\u56de\u503c\n\n\n\u90a3\u4e48\u6839\u636eloss\u8ba1\u7b97\u68af\u5ea6\u5e76\u66f4\u65b0\u53c2\u6570\u7684\u65b9\u6cd5\u5982\u4e0b\uff1a\n\n\n1\n2\n3\nlearning_rate\n \n=\n \n0.1\n\n\nopt\n \n=\n \ntf\n.\ntrain\n.\nGradientDescentOptimizer\n(\nlearning_rate\n)\n\n\nupdate\n \n=\n \nopt\n.\napply_gradients\n(\nopt\n.\ncompute_gradients\n(\nloss\n))\n\n\n\n\n\n\n\n\u6240\u4ee5\uff0c\u6211\u4eec\u961fmain\u51fd\u6570\u589e\u52a0\u4e2a\u5faa\u73af\u8fed\u4ee3\uff0c\u5982\u4e0b\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\ndef\n \nmain\n():\n\n    \nwith\n \ntf\n.\nSession\n()\n \nas\n \nsess\n:\n\n        \nsample_encoder_inputs\n,\n \nsample_decoder_inputs\n,\n \nsample_target_weights\n \n                          \n=\n \nget_samples\n()\n\n        \nencoder_inputs\n,\n \ndecoder_inputs\n,\n \ntarget_weights\n,\n \noutputs\n,\n \nloss\n,\n \nupdate\n \n                          \n=\n \nget_model\n()\n\n\n        \ninput_feed\n \n=\n \n{}\n\n        \nfor\n \nl\n \nin\n \nxrange\n(\ninput_seq_len\n):\n\n            \ninput_feed\n[\nencoder_inputs\n[\nl\n]\n.\nname\n]\n \n=\n \nsample_encoder_inputs\n[\nl\n]\n\n        \nfor\n \nl\n \nin\n \nxrange\n(\noutput_seq_len\n):\n\n            \ninput_feed\n[\ndecoder_inputs\n[\nl\n]\n.\nname\n]\n \n=\n \nsample_decoder_inputs\n[\nl\n]\n\n            \ninput_feed\n[\ntarget_weights\n[\nl\n]\n.\nname\n]\n \n=\n \nsample_target_weights\n[\nl\n]\n\n        \ninput_feed\n[\ndecoder_inputs\n[\noutput_seq_len\n]\n.\nname\n]\n \n=\n \nnp\n.\nzeros\n([\n2\n],\n \ndtype\n=\nnp\n.\nint32\n)\n\n\n        \nsess\n.\nrun\n(\ntf\n.\nglobal_variables_initializer\n())\n\n        \nwhile\n \nTrue\n:\n\n            \n[\nloss_ret\n,\n \n_\n]\n \n=\n \nsess\n.\nrun\n([\nloss\n,\n \nupdate\n],\n \ninput_feed\n)\n\n            \nprint\n \nloss_ret\n\n\n\n\n\n\n\n\u8fd0\u884c\u4ee3\u7801\u540e\u6211\u4eec\u770b\u5230loss_ret\u5530\u5530\u7684\u6536\u655b\uff0c\u5982\u4e0b\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n2.82825\n\n\n2.51962\n\n\n2.22479\n\n\n1.92842\n\n\n1.62379\n\n\n1.31437\n\n\n1.01518\n\n\n0.749776\n\n\n\u2026\u2026\n\n\n0.00601374\n\n\n0.00590649\n\n\n0.00580256\n\n\n0.00570199\n\n\n0.00560467\n\n\n0.00551019\n\n\n0.00541872\n\n\n\u2026\u2026\n\n\n\n\n\n\n\n\u770b\u6765\u6211\u4eec\u7684\u8bad\u7ec3\u903b\u8f91\u53ef\u4ee5\u8dd1\u901a\u4e86\uff0c\u63a5\u4e0b\u6765\u5c31\u662f\u5b9e\u73b0\u9884\u6d4b\u7684\u903b\u8f91\u4e86\uff0c\u5c31\u662f\u6211\u4eec\u53ea\u8f93\u5165\u6837\u672c\u7684encoder_input\uff0c\u770b\u80fd\u4e0d\u80fd\u81ea\u52a8\u9884\u6d4b\u51fadecoder_input\n\n\n\u9996\u5148\uff0c\u6211\u4eec\u8981\u80fd\u591f\u628a\u8bad\u7ec3\u597d\u7684\u6a21\u578b\u4fdd\u5b58\u8d77\u6765\uff0c\u4ee5\u4fbf\u91cd\u65b0\u542f\u52a8\u505a\u9884\u6d4b\u65f6\u80fd\u591f\u52a0\u8f7d\uff1a\n\n\n1\n2\n3\n4\ndef\n \nget_model\n():\n\n      \n...\n\n\nsaver\n \n=\n \ntf\n.\ntrain\n.\nSaver\n(\ntf\n.\nglobal_variables\n())\n\n      \nreturn\n \n...\n,\n \nsaver\n\n\n\n\n\n\n\n\u5728\u8bad\u7ec3\u7ed3\u675f\u540e\u6267\u884c\n\n\n1\nsaver\n.\nsave\n(\nsess\n,\n \n./model/demo\n)\n\n\n\n\n\n\n\n\u8fd9\u6837\u6a21\u578b\u4f1a\u5b58\u50a8\u5230./model\u76ee\u5f55\u4e0b\u4ee5demo\u5f00\u5934\u7684\u4e00\u4e9b\u6587\u4ef6\u4e2d\uff0c\u4e4b\u540e\u6211\u4eec\u8981\u52a0\u8f7d\u65f6\u5c31\u5148\u8c03\u7528\uff1a\n\n\n1\nsaver\n.\nrestore\n(\nsess\n,\n \n./model/demo\n)\n\n\n\n\n\n\n\n\u5176\u6b21\uff0c\u56e0\u4e3a\u6211\u4eec\u5728\u505a\u9884\u6d4b\u7684\u65f6\u5019\uff0c\u539f\u5219\u4e0a\u4e0d\u80fd\u6709decoder_inputs\u8f93\u5165\u4e86\uff0c\u6240\u4ee5\u5728\u6267\u884c\u65f6\u7684decoder_inputs\u5c31\u8981\u53d6\u524d\u4e00\u4e2a\u65f6\u5e8f\u7684\u8f93\u51fa\uff0c\u8fd9\u65f6\u5019embedding_attention_seq2seq\u7684feed_previous\u53c2\u6570\u6709\u6d3e\u4e0a\u7528\u573a\u4e86\uff0c\u8fd9\u4e2a\u53c2\u6570\u7684\u542b\u4e49\u5c31\u662f\uff1a\u82e5\u4e3aTrue\u5219decoder\u91cc\u6bcf\u4e00\u6b65\u8f93\u5165\u90fd\u7528\u524d\u4e00\u6b65\u7684\u8f93\u51fa\u6765\u586b\u5145\uff0c\u5982\u4e0b\u56fe\uff1a\n\n\n\n\n\u6240\u4ee5\uff0c\u6211\u4eec\u7684get_model\u9700\u8981\u4f20\u9012\u53c2\u6570\u6765\u533a\u5206\u8bad\u7ec3\u65f6\u548c\u9884\u6d4b\u662f\u4e0d\u540c\u7684feed_previous\u914d\u7f6e\uff0c\u53e6\u5916\uff0c\u8003\u8651\u5230\u9884\u6d4b\u65f6main\u51fd\u6570\u4e5f\u662f\u4e0d\u540c\u7684\uff0c\u7d22\u6027\u6211\u4eec\u5206\u5f00\u4e24\u4e2a\u51fd\u6570\u6765\u5206\u522b\u505atrain\u548cpredict\uff0c\u6574\u7406\u597d\u7684\u4e00\u4efd\u5b8c\u6574\u4ee3\u7801\u5982\u4e0b\uff08\u4e3a\u4e86\u66f4\u597d\u7406\u89e3\uff0c\u5b8c\u6574\u4ee3\u7801\u548c\u4e0a\u9762\u7a0d\u6709\u51fa\u5165\uff0c\u8bf7\u4ee5\u8fd9\u4efd\u4ee3\u7801\u4e3a\u51c6\uff09\uff1a\n\n\n  1\n  2\n  3\n  4\n  5\n  6\n  7\n  8\n  9\n 10\n 11\n 12\n 13\n 14\n 15\n 16\n 17\n 18\n 19\n 20\n 21\n 22\n 23\n 24\n 25\n 26\n 27\n 28\n 29\n 30\n 31\n 32\n 33\n 34\n 35\n 36\n 37\n 38\n 39\n 40\n 41\n 42\n 43\n 44\n 45\n 46\n 47\n 48\n 49\n 50\n 51\n 52\n 53\n 54\n 55\n 56\n 57\n 58\n 59\n 60\n 61\n 62\n 63\n 64\n 65\n 66\n 67\n 68\n 69\n 70\n 71\n 72\n 73\n 74\n 75\n 76\n 77\n 78\n 79\n 80\n 81\n 82\n 83\n 84\n 85\n 86\n 87\n 88\n 89\n 90\n 91\n 92\n 93\n 94\n 95\n 96\n 97\n 98\n 99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n122\n123\n124\n125\n126\n127\n128\n129\n130\n131\n132\n133\n134\n135\n136\n137\n138\n139\n140\n141\n142\n143\n144\n145\n146\n147\n148\n149\n150\n151\n152\n153\n154\n155\n156\n157\n158\n159\n160\n161\n162\n163\n164\n165\n166\n167\n168\n169\n170\n171\n172\n173\n174\n175\n176\n177\n178\n179\n180\n181\n182\n183\n184\n185\n# coding:utf-8\n\n\nimport\n \nsys\n\n\nimport\n \nnumpy\n \nas\n \nnp\n\n\nimport\n \ntensorflow\n \nas\n \ntf\n\n\nfrom\n \ntensorflow.contrib.legacy_seq2seq.python.ops\n \nimport\n \nseq2seq\n\n\n\n# \u8f93\u5165\u5e8f\u5217\u957f\u5ea6\n\n\ninput_seq_len\n \n=\n \n5\n\n\n# \u8f93\u51fa\u5e8f\u5217\u957f\u5ea6\n\n\noutput_seq_len\n \n=\n \n5\n\n\n# \u7a7a\u503c\u586b\u51450\n\n\nPAD_ID\n \n=\n \n0\n\n\n# \u8f93\u51fa\u5e8f\u5217\u8d77\u59cb\u6807\u8bb0\n\n\nGO_ID\n \n=\n \n1\n\n\n# \u7ed3\u5c3e\u6807\u8bb0\n\n\nEOS_ID\n \n=\n \n2\n\n\n# LSTM\u795e\u7ecf\u5143size\n\n\nsize\n \n=\n \n8\n\n\n# \u6700\u5927\u8f93\u5165\u7b26\u53f7\u6570\n\n\nnum_encoder_symbols\n \n=\n \n10\n\n\n# \u6700\u5927\u8f93\u51fa\u7b26\u53f7\u6570\n\n\nnum_decoder_symbols\n \n=\n \n16\n\n\n# \u5b66\u4e60\u7387\n\n\nlearning_rate\n \n=\n \n0.1\n\n\n\n\ndef\n \nget_samples\n():\n\n    \n\u6784\u9020\u6837\u672c\u6570\u636e\n\n\n\n    :return:\n\n\n        encoder_inputs: [array([0, 0], dtype=int32), \n\n\n                         array([0, 0], dtype=int32), \n\n\n                         array([5, 5], dtype=int32),\n\n\n                         array([7, 7], dtype=int32), \n\n\n                         array([9, 9], dtype=int32)]\n\n\n        decoder_inputs: [array([1, 1], dtype=int32), \n\n\n                         array([11, 11], dtype=int32), \n\n\n                         array([13, 13], dtype=int32),\n\n\n                         array([15, 15], dtype=int32), \n\n\n                         array([2, 2], dtype=int32)]\n\n\n    \n\n    \ntrain_set\n \n=\n \n[[[\n5\n,\n \n7\n,\n \n9\n],\n \n[\n11\n,\n \n13\n,\n \n15\n,\n \nEOS_ID\n]],\n \n[[\n7\n,\n \n9\n,\n \n11\n],\n \n[\n13\n,\n \n15\n,\n \n17\n,\n \nEOS_ID\n]]]\n\n    \nraw_encoder_input\n \n=\n \n[]\n\n    \nraw_decoder_input\n \n=\n \n[]\n\n    \nfor\n \nsample\n \nin\n \ntrain_set\n:\n\n        \nraw_encoder_input\n.\nappend\n([\nPAD_ID\n]\n \n*\n \n(\ninput_seq_len\n \n-\n \nlen\n(\nsample\n[\n0\n]))\n \n+\n \nsample\n[\n0\n])\n\n        \nraw_decoder_input\n.\nappend\n([\nGO_ID\n]\n \n+\n \nsample\n[\n1\n]\n \n                         \n+\n \n[\nPAD_ID\n]\n \n*\n \n(\noutput_seq_len\n \n-\n \nlen\n(\nsample\n[\n1\n])\n \n-\n \n1\n))\n\n\n    \nencoder_inputs\n \n=\n \n[]\n\n    \ndecoder_inputs\n \n=\n \n[]\n\n    \ntarget_weights\n \n=\n \n[]\n\n\n    \nfor\n \nlength_idx\n \nin\n \nxrange\n(\ninput_seq_len\n):\n\n        \nencoder_inputs\n.\nappend\n(\nnp\n.\narray\n([\nencoder_input\n[\nlength_idx\n]\n \n                          \nfor\n \nencoder_input\n \nin\n \nraw_encoder_input\n],\n \n                                                  \ndtype\n=\nnp\n.\nint32\n))\n\n    \nfor\n \nlength_idx\n \nin\n \nxrange\n(\noutput_seq_len\n):\n\n        \ndecoder_inputs\n.\nappend\n(\nnp\n.\narray\n([\ndecoder_input\n[\nlength_idx\n]\n \n                          \nfor\n \ndecoder_input\n \nin\n \nraw_decoder_input\n],\n \n                                                  \ndtype\n=\nnp\n.\nint32\n))\n\n        \ntarget_weights\n.\nappend\n(\nnp\n.\narray\n([\n\n            \n0.0\n \nif\n \nlength_idx\n \n==\n \noutput_seq_len\n \n-\n \n1\n \n                         \nor\n \ndecoder_input\n[\nlength_idx\n]\n \n==\n \nPAD_ID\n \nelse\n \n1.0\n \n                         \nfor\n \ndecoder_input\n \nin\n \nraw_decoder_input\n\n        \n],\n \ndtype\n=\nnp\n.\nfloat32\n))\n\n    \nreturn\n \nencoder_inputs\n,\n \ndecoder_inputs\n,\n \ntarget_weights\n\n\n\n\ndef\n \nget_model\n(\nfeed_previous\n=\nFalse\n):\n\n    \n\u6784\u9020\u6a21\u578b\n\n\n    \n\n    \nencoder_inputs\n \n=\n \n[]\n\n    \ndecoder_inputs\n \n=\n \n[]\n\n    \ntarget_weights\n \n=\n \n[]\n\n    \nfor\n \ni\n \nin\n \nxrange\n(\ninput_seq_len\n):\n\n        \nencoder_inputs\n.\nappend\n(\ntf\n.\nplaceholder\n(\ntf\n.\nint32\n,\n \nshape\n=\n[\nNone\n],\n \n                          \nname\n=\nencoder{0}\n.\nformat\n(\ni\n)))\n\n    \nfor\n \ni\n \nin\n \nxrange\n(\noutput_seq_len\n \n+\n \n1\n):\n\n        \ndecoder_inputs\n.\nappend\n(\ntf\n.\nplaceholder\n(\ntf\n.\nint32\n,\n \nshape\n=\n[\nNone\n],\n \n                          \nname\n=\ndecoder{0}\n.\nformat\n(\ni\n)))\n\n    \nfor\n \ni\n \nin\n \nxrange\n(\noutput_seq_len\n):\n\n        \ntarget_weights\n.\nappend\n(\ntf\n.\nplaceholder\n(\ntf\n.\nfloat32\n,\n \nshape\n=\n[\nNone\n],\n \n                         \nname\n=\nweight{0}\n.\nformat\n(\ni\n)))\n\n\n    \n# decoder_inputs\u5de6\u79fb\u4e00\u4e2a\u65f6\u5e8f\u4f5c\u4e3atargets\n\n    \ntargets\n \n=\n \n[\ndecoder_inputs\n[\ni\n \n+\n \n1\n]\n \nfor\n \ni\n \nin\n \nxrange\n(\noutput_seq_len\n)]\n\n\n    \ncell\n \n=\n \ntf\n.\ncontrib\n.\nrnn\n.\nBasicLSTMCell\n(\nsize\n)\n\n\n    \n# \u8fd9\u91cc\u8f93\u51fa\u7684\u72b6\u6001\u6211\u4eec\u4e0d\u9700\u8981\n\n    \noutputs\n,\n \n_\n \n=\n \nseq2seq\n.\nembedding_attention_seq2seq\n(\n\n                        \nencoder_inputs\n,\n\n                        \ndecoder_inputs\n[:\noutput_seq_len\n],\n\n                        \ncell\n,\n\n                        \nnum_encoder_symbols\n=\nnum_encoder_symbols\n,\n\n                        \nnum_decoder_symbols\n=\nnum_decoder_symbols\n,\n\n                        \nembedding_size\n=\nsize\n,\n\n                        \noutput_projection\n=\nNone\n,\n\n                        \nfeed_previous\n=\nfeed_previous\n,\n\n                        \ndtype\n=\ntf\n.\nfloat32\n)\n\n\n    \n# \u8ba1\u7b97\u52a0\u6743\u4ea4\u53c9\u71b5\u635f\u5931\n\n    \nloss\n \n=\n \nseq2seq\n.\nsequence_loss\n(\noutputs\n,\n \ntargets\n,\n \ntarget_weights\n)\n\n    \n# \u68af\u5ea6\u4e0b\u964d\u4f18\u5316\u5668\n\n    \nopt\n \n=\n \ntf\n.\ntrain\n.\nGradientDescentOptimizer\n(\nlearning_rate\n)\n\n    \n# \u4f18\u5316\u76ee\u6807\uff1a\u8ba9loss\u6700\u5c0f\u5316\n\n    \nupdate\n \n=\n \nopt\n.\napply_gradients\n(\nopt\n.\ncompute_gradients\n(\nloss\n))\n\n    \n# \u6a21\u578b\u6301\u4e45\u5316\n\n    \nsaver\n \n=\n \ntf\n.\ntrain\n.\nSaver\n(\ntf\n.\nglobal_variables\n())\n\n    \nreturn\n \nencoder_inputs\n,\n \ndecoder_inputs\n,\n \ntarget_weights\n,\n \n                          \noutputs\n,\n \nloss\n,\n \nupdate\n,\n \nsaver\n,\n \ntargets\n\n\n\n\ndef\n \ntrain\n():\n\n    \n\n\n    \u8bad\u7ec3\u8fc7\u7a0b\n\n\n    \n\n    \nwith\n \ntf\n.\nSession\n()\n \nas\n \nsess\n:\n\n        \nsample_encoder_inputs\n,\n \nsample_decoder_inputs\n,\n \nsample_target_weights\n \n                          \n=\n \nget_samples\n()\n\n        \nencoder_inputs\n,\n \ndecoder_inputs\n,\n \ntarget_weights\n,\n \noutputs\n,\n \nloss\n,\n \nupdate\n,\n \nsaver\n,\n \ntargets\n \n                          \n=\n \nget_model\n()\n\n\n        \ninput_feed\n \n=\n \n{}\n\n        \nfor\n \nl\n \nin\n \nxrange\n(\ninput_seq_len\n):\n\n            \ninput_feed\n[\nencoder_inputs\n[\nl\n]\n.\nname\n]\n \n=\n \nsample_encoder_inputs\n[\nl\n]\n\n        \nfor\n \nl\n \nin\n \nxrange\n(\noutput_seq_len\n):\n\n            \ninput_feed\n[\ndecoder_inputs\n[\nl\n]\n.\nname\n]\n \n=\n \nsample_decoder_inputs\n[\nl\n]\n\n            \ninput_feed\n[\ntarget_weights\n[\nl\n]\n.\nname\n]\n \n=\n \nsample_target_weights\n[\nl\n]\n\n        \ninput_feed\n[\ndecoder_inputs\n[\noutput_seq_len\n]\n.\nname\n]\n \n=\n \nnp\n.\nzeros\n([\n2\n],\n \ndtype\n=\nnp\n.\nint32\n)\n\n\n        \n# \u5168\u90e8\u53d8\u91cf\u521d\u59cb\u5316\n\n        \nsess\n.\nrun\n(\ntf\n.\nglobal_variables_initializer\n())\n\n\n        \n# \u8bad\u7ec3200\u6b21\u8fed\u4ee3\uff0c\u6bcf\u969410\u6b21\u6253\u5370\u4e00\u6b21loss\n\n        \nfor\n \nstep\n \nin\n \nxrange\n(\n200\n):\n\n            \n[\nloss_ret\n,\n \n_\n]\n \n=\n \nsess\n.\nrun\n([\nloss\n,\n \nupdate\n],\n \ninput_feed\n)\n\n            \nif\n \nstep\n \n%\n \n10\n \n==\n \n0\n:\n\n                \nprint\n \nstep=\n,\n \nstep\n,\n \nloss=\n,\n \nloss_ret\n\n\n        \n# \u6a21\u578b\u6301\u4e45\u5316\n\n        \nsaver\n.\nsave\n(\nsess\n,\n \n./model/demo\n)\n\n\n\n\ndef\n \npredict\n():\n\n    \n\n\n    \u9884\u6d4b\u8fc7\u7a0b\n\n\n    \n\n    \nwith\n \ntf\n.\nSession\n()\n \nas\n \nsess\n:\n\n        \nsample_encoder_inputs\n,\n \nsample_decoder_inputs\n,\n \nsample_target_weights\n \n                          \n=\n \nget_samples\n()\n\n        \nencoder_inputs\n,\n \ndecoder_inputs\n,\n \ntarget_weights\n,\n \n                          \noutputs\n,\n \nloss\n,\n \nupdate\n,\n \nsaver\n,\n \ntargets\n \n                          \n=\n \nget_model\n(\nfeed_previous\n=\nTrue\n)\n\n        \n# \u4ece\u6587\u4ef6\u6062\u590d\u6a21\u578b\n\n        \nsaver\n.\nrestore\n(\nsess\n,\n \n./model/demo\n)\n\n\n        \ninput_feed\n \n=\n \n{}\n\n        \nfor\n \nl\n \nin\n \nxrange\n(\ninput_seq_len\n):\n\n            \ninput_feed\n[\nencoder_inputs\n[\nl\n]\n.\nname\n]\n \n=\n \nsample_encoder_inputs\n[\nl\n]\n\n        \nfor\n \nl\n \nin\n \nxrange\n(\noutput_seq_len\n):\n\n            \ninput_feed\n[\ndecoder_inputs\n[\nl\n]\n.\nname\n]\n \n=\n \nsample_decoder_inputs\n[\nl\n]\n\n            \ninput_feed\n[\ntarget_weights\n[\nl\n]\n.\nname\n]\n \n=\n \nsample_target_weights\n[\nl\n]\n\n        \ninput_feed\n[\ndecoder_inputs\n[\noutput_seq_len\n]\n.\nname\n]\n \n=\n \nnp\n.\nzeros\n([\n2\n],\n \ndtype\n=\nnp\n.\nint32\n)\n\n\n        \n# \u9884\u6d4b\u8f93\u51fa\n\n        \noutputs\n \n=\n \nsess\n.\nrun\n(\noutputs\n,\n \ninput_feed\n)\n\n        \n# \u4e00\u5171\u8bd5\u9a8c\u6837\u672c\u67092\u4e2a\uff0c\u6240\u4ee5\u5206\u522b\u904d\u5386\n\n        \nfor\n \nsample_index\n \nin\n \nxrange\n(\n2\n):\n\n            \n# \u56e0\u4e3a\u8f93\u51fa\u6570\u636e\u6bcf\u4e00\u4e2a\u662fnum_decoder_symbols\u7ef4\u7684\n\n            \n# \u56e0\u6b64\u627e\u5230\u6570\u503c\u6700\u5927\u7684\u90a3\u4e2a\u5c31\u662f\u9884\u6d4b\u7684id\uff0c\u5c31\u662f\u8fd9\u91cc\u7684argmax\u51fd\u6570\u7684\u529f\u80fd\n\n            \noutputs_seq\n \n=\n \n[\nint\n(\nnp\n.\nargmax\n(\nlogit\n[\nsample_index\n],\n \naxis\n=\n0\n))\n \nfor\n \nlogit\n \nin\n \noutputs\n]\n\n            \n# \u5982\u679c\u662f\u7ed3\u5c3e\u7b26\uff0c\u90a3\u4e48\u540e\u9762\u7684\u8bed\u53e5\u5c31\u4e0d\u8f93\u51fa\u4e86\n\n            \nif\n \nEOS_ID\n \nin\n \noutputs_seq\n:\n\n                \noutputs_seq\n \n=\n \noutputs_seq\n[:\noutputs_seq\n.\nindex\n(\nEOS_ID\n)]\n\n            \noutputs_seq\n \n=\n \n[\nstr\n(\nv\n)\n \nfor\n \nv\n \nin\n \noutputs_seq\n]\n\n            \nprint\n \n \n.\njoin\n(\noutputs_seq\n)\n\n\n\n\nif\n \n__name__\n \n==\n \n__main__\n:\n\n    \nif\n \nsys\n.\nargv\n[\n1\n]\n \n==\n \ntrain\n:\n\n        \ntrain\n()\n\n    \nelse\n:\n\n        \npredict\n()\n\n\n\n\n\n\n\n\u6bd4\u5982\u6587\u4ef6\u547d\u540d\u4e3ademo.py\uff0c\u90a3\u4e48\u9996\u5148\u6267\u884c./demo.py train\u8bad\u7ec3\u597d\u6a21\u578b\uff0c\u7136\u540e\u6267\u884c./demo.py predict\uff0c\u8f93\u51fa\u4e3a\uff1a\n\n\n1\n2\n11\n \n13\n \n15\n\n\n11\n \n13\n \n15\n\n\n\n\n\n\n\n\u81f3\u6b64\uff0c\u6211\u4eec\u7b97\u6709\u4e86\u5c0f\u5c0f\u7684\u6210\u5c31\u4e86\uff0c\u90a3\u5c31\u662f\u6211\u4eec\u6839\u636e\u8f93\u5165\u7684\u6837\u672c(\u4e24\u4e2a[5, 7, 9])\u9884\u6d4b\u51fa\u4e86\u8f93\u51fa\u768411 13 15\u4e86\n\n\n\u6bd4\u8f83\u4ed4\u7ec6\u7684\u4eba\u4f1a\u53d1\u73b0\uff0c\u5728\u505a\u9884\u6d4b\u7684\u65f6\u5019\u4f9d\u7136\u662f\u6309\u7167\u5b8c\u6574\u7684encoder_inputs\u548cdecoder_inputs\u8ba1\u7b97\u7684\uff0c\u90a3\u4e48\u600e\u4e48\u80fd\u8bc1\u660e\u6a21\u578b\u4e0d\u662f\u76f4\u63a5\u4f7f\u7528\u4e86decoder_inputs\u6765\u9884\u6d4b\u51fa\u7684\u8f93\u51fa\u5462\uff1f\u90a3\u4e48\u6211\u4eec\u6765\u7ee7\u7eed\u6539\u8fdbpredict\uff0c\u8ba9\u6211\u4eec\u53ef\u4ee5\u624b\u5de5\u8f93\u5165\u4e00\u4e32\u6570\u5b57(\u53ea\u6709encoder\u90e8\u5206)\uff0c\u770b\u770b\u6a21\u578b\u80fd\u4e0d\u80fd\u9884\u6d4b\u51fa\u8f93\u51fa\n\n\n\u9996\u5148\u6211\u4eec\u5b9e\u73b0\u4e00\u4e2a\u4ece\u8f93\u5165\u7a7a\u683c\u5206\u9694\u7684\u6570\u5b57id\u4e32\uff0c\u8f6c\u6210\u9884\u6d4b\u7528\u7684encoder\u3001decoder\u3001target_weight\u7684\u51fd\u6570\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\ndef\n \nseq_to_encoder\n(\ninput_seq\n):\n\n    \n\u4ece\u8f93\u5165\u7a7a\u683c\u5206\u9694\u7684\u6570\u5b57id\u4e32\uff0c\u8f6c\u6210\u9884\u6d4b\u7528\u7684encoder\u3001decoder\u3001target_weight\u7b49\n\n\n    \n\n    \ninput_seq_array\n \n=\n \n[\nint\n(\nv\n)\n \nfor\n \nv\n \nin\n \ninput_seq\n.\nsplit\n()]\n\n    \nencoder_input\n \n=\n \n[\nPAD_ID\n]\n \n*\n \n(\ninput_seq_len\n \n-\n \nlen\n(\ninput_seq_array\n))\n \n+\n \ninput_seq_array\n\n    \ndecoder_input\n \n=\n \n[\nGO_ID\n]\n \n+\n \n[\nPAD_ID\n]\n \n*\n \n(\noutput_seq_len\n \n-\n \n1\n)\n\n    \nencoder_inputs\n \n=\n \n[\nnp\n.\narray\n([\nv\n],\n \ndtype\n=\nnp\n.\nint32\n)\n \nfor\n \nv\n \nin\n \nencoder_input\n]\n\n    \ndecoder_inputs\n \n=\n \n[\nnp\n.\narray\n([\nv\n],\n \ndtype\n=\nnp\n.\nint32\n)\n \nfor\n \nv\n \nin\n \ndecoder_input\n]\n\n    \ntarget_weights\n \n=\n \n[\nnp\n.\narray\n([\n1.0\n],\n \ndtype\n=\nnp\n.\nfloat32\n)]\n \n*\n \noutput_seq_len\n\n    \nreturn\n \nencoder_inputs\n,\n \ndecoder_inputs\n,\n \ntarget_weights\n\n\n\n\n\n\n\n\u7136\u540e\u6211\u4eec\u6539\u5199predict\u51fd\u6570\u5982\u4e0b\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\ndef\n \npredict\n():\n\n    \n\n\n    \u9884\u6d4b\u8fc7\u7a0b\n\n\n    \n\n    \nwith\n \ntf\n.\nSession\n()\n \nas\n \nsess\n:\n\n        \nencoder_inputs\n,\n \ndecoder_inputs\n,\n \ntarget_weights\n,\n \noutputs\n,\n \nloss\n,\n \nupdate\n,\n \nsaver\n \n                          \n=\n \nget_model\n(\nfeed_previous\n=\nTrue\n)\n\n        \nsaver\n.\nrestore\n(\nsess\n,\n \n./model/demo\n)\n\n        \nsys\n.\nstdout\n.\nwrite\n(\n \n)\n\n        \nsys\n.\nstdout\n.\nflush\n()\n\n        \ninput_seq\n \n=\n \nsys\n.\nstdin\n.\nreadline\n()\n\n        \nwhile\n \ninput_seq\n:\n\n            \ninput_seq\n \n=\n \ninput_seq\n.\nstrip\n()\n\n            \nsample_encoder_inputs\n,\n \nsample_decoder_inputs\n,\n \nsample_target_weights\n \n                          \n=\n \nseq_to_encoder\n(\ninput_seq\n)\n\n\n            \ninput_feed\n \n=\n \n{}\n\n            \nfor\n \nl\n \nin\n \nxrange\n(\ninput_seq_len\n):\n\n                \ninput_feed\n[\nencoder_inputs\n[\nl\n]\n.\nname\n]\n \n=\n \nsample_encoder_inputs\n[\nl\n]\n\n            \nfor\n \nl\n \nin\n \nxrange\n(\noutput_seq_len\n):\n\n                \ninput_feed\n[\ndecoder_inputs\n[\nl\n]\n.\nname\n]\n \n=\n \nsample_decoder_inputs\n[\nl\n]\n\n                \ninput_feed\n[\ntarget_weights\n[\nl\n]\n.\nname\n]\n \n=\n \nsample_target_weights\n[\nl\n]\n\n            \ninput_feed\n[\ndecoder_inputs\n[\noutput_seq_len\n]\n.\nname\n]\n \n=\n \nnp\n.\nzeros\n([\n2\n],\n \ndtype\n=\nnp\n.\nint32\n)\n\n\n            \n# \u9884\u6d4b\u8f93\u51fa\n\n            \noutputs_seq\n \n=\n \nsess\n.\nrun\n(\noutputs\n,\n \ninput_feed\n)\n\n            \n# \u56e0\u4e3a\u8f93\u51fa\u6570\u636e\u6bcf\u4e00\u4e2a\u662fnum_decoder_symbols\u7ef4\u7684\n\n            \n# \u56e0\u6b64\u627e\u5230\u6570\u503c\u6700\u5927\u7684\u90a3\u4e2a\u5c31\u662f\u9884\u6d4b\u7684id\uff0c\u5c31\u662f\u8fd9\u91cc\u7684argmax\u51fd\u6570\u7684\u529f\u80fd\n\n            \noutputs_seq\n \n=\n \n[\nint\n(\nnp\n.\nargmax\n(\nlogit\n[\n0\n],\n \naxis\n=\n0\n))\n \nfor\n \nlogit\n \nin\n \noutputs_seq\n]\n\n            \n# \u5982\u679c\u662f\u7ed3\u5c3e\u7b26\uff0c\u90a3\u4e48\u540e\u9762\u7684\u8bed\u53e5\u5c31\u4e0d\u8f93\u51fa\u4e86\n\n            \nif\n \nEOS_ID\n \nin\n \noutputs_seq\n:\n\n                \noutputs_seq\n \n=\n \noutputs_seq\n[:\noutputs_seq\n.\nindex\n(\nEOS_ID\n)]\n\n            \noutputs_seq\n \n=\n \n[\nstr\n(\nv\n)\n \nfor\n \nv\n \nin\n \noutputs_seq\n]\n\n            \nprint\n \n \n.\njoin\n(\noutputs_seq\n)\n\n\n            \nsys\n.\nstdout\n.\nwrite\n(\n \n)\n\n            \nsys\n.\nstdout\n.\nflush\n()\n\n            \ninput_seq\n \n=\n \nsys\n.\nstdin\n.\nreadline\n()\n\n\n\n\n\n\n\n\u597d\uff0c\u91cd\u65b0\u6267\u884c./demo.py predict\u5982\u4e0b\uff1a\n\n\n1\n2\n3\n4\n[\nroot@localhost $\n]\n python demo.py predict\n\n \n5\n \n7\n \n9\n\n\n11\n \n13\n \n15\n\n\n\n\n\n\n\n\n\n\u6211\u4eec\u5b9e\u9645\u4e0a\u53ea\u8bad\u7ec3\u4e86\u4e24\u4e2a\u5b8c\u5168\u4e00\u6837\u7684\u6837\u672c\uff1a[5, 7, 9], [11, 13, 15, EOS_ID]\uff0c\u90a3\u4e48\u6211\u4eec\u5982\u679c\u8f93\u5165\u4e00\u4e2a\u65b0\u7684\u6d4b\u8bd5\u6837\u672c\u4f1a\u600e\u4e48\u6837\u5462\uff1f\u4ed6\u80fd\u4e0d\u80fd\u9884\u6d4b\u51fa\u6211\u4eec\u662f\u5728\u63a8\u5bfc\u5947\u6570\u5e8f\u5217\u5462\uff1f\n\n\n\u5f53\u6211\u4eec\u8f93\u51657 9 11\u7684\u65f6\u5019\u53d1\u73b0\u4ed6\u62a5\u9519\u4e86\uff0c\u539f\u56e0\u662f\u6211\u4eec\u8bbe\u7f6e\u4e86num_encoder_symbols = 10\uff0c\u800c11\u65e0\u6cd5\u8868\u8fbe\u4e86\uff0c\u6240\u4ee5\u6211\u4eec\u4e3a\u4e86\u8bad\u7ec3\u4e00\u4e2a\u5f3a\u5927\u7684\u6a21\u578b\uff0c\u6211\u4eec\u4fee\u6539\u53c2\u6570\u5e76\u589e\u52a0\u6837\u672c\uff0c\u5982\u4e0b\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n# \u6700\u5927\u8f93\u5165\u7b26\u53f7\u6570\n\n\nnum_encoder_symbols\n \n=\n \n32\n\n\n# \u6700\u5927\u8f93\u51fa\u7b26\u53f7\u6570\n\n\nnum_decoder_symbols\n \n=\n \n32\n\n\n\u2026\u2026\n\n\ntrain_set\n \n=\n \n[\n\n              \n[[\n5\n,\n \n7\n,\n \n9\n],\n \n[\n11\n,\n \n13\n,\n \n15\n,\n \nEOS_ID\n]],\n \n              \n[[\n7\n,\n \n9\n,\n \n11\n],\n \n[\n13\n,\n \n15\n,\n \n17\n,\n \nEOS_ID\n]],\n \n              \n[[\n15\n,\n \n17\n,\n \n19\n],\n \n[\n21\n,\n \n23\n,\n \n25\n,\n \nEOS_ID\n]]\n\n            \n]\n\n\n\u2026\u2026\n\n\n\n\n\n\n\n\u6211\u4eec\u628a\u8fed\u4ee3\u6b21\u6570\u6269\u5927\u523010000\u6b21\n\n\n\u8bad\u7ec3\u597d\u540e\u91cd\u65b0\u9884\u6d4b\u7ed3\u679c\u5982\u4e0b\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n \n5\n \n7\n \n9\n\n\n11\n \n13\n \n15\n\n\n \n11\n \n13\n \n15\n\n\n13\n \n17\n\n\n \n7\n \n9\n \n11\n\n\n13\n \n15\n \n17\n\n\n \n15\n \n17\n \n19\n\n\n21\n \n23\n \n25\n\n\n \n6\n \n8\n \n10\n\n\n11\n \n13\n \n15\n\n\n\n\n\n\n\n\n\n\u6211\u4eec\u53d1\u73b0\uff0c\u5bf9\u4e8e\u8f93\u5165\u7684\u6837\u672c\uff0c\u9884\u6d4b\u6548\u679c\u8fd8\u662f\u975e\u5e38\u597d\u7684\uff0c\u4f46\u662f\u5982\u679c\u6362\u6210\u5176\u4ed6\u7684\u8f93\u5165\uff0c\u5c31\u8fd8\u662f\u5728\u6837\u672c\u7684\u8f93\u51fa\u91cc\u627e\u67d0\u4e00\u4e2a\u6700\u76f8\u8fd1\u7684\u7ed3\u679c\u4f5c\u4e3a\u9884\u6d4b\u7ed3\u679c\uff0c\u5e76\u4e0d\u4f1a\u601d\u8003\uff0c\u6ca1\u6709\u667a\u80fd\uff0c\u6240\u4ee5\u8fd9\u4e2a\u6a21\u578b\u66f4\u9002\u5408\u505a\u5206\u7c7b\uff0c\u4e0d\u9002\u5408\u505a\u63a8\u7406\n\n\n\u4f46\u662f\u73b0\u5728\uff0c\u6211\u4eec\u4f9d\u7136\u5728\u73a9\u7684\u53ea\u662f\u6570\u5b57\u7684\u6e38\u620f\uff0c\u600e\u4e48\u6837\u624d\u80fd\u548c\u4e2d\u6587\u5bf9\u8bdd\u626f\u4e0a\u5173\u7cfb\u5462\uff1f\u5f88\u7b80\u5355\uff0c\u5728\u8bad\u7ec3\u65f6\u628a\u4e2d\u6587\u8bcd\u6c47\u8f6c\u6210id\u53f7\uff0c\u5728\u9884\u6d4b\u65f6\uff0c\u628a\u9884\u6d4b\u5230\u7684id\u8f6c\u6210\u4e2d\u6587\u5c31\u53ef\u4ee5\u4e86\n\n\n\u4e0b\u9762\u6211\u4eec\u65b0\u5efa\u4e00\u4e2aword_token.py\u6587\u4ef6\uff0c\u5e76\u5efa\u4e00\u4e2aWordToken\u7c7b\uff0c\u5176\u4e2dload\u51fd\u6570\u8d1f\u8d23\u52a0\u8f7d\u6837\u672c\uff0c\u5e76\u751f\u6210word2id_dict\u548cid2word_dict\u8bcd\u5178\uff0cword2id\u51fd\u6570\u8d1f\u8d23\u5c06\u8bcd\u6c47\u8f6c\u6210id\uff0cid2word\u8d1f\u8d23\u5c06id\u8f6c\u6210\u8bcd\u6c47\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n# coding:utf-8\n\n\nimport\n \nsys\n\n\nimport\n \njieba\n\n\n\n\nclass\n \nWordToken\n(\nobject\n):\n\n    \ndef\n \n__init__\n(\nself\n):\n\n        \n# \u6700\u5c0f\u8d77\u59cbid\u53f7, \u4fdd\u7559\u7684\u7528\u4e8e\u8868\u793a\u7279\u6b8a\u6807\u8bb0\n\n        \nself\n.\nSTART_ID\n \n=\n \n4\n\n        \nself\n.\nword2id_dict\n \n=\n \n{}\n\n        \nself\n.\nid2word_dict\n \n=\n \n{}\n\n\n\n    \ndef\n \nload_file_list\n(\nself\n,\n \nfile_list\n):\n\n        \n\n\n        \u52a0\u8f7d\u6837\u672c\u6587\u4ef6\u5217\u8868\uff0c\u5168\u90e8\u5207\u8bcd\u540e\u7edf\u8ba1\u8bcd\u9891\uff0c\u6309\u8bcd\u9891\u7531\u9ad8\u5230\u4f4e\u6392\u5e8f\u540e\u987a\u6b21\u7f16\u53f7\n\n\n        \u5e76\u5b58\u5230self.word2id_dict\u548cself.id2word_dict\u4e2d\n\n\n        \n\n        \nwords_count\n \n=\n \n{}\n\n        \nfor\n \nfile\n \nin\n \nfile_list\n:\n\n            \nwith\n \nopen\n(\nfile\n,\n \nr\n)\n \nas\n \nfile_object\n:\n\n                \nfor\n \nline\n \nin\n \nfile_object\n.\nreadlines\n():\n\n                    \nline\n \n=\n \nline\n.\nstrip\n()\n\n                    \nseg_list\n \n=\n \njieba\n.\ncut\n(\nline\n)\n\n                    \nfor\n \nstr\n \nin\n \nseg_list\n:\n\n                        \nif\n \nstr\n \nin\n \nwords_count\n:\n\n                            \nwords_count\n[\nstr\n]\n \n=\n \nwords_count\n[\nstr\n]\n \n+\n \n1\n\n                        \nelse\n:\n\n                            \nwords_count\n[\nstr\n]\n \n=\n \n1\n\n\n        \nsorted_list\n \n=\n \n[[\nv\n[\n1\n],\n \nv\n[\n0\n]]\n \nfor\n \nv\n \nin\n \nwords_count\n.\nitems\n()]\n\n        \nsorted_list\n.\nsort\n(\nreverse\n=\nTrue\n)\n\n        \nfor\n \nindex\n,\n \nitem\n \nin\n \nenumerate\n(\nsorted_list\n):\n\n            \nword\n \n=\n \nitem\n[\n1\n]\n\n            \nself\n.\nword2id_dict\n[\nword\n]\n \n=\n \nself\n.\nSTART_ID\n \n+\n \nindex\n\n            \nself\n.\nid2word_dict\n[\nself\n.\nSTART_ID\n \n+\n \nindex\n]\n \n=\n \nword\n\n\n\n    \ndef\n \nword2id\n(\nself\n,\n \nword\n):\n\n        \nif\n \nnot\n \nisinstance\n(\nword\n,\n \nunicode\n):\n\n            \nprint\n \nException: error word not unicode\n\n            \nsys\n.\nexit\n(\n1\n)\n\n        \nif\n \nword\n \nin\n \nself\n.\nword2id_dict\n:\n\n            \nreturn\n \nself\n.\nword2id_dict\n[\nword\n]\n\n        \nelse\n:\n\n            \nreturn\n \nNone\n\n\n\n    \ndef\n \nid2word\n(\nself\n,\n \nid\n):\n\n        \nid\n \n=\n \nint\n(\nid\n)\n\n        \nif\n \nid\n \nin\n \nself\n.\nid2word_dict\n:\n\n            \nreturn\n \nself\n.\nid2word_dict\n[\nid\n]\n\n        \nelse\n:\n\n            \nreturn\n \nNone\n\n\n\n\n\n\n\n\u4e0b\u9762\u5728demo.py\u4e2d\u4fee\u6539\u6211\u4eec\u7684get_train_set\u5982\u4e0b\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\ndef\n \nget_train_set\n():\n\n    \nglobal\n \nnum_encoder_symbols\n,\n \nnum_decoder_symbols\n\n    \ntrain_set\n \n=\n \n[]\n\n    \nwith\n \nopen\n(\n./samples/question\n,\n \nr\n)\n \nas\n \nquestion_file\n:\n\n        \nwith\n \nopen\n(\n./samples/answer\n,\n \nr\n)\n \nas\n \nanswer_file\n:\n\n            \nwhile\n \nTrue\n:\n\n                \nquestion\n \n=\n \nquestion_file\n.\nreadline\n()\n\n                \nanswer\n \n=\n \nanswer_file\n.\nreadline\n()\n\n                \nif\n \nquestion\n \nand\n \nanswer\n:\n\n                    \nquestion\n \n=\n \nquestion\n.\nstrip\n()\n\n                    \nanswer\n \n=\n \nanswer\n.\nstrip\n()\n\n\n                    \nquestion_id_list\n \n=\n \nget_id_list_from\n(\nquestion\n)\n\n                    \nanswer_id_list\n \n=\n \nget_id_list_from\n(\nanswer\n)\n\n                    \nanswer_id_list\n.\nappend\n(\nEOS_ID\n)\n\n                    \ntrain_set\n.\nappend\n([\nquestion_id_list\n,\n \nanswer_id_list\n])\n\n                \nelse\n:\n\n                    \nbreak\n\n    \nreturn\n \ntrain_set\n\n\n\n\n\n\n\n\u5176\u4e2d\u8fd9\u91cc\u7684get_id_list_from\u5b9e\u73b0\u4e3a\uff1a\n\n\n1\n2\n3\n4\n5\n6\n7\n8\ndef\n \nget_id_list_from\n(\nsentence\n):\n\n    \nsentence_id_list\n \n=\n \n[]\n\n    \nseg_list\n \n=\n \njieba\n.\ncut\n(\nsentence\n)\n\n    \nfor\n \nstr\n \nin\n \nseg_list\n:\n\n        \nid\n \n=\n \nwordToken\n.\nword2id\n(\nstr\n)\n\n        \nif\n \nid\n:\n\n            \nsentence_id_list\n.\nappend\n(\nwordToken\n.\nword2id\n(\nstr\n))\n\n    \nreturn\n \nsentence_id_list\n\n\n\n\n\n\n\n\u800c\u8fd9\u91cc\u7684wordToken\u6765\u81ea\u4e8e\uff1a\n\n\n1\n2\n3\n4\n5\n6\n7\n8\nimport\n \nword_token\n\n\nimport\n \njieba\n\n\nwordToken\n \n=\n \nword_token\n.\nWordToken\n()\n\n\n\n# \u653e\u5728\u5168\u5c40\u7684\u4f4d\u7f6e\uff0c\u4e3a\u4e86\u52a8\u6001\u7b97\u51fanum_encoder_symbols\u548cnum_decoder_symbols\n\n\nmax_token_id\n \n=\n \nwordToken\n.\nload_file_list\n([\n./samples/question\n,\n \n./samples/answer\n])\n\n\nnum_encoder_symbols\n \n=\n \nmax_token_id\n \n+\n \n5\n\n\nnum_decoder_symbols\n \n=\n \nmax_token_id\n \n+\n \n5\n\n\n\n\n\n\n\n\u7136\u540e\u6211\u4eec\u628a\u8bad\u7ec3\u4ee3\u7801\u6539\u6210\uff1a\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n        \n# \u8bad\u7ec3\u5f88\u591a\u6b21\u8fed\u4ee3\uff0c\u6bcf\u969410\u6b21\u6253\u5370\u4e00\u6b21loss\uff0c\u53ef\u4ee5\u770b\u60c5\u51b5\u76f4\u63a5ctrl+c\u505c\u6b62\n\n        \nfor\n \nstep\n \nin\n \nxrange\n(\n100000\n):\n\n            \n[\nloss_ret\n,\n \n_\n]\n \n=\n \nsess\n.\nrun\n([\nloss\n,\n \nupdate\n],\n \ninput_feed\n)\n\n            \nif\n \nstep\n \n%\n \n10\n \n==\n \n0\n:\n\n                \nprint\n \nstep=\n,\n \nstep\n,\n \nloss=\n,\n \nloss_ret\n\n\n                \n# \u6a21\u578b\u6301\u4e45\u5316\n\n                \nsaver\n.\nsave\n(\nsess\n,\n \n./model/demo\n)\n\n\n\n\n\n\n\n\u9884\u6d4b\u7684\u4ee3\u7801\u6211\u4eec\u4e5f\u9700\u8981\u505a\u76f8\u5e94\u7684\u4fee\u6539\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\ndef\n \npredict\n():\n\n    \n\n\n    \u9884\u6d4b\u8fc7\u7a0b\n\n\n    \n\n    \nwith\n \ntf\n.\nSession\n()\n \nas\n \nsess\n:\n\n        \nencoder_inputs\n,\n \ndecoder_inputs\n,\n \ntarget_weights\n,\n \noutputs\n,\n \nloss\n,\n \nupdate\n,\n \nsaver\n \n                        \n=\n \nget_model\n(\nfeed_previous\n=\nTrue\n)\n\n        \nsaver\n.\nrestore\n(\nsess\n,\n \n./model/demo\n)\n\n        \nsys\n.\nstdout\n.\nwrite\n(\n \n)\n\n        \nsys\n.\nstdout\n.\nflush\n()\n\n        \ninput_seq\n \n=\n \nsys\n.\nstdin\n.\nreadline\n()\n\n        \nwhile\n \ninput_seq\n:\n\n            \ninput_seq\n \n=\n \ninput_seq\n.\nstrip\n()\n\n            \ninput_id_list\n \n=\n \nget_id_list_from\n(\ninput_seq\n)\n\n            \nif\n \n(\nlen\n(\ninput_id_list\n)):\n\n                \nsample_encoder_inputs\n,\n \nsample_decoder_inputs\n,\n \nsample_target_weights\n \n                        \n=\n \nseq_to_encoder\n(\n \n.\njoin\n([\nstr\n(\nv\n)\n \nfor\n \nv\n \nin\n \ninput_id_list\n]))\n\n\n                \ninput_feed\n \n=\n \n{}\n\n                \nfor\n \nl\n \nin\n \nxrange\n(\ninput_seq_len\n):\n\n                    \ninput_feed\n[\nencoder_inputs\n[\nl\n]\n.\nname\n]\n \n=\n \nsample_encoder_inputs\n[\nl\n]\n\n                \nfor\n \nl\n \nin\n \nxrange\n(\noutput_seq_len\n):\n\n                    \ninput_feed\n[\ndecoder_inputs\n[\nl\n]\n.\nname\n]\n \n=\n \nsample_decoder_inputs\n[\nl\n]\n\n                    \ninput_feed\n[\ntarget_weights\n[\nl\n]\n.\nname\n]\n \n=\n \nsample_target_weights\n[\nl\n]\n\n                \ninput_feed\n[\ndecoder_inputs\n[\noutput_seq_len\n]\n.\nname\n]\n \n                        \n=\n \nnp\n.\nzeros\n([\n2\n],\n \ndtype\n=\nnp\n.\nint32\n)\n\n\n                \n# \u9884\u6d4b\u8f93\u51fa\n\n                \noutputs_seq\n \n=\n \nsess\n.\nrun\n(\noutputs\n,\n \ninput_feed\n)\n\n                \n# \u56e0\u4e3a\u8f93\u51fa\u6570\u636e\u6bcf\u4e00\u4e2a\u662fnum_decoder_symbols\u7ef4\u7684\n\n                \n# \u56e0\u6b64\u627e\u5230\u6570\u503c\u6700\u5927\u7684\u90a3\u4e2a\u5c31\u662f\u9884\u6d4b\u7684id\uff0c\u5c31\u662f\u8fd9\u91cc\u7684argmax\u51fd\u6570\u7684\u529f\u80fd\n\n                \noutputs_seq\n \n=\n \n[\nint\n(\nnp\n.\nargmax\n(\nlogit\n[\n0\n],\n \naxis\n=\n0\n))\n \nfor\n \nlogit\n \nin\n \noutputs_seq\n]\n\n                \n# \u5982\u679c\u662f\u7ed3\u5c3e\u7b26\uff0c\u90a3\u4e48\u540e\u9762\u7684\u8bed\u53e5\u5c31\u4e0d\u8f93\u51fa\u4e86\n\n                \nif\n \nEOS_ID\n \nin\n \noutputs_seq\n:\n\n                    \noutputs_seq\n \n=\n \noutputs_seq\n[:\noutputs_seq\n.\nindex\n(\nEOS_ID\n)]\n\n                \noutputs_seq\n \n=\n \n[\nwordToken\n.\nid2word\n(\nv\n)\n \nfor\n \nv\n \nin\n \noutputs_seq\n]\n\n                \nprint\n \n \n.\njoin\n(\noutputs_seq\n)\n\n            \nelse\n:\n\n                \nprint\n \nWARN\uff1a\u8bcd\u6c47\u4e0d\u5728\u670d\u52a1\u533a\n\n\n            \nsys\n.\nstdout\n.\nwrite\n(\n \n)\n\n            \nsys\n.\nstdout\n.\nflush\n()\n\n            \ninput_seq\n \n=\n \nsys\n.\nstdin\n.\nreadline\n()\n\n\n\n\n\n\n\n\u4e0b\u9762\u6211\u4eec\u5c1d\u8bd5\u7528\u5b58\u50a8\u5728['./samples/question', './samples/answer']\u4e2d\u76841000\u4e2a\u5bf9\u8bdd\u6837\u672c\u6765\u8bad\u7ec3\uff0c\u4f7f\u5f97loss\u8f93\u51fa\u6536\u655b\u5230\u4e00\u5b9a\u7a0b\u5ea6(\u6bd4\u59821.0)\u4ee5\u4e0b\uff1a\n\n\n1\npython demo.py train\n\n\n\n\n\n\n\u52301.0\u4ee5\u4e0b\u540e\u53ef\u4ee5\u624b\u5de5ctrl+c\u505c\u6b62\uff0c\u56e0\u4e3a\u6211\u4eec\u6bcf\u969410\u4e2astep\u90fd\u4f1astore\u4e00\u6b21\u6a21\u578b\n\n\n\u8bad\u7ec3\u60c5\u51b5\u5982\u4e0b\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n[\nroot@localhost $\n]\n python demo.py train\nBuilding prefix dict from the default dictionary ...\nLoading model from cache /var/folders/tq/c0kp5y857x138x5vf8bzxfc80000gp/T/jieba.cache\nLoading model cost \n0\n.442 seconds.\nPrefix dict has been built succesfully.\n\nstep\n=\n \n0\n \nloss\n=\n \n7\n.57641\n\nstep\n=\n \n10\n \nloss\n=\n \n7\n.51317\n\nstep\n=\n \n20\n \nloss\n=\n \n7\n.4462\n\nstep\n=\n \n30\n \nloss\n=\n \n7\n.37086\n\nstep\n=\n \n40\n \nloss\n=\n \n7\n.28131\n\nstep\n=\n \n50\n \nloss\n=\n \n7\n.1697\n\nstep\n=\n \n60\n \nloss\n=\n \n7\n.02524\n\nstep\n=\n \n70\n \nloss\n=\n \n6\n.83556\n\nstep\n=\n \n80\n \nloss\n=\n \n6\n.60554\n\nstep\n=\n \n90\n \nloss\n=\n \n6\n.41139\n\n\n\n\n\n\n\u6211\u4eec\u53d1\u73b0\u6a21\u578b\u6536\u655b\u7684\u975e\u5e38\u6162\uff0c\u56e0\u4e3a\u6211\u4eec\u8bbe\u7f6e\u7684\u5b66\u4e60\u7387\u662f0.1\uff0c\u6211\u4eec\u5e0c\u671b\u9996\u5148\u5b66\u4e60\u7387\u5927\u4e00\u4e9b\uff0c\u6bcf\u5f53\u4e0b\u4e00\u6b65\u7684loss\u548c\u4e0a\u4e00\u6b65\u76f8\u6bd4\u53cd\u5f39(\u53cd\u800c\u589e\u5927)\u7684\u65f6\u5019\u6211\u4eec\u518d\u5c1d\u8bd5\u964d\u4f4e\u5b66\u4e60\u7387\uff0c\u65b9\u6cd5\u5982\u4e0b\uff0c\u9996\u5148\u6211\u4eec\u4e0d\u518d\u76f4\u63a5\u7528learning_rate\uff0c\u800c\u662f\u521d\u59cb\u5316\u4e00\u4e2a\u5b66\u4e60\u7387\uff1a\n\n\n1\ninit_learning_rate = 1\n\n\n\n\n\n\n\u7136\u540e\u5728get_model\u4e2d\u521b\u5efa\u4e00\u4e2a\u53d8\u91cf\uff0c\u5e76\u7528init_learning_rate\u521d\u59cb\u5316\uff1a\n\n\n1\nlearning_rate = tf.Variable(float(init_learning_rate), trainable=False, dtype=tf.float32)\n\n\n\n\n\n\n\u4e4b\u540e\u518d\u521b\u5efa\u4e00\u4e2a\u64cd\u4f5c\uff0c\u76ee\u7684\u662f\u518d\u9002\u5f53\u7684\u65f6\u5019\u628a\u5b66\u4e60\u7387\u62539\u6298\uff1a\n\n\n1\nlearning_rate_decay_op = learning_rate.assign(learning_rate * 0.9)\n\n\n\n\n\n\n\u4e4b\u540e\u5728\u8bad\u7ec3\u4ee3\u7801\u4e2d\u8fd9\u6837\u8c03\u6574\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n        \n# \u8bad\u7ec3\u5f88\u591a\u6b21\u8fed\u4ee3\uff0c\u6bcf\u969410\u6b21\u6253\u5370\u4e00\u6b21loss\uff0c\u53ef\u4ee5\u770b\u60c5\u51b5\u76f4\u63a5ctrl+c\u505c\u6b62\n\n        \nprevious_losses\n \n=\n \n[]\n\n        \nfor\n \nstep\n \nin\n \nxrange\n(\n100000\n):\n\n            \n[\nloss_ret\n,\n \n_\n]\n \n=\n \nsess\n.\nrun\n([\nloss\n,\n \nupdate\n],\n \ninput_feed\n)\n\n            \nif\n \nstep\n \n%\n \n10\n \n==\n \n0\n:\n\n                \nprint\n \nstep=\n,\n \nstep\n,\n \nloss=\n,\n \n                        \nloss_ret\n,\n \nlearning_rate=\n,\n \nlearning_rate\n.\neval\n()\n\n\n                \nif\n \nloss_ret\n \n \nmax\n(\nprevious_losses\n[\n-\n5\n:]):\n\n                    \nsess\n.\nrun\n(\nlearning_rate_decay_op\n)\n\n                \nprevious_losses\n.\nappend\n(\nloss_ret\n)\n\n\n                \n# \u6a21\u578b\u6301\u4e45\u5316\n\n                \nsaver\n.\nsave\n(\nsess\n,\n \n./model/demo\n)\n\n\n\n\n\n\n\n\u8fd9\u6837\u5728\u8bad\u7ec3\u65f6\u53ef\u4ee5\u5b9e\u73b0\u5feb\u901f\u6536\u655b\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n[\nroot@localhost $\n]\n python demo.py train\nBuilding prefix dict from the default dictionary ...\nLoading model from cache /var/folders/tq/c0kp5y857x138x5vf8bzxfc80000gp/T/jieba.cache\nLoading model cost \n0\n.465 seconds.\nPrefix dict has been built succesfully.\n\nstep\n=\n \n0\n \nloss\n=\n \n7\n.5769 \nlearning_rate\n=\n \n1\n.0\n\nstep\n=\n \n10\n \nloss\n=\n \n6\n.32053 \nlearning_rate\n=\n \n1\n.0\n\nstep\n=\n \n20\n \nloss\n=\n \n5\n.73492 \nlearning_rate\n=\n \n1\n.0\n\nstep\n=\n \n30\n \nloss\n=\n \n5\n.59705 \nlearning_rate\n=\n \n1\n.0\n\nstep\n=\n \n40\n \nloss\n=\n \n5\n.5177 \nlearning_rate\n=\n \n1\n.0\n\nstep\n=\n \n50\n \nloss\n=\n \n5\n.47604 \nlearning_rate\n=\n \n1\n.0\n\nstep\n=\n \n60\n \nloss\n=\n \n5\n.39912 \nlearning_rate\n=\n \n1\n.0\n\nstep\n=\n \n70\n \nloss\n=\n \n5\n.29099 \nlearning_rate\n=\n \n1\n.0\n\nstep\n=\n \n80\n \nloss\n=\n \n5\n.60937 \nlearning_rate\n=\n \n1\n.0\n\nstep\n=\n \n90\n \nloss\n=\n \n5\n.10457 \nlearning_rate\n=\n \n0\n.9\n\nstep\n=\n \n100\n \nloss\n=\n \n5\n.07913 \nlearning_rate\n=\n \n0\n.9\n\nstep\n=\n \n110\n \nloss\n=\n \n5\n.03715 \nlearning_rate\n=\n \n0\n.9\n\nstep\n=\n \n120\n \nloss\n=\n \n5\n.14339 \nlearning_rate\n=\n \n0\n.9\n\nstep\n=\n \n130\n \nloss\n=\n \n5\n.29311 \nlearning_rate\n=\n \n0\n.9\n\nstep\n=\n \n140\n \nloss\n=\n \n5\n.04177 \nlearning_rate\n=\n \n0\n.9\n\nstep\n=\n \n150\n \nloss\n=\n \n4\n.98884 \nlearning_rate\n=\n \n0\n.9\n\n\n\n\n\n\n\u5728\u6211\u7684mac\u673a\u5668\u5386\u65f610\u4e2a\u5c0f\u65f6\uff0c\u7ec8\u4e8e\u4fee\u6210\u6b63\u679c\uff0c\u4e00\u51711000\u6761\u6837\u672c\uff0c\u5171\u8fdb\u884c\u4e8620700\u6b21\u8fed\u4ee3\uff0c\u6700\u7ec8loss\u6536\u655b\u52301.11342\uff1a\n\n\n1\nstep= 20700 loss= 1.11342 learning_rate= 0.0471012\n\n\n\n\n\n\n\u9884\u6d4b\u6548\u679c\u5982\u4e0b\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n[\nroot@localhost $\n]\n python demo.py predict\nBuilding prefix dict from the default dictionary ...\nLoading model from cache /var/folders/tq/c0kp5y857x138x5vf8bzxfc80000gp/T/jieba.cache\nLoading model cost \n0\n.969 seconds.\nPrefix dict has been built succesfully.\n\n \u4f60\u597d\n\u4f60 \u4e5f\u597d ~\n\n \u5475\u5475\n\u50bb \u903c \u5475\u5475\n\n \u54c8\u54c8\n\u7b11 \u5c41\n\n \u4f60\u662f\u8c01\n\u6211 \u662f \u5c0f\u7334\u5b50\n\n \u65e9\nWARN\uff1a\u8bcd\u6c47\u4e0d\u5728\u670d\u52a1\u533a\n\n \u65e9\u4e0a\u597d\n\u54c8\u54c8\n\n \u5c41\n\u4f60 \u5c41 \u4f1a\n\n \u6eda\u86cb\nWARN\uff1a\u8bcd\u6c47\u4e0d\u5728\u670d\u52a1\u533a\n\n \u50bb\u903c\n\u4ed6\u5988 \u903c \u7684\n\n\n\n\n\n\n\u770b\u8d77\u6765\u6548\u679c\u8fd8\u662f\u6709\u70b9\u9760\u8c31\u7684\uff0c\u6700\u7ec8\u7248\u4ee3\u7801\u5206\u4eab\u5728\n\u8fd9\u91cc\n\n\n\u603b\u7ed3\n\n\n\u672c\u6587\u4ece\u7406\u8bba\u5230\u5b9e\u8df5\u8bb2\u89e3\u4e86\u600e\u4e48\u4e00\u6b65\u4e00\u6b65\u5b9e\u73b0\u4e00\u4e2a\u81ea\u52a8\u804a\u5929\u673a\u5668\u4eba\u6a21\u578b\uff0c\u5e76\u57fa\u4e8e1000\u6761\u6837\u672c\uff0c\u7528\u4e8610\u4e2a\u5c0f\u65f6\u8bad\u7ec3\u4e86\u4e00\u4e2a\u804a\u5929\u6a21\u578b\uff0c\u8bd5\u9a8c\u6548\u679c\u6bd4\u8f83\u597d\uff0c\u6838\u5fc3\u903b\u8f91\u662f\u8c03\u7528\u4e86tensorflow\u7684embedding_attention_seq2seq\uff0c\u4e5f\u5c31\u662f\u5e26\u6ce8\u610f\u529b\u7684seq2seq\u6a21\u578b\uff0c\u5176\u4e2d\u795e\u7ecf\u7f51\u7edc\u5355\u5143\u662fLSTM\u3002\n\n\n\u7531\u4e8e\u8bed\u6599\u6709\u9650\uff0c\u8bbe\u5907\u6709\u9650\uff0c\u53ea\u9a8c\u8bc1\u4e86\u5c0f\u89c4\u6a21\u6837\u672c\uff0c\u5982\u679c\u4f60\u5e0c\u671b\u8bad\u7ec3\u4e00\u4e2a\u5f3a\u5927\u7684\u804a\u5929\u673a\u5668\u4eba\u53ef\u4ee5\u81ea\u5df1\u6765\u641e\u5230\u9ad8\u8d28\u91cf\u7684\u5bf9\u8bdd\u8bed\u6599\uff0c\u4e5f\u6b22\u8fce\u8bd5\u7528\u6211\u6574\u7406\u76843\u5343\u4e07\u5f71\u89c6\u5267\u5b57\u5e55\u8bed\u6599\u5e93\uff0c\u83b7\u53d6\u65b9\u5f0f\uff1a\u300a\u81ea\u5df1\u52a8\u624b\u505a\u804a\u5929\u673a\u5668\u4eba \u4e8c\u5341\u4e5d-\u91cd\u78c5\uff1a\u8fd11GB\u7684\u4e09\u5343\u4e07\u804a\u5929\u8bed\u6599\u4f9b\u51fa\u300b\u3002\n\n\n\u66f4\u6b22\u8fce\u804a\u5929\u673a\u5668\u4eba\u7231\u597d\u8005\u52a0\u5165\u6211\u4eec\u7684\u201c\u81ea\u5df1\u52a8\u624b\u505a\u804a\u5929\u673a\u5668\u4eba\u5fae\u4fe1\u4ea4\u6d41\u7fa4\u201d\uff0c\u52a0\u7fa4\u65b9\u5f0f\uff1a\u52a0\u6211\u5fae\u4fe1(warmheartli)\u5e76\u8bf4\u660e\u201c\u52a0\u804a\u5929\u673a\u5668\u4eba\u7fa4\u201d\u5373\u53ef\u3002\n\n\n\u53c2\u8003\u6587\u732e\n\n\nhttp://colah.github.io/posts/2015-08-Understanding-LSTMs/\n\n\nhttp://suriyadeepan.github.io/2016-06-28-easy-seq2seq/\n\n\nhttp://www.wildml.com/2016/01/attention-and-memory-in-deep-learning-and-nlp/\n\n\nhttps://arxiv.org/abs/1406.1078\n\n\nhttps://arxiv.org/abs/1409.3215\n\n\nhttps://arxiv.org/abs/1409.0473", 
            "title": "\u56db\u5341\u4e8c-\u4ece\u7406\u8bba\u5230\u5b9e\u8df5\u5f00\u53d1\u804a\u5929\u673a\u5668\u4eba1"
        }, 
        {
            "location": "/42.practice/#_1", 
            "text": "\u8fd9\u672c\u5c0f\u4e66\u4e00\u5b9a\u8981\u770b\uff1a\u300aMake Your Own Neural Network\u300b\uff0c\u8001\u5916\u5199\u7684\uff0c200\u591a\u9875\uff0c\u6ca1\u627e\u5230\u4e2d\u6587\u8bd1\u672c\uff0c\u539f\u7248\u767e\u5ea6\u4e00\u4e0b\u53ef\u4ee5\u4e0b\u8f7d\u5230\uff0c\u4ed6\u7528\u975e\u5e38\u901a\u4fd7\u6613\u61c2\u7684\u63cf\u8ff0\u8bb2\u89e3\u4e86\u4eba\u5de5\u795e\u7ecf\u7f51\u7edc\u7684\u539f\u7406\u5e76\u7528\u4ee3\u7801\u5b9e\u73b0\uff0c\u800c\u4e14\u8bd5\u9a8c\u6548\u679c\u975e\u5e38\u597d\uff0c\u4f5c\u4e3a\u6df1\u5ea6\u5b66\u4e60\u5165\u95e8\u975e\u5e38\u503c\u5f97\u63a8\u8350\u3002", 
            "title": "\u4ec0\u4e48\u662f\u795e\u7ecf\u7f51\u7edc"
        }, 
        {
            "location": "/42.practice/#lstm", 
            "text": "\u53ef\u4ee5\u53c2\u8003\u6211\u7684\u8fd9\u7bc7\u6587\u7ae0\u81ea\u5df1\u52a8\u624b\u505a\u804a\u5929\u673a\u5668\u4eba \u4e8c\u5341\u516d-\u56fe\u89e3\u9012\u5f52\u795e\u7ecf\u7f51\u7edc(RNN)\uff0c\u6216\u8005\u76f4\u63a5\u770bChristopher Olah\u7684 2015-08-Understanding-LSTMs \uff0c\u8fd9\u7bc7\u535a\u6587\u88ab\u4e1a\u754c\u5f15\u7528\u65e0\u6570\u6b21\u4e86\uff0c\u7ecf\u5178\u4e2d\u7684\u7ecf\u5178\u3002", 
            "title": "\u4ec0\u4e48\u662f\u5faa\u73af\u795e\u7ecf\u7f51\u7edc\u548cLSTM"
        }, 
        {
            "location": "/42.practice/#seq2seq", 
            "text": "seq2seq\u662f\u57fa\u4e8e\u5faa\u73af\u795e\u7ecf\u7f51\u7edc\u7684\u4e00\u79cd\u5e8f\u5217\u5230\u5e8f\u5217\u6a21\u578b\uff0c\u8bed\u8a00\u7ffb\u8bd1\u3001\u81ea\u52a8\u95ee\u7b54\u7b49\u90fd\u5c5e\u4e8e\u5e8f\u5217\u5230\u5e8f\u5217\u7684\u573a\u666f\uff0c\u90fd\u53ef\u4ee5\u4f7f\u7528seq2seq\u6a21\u578b\uff0c\u7528seq2seq\u5b9e\u73b0\u804a\u5929\u673a\u5668\u4eba\u7684\u539f\u7406\u53ef\u4ee5\u770b\u4e0b \u8fd9\u7bc7\u6587\u7ae0 \u3002tensorflow\u4e2d\u5df2\u7ecf\u6709\u5b9e\u73b0\u597d\u7684api\u4f9b\u6211\u4eec\u4f7f\u7528\uff0c\u4f46\u56e0\u4e3a\u53c2\u6570\u8f83\u591a\u3001\u539f\u7406\u590d\u6742\uff0c\u7406\u89e3\u8d77\u6765\u6bd4\u8f83\u6666\u6da9\uff0c\u672c\u6587\u5c31\u8ba9\u6211\u5e26\u7740\u5927\u5bb6\u4e00\u6b65\u4e00\u6b65\u63a2\u7d22\u5e76\u4f7f\u7528\u3002", 
            "title": "\u4ec0\u4e48\u662fseq2seq\u6a21\u578b"
        }, 
        {
            "location": "/42.practice/#attention", 
            "text": "attention\u6a21\u578b(\u6ce8\u610f\u529b\u6a21\u578b)\u662f\u4e3a\u4e86\u89e3\u51b3seq2seq\u4e2d\u89e3\u7801\u5668\u53ea\u63a5\u53d7\u7f16\u7801\u5668\u6700\u540e\u4e00\u4e2a\u8f93\u51fa\u800c\u8fdc\u79bb\u4e86\u4e4b\u524d\u7684\u8f93\u51fa\u5bfc\u81f4\u7684\u4fe1\u606f\u4e22\u5931\u7684\u95ee\u9898\uff0c\u4ece\u539f\u7406\u4e0a\u8bb2\uff0c\u4e00\u4e2a\u56de\u7b54\u4e00\u822c\u662f\u57fa\u4e8e\u95ee\u9898\u4e2d\u4e00\u4e9b\u5173\u952e\u4f4d\u7f6e\u7684\u4fe1\u606f\uff0c\u4e5f\u5c31\u662f\u6ce8\u610f\u529b\u96c6\u4e2d\u7684\u5730\u65b9\uff0c\u5177\u4f53\u7ec6\u8282\u53ef\u4ee5\u770b\u4e0b \u8fd9\u91cc", 
            "title": "\u4ec0\u4e48\u662fattention\u6a21\u578b"
        }, 
        {
            "location": "/42.practice/#tensorflowseq2seq", 
            "text": "\u5230\u8fd9\u91cc\uff0c\u5047\u8bbe\u4f60\u5df2\u7ecf\u638c\u63e1\u4e86\u4e0a\u9762\u7684\u7406\u8bba\u90e8\u5206\uff0c\u73b0\u5728\u6211\u4eec\u76f4\u63a5\u9501\u5b9a\u5728tensorflow\u63d0\u4f9b\u7ed9\u6211\u4eec\u7684\u5f3a\u5927api\u4e0a\u3002\u60f3\u771f\u6b63\u5229\u7528\u597dtensorflow\u5fc5\u987b\u7406\u89e3\u597d\u5b83\u7684\u91cd\u8981\u63a5\u53e3\u53ca\u5176\u6240\u6709\u53c2\u6570\uff0c\u6240\u4ee5\u7b2c\u4e00\u6b65\u6211\u4eec\u627e\u5230\u6211\u4eec\u8fd9\u6b21\u8981\u4f7f\u7528\u7684\u6700 \u5173\u952e\u7684\u63a5\u53e3 \uff1a   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14 embedding_attention_seq2seq ( \n     encoder_inputs , \n     decoder_inputs , \n     cell , \n     num_encoder_symbols , \n     num_decoder_symbols , \n     embedding_size , \n     num_heads = 1 , \n     output_projection = None , \n     feed_previous = False , \n     dtype = None , \n     scope = None , \n     initial_state_attention = False  )    \u4e3a\u4e86\u8bf4\u660e\u8fd9\u4e2a\u63a5\u53e3\u7684\u529f\u80fd\uff0c\u5148\u6765\u770b\u4e00\u4e0b\u5b83\u6240\u6d89\u53ca\u5230\u7684\u6a21\u578b\u7ed3\u6784\uff0c\u5982\u4e0b\u6240\u793a\uff1a  \u53c2\u6570encoder_inputs\u662f\u4e00\u4e2alist\uff0clist\u4e2d\u6bcf\u4e00\u9879\u662f1D\u7684Tensor\uff0c\u8fd9\u4e2aTensor\u7684shape\u662f[batch_size]\uff0cTensor\u4e2d\u6bcf\u4e00\u9879\u662f\u4e00\u4e2a\u6574\u6570\uff0c\u7c7b\u4f3c\u8fd9\u6837\uff1a  1\n2\n3\n4\n5 [ array ([ 0 ,   0 ,   0 ,   0 ],   dtype = int32 ),   array ([ 0 ,   0 ,   0 ,   0 ],   dtype = int32 ),   array ([ 8 ,   3 ,   5 ,   3 ],   dtype = int32 ),   array ([ 7 ,   8 ,   2 ,   1 ],   dtype = int32 ),   array ([ 6 ,   2 ,   10 ,   9 ],   dtype = int32 )]    \u5176\u4e2d\u76845\u4e2aarray\uff0c\u8868\u793a\u4e00\u53e5\u8bdd\u7684\u957f\u5ea6\u662f5\u4e2a\u8bcd  \u5176\u4e2d\u6bcf\u4e2aarray\u91cc\u67094\u4e2a\u6570\uff0c\u8868\u793abatch\u662f4\uff0c\u4e5f\u5c31\u662f\u4e00\u51714\u4e2a\u6837\u672c\u3002\u90a3\u4e48\u53ef\u4ee5\u770b\u51fa\u7b2c\u4e00\u4e2a\u6837\u672c\u662f[[0],[0],[8],[7],[6]]\uff0c\u7b2c\u4e8c\u4e2a\u6837\u672c\u662f[[0],[0],[3],[8],[2]]\uff0c\u8fd9\u91cc\u7684\u6570\u5b57\u662f\u7528\u6765\u533a\u5206\u4e0d\u540c\u8bcd\u7684\u4e00\u4e2aid\uff0c\u4e00\u822c\u901a\u8fc7\u7edf\u8ba1\u5f97\u51fa\uff0c\u4e00\u4e2aid\u8868\u793a\u4e00\u4e2a\u8bcd  \u540c\u7406\uff0c\u53c2\u6570 decoder_inputs \u4e5f\u662f\u548c encoder_inputs \u4e00\u6837\u7ed3\u6784\uff0c\u4e0d\u8d58\u8ff0  \u53c2\u6570 cell \u662f tf.nn.rnn_cell.RNNCell \u7c7b\u578b\u7684\u5faa\u73af\u795e\u7ecf\u7f51\u7edc\u5355\u5143\uff0c\u53ef\u4ee5\u7528 tf.contrib.rnn.BasicLSTMCell \u3001 tf.contrib.rnn.GRUCell  \u53c2\u6570num_encoder_symbols\u662f\u4e00\u4e2a\u6574\u6570\uff0c\u8868\u793aencoder_inputs\u4e2d\u7684\u6574\u6570\u8bcdid\u7684\u6570\u76ee\uff0c\u540c\u7406num_decoder_symbols\u8868\u793adecoder_inputs\u4e2d\u6574\u6570\u8bcdid\u7684\u6570\u76ee  embedding_size\u8868\u793a\u5728\u5185\u90e8\u505aword embedding\u65f6\u8f6c\u6210\u51e0\u7ef4\u5411\u91cf\uff0c\u9700\u8981\u548cRNNCell\u7684size\u5927\u5c0f\u76f8\u7b49  num_heads\u8868\u793a\u5728attention_states\u4e2d\u7684\u62bd\u5934\u6570\u91cf  output_projection\u662f\u4e00\u4e2a(W, B)\u7ed3\u6784\u7684tuple\uff0cW\u662fshape\u4e3a[output_size x num_decoder_symbols]\u7684weight\u77e9\u9635\uff0cB\u662fshape\u4e3a[num_decoder_symbols]\u7684\u504f\u7f6e\u5411\u91cf\uff0c\u90a3\u4e48\u6bcf\u4e2aRNNCell\u7684\u8f93\u51fa\u7ecf\u8fc7WX+B\u5c31\u53ef\u4ee5\u6620\u5c04\u6210num_decoder_symbols\u7ef4\u7684\u5411\u91cf\uff0c\u8fd9\u4e2a\u5411\u91cf\u91cc\u7684\u503c\u8868\u793a\u7684\u662f\u4efb\u610f\u4e00\u4e2adecoder_symbol\u7684\u53ef\u80fd\u6027\uff0c\u4e5f\u5c31\u662fsoftmax  feed_previous\u8868\u793adecoder_inputs\u662f\u6211\u4eec\u76f4\u63a5\u63d0\u4f9b\u8bad\u7ec3\u6570\u636e\u7684\u8f93\u5165\uff0c\u8fd8\u662f\u7528\u524d\u4e00\u4e2aRNNCell\u7684\u8f93\u51fa\u6620\u5c04\u51fa\u6765\u7684\uff0c\u5982\u679cfeed_previous\u4e3aTrue\uff0c\u90a3\u4e48\u5c31\u662f\u7528\u524d\u4e00\u4e2aRNNCell\u7684\u8f93\u51fa\uff0c\u5e76\u7ecf\u8fc7WX+B\u6620\u5c04\u6210  dtype\u662fRNN\u72b6\u6001\u6570\u636e\u7684\u7c7b\u578b\uff0c\u9ed8\u8ba4\u662ftf.float32  scope\u662f\u5b50\u56fe\u7684\u547d\u540d\uff0c\u9ed8\u8ba4\u662f\u201cembedding_attention_seq2seq\u201d  initial_state_attention\u8868\u793a\u662f\u5426\u521d\u59cb\u5316attentions\uff0c\u9ed8\u8ba4\u4e3a\u5426\uff0c\u8868\u793a\u5168\u90fd\u521d\u59cb\u5316\u4e3a0  \u5b83\u7684\u8fd4\u56de\u503c\u662f\u4e00\u4e2a(outputs, state)\u7ed3\u6784\u7684tuple\uff0c\u5176\u4e2doutputs\u662f\u4e00\u4e2a\u957f\u5ea6\u4e3a\u53e5\u5b50\u957f\u5ea6(\u8bcd\u6570\uff0c\u4e0e\u4e0a\u9762encoder_inputs\u7684list\u957f\u5ea6\u4e00\u6837)\u7684list\uff0clist\u4e2d\u6bcf\u4e00\u9879\u662f\u4e00\u4e2a2D\u7684tf.float32\u7c7b\u578b\u7684Tensor\uff0c\u7b2c\u4e00\u7ef4\u5ea6\u662f\u6837\u672c\u6570\uff0c\u6bd4\u59824\u4e2a\u6837\u672c\u5219\u6709\u56db\u7ec4Tensor\uff0c\u6bcf\u4e2aTensor\u957f\u5ea6\u662fembedding_size\uff0c\u50cf\u4e0b\u9762\u7684\u6837\u5b50\uff1a   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24    [ \n     array ([ \n       [ - 0.02027004 ,   - 0.017872    ,   - 0.00233014 ,   - 0.0437047   ,    0.00083584 , \n       0.01339234 ,    0.02355197 ,    0.02923143 ], \n       [ - 0.02027004 ,   - 0.017872    ,   - 0.00233014 ,   - 0.0437047   ,    0.00083584 , \n       0.01339234 ,    0.02355197 ,    0.02923143 ], \n       [ - 0.02027004 ,   - 0.017872    ,   - 0.00233014 ,   - 0.0437047   ,    0.00083584 , \n       0.01339234 ,    0.02355197 ,    0.02923143 ], \n       [ - 0.02027004 ,   - 0.017872    ,   - 0.00233014 ,   - 0.0437047   ,    0.00083584 , \n       0.01339234 ,    0.02355197 ,    0.02923143 ] \n     ], dtype = float32 ), \n     array ([ \n     ...... \n     ], dtype = float32 ),   \n     array ([ \n     ...... \n     ], dtype = float32 ),   \n     array ([ \n     ...... \n     ], dtype = float32 ),   \n     array ([ \n     ...... \n     ], dtype = float32 ),   \n   ]    \u5176\u5b9e\u8fd9\u4e2aoutputs\u53ef\u4ee5\u63cf\u8ff0\u4e3a5 4 8\u4e2a\u6d6e\u70b9\u6570\uff0c5\u662f\u53e5\u5b50\u957f\u5ea6\uff0c4\u662f\u6837\u672c\u6570\uff0c8\u662f\u8bcd\u5411\u91cf\u7ef4\u6570  \u4e0b\u9762\u518d\u770b\u8fd4\u56de\u7684state\uff0c\u5b83\u662fnum_layers\u4e2aLSTMStateTuple\u7ec4\u6210\u7684\u5927tuple\uff0c\u8fd9\u91ccnum_layers\u662f\u521d\u59cb\u5316cell\u65f6\u7684\u53c2\u6570\uff0c\u8868\u793a\u795e\u7ecf\u7f51\u7edc\u5355\u5143\u6709\u51e0\u5c42\uff0c\u4e00\u4e2a\u75313\u5c42LSTM\u795e\u7ecf\u5143\u7ec4\u6210\u7684encoder-decoder\u591a\u5c42\u5faa\u73af\u795e\u7ecf\u7f51\u7edc\u662f\u50cf\u4e0b\u9762\u8fd9\u6837\u7684\u7f51\u7edc\u7ed3\u6784\uff1a   encoder_inputs\u8f93\u5165encoder\u7684\u7b2c\u4e00\u5c42LSTM\u795e\u7ecf\u5143\uff0c\u8fd9\u4e2a\u795e\u7ecf\u5143\u7684output\u4f20\u7ed9\u7b2c\u4e8c\u5c42LSTM\u795e\u7ecf\u5143\uff0c\u7b2c\u4e8c\u5c42\u7684output\u518d\u4f20\u7ed9\u7b2c\u4e09\u5c42\uff0c\u800cencoder\u7684\u7b2c\u4e00\u5c42\u8f93\u51fa\u7684state\u5219\u4f20\u7ed9decoder\u7b2c\u4e00\u5c42\u7684LSTM\u795e\u7ecf\u5143\uff0c\u4f9d\u6b21\u7c7b\u63a8\uff0c\u5982\u4e0a\u56fe\u6240\u793a  \u56de\u8fc7\u5934\u6765\u518d\u770bLSTMStateTuple\u8fd9\u4e2a\u7ed3\u6784\uff0c\u5b83\u662f\u7531\u4e24\u4e2aTensor\u7ec4\u6210\u7684tuple\uff0c\u7b2c\u4e00\u4e2atensor\u547d\u540d\u4e3ac\uff0c\u75314\u4e2a8\u7ef4\u5411\u91cf\u7ec4\u6210(4\u662fbatch, 8\u662fstate_size\u4e5f\u5c31\u662f\u8bcd\u5411\u91cf\u7ef4\u5ea6)\uff0c \u7b2c\u4e8c\u4e2atensor\u547d\u540d\u4e3ah\uff0c\u540c\u6837\u75314\u4e2a8\u7ef4\u5411\u91cf\u7ec4\u6210  \u8fd9\u91cc\u7684c\u548ch\u5982\u4e0b\u6240\u793a\uff1a   c\u662f\u4f20\u7ed9\u4e0b\u4e00\u4e2a\u65f6\u5e8f\u7684\u5b58\u50a8\u6570\u636e\uff0ch\u662f\u9690\u85cf\u5c42\u7684\u8f93\u51fa\uff0c\u8fd9\u91cc\u7684\u8ba1\u7b97\u516c\u5f0f\u662f  \u5728tensorflow\u4ee3\u7801\u91cc\u4e5f\u6709\u5bf9\u5e94\u7684\u5b9e\u73b0\uff1a  1\n2\n3\n4 concat   =   _linear ([ inputs ,   h ],   4   *   self . _num_units ,   True )  i ,   j ,   f ,   o   =   array_ops . split ( value = concat ,   num_or_size_splits = 4 ,   axis = 1 )  new_c   =   ( c   *   sigmoid ( f   +   self . _forget_bias )   +   sigmoid ( i )   *   self . _activation ( j ))  new_h   =   self . _activation ( new_c )   *   sigmoid ( o )    \u4e8b\u5b9e\u4e0a\uff0c\u5982\u679c\u6211\u4eec\u76f4\u63a5\u4f7f\u7528embedding_attention_seq2seq\u6765\u505a\u8bad\u7ec3\uff0c\u8fd4\u56de\u7684state\u4e00\u822c\u662f\u7528\u4e0d\u5230\u7684  \u4e0b\u9762\uff0c\u6211\u4eec\u5c31\u6765\u60f3\u529e\u6cd5\u6784\u9020\u8fd9\u4e9b\u8f93\u5165\u53c2\u6570\u6765\u8bad\u7ec3\u4e00\u4e2aseq2seq\u6a21\u578b\u51fa\u6765  \u6211\u4eec\u4ee51\u30013\u30015\u30017\u30019\u2026\u2026\u5947\u6570\u5e8f\u5217\u4e3a\u4f8b\u6765\u6784\u9020\u6837\u672c\uff0c\u6bd4\u5982\u4e24\u4e2a\u6837\u672c\u662f[[1,3,5],[7,9,11]]\u548c[[3,5,7],[9,11,13]]\uff0c\u76f8\u5f53\u4e8e\u6211\u4eec\u7684\uff1a  1 train_set   =   [[[ 1 ,   3 ,   5 ],   [ 7 ,   9 ,   11 ]],   [[ 3 ,   5 ,   7 ],   [ 9 ,   11 ,   13 ]]]    \u4e3a\u4e86\u6211\u4eec\u80fd\u591f\u6ee1\u8db3\u4e0d\u540c\u957f\u5ea6\u7684\u5e8f\u5217\uff0c\u9700\u8981\u8ba9\u6211\u4eec\u8bad\u7ec3\u7684\u5e8f\u5217\u6bd4\u6837\u672c\u7684\u5e8f\u5217\u957f\u5ea6\u8981\u957f\u4e00\u4e9b\uff0c\u6bd4\u5982\u6211\u4eec\u8bbe\u7f6e\u4e3a5\uff0c\u5373  1\n2 input_seq_len   =   5  output_seq_len   =   5    \u56e0\u4e3a\u6837\u672c\u957f\u5ea6\u5c0f\u4e8e\u8bad\u7ec3\u5e8f\u5217\u7684\u957f\u5ea6\uff0c\u6240\u4ee5\u6211\u4eec\u75280\u6765\u586b\u5145\uff0c\u5373  1 PAD_ID   =   0    \u90a3\u4e48\u6211\u4eec\u7684\u7b2c\u4e00\u4e2a\u6837\u672c\u7684encoder_input\u5c31\u662f\uff1a  1 encoder_input_0   =   [ PAD_ID ]   *   ( input_seq_len   -   len ( train_set [ 0 ][ 0 ]))   +   train_set [ 0 ][ 0 ]    \u7b2c\u4e8c\u4e2a\u6837\u672c\u7684encoder_input\u5c31\u662f\uff1a  1 encoder_input_1   =   [ PAD_ID ]   *   ( input_seq_len   -   len ( train_set [ 1 ][ 0 ]))   +   train_set [ 1 ][ 0 ]    decoder_input\u6211\u4eec\u9700\u8981\u7528\u4e00\u4e2aGO_ID\u6765\u4f5c\u4e3a\u8d77\u59cb\uff0c\u518d\u8f93\u5165\u6837\u672c\u5e8f\u5217\uff0c\u6700\u540e\u518d\u7528PAD_ID\u6765\u586b\u5145\uff0c\u5373  1\n2\n3\n4\n5 GO_ID   =   1  decoder_input_0   =   [ GO_ID ]   +   train_set [ 0 ][ 1 ]  \n     +   [ PAD_ID ]   *   ( output_seq_len   -   len ( train_set [ 0 ][ 1 ])   -   1 )  decoder_input_1   =   [ GO_ID ]   +   train_set [ 1 ][ 1 ]  \n     +   [ PAD_ID ]   *   ( output_seq_len   -   len ( train_set [ 1 ][ 1 ])   -   1 )    \u4e3a\u4e86\u628a\u8f93\u5165\u8f6c\u6210\u4e0a\u9762\u8bb2\u5230\u7684embedding_attention_seq2seq\u8f93\u5165\u53c2\u6570encoder_inputs\u548cdecoder_inputs\u7684\u683c\u5f0f\uff0c\u6211\u4eec\u8fdb\u884c\u5982\u4e0b\u8f6c\u6362\u5373\u53ef\uff1a  1\n2\n3\n4\n5\n6\n7\n8 encoder_inputs   =   []  decoder_inputs   =   []  for   length_idx   in   xrange ( input_seq_len ): \n     encoder_inputs . append ( np . array ([ encoder_input_0 [ length_idx ],  \n                           encoder_input_1 [ length_idx ]],   dtype = np . int32 ))  for   length_idx   in   xrange ( output_seq_len ): \n     decoder_inputs . append ( np . array ([ decoder_input_0 [ length_idx ],  \n                           decoder_input_1 [ length_idx ]],   dtype = np . int32 ))    \u8fd0\u884c\u5df2\u7ecf\u5199\u5b8c\u7684\u8fd9\u6bb5\u7a0b\u5e8f\uff0c\u6253\u5370\u51fa encoder_inputs \u548c decoder_inputs \u5982\u4e0b\uff1a   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14 [ \n   array ([ 0 ,   0 ],   dtype = int32 ),  \n   array ([ 0 ,   0 ],   dtype = int32 ),  \n   array ([   1 ,   23 ],   dtype = int32 ),  \n   array ([   3 ,   25 ],   dtype = int32 ),  \n   array ([   5 ,   27 ],   dtype = int32 )  ]  [ \n   array ([ 1 ,   1 ],   dtype = int32 ),  \n   array ([   7 ,   29 ],   dtype = int32 ),  \n   array ([   9 ,   31 ],   dtype = int32 ),  \n   array ([ 11 ,   33 ],   dtype = int32 ),  \n   array ([ 0 ,   0 ],   dtype = int32 )  ]    \u597d\uff0c\u7b2c\u4e00\u6b65\u5927\u529f\u544a\u6210\uff0c\u6211\u4eec\u628a\u8fd9\u90e8\u5206\u72ec\u7acb\u51fa\u4e00\u4e2a\u51fd\u6570\uff0c\u6574\u7406\u4ee3\u7801\u5982\u4e0b\uff1a   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47 # coding:utf-8  import   numpy   as   np  # \u8f93\u5165\u5e8f\u5217\u957f\u5ea6  input_seq_len   =   5  # \u8f93\u51fa\u5e8f\u5217\u957f\u5ea6  output_seq_len   =   5  # \u7a7a\u503c\u586b\u51450  PAD_ID   =   0  # \u8f93\u51fa\u5e8f\u5217\u8d77\u59cb\u6807\u8bb0  GO_ID   =   1  def   get_samples (): \n     \u6784\u9020\u6837\u672c\u6570\u636e      :return:          encoder_inputs: [array([0, 0], dtype=int32),                            array([0, 0], dtype=int32),                            array([1, 3], dtype=int32),                           array([3, 5], dtype=int32),                            array([5, 7], dtype=int32)]          decoder_inputs: [array([1, 1], dtype=int32),                            array([7, 9], dtype=int32),                            array([ 9, 11], dtype=int32),                           array([11, 13], dtype=int32),                            array([0, 0], dtype=int32)]       \n     train_set   =   [[[ 1 ,   3 ,   5 ],   [ 7 ,   9 ,   11 ]],   [[ 3 ,   5 ,   7 ],   [ 9 ,   11 ,   13 ]]] \n     encoder_input_0   =   [ PAD_ID ]   *   ( input_seq_len   -   len ( train_set [ 0 ][ 0 ]))  \n                       +   train_set [ 0 ][ 0 ] \n     encoder_input_1   =   [ PAD_ID ]   *   ( input_seq_len   -   len ( train_set [ 1 ][ 0 ]))  \n                       +   train_set [ 1 ][ 0 ] \n     decoder_input_0   =   [ GO_ID ]   +   train_set [ 0 ][ 1 ]  \n                       +   [ PAD_ID ]   *   ( output_seq_len   -   len ( train_set [ 0 ][ 1 ])   -   1 ) \n     decoder_input_1   =   [ GO_ID ]   +   train_set [ 1 ][ 1 ]  \n                       +   [ PAD_ID ]   *   ( output_seq_len   -   len ( train_set [ 1 ][ 1 ])   -   1 ) \n\n     encoder_inputs   =   [] \n     decoder_inputs   =   [] \n     for   length_idx   in   xrange ( input_seq_len ): \n         encoder_inputs . append ( np . array ([ encoder_input_0 [ length_idx ],  \n                               encoder_input_1 [ length_idx ]],   dtype = np . int32 )) \n     for   length_idx   in   xrange ( output_seq_len ): \n         decoder_inputs . append ( np . array ([ decoder_input_0 [ length_idx ],  \n                               decoder_input_1 [ length_idx ]],   dtype = np . int32 )) \n     return   encoder_inputs ,   decoder_inputs    \u641e\u5b9a\u4e0a\u9762\u8fd9\u90e8\u5206\u4e4b\u540e\uff0c\u6211\u4eec\u5f00\u59cb\u6784\u9020\u6a21\u578b\uff0c\u6211\u4eec\u4e86\u89e3\u4e86tensorflow\u7684\u8fd0\u884c\u8fc7\u7a0b\u662f\u5148\u6784\u9020\u56fe\uff0c\u518d\u585e\u6570\u636e\u8ba1\u7b97\u7684\uff0c\u6240\u4ee5\u6211\u4eec\u6784\u5efa\u6a21\u578b\u7684\u8fc7\u7a0b\u5b9e\u9645\u4e0a\u5c31\u662f\u6784\u5efa\u4e00\u5f20\u56fe\uff0c  \u9996\u5148\u6211\u4eec\u521b\u5efa encoder_inputs \u548c decoder_inputs\u7684placeholder (\u5360\u4f4d\u7b26)\uff1a  1\n2\n3\n4\n5\n6\n7\n8\n9 import   tensorflow   as   tf  encoder_inputs   =   []  decoder_inputs   =   []  for   i   in   xrange ( input_seq_len ): \n     encoder_inputs . append ( tf . placeholder ( tf . int32 ,   shape = [ None ],  \n                           name = encoder{0} . format ( i )))  for   i   in   xrange ( output_seq_len ): \n     decoder_inputs . append ( tf . placeholder ( tf . int32 ,   shape = [ None ],  \n                           name = decoder{0} . format ( i )))    \u63a5\u4e0b\u6765\u6211\u4eec\u521b\u5efa\u4e00\u4e2a\u8bb0\u5fc6\u5355\u5143\u6570\u76ee\u4e3asize=8\u7684LSTM\u795e\u7ecf\u5143\u7ed3\u6784\uff1a  1\n2 size   =   8  cell   =   tf . contrib . rnn . BasicLSTMCell ( size )    \u6211\u4eec\u5047\u8bbe\u6211\u4eec\u8981\u8bad\u7ec3\u7684\u5947\u6570\u5e8f\u5217\u6700\u5927\u6570\u503c\u662f\u8f93\u5165\u6700\u592710\u8f93\u51fa\u6700\u592716\uff0c\u90a3\u4e48  1\n2 num_encoder_symbols   =   10  num_decoder_symbols   =   16    \u7136\u540e\u628a\u53c2\u6570\u4f20\u5165 embedding_attention_seq2seq \u83b7\u53d6 output   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12 from   tensorflow.contrib.legacy_seq2seq.python.ops   import   seq2seq  outputs ,   _   =   seq2seq . embedding_attention_seq2seq ( \n                     encoder_inputs , \n                     decoder_inputs [: output_seq_len ], \n                     cell , \n                     cell , \n                     num_encoder_symbols = num_encoder_symbols , \n                     num_decoder_symbols = num_decoder_symbols , \n                     embedding_size = size , \n                     output_projection = None , \n                     feed_previous = False , \n                     dtype = tf . float32 )    \u4e3a\u4e86\u8bf4\u660e\u4e4b\u540e\u7684\u64cd\u4f5c\uff0c\u6211\u4eec\u5148\u628a\u8fd9\u90e8\u5206\u8fd0\u884c\u4e00\u4e0b\uff0c\u770b\u770b\u8f93\u51fa\u7684output\u662f\u4e2a\u4ec0\u4e48\u6837\u7684\u6570\u636e\uff0c\u6211\u4eec\u5148\u628a\u4e0a\u9762\u7684\u6784\u5efa\u6a21\u578b\u90e8\u5206\u653e\u5230\u4e00\u4e2a\u5355\u72ec\u7684\u51fd\u6570\u91cc\uff0c\u5982\u4e0b\uff1a   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26 def   get_model (): \n     \u6784\u9020\u6a21\u578b       \n     encoder_inputs   =   [] \n     decoder_inputs   =   [] \n     for   i   in   xrange ( input_seq_len ): \n         encoder_inputs . append ( tf . placeholder ( tf . int32 ,   shape = [ None ],  \n                           name = encoder{0} . format ( i ))) \n     for   i   in   xrange ( output_seq_len ): \n         decoder_inputs . append ( tf . placeholder ( tf . int32 ,   shape = [ None ],  \n                           name = decoder{0} . format ( i ))) \n\n     cell   =   tf . contrib . rnn . BasicLSTMCell ( size ) \n\n     # \u8fd9\u91cc\u8f93\u51fa\u7684\u72b6\u6001\u6211\u4eec\u4e0d\u9700\u8981 \n     outputs ,   _   =   seq2seq . embedding_attention_seq2seq ( \n                         encoder_inputs , \n                         decoder_inputs , \n                         cell , \n                         num_encoder_symbols = num_encoder_symbols , \n                         num_decoder_symbols = num_decoder_symbols , \n                         embedding_size = size , \n                         output_projection = None , \n                         feed_previous = False , \n                         dtype = tf . float32 ) \n     return   encoder_inputs ,   decoder_inputs ,   outputs    \u6765\u6784\u9020\u8fd0\u884c\u65f6\u7684 session \uff0c\u5e76\u586b\u5165\u6837\u672c\u6570\u636e\uff1a   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12 with   tf . Session ()   as   sess : \n     sample_encoder_inputs ,   sample_decoder_inputs   =   get_samples () \n     encoder_inputs ,   decoder_inputs ,   outputs   =   get_model () \n     input_feed   =   {} \n     for   l   in   xrange ( input_seq_len ): \n         input_feed [ encoder_inputs [ l ] . name ]   =   sample_encoder_inputs [ l ] \n     for   l   in   xrange ( output_seq_len ): \n         input_feed [ decoder_inputs [ l ] . name ]   =   sample_decoder_inputs [ l ] \n\n     sess . run ( tf . global_variables_initializer ()) \n     outputs   =   sess . run ( outputs ,   input_feed ) \n     print   outputs    \u6211\u4eec\u770b\u5230\u8fd9\u91cc\u8f93\u51fa\u7684outputs\u662f\u75315\u4e2aarray\u7ec4\u6210\u7684list(5\u662f\u5e8f\u5217\u957f\u5ea6)\uff0c\u6bcf\u4e2aarray\u7531\u4e24\u4e2asize\u662f16\u7684list\u7ec4\u6210(2\u8868\u793a2\u4e2a\u6837\u672c\uff0c16\u8868\u793a\u8f93\u51fa\u7b26\u53f7\u670916\u4e2a)  \u8fd9\u91cc\u7684outputs\u5b9e\u9645\u4e0a\u5e94\u8be5\u5bf9\u5e94seq2seq\u7684\u8f93\u51fa\uff0c\u4e5f\u5c31\u662f\u4e0b\u56fe\u4e2d\u7684W\u3001X\u3001Y\u3001Z\u3001EOS\uff0c\u4e5f\u5c31\u662fdecoder_inputs[1:]\uff0c\u4e5f\u5c31\u662f\u6211\u4eec\u6837\u672c\u91cc\u7684[7,9,11]\u548c[9,11,13]   \u4f46\u662f\u6211\u4eec\u7684 decoder_inputs \u7684\u7ed3\u6784\u662f\u8fd9\u6837\u7684\uff1a  1 [ array ([ 1 ,   1 ],   dtype = int32 ),   array ([   7 ,   29 ],   dtype = int32 ),   array ([   9 ,   31 ],   dtype = int32 ),   array ([ 11 ,   33 ],   dtype = int32 ),   array ([ 0 ,   0 ],   dtype = int32 )]    \u4e0e\u8fd9\u91cc\u7684outputs\u7a0d\u6709\u4e0d\u540c\uff0c\u6240\u4ee5\u4e0d\u662f\u76f4\u63a5\u7684\u5bf9\u5e94\u5173\u7cfb\uff0c\u90a3\u4e48\u5230\u5e95\u662f\u4ec0\u4e48\u5173\u7cfb\u5462\uff1f\u6211\u4eec\u5148\u6765\u770b\u4e00\u4e2a \u635f\u5931\u51fd\u6570\u7684\u8bf4\u660e \uff1a  1\n2\n3\n4\n5\n6\n7\n8\n9 sequence_loss ( \n     logits , \n     targets , \n     weights , \n     average_across_timesteps = True , \n     average_across_batch = True , \n     softmax_loss_function = None , \n     name = None  )    \u8fd9\u4e2a\u51fd\u6570\u7684\u539f\u7406\u53ef\u4ee5\u770b\u8fd9\u4e2a\u516c\u5f0f(\u635f\u5931\u51fd\u6570\uff0c\u76ee\u6807\u8bcd\u8bed\u7684\u5e73\u5747\u8d1f\u5bf9\u6570\u6982\u7387\u6700\u5c0f)\uff1a  \u5176\u4e2dlogits\u662f\u4e00\u4e2a\u7531\u591a\u4e2a2D\u7684shape\u4e3a[batch * num_decoder_symbols]\u7684Tensor\u7ec4\u6210\u7684list\uff0c\u6211\u4eec\u8fd9\u91ccbatch\u5c31\u662f2\uff0cnum_decoder_symbols\u5c31\u662f16\uff0c\u8fd9\u91cc\u7ec4\u6210list\u7684Tensor\u7684\u4e2a\u6570\u662foutput_seq_len\uff0c\u6240\u4ee5\u6211\u4eec\u521a\u624d\u5f97\u5230\u7684outputs\u521a\u597d\u7b26\u5408  \u5176\u4e2dtargets\u662f\u4e00\u4e2a\u548clogits\u4e00\u6837\u957f\u5ea6(output_seq_len)\u7684list\uff0clist\u91cc\u6bcf\u4e00\u9879\u662f\u4e00\u4e2a\u6574\u6570\u7ec4\u6210\u76841D\u7684Tensor\uff0c\u6bcf\u4e2aTensor\u7684shape\u662f[batch]\uff0c\u6570\u636e\u7c7b\u578b\u662ftf.int32\uff0c\u8fd9\u521a\u597d\u548c\u6211\u4eec\u7684decoder_inputs[1:]\u4e5f\u5c31\u662f\u521a\u624d\u8bf4\u7684W\u3001X\u3001Y\u3001Z\u3001EOS\u7ed3\u6784\u4e00\u6837  \u5176\u4e2dweights\u662f\u4e00\u4e2a\u548ctargets\u7ed3\u6784\u4e00\u6837\uff0c\u53ea\u662f\u6570\u636e\u7c7b\u578b\u662ftf.float32  \u6240\u4ee5\u8fd9\u4e2a\u51fd\u6570\u5c31\u662f\u7528\u6765\u8ba1\u7b97\u52a0\u6743\u4ea4\u53c9\u71b5\u635f\u5931\u7684\uff0c\u8fd9\u91cc\u9762\u7684weights\u6211\u4eec\u9700\u8981\u521d\u59cb\u5316\u4ed6\u7684\u5360\u4f4d\u7b26\uff0c\u5982\u4e0b\uff1a  1\n2\n3 target_weights   =   [] \n     target_weights . append ( tf . placeholder ( tf . float32 ,   shape = [ None ],  \n                           name = weight{0} . format ( i )))    \u90a3\u4e48\u6211\u4eec\u8ba1\u7b97\u5f97\u51fa\u7684\u635f\u5931\u503c\u5c31\u662f\uff1a  1\n2 targets   =   [ decoder_inputs [ i   +   1 ]   for   i   in   xrange ( len ( decoder_inputs )   -   1 )]  loss   =   seq2seq . sequence_loss ( outputs ,   targets ,   target_weights )    \u770b\u5230\u8fd9\u91cc\uff0c\u5176\u5b9e\u6211\u4eec\u9047\u5230\u4e00\u4e2a\u95ee\u9898\uff0c\u8fd9\u91cc\u7684targets\u957f\u5ea6\u6bd4decoder_inputs\u5c11\u4e86\u4e00\u4e2a\uff0c\u4e3a\u4e86\u8ba9\u957f\u5ea6\u4fdd\u6301\u4e00\u81f4\uff0c\u9700\u8981\u6211\u4eec\u5bf9\u524d\u9762decoder_inputs\u7684\u521d\u59cb\u5316\u505a\u4e2a\u8c03\u6574\uff0c\u628a\u957f\u5ea6\u52a01  \u90a3\u4e48\u95ee\u9898\u6765\u4e86\uff0c\u8fd9\u91cc\u6211\u4eec\u591a\u4e86\u4e00\u4e2atarget_weights\u8fd9\u4e2aplaceholder\uff0c\u90a3\u4e48\u6211\u4eec\u7528\u4ec0\u4e48\u6570\u636e\u6765\u586b\u5145\u8fd9\u4e2a\u5360\u4f4d\u7b26\u5462\uff1f\u56e0\u4e3a\u6211\u4eec\u8981\u8ba1\u7b97\u7684\u662f\u52a0\u6743\u4ea4\u53c9\u71b5\u635f\u5931\uff0c\u4e5f\u5c31\u662f\u5bf9\u4e8e\u6709\u610f\u4e49\u7684\u6570\u6743\u91cd\u5927\uff0c\u65e0\u610f\u4e49\u7684\u6743\u91cd\u5c0f\uff0c\u6240\u4ee5\u6211\u4eec\u628atargets\u4e2d\u6709\u503c\u7684\u8d4b\u503c\u4e3a1\uff0c\u6ca1\u503c\u7684\u8d4b\u503c\u4e3a0\uff0c\u6240\u6709\u4ee3\u7801\u6574\u7406\u540e\u5982\u4e0b\uff1a    1\n  2\n  3\n  4\n  5\n  6\n  7\n  8\n  9\n 10\n 11\n 12\n 13\n 14\n 15\n 16\n 17\n 18\n 19\n 20\n 21\n 22\n 23\n 24\n 25\n 26\n 27\n 28\n 29\n 30\n 31\n 32\n 33\n 34\n 35\n 36\n 37\n 38\n 39\n 40\n 41\n 42\n 43\n 44\n 45\n 46\n 47\n 48\n 49\n 50\n 51\n 52\n 53\n 54\n 55\n 56\n 57\n 58\n 59\n 60\n 61\n 62\n 63\n 64\n 65\n 66\n 67\n 68\n 69\n 70\n 71\n 72\n 73\n 74\n 75\n 76\n 77\n 78\n 79\n 80\n 81\n 82\n 83\n 84\n 85\n 86\n 87\n 88\n 89\n 90\n 91\n 92\n 93\n 94\n 95\n 96\n 97\n 98\n 99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n122\n123 # coding:utf-8  import   numpy   as   np  import   tensorflow   as   tf  from   tensorflow.contrib.legacy_seq2seq.python.ops   import   seq2seq  # \u8f93\u5165\u5e8f\u5217\u957f\u5ea6  input_seq_len   =   5  # \u8f93\u51fa\u5e8f\u5217\u957f\u5ea6  output_seq_len   =   5  # \u7a7a\u503c\u586b\u51450  PAD_ID   =   0  # \u8f93\u51fa\u5e8f\u5217\u8d77\u59cb\u6807\u8bb0  GO_ID   =   1  # LSTM\u795e\u7ecf\u5143size  size   =   8  # \u6700\u5927\u8f93\u5165\u7b26\u53f7\u6570  num_encoder_symbols   =   10  # \u6700\u5927\u8f93\u51fa\u7b26\u53f7\u6570  num_decoder_symbols   =   16  def   get_samples (): \n     \u6784\u9020\u6837\u672c\u6570\u636e      :return:          encoder_inputs: [array([0, 0], dtype=int32),                            array([0, 0], dtype=int32),                            array([1, 3], dtype=int32),                           array([3, 5], dtype=int32),                            array([5, 7], dtype=int32)]          decoder_inputs: [array([1, 1], dtype=int32),                            array([7, 9], dtype=int32),                            array([ 9, 11], dtype=int32),                           array([11, 13], dtype=int32),                            array([0, 0], dtype=int32)]       \n     train_set   =   [[[ 1 ,   3 ,   5 ],   [ 7 ,   9 ,   11 ]],   [[ 3 ,   5 ,   7 ],   [ 9 ,   11 ,   13 ]]] \n     encoder_input_0   =   [ PAD_ID ]   *   ( input_seq_len   -   len ( train_set [ 0 ][ 0 ]))  \n                          +   train_set [ 0 ][ 0 ] \n     encoder_input_1   =   [ PAD_ID ]   *   ( input_seq_len   -   len ( train_set [ 1 ][ 0 ]))  \n                          +   train_set [ 1 ][ 0 ] \n     decoder_input_0   =   [ GO_ID ]   +   train_set [ 0 ][ 1 ]  \n                          +   [ PAD_ID ]   *   ( output_seq_len   -   len ( train_set [ 0 ][ 1 ])   -   1 ) \n     decoder_input_1   =   [ GO_ID ]   +   train_set [ 1 ][ 1 ]  \n                          +   [ PAD_ID ]   *   ( output_seq_len   -   len ( train_set [ 1 ][ 1 ])   -   1 ) \n\n     encoder_inputs   =   [] \n     decoder_inputs   =   [] \n     target_weights   =   [] \n     for   length_idx   in   xrange ( input_seq_len ): \n         encoder_inputs . append ( np . array ([ encoder_input_0 [ length_idx ],  \n                          encoder_input_1 [ length_idx ]],   dtype = np . int32 )) \n     for   length_idx   in   xrange ( output_seq_len ): \n         decoder_inputs . append ( np . array ([ decoder_input_0 [ length_idx ],  \n                          decoder_input_1 [ length_idx ]],   dtype = np . int32 )) \n         target_weights . append ( np . array ([ \n             0.0   if   length_idx   ==   output_seq_len   -   1  \n                          or   decoder_input_0 [ length_idx ]   ==   PAD_ID   else   1.0 , \n             0.0   if   length_idx   ==   output_seq_len   -   1  \n                          or   decoder_input_1 [ length_idx ]   ==   PAD_ID   else   1.0 , \n         ],   dtype = np . float32 )) \n     return   encoder_inputs ,   decoder_inputs ,   target_weights  def   get_model (): \n     \u6784\u9020\u6a21\u578b       \n     encoder_inputs   =   [] \n     decoder_inputs   =   [] \n     target_weights   =   [] \n     for   i   in   xrange ( input_seq_len ): \n         encoder_inputs . append ( tf . placeholder ( tf . int32 ,   shape = [ None ],  \n                           name = encoder{0} . format ( i ))) \n     for   i   in   xrange ( output_seq_len   +   1 ): \n         decoder_inputs . append ( tf . placeholder ( tf . int32 ,   shape = [ None ],  \n                           name = decoder{0} . format ( i ))) \n     for   i   in   xrange ( output_seq_len ): \n         target_weights . append ( tf . placeholder ( tf . float32 ,   shape = [ None ], \n                           name = weight{0} . format ( i ))) \n\n     # decoder_inputs\u5de6\u79fb\u4e00\u4e2a\u65f6\u5e8f\u4f5c\u4e3atargets \n     targets   =   [ decoder_inputs [ i   +   1 ]   for   i   in   xrange ( output_seq_len )] \n\n     cell   =   tf . contrib . rnn . BasicLSTMCell ( size ) \n\n     # \u8fd9\u91cc\u8f93\u51fa\u7684\u72b6\u6001\u6211\u4eec\u4e0d\u9700\u8981 \n     outputs ,   _   =   seq2seq . embedding_attention_seq2seq ( \n                         encoder_inputs , \n                         decoder_inputs [: output_seq_len ], \n                         cell , \n                         num_encoder_symbols = num_encoder_symbols , \n                         num_decoder_symbols = num_decoder_symbols , \n                         embedding_size = size , \n                         output_projection = None , \n                         feed_previous = False , \n                         dtype = tf . float32 ) \n\n     # \u8ba1\u7b97\u52a0\u6743\u4ea4\u53c9\u71b5\u635f\u5931 \n     loss   =   seq2seq . sequence_loss ( outputs ,   targets ,   target_weights ) \n     return   encoder_inputs ,   decoder_inputs ,   target_weights ,   outputs ,   loss  def   main (): \n     with   tf . Session ()   as   sess : \n         sample_encoder_inputs ,   sample_decoder_inputs ,   sample_target_weights  \n                           =   get_samples () \n         encoder_inputs ,   decoder_inputs ,   target_weights ,   outputs ,   loss   =   get_model () \n\n         input_feed   =   {} \n         for   l   in   xrange ( input_seq_len ): \n             input_feed [ encoder_inputs [ l ] . name ]   =   sample_encoder_inputs [ l ] \n         for   l   in   xrange ( output_seq_len ): \n             input_feed [ decoder_inputs [ l ] . name ]   =   sample_decoder_inputs [ l ] \n             input_feed [ target_weights [ l ] . name ]   =   sample_target_weights [ l ] \n         input_feed [ decoder_inputs [ output_seq_len ] . name ]   =   np . zeros ([ 2 ],   dtype = np . int32 ) \n\n         sess . run ( tf . global_variables_initializer ()) \n         loss   =   sess . run ( loss ,   input_feed ) \n         print   loss  if   __name__   ==   __main__ : \n     main ()    \u6211\u4eec\u53ef\u4ee5\u8fd0\u884c\u4ee5\u4e0a\u4ee3\u7801\u6765\u8f93\u51fa\u6700\u7ec8loss\u503c  \u5230\u8fd9\u91cc\u8fdc\u8fdc\u6ca1\u6709\u7ed3\u675f\uff0c\u6211\u4eec\u7684\u65c5\u7a0b\u624d\u521a\u521a\u5f00\u59cb\uff0c\u4e0b\u9762\u662f\u600e\u4e48\u8bad\u7ec3\u8fd9\u4e2a\u6a21\u578b\uff0c\u9996\u5148\u6211\u4eec\u9700\u8981\u7ecf\u8fc7\u591a\u8f6e\u8ba1\u7b97\u8ba9\u8fd9\u91cc\u7684loss\u53d8\u5f97\u5f88\u5c0f\uff0c\u8fd9\u5c31\u9700\u8981\u8fd0\u7528\u68af\u5ea6\u4e0b\u964d\u6765\u66f4\u65b0\u53c2\u6570\uff0c\u6211\u4eec\u5148\u6765\u770b\u4e00\u4e0btensorflow\u63d0\u4f9b\u7ed9\u6211\u4eec\u7684 \u68af\u5ea6\u4e0b\u964d\u7684\u7c7b \uff1a  Class GradientDescentOptimizer\u7684\u6784\u9020\u65b9\u6cd5\u5982\u4e0b\uff1a  1\n2\n3\n4\n5 __init__ ( \n     learning_rate , \n     use_locking = False , \n     name = GradientDescent  )    \u5176\u4e2d\u5173\u952e\u5c31\u662f\u7b2c\u4e00\u4e2a\u53c2\u6570\uff1a\u5b66\u4e60\u7387  \u4ed6\u7684\u53e6\u5916\u4e00\u4e2a\u65b9\u6cd5\u662f\u8ba1\u7b97\u68af\u5ea6\uff1a  1\n2\n3\n4\n5\n6\n7\n8 compute_gradients ( \n     loss , \n     var_list = None , \n     gate_gradients = GATE_OP \n     aggregation_method = None , \n     colocate_gradients_with_ops = False , \n     grad_loss = None  )    \u5176\u4e2d\u5173\u952e\u53c2\u6570loss\u5c31\u662f\u4f20\u5165\u7684\u8bef\u5dee\u503c\uff0c\u4ed6\u7684\u8fd4\u56de\u503c\u662f(gradient, variable)\u7ec4\u6210\u7684list  \u518d\u770b\u53e6\u5916\u4e00\u4e2a\u65b9\u6cd5\u662f\u66f4\u65b0\u53c2\u6570\uff1a  1\n2\n3\n4\n5 apply_gradients ( \n     grads_and_vars , \n     global_step = None , \n     name = None  )    \u5176\u4e2dgrads_and_vars\u5c31\u662fcompute_gradients\u7684\u8fd4\u56de\u503c  \u90a3\u4e48\u6839\u636eloss\u8ba1\u7b97\u68af\u5ea6\u5e76\u66f4\u65b0\u53c2\u6570\u7684\u65b9\u6cd5\u5982\u4e0b\uff1a  1\n2\n3 learning_rate   =   0.1  opt   =   tf . train . GradientDescentOptimizer ( learning_rate )  update   =   opt . apply_gradients ( opt . compute_gradients ( loss ))    \u6240\u4ee5\uff0c\u6211\u4eec\u961fmain\u51fd\u6570\u589e\u52a0\u4e2a\u5faa\u73af\u8fed\u4ee3\uff0c\u5982\u4e0b\uff1a   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19 def   main (): \n     with   tf . Session ()   as   sess : \n         sample_encoder_inputs ,   sample_decoder_inputs ,   sample_target_weights  \n                           =   get_samples () \n         encoder_inputs ,   decoder_inputs ,   target_weights ,   outputs ,   loss ,   update  \n                           =   get_model () \n\n         input_feed   =   {} \n         for   l   in   xrange ( input_seq_len ): \n             input_feed [ encoder_inputs [ l ] . name ]   =   sample_encoder_inputs [ l ] \n         for   l   in   xrange ( output_seq_len ): \n             input_feed [ decoder_inputs [ l ] . name ]   =   sample_decoder_inputs [ l ] \n             input_feed [ target_weights [ l ] . name ]   =   sample_target_weights [ l ] \n         input_feed [ decoder_inputs [ output_seq_len ] . name ]   =   np . zeros ([ 2 ],   dtype = np . int32 ) \n\n         sess . run ( tf . global_variables_initializer ()) \n         while   True : \n             [ loss_ret ,   _ ]   =   sess . run ([ loss ,   update ],   input_feed ) \n             print   loss_ret    \u8fd0\u884c\u4ee3\u7801\u540e\u6211\u4eec\u770b\u5230loss_ret\u5530\u5530\u7684\u6536\u655b\uff0c\u5982\u4e0b\uff1a   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17 2.82825  2.51962  2.22479  1.92842  1.62379  1.31437  1.01518  0.749776  \u2026\u2026  0.00601374  0.00590649  0.00580256  0.00570199  0.00560467  0.00551019  0.00541872  \u2026\u2026    \u770b\u6765\u6211\u4eec\u7684\u8bad\u7ec3\u903b\u8f91\u53ef\u4ee5\u8dd1\u901a\u4e86\uff0c\u63a5\u4e0b\u6765\u5c31\u662f\u5b9e\u73b0\u9884\u6d4b\u7684\u903b\u8f91\u4e86\uff0c\u5c31\u662f\u6211\u4eec\u53ea\u8f93\u5165\u6837\u672c\u7684encoder_input\uff0c\u770b\u80fd\u4e0d\u80fd\u81ea\u52a8\u9884\u6d4b\u51fadecoder_input  \u9996\u5148\uff0c\u6211\u4eec\u8981\u80fd\u591f\u628a\u8bad\u7ec3\u597d\u7684\u6a21\u578b\u4fdd\u5b58\u8d77\u6765\uff0c\u4ee5\u4fbf\u91cd\u65b0\u542f\u52a8\u505a\u9884\u6d4b\u65f6\u80fd\u591f\u52a0\u8f7d\uff1a  1\n2\n3\n4 def   get_model (): \n       ...  saver   =   tf . train . Saver ( tf . global_variables ()) \n       return   ... ,   saver    \u5728\u8bad\u7ec3\u7ed3\u675f\u540e\u6267\u884c  1 saver . save ( sess ,   ./model/demo )    \u8fd9\u6837\u6a21\u578b\u4f1a\u5b58\u50a8\u5230./model\u76ee\u5f55\u4e0b\u4ee5demo\u5f00\u5934\u7684\u4e00\u4e9b\u6587\u4ef6\u4e2d\uff0c\u4e4b\u540e\u6211\u4eec\u8981\u52a0\u8f7d\u65f6\u5c31\u5148\u8c03\u7528\uff1a  1 saver . restore ( sess ,   ./model/demo )    \u5176\u6b21\uff0c\u56e0\u4e3a\u6211\u4eec\u5728\u505a\u9884\u6d4b\u7684\u65f6\u5019\uff0c\u539f\u5219\u4e0a\u4e0d\u80fd\u6709decoder_inputs\u8f93\u5165\u4e86\uff0c\u6240\u4ee5\u5728\u6267\u884c\u65f6\u7684decoder_inputs\u5c31\u8981\u53d6\u524d\u4e00\u4e2a\u65f6\u5e8f\u7684\u8f93\u51fa\uff0c\u8fd9\u65f6\u5019embedding_attention_seq2seq\u7684feed_previous\u53c2\u6570\u6709\u6d3e\u4e0a\u7528\u573a\u4e86\uff0c\u8fd9\u4e2a\u53c2\u6570\u7684\u542b\u4e49\u5c31\u662f\uff1a\u82e5\u4e3aTrue\u5219decoder\u91cc\u6bcf\u4e00\u6b65\u8f93\u5165\u90fd\u7528\u524d\u4e00\u6b65\u7684\u8f93\u51fa\u6765\u586b\u5145\uff0c\u5982\u4e0b\u56fe\uff1a   \u6240\u4ee5\uff0c\u6211\u4eec\u7684get_model\u9700\u8981\u4f20\u9012\u53c2\u6570\u6765\u533a\u5206\u8bad\u7ec3\u65f6\u548c\u9884\u6d4b\u662f\u4e0d\u540c\u7684feed_previous\u914d\u7f6e\uff0c\u53e6\u5916\uff0c\u8003\u8651\u5230\u9884\u6d4b\u65f6main\u51fd\u6570\u4e5f\u662f\u4e0d\u540c\u7684\uff0c\u7d22\u6027\u6211\u4eec\u5206\u5f00\u4e24\u4e2a\u51fd\u6570\u6765\u5206\u522b\u505atrain\u548cpredict\uff0c\u6574\u7406\u597d\u7684\u4e00\u4efd\u5b8c\u6574\u4ee3\u7801\u5982\u4e0b\uff08\u4e3a\u4e86\u66f4\u597d\u7406\u89e3\uff0c\u5b8c\u6574\u4ee3\u7801\u548c\u4e0a\u9762\u7a0d\u6709\u51fa\u5165\uff0c\u8bf7\u4ee5\u8fd9\u4efd\u4ee3\u7801\u4e3a\u51c6\uff09\uff1a    1\n  2\n  3\n  4\n  5\n  6\n  7\n  8\n  9\n 10\n 11\n 12\n 13\n 14\n 15\n 16\n 17\n 18\n 19\n 20\n 21\n 22\n 23\n 24\n 25\n 26\n 27\n 28\n 29\n 30\n 31\n 32\n 33\n 34\n 35\n 36\n 37\n 38\n 39\n 40\n 41\n 42\n 43\n 44\n 45\n 46\n 47\n 48\n 49\n 50\n 51\n 52\n 53\n 54\n 55\n 56\n 57\n 58\n 59\n 60\n 61\n 62\n 63\n 64\n 65\n 66\n 67\n 68\n 69\n 70\n 71\n 72\n 73\n 74\n 75\n 76\n 77\n 78\n 79\n 80\n 81\n 82\n 83\n 84\n 85\n 86\n 87\n 88\n 89\n 90\n 91\n 92\n 93\n 94\n 95\n 96\n 97\n 98\n 99\n100\n101\n102\n103\n104\n105\n106\n107\n108\n109\n110\n111\n112\n113\n114\n115\n116\n117\n118\n119\n120\n121\n122\n123\n124\n125\n126\n127\n128\n129\n130\n131\n132\n133\n134\n135\n136\n137\n138\n139\n140\n141\n142\n143\n144\n145\n146\n147\n148\n149\n150\n151\n152\n153\n154\n155\n156\n157\n158\n159\n160\n161\n162\n163\n164\n165\n166\n167\n168\n169\n170\n171\n172\n173\n174\n175\n176\n177\n178\n179\n180\n181\n182\n183\n184\n185 # coding:utf-8  import   sys  import   numpy   as   np  import   tensorflow   as   tf  from   tensorflow.contrib.legacy_seq2seq.python.ops   import   seq2seq  # \u8f93\u5165\u5e8f\u5217\u957f\u5ea6  input_seq_len   =   5  # \u8f93\u51fa\u5e8f\u5217\u957f\u5ea6  output_seq_len   =   5  # \u7a7a\u503c\u586b\u51450  PAD_ID   =   0  # \u8f93\u51fa\u5e8f\u5217\u8d77\u59cb\u6807\u8bb0  GO_ID   =   1  # \u7ed3\u5c3e\u6807\u8bb0  EOS_ID   =   2  # LSTM\u795e\u7ecf\u5143size  size   =   8  # \u6700\u5927\u8f93\u5165\u7b26\u53f7\u6570  num_encoder_symbols   =   10  # \u6700\u5927\u8f93\u51fa\u7b26\u53f7\u6570  num_decoder_symbols   =   16  # \u5b66\u4e60\u7387  learning_rate   =   0.1  def   get_samples (): \n     \u6784\u9020\u6837\u672c\u6570\u636e      :return:          encoder_inputs: [array([0, 0], dtype=int32),                            array([0, 0], dtype=int32),                            array([5, 5], dtype=int32),                           array([7, 7], dtype=int32),                            array([9, 9], dtype=int32)]          decoder_inputs: [array([1, 1], dtype=int32),                            array([11, 11], dtype=int32),                            array([13, 13], dtype=int32),                           array([15, 15], dtype=int32),                            array([2, 2], dtype=int32)]       \n     train_set   =   [[[ 5 ,   7 ,   9 ],   [ 11 ,   13 ,   15 ,   EOS_ID ]],   [[ 7 ,   9 ,   11 ],   [ 13 ,   15 ,   17 ,   EOS_ID ]]] \n     raw_encoder_input   =   [] \n     raw_decoder_input   =   [] \n     for   sample   in   train_set : \n         raw_encoder_input . append ([ PAD_ID ]   *   ( input_seq_len   -   len ( sample [ 0 ]))   +   sample [ 0 ]) \n         raw_decoder_input . append ([ GO_ID ]   +   sample [ 1 ]  \n                          +   [ PAD_ID ]   *   ( output_seq_len   -   len ( sample [ 1 ])   -   1 )) \n\n     encoder_inputs   =   [] \n     decoder_inputs   =   [] \n     target_weights   =   [] \n\n     for   length_idx   in   xrange ( input_seq_len ): \n         encoder_inputs . append ( np . array ([ encoder_input [ length_idx ]  \n                           for   encoder_input   in   raw_encoder_input ],  \n                                                   dtype = np . int32 )) \n     for   length_idx   in   xrange ( output_seq_len ): \n         decoder_inputs . append ( np . array ([ decoder_input [ length_idx ]  \n                           for   decoder_input   in   raw_decoder_input ],  \n                                                   dtype = np . int32 )) \n         target_weights . append ( np . array ([ \n             0.0   if   length_idx   ==   output_seq_len   -   1  \n                          or   decoder_input [ length_idx ]   ==   PAD_ID   else   1.0  \n                          for   decoder_input   in   raw_decoder_input \n         ],   dtype = np . float32 )) \n     return   encoder_inputs ,   decoder_inputs ,   target_weights  def   get_model ( feed_previous = False ): \n     \u6784\u9020\u6a21\u578b       \n     encoder_inputs   =   [] \n     decoder_inputs   =   [] \n     target_weights   =   [] \n     for   i   in   xrange ( input_seq_len ): \n         encoder_inputs . append ( tf . placeholder ( tf . int32 ,   shape = [ None ],  \n                           name = encoder{0} . format ( i ))) \n     for   i   in   xrange ( output_seq_len   +   1 ): \n         decoder_inputs . append ( tf . placeholder ( tf . int32 ,   shape = [ None ],  \n                           name = decoder{0} . format ( i ))) \n     for   i   in   xrange ( output_seq_len ): \n         target_weights . append ( tf . placeholder ( tf . float32 ,   shape = [ None ],  \n                          name = weight{0} . format ( i ))) \n\n     # decoder_inputs\u5de6\u79fb\u4e00\u4e2a\u65f6\u5e8f\u4f5c\u4e3atargets \n     targets   =   [ decoder_inputs [ i   +   1 ]   for   i   in   xrange ( output_seq_len )] \n\n     cell   =   tf . contrib . rnn . BasicLSTMCell ( size ) \n\n     # \u8fd9\u91cc\u8f93\u51fa\u7684\u72b6\u6001\u6211\u4eec\u4e0d\u9700\u8981 \n     outputs ,   _   =   seq2seq . embedding_attention_seq2seq ( \n                         encoder_inputs , \n                         decoder_inputs [: output_seq_len ], \n                         cell , \n                         num_encoder_symbols = num_encoder_symbols , \n                         num_decoder_symbols = num_decoder_symbols , \n                         embedding_size = size , \n                         output_projection = None , \n                         feed_previous = feed_previous , \n                         dtype = tf . float32 ) \n\n     # \u8ba1\u7b97\u52a0\u6743\u4ea4\u53c9\u71b5\u635f\u5931 \n     loss   =   seq2seq . sequence_loss ( outputs ,   targets ,   target_weights ) \n     # \u68af\u5ea6\u4e0b\u964d\u4f18\u5316\u5668 \n     opt   =   tf . train . GradientDescentOptimizer ( learning_rate ) \n     # \u4f18\u5316\u76ee\u6807\uff1a\u8ba9loss\u6700\u5c0f\u5316 \n     update   =   opt . apply_gradients ( opt . compute_gradients ( loss )) \n     # \u6a21\u578b\u6301\u4e45\u5316 \n     saver   =   tf . train . Saver ( tf . global_variables ()) \n     return   encoder_inputs ,   decoder_inputs ,   target_weights ,  \n                           outputs ,   loss ,   update ,   saver ,   targets  def   train (): \n          \u8bad\u7ec3\u8fc7\u7a0b       \n     with   tf . Session ()   as   sess : \n         sample_encoder_inputs ,   sample_decoder_inputs ,   sample_target_weights  \n                           =   get_samples () \n         encoder_inputs ,   decoder_inputs ,   target_weights ,   outputs ,   loss ,   update ,   saver ,   targets  \n                           =   get_model () \n\n         input_feed   =   {} \n         for   l   in   xrange ( input_seq_len ): \n             input_feed [ encoder_inputs [ l ] . name ]   =   sample_encoder_inputs [ l ] \n         for   l   in   xrange ( output_seq_len ): \n             input_feed [ decoder_inputs [ l ] . name ]   =   sample_decoder_inputs [ l ] \n             input_feed [ target_weights [ l ] . name ]   =   sample_target_weights [ l ] \n         input_feed [ decoder_inputs [ output_seq_len ] . name ]   =   np . zeros ([ 2 ],   dtype = np . int32 ) \n\n         # \u5168\u90e8\u53d8\u91cf\u521d\u59cb\u5316 \n         sess . run ( tf . global_variables_initializer ()) \n\n         # \u8bad\u7ec3200\u6b21\u8fed\u4ee3\uff0c\u6bcf\u969410\u6b21\u6253\u5370\u4e00\u6b21loss \n         for   step   in   xrange ( 200 ): \n             [ loss_ret ,   _ ]   =   sess . run ([ loss ,   update ],   input_feed ) \n             if   step   %   10   ==   0 : \n                 print   step= ,   step ,   loss= ,   loss_ret \n\n         # \u6a21\u578b\u6301\u4e45\u5316 \n         saver . save ( sess ,   ./model/demo )  def   predict (): \n          \u9884\u6d4b\u8fc7\u7a0b       \n     with   tf . Session ()   as   sess : \n         sample_encoder_inputs ,   sample_decoder_inputs ,   sample_target_weights  \n                           =   get_samples () \n         encoder_inputs ,   decoder_inputs ,   target_weights ,  \n                           outputs ,   loss ,   update ,   saver ,   targets  \n                           =   get_model ( feed_previous = True ) \n         # \u4ece\u6587\u4ef6\u6062\u590d\u6a21\u578b \n         saver . restore ( sess ,   ./model/demo ) \n\n         input_feed   =   {} \n         for   l   in   xrange ( input_seq_len ): \n             input_feed [ encoder_inputs [ l ] . name ]   =   sample_encoder_inputs [ l ] \n         for   l   in   xrange ( output_seq_len ): \n             input_feed [ decoder_inputs [ l ] . name ]   =   sample_decoder_inputs [ l ] \n             input_feed [ target_weights [ l ] . name ]   =   sample_target_weights [ l ] \n         input_feed [ decoder_inputs [ output_seq_len ] . name ]   =   np . zeros ([ 2 ],   dtype = np . int32 ) \n\n         # \u9884\u6d4b\u8f93\u51fa \n         outputs   =   sess . run ( outputs ,   input_feed ) \n         # \u4e00\u5171\u8bd5\u9a8c\u6837\u672c\u67092\u4e2a\uff0c\u6240\u4ee5\u5206\u522b\u904d\u5386 \n         for   sample_index   in   xrange ( 2 ): \n             # \u56e0\u4e3a\u8f93\u51fa\u6570\u636e\u6bcf\u4e00\u4e2a\u662fnum_decoder_symbols\u7ef4\u7684 \n             # \u56e0\u6b64\u627e\u5230\u6570\u503c\u6700\u5927\u7684\u90a3\u4e2a\u5c31\u662f\u9884\u6d4b\u7684id\uff0c\u5c31\u662f\u8fd9\u91cc\u7684argmax\u51fd\u6570\u7684\u529f\u80fd \n             outputs_seq   =   [ int ( np . argmax ( logit [ sample_index ],   axis = 0 ))   for   logit   in   outputs ] \n             # \u5982\u679c\u662f\u7ed3\u5c3e\u7b26\uff0c\u90a3\u4e48\u540e\u9762\u7684\u8bed\u53e5\u5c31\u4e0d\u8f93\u51fa\u4e86 \n             if   EOS_ID   in   outputs_seq : \n                 outputs_seq   =   outputs_seq [: outputs_seq . index ( EOS_ID )] \n             outputs_seq   =   [ str ( v )   for   v   in   outputs_seq ] \n             print     . join ( outputs_seq )  if   __name__   ==   __main__ : \n     if   sys . argv [ 1 ]   ==   train : \n         train () \n     else : \n         predict ()    \u6bd4\u5982\u6587\u4ef6\u547d\u540d\u4e3ademo.py\uff0c\u90a3\u4e48\u9996\u5148\u6267\u884c./demo.py train\u8bad\u7ec3\u597d\u6a21\u578b\uff0c\u7136\u540e\u6267\u884c./demo.py predict\uff0c\u8f93\u51fa\u4e3a\uff1a  1\n2 11   13   15  11   13   15    \u81f3\u6b64\uff0c\u6211\u4eec\u7b97\u6709\u4e86\u5c0f\u5c0f\u7684\u6210\u5c31\u4e86\uff0c\u90a3\u5c31\u662f\u6211\u4eec\u6839\u636e\u8f93\u5165\u7684\u6837\u672c(\u4e24\u4e2a[5, 7, 9])\u9884\u6d4b\u51fa\u4e86\u8f93\u51fa\u768411 13 15\u4e86  \u6bd4\u8f83\u4ed4\u7ec6\u7684\u4eba\u4f1a\u53d1\u73b0\uff0c\u5728\u505a\u9884\u6d4b\u7684\u65f6\u5019\u4f9d\u7136\u662f\u6309\u7167\u5b8c\u6574\u7684encoder_inputs\u548cdecoder_inputs\u8ba1\u7b97\u7684\uff0c\u90a3\u4e48\u600e\u4e48\u80fd\u8bc1\u660e\u6a21\u578b\u4e0d\u662f\u76f4\u63a5\u4f7f\u7528\u4e86decoder_inputs\u6765\u9884\u6d4b\u51fa\u7684\u8f93\u51fa\u5462\uff1f\u90a3\u4e48\u6211\u4eec\u6765\u7ee7\u7eed\u6539\u8fdbpredict\uff0c\u8ba9\u6211\u4eec\u53ef\u4ee5\u624b\u5de5\u8f93\u5165\u4e00\u4e32\u6570\u5b57(\u53ea\u6709encoder\u90e8\u5206)\uff0c\u770b\u770b\u6a21\u578b\u80fd\u4e0d\u80fd\u9884\u6d4b\u51fa\u8f93\u51fa  \u9996\u5148\u6211\u4eec\u5b9e\u73b0\u4e00\u4e2a\u4ece\u8f93\u5165\u7a7a\u683c\u5206\u9694\u7684\u6570\u5b57id\u4e32\uff0c\u8f6c\u6210\u9884\u6d4b\u7528\u7684encoder\u3001decoder\u3001target_weight\u7684\u51fd\u6570   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10 def   seq_to_encoder ( input_seq ): \n     \u4ece\u8f93\u5165\u7a7a\u683c\u5206\u9694\u7684\u6570\u5b57id\u4e32\uff0c\u8f6c\u6210\u9884\u6d4b\u7528\u7684encoder\u3001decoder\u3001target_weight\u7b49       \n     input_seq_array   =   [ int ( v )   for   v   in   input_seq . split ()] \n     encoder_input   =   [ PAD_ID ]   *   ( input_seq_len   -   len ( input_seq_array ))   +   input_seq_array \n     decoder_input   =   [ GO_ID ]   +   [ PAD_ID ]   *   ( output_seq_len   -   1 ) \n     encoder_inputs   =   [ np . array ([ v ],   dtype = np . int32 )   for   v   in   encoder_input ] \n     decoder_inputs   =   [ np . array ([ v ],   dtype = np . int32 )   for   v   in   decoder_input ] \n     target_weights   =   [ np . array ([ 1.0 ],   dtype = np . float32 )]   *   output_seq_len \n     return   encoder_inputs ,   decoder_inputs ,   target_weights    \u7136\u540e\u6211\u4eec\u6539\u5199predict\u51fd\u6570\u5982\u4e0b\uff1a   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38 def   predict (): \n          \u9884\u6d4b\u8fc7\u7a0b       \n     with   tf . Session ()   as   sess : \n         encoder_inputs ,   decoder_inputs ,   target_weights ,   outputs ,   loss ,   update ,   saver  \n                           =   get_model ( feed_previous = True ) \n         saver . restore ( sess ,   ./model/demo ) \n         sys . stdout . write (   ) \n         sys . stdout . flush () \n         input_seq   =   sys . stdin . readline () \n         while   input_seq : \n             input_seq   =   input_seq . strip () \n             sample_encoder_inputs ,   sample_decoder_inputs ,   sample_target_weights  \n                           =   seq_to_encoder ( input_seq ) \n\n             input_feed   =   {} \n             for   l   in   xrange ( input_seq_len ): \n                 input_feed [ encoder_inputs [ l ] . name ]   =   sample_encoder_inputs [ l ] \n             for   l   in   xrange ( output_seq_len ): \n                 input_feed [ decoder_inputs [ l ] . name ]   =   sample_decoder_inputs [ l ] \n                 input_feed [ target_weights [ l ] . name ]   =   sample_target_weights [ l ] \n             input_feed [ decoder_inputs [ output_seq_len ] . name ]   =   np . zeros ([ 2 ],   dtype = np . int32 ) \n\n             # \u9884\u6d4b\u8f93\u51fa \n             outputs_seq   =   sess . run ( outputs ,   input_feed ) \n             # \u56e0\u4e3a\u8f93\u51fa\u6570\u636e\u6bcf\u4e00\u4e2a\u662fnum_decoder_symbols\u7ef4\u7684 \n             # \u56e0\u6b64\u627e\u5230\u6570\u503c\u6700\u5927\u7684\u90a3\u4e2a\u5c31\u662f\u9884\u6d4b\u7684id\uff0c\u5c31\u662f\u8fd9\u91cc\u7684argmax\u51fd\u6570\u7684\u529f\u80fd \n             outputs_seq   =   [ int ( np . argmax ( logit [ 0 ],   axis = 0 ))   for   logit   in   outputs_seq ] \n             # \u5982\u679c\u662f\u7ed3\u5c3e\u7b26\uff0c\u90a3\u4e48\u540e\u9762\u7684\u8bed\u53e5\u5c31\u4e0d\u8f93\u51fa\u4e86 \n             if   EOS_ID   in   outputs_seq : \n                 outputs_seq   =   outputs_seq [: outputs_seq . index ( EOS_ID )] \n             outputs_seq   =   [ str ( v )   for   v   in   outputs_seq ] \n             print     . join ( outputs_seq ) \n\n             sys . stdout . write (   ) \n             sys . stdout . flush () \n             input_seq   =   sys . stdin . readline ()    \u597d\uff0c\u91cd\u65b0\u6267\u884c./demo.py predict\u5982\u4e0b\uff1a  1\n2\n3\n4 [ root@localhost $ ]  python demo.py predict   5   7   9  11   13   15     \u6211\u4eec\u5b9e\u9645\u4e0a\u53ea\u8bad\u7ec3\u4e86\u4e24\u4e2a\u5b8c\u5168\u4e00\u6837\u7684\u6837\u672c\uff1a[5, 7, 9], [11, 13, 15, EOS_ID]\uff0c\u90a3\u4e48\u6211\u4eec\u5982\u679c\u8f93\u5165\u4e00\u4e2a\u65b0\u7684\u6d4b\u8bd5\u6837\u672c\u4f1a\u600e\u4e48\u6837\u5462\uff1f\u4ed6\u80fd\u4e0d\u80fd\u9884\u6d4b\u51fa\u6211\u4eec\u662f\u5728\u63a8\u5bfc\u5947\u6570\u5e8f\u5217\u5462\uff1f  \u5f53\u6211\u4eec\u8f93\u51657 9 11\u7684\u65f6\u5019\u53d1\u73b0\u4ed6\u62a5\u9519\u4e86\uff0c\u539f\u56e0\u662f\u6211\u4eec\u8bbe\u7f6e\u4e86num_encoder_symbols = 10\uff0c\u800c11\u65e0\u6cd5\u8868\u8fbe\u4e86\uff0c\u6240\u4ee5\u6211\u4eec\u4e3a\u4e86\u8bad\u7ec3\u4e00\u4e2a\u5f3a\u5927\u7684\u6a21\u578b\uff0c\u6211\u4eec\u4fee\u6539\u53c2\u6570\u5e76\u589e\u52a0\u6837\u672c\uff0c\u5982\u4e0b\uff1a   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11 # \u6700\u5927\u8f93\u5165\u7b26\u53f7\u6570  num_encoder_symbols   =   32  # \u6700\u5927\u8f93\u51fa\u7b26\u53f7\u6570  num_decoder_symbols   =   32  \u2026\u2026  train_set   =   [ \n               [[ 5 ,   7 ,   9 ],   [ 11 ,   13 ,   15 ,   EOS_ID ]],  \n               [[ 7 ,   9 ,   11 ],   [ 13 ,   15 ,   17 ,   EOS_ID ]],  \n               [[ 15 ,   17 ,   19 ],   [ 21 ,   23 ,   25 ,   EOS_ID ]] \n             ]  \u2026\u2026    \u6211\u4eec\u628a\u8fed\u4ee3\u6b21\u6570\u6269\u5927\u523010000\u6b21  \u8bad\u7ec3\u597d\u540e\u91cd\u65b0\u9884\u6d4b\u7ed3\u679c\u5982\u4e0b\uff1a   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11   5   7   9  11   13   15    11   13   15  13   17    7   9   11  13   15   17    15   17   19  21   23   25    6   8   10  11   13   15     \u6211\u4eec\u53d1\u73b0\uff0c\u5bf9\u4e8e\u8f93\u5165\u7684\u6837\u672c\uff0c\u9884\u6d4b\u6548\u679c\u8fd8\u662f\u975e\u5e38\u597d\u7684\uff0c\u4f46\u662f\u5982\u679c\u6362\u6210\u5176\u4ed6\u7684\u8f93\u5165\uff0c\u5c31\u8fd8\u662f\u5728\u6837\u672c\u7684\u8f93\u51fa\u91cc\u627e\u67d0\u4e00\u4e2a\u6700\u76f8\u8fd1\u7684\u7ed3\u679c\u4f5c\u4e3a\u9884\u6d4b\u7ed3\u679c\uff0c\u5e76\u4e0d\u4f1a\u601d\u8003\uff0c\u6ca1\u6709\u667a\u80fd\uff0c\u6240\u4ee5\u8fd9\u4e2a\u6a21\u578b\u66f4\u9002\u5408\u505a\u5206\u7c7b\uff0c\u4e0d\u9002\u5408\u505a\u63a8\u7406  \u4f46\u662f\u73b0\u5728\uff0c\u6211\u4eec\u4f9d\u7136\u5728\u73a9\u7684\u53ea\u662f\u6570\u5b57\u7684\u6e38\u620f\uff0c\u600e\u4e48\u6837\u624d\u80fd\u548c\u4e2d\u6587\u5bf9\u8bdd\u626f\u4e0a\u5173\u7cfb\u5462\uff1f\u5f88\u7b80\u5355\uff0c\u5728\u8bad\u7ec3\u65f6\u628a\u4e2d\u6587\u8bcd\u6c47\u8f6c\u6210id\u53f7\uff0c\u5728\u9884\u6d4b\u65f6\uff0c\u628a\u9884\u6d4b\u5230\u7684id\u8f6c\u6210\u4e2d\u6587\u5c31\u53ef\u4ee5\u4e86  \u4e0b\u9762\u6211\u4eec\u65b0\u5efa\u4e00\u4e2aword_token.py\u6587\u4ef6\uff0c\u5e76\u5efa\u4e00\u4e2aWordToken\u7c7b\uff0c\u5176\u4e2dload\u51fd\u6570\u8d1f\u8d23\u52a0\u8f7d\u6837\u672c\uff0c\u5e76\u751f\u6210word2id_dict\u548cid2word_dict\u8bcd\u5178\uff0cword2id\u51fd\u6570\u8d1f\u8d23\u5c06\u8bcd\u6c47\u8f6c\u6210id\uff0cid2word\u8d1f\u8d23\u5c06id\u8f6c\u6210\u8bcd\u6c47\uff1a   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54 # coding:utf-8  import   sys  import   jieba  class   WordToken ( object ): \n     def   __init__ ( self ): \n         # \u6700\u5c0f\u8d77\u59cbid\u53f7, \u4fdd\u7559\u7684\u7528\u4e8e\u8868\u793a\u7279\u6b8a\u6807\u8bb0 \n         self . START_ID   =   4 \n         self . word2id_dict   =   {} \n         self . id2word_dict   =   {} \n\n\n     def   load_file_list ( self ,   file_list ): \n                  \u52a0\u8f7d\u6837\u672c\u6587\u4ef6\u5217\u8868\uff0c\u5168\u90e8\u5207\u8bcd\u540e\u7edf\u8ba1\u8bcd\u9891\uff0c\u6309\u8bcd\u9891\u7531\u9ad8\u5230\u4f4e\u6392\u5e8f\u540e\u987a\u6b21\u7f16\u53f7          \u5e76\u5b58\u5230self.word2id_dict\u548cself.id2word_dict\u4e2d           \n         words_count   =   {} \n         for   file   in   file_list : \n             with   open ( file ,   r )   as   file_object : \n                 for   line   in   file_object . readlines (): \n                     line   =   line . strip () \n                     seg_list   =   jieba . cut ( line ) \n                     for   str   in   seg_list : \n                         if   str   in   words_count : \n                             words_count [ str ]   =   words_count [ str ]   +   1 \n                         else : \n                             words_count [ str ]   =   1 \n\n         sorted_list   =   [[ v [ 1 ],   v [ 0 ]]   for   v   in   words_count . items ()] \n         sorted_list . sort ( reverse = True ) \n         for   index ,   item   in   enumerate ( sorted_list ): \n             word   =   item [ 1 ] \n             self . word2id_dict [ word ]   =   self . START_ID   +   index \n             self . id2word_dict [ self . START_ID   +   index ]   =   word \n\n\n     def   word2id ( self ,   word ): \n         if   not   isinstance ( word ,   unicode ): \n             print   Exception: error word not unicode \n             sys . exit ( 1 ) \n         if   word   in   self . word2id_dict : \n             return   self . word2id_dict [ word ] \n         else : \n             return   None \n\n\n     def   id2word ( self ,   id ): \n         id   =   int ( id ) \n         if   id   in   self . id2word_dict : \n             return   self . id2word_dict [ id ] \n         else : \n             return   None    \u4e0b\u9762\u5728demo.py\u4e2d\u4fee\u6539\u6211\u4eec\u7684get_train_set\u5982\u4e0b\uff1a   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19 def   get_train_set (): \n     global   num_encoder_symbols ,   num_decoder_symbols \n     train_set   =   [] \n     with   open ( ./samples/question ,   r )   as   question_file : \n         with   open ( ./samples/answer ,   r )   as   answer_file : \n             while   True : \n                 question   =   question_file . readline () \n                 answer   =   answer_file . readline () \n                 if   question   and   answer : \n                     question   =   question . strip () \n                     answer   =   answer . strip () \n\n                     question_id_list   =   get_id_list_from ( question ) \n                     answer_id_list   =   get_id_list_from ( answer ) \n                     answer_id_list . append ( EOS_ID ) \n                     train_set . append ([ question_id_list ,   answer_id_list ]) \n                 else : \n                     break \n     return   train_set    \u5176\u4e2d\u8fd9\u91cc\u7684get_id_list_from\u5b9e\u73b0\u4e3a\uff1a  1\n2\n3\n4\n5\n6\n7\n8 def   get_id_list_from ( sentence ): \n     sentence_id_list   =   [] \n     seg_list   =   jieba . cut ( sentence ) \n     for   str   in   seg_list : \n         id   =   wordToken . word2id ( str ) \n         if   id : \n             sentence_id_list . append ( wordToken . word2id ( str )) \n     return   sentence_id_list    \u800c\u8fd9\u91cc\u7684wordToken\u6765\u81ea\u4e8e\uff1a  1\n2\n3\n4\n5\n6\n7\n8 import   word_token  import   jieba  wordToken   =   word_token . WordToken ()  # \u653e\u5728\u5168\u5c40\u7684\u4f4d\u7f6e\uff0c\u4e3a\u4e86\u52a8\u6001\u7b97\u51fanum_encoder_symbols\u548cnum_decoder_symbols  max_token_id   =   wordToken . load_file_list ([ ./samples/question ,   ./samples/answer ])  num_encoder_symbols   =   max_token_id   +   5  num_decoder_symbols   =   max_token_id   +   5    \u7136\u540e\u6211\u4eec\u628a\u8bad\u7ec3\u4ee3\u7801\u6539\u6210\uff1a  1\n2\n3\n4\n5\n6\n7\n8          # \u8bad\u7ec3\u5f88\u591a\u6b21\u8fed\u4ee3\uff0c\u6bcf\u969410\u6b21\u6253\u5370\u4e00\u6b21loss\uff0c\u53ef\u4ee5\u770b\u60c5\u51b5\u76f4\u63a5ctrl+c\u505c\u6b62 \n         for   step   in   xrange ( 100000 ): \n             [ loss_ret ,   _ ]   =   sess . run ([ loss ,   update ],   input_feed ) \n             if   step   %   10   ==   0 : \n                 print   step= ,   step ,   loss= ,   loss_ret \n\n                 # \u6a21\u578b\u6301\u4e45\u5316 \n                 saver . save ( sess ,   ./model/demo )    \u9884\u6d4b\u7684\u4ee3\u7801\u6211\u4eec\u4e5f\u9700\u8981\u505a\u76f8\u5e94\u7684\u4fee\u6539\uff1a   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43 def   predict (): \n          \u9884\u6d4b\u8fc7\u7a0b       \n     with   tf . Session ()   as   sess : \n         encoder_inputs ,   decoder_inputs ,   target_weights ,   outputs ,   loss ,   update ,   saver  \n                         =   get_model ( feed_previous = True ) \n         saver . restore ( sess ,   ./model/demo ) \n         sys . stdout . write (   ) \n         sys . stdout . flush () \n         input_seq   =   sys . stdin . readline () \n         while   input_seq : \n             input_seq   =   input_seq . strip () \n             input_id_list   =   get_id_list_from ( input_seq ) \n             if   ( len ( input_id_list )): \n                 sample_encoder_inputs ,   sample_decoder_inputs ,   sample_target_weights  \n                         =   seq_to_encoder (   . join ([ str ( v )   for   v   in   input_id_list ])) \n\n                 input_feed   =   {} \n                 for   l   in   xrange ( input_seq_len ): \n                     input_feed [ encoder_inputs [ l ] . name ]   =   sample_encoder_inputs [ l ] \n                 for   l   in   xrange ( output_seq_len ): \n                     input_feed [ decoder_inputs [ l ] . name ]   =   sample_decoder_inputs [ l ] \n                     input_feed [ target_weights [ l ] . name ]   =   sample_target_weights [ l ] \n                 input_feed [ decoder_inputs [ output_seq_len ] . name ]  \n                         =   np . zeros ([ 2 ],   dtype = np . int32 ) \n\n                 # \u9884\u6d4b\u8f93\u51fa \n                 outputs_seq   =   sess . run ( outputs ,   input_feed ) \n                 # \u56e0\u4e3a\u8f93\u51fa\u6570\u636e\u6bcf\u4e00\u4e2a\u662fnum_decoder_symbols\u7ef4\u7684 \n                 # \u56e0\u6b64\u627e\u5230\u6570\u503c\u6700\u5927\u7684\u90a3\u4e2a\u5c31\u662f\u9884\u6d4b\u7684id\uff0c\u5c31\u662f\u8fd9\u91cc\u7684argmax\u51fd\u6570\u7684\u529f\u80fd \n                 outputs_seq   =   [ int ( np . argmax ( logit [ 0 ],   axis = 0 ))   for   logit   in   outputs_seq ] \n                 # \u5982\u679c\u662f\u7ed3\u5c3e\u7b26\uff0c\u90a3\u4e48\u540e\u9762\u7684\u8bed\u53e5\u5c31\u4e0d\u8f93\u51fa\u4e86 \n                 if   EOS_ID   in   outputs_seq : \n                     outputs_seq   =   outputs_seq [: outputs_seq . index ( EOS_ID )] \n                 outputs_seq   =   [ wordToken . id2word ( v )   for   v   in   outputs_seq ] \n                 print     . join ( outputs_seq ) \n             else : \n                 print   WARN\uff1a\u8bcd\u6c47\u4e0d\u5728\u670d\u52a1\u533a \n\n             sys . stdout . write (   ) \n             sys . stdout . flush () \n             input_seq   =   sys . stdin . readline ()    \u4e0b\u9762\u6211\u4eec\u5c1d\u8bd5\u7528\u5b58\u50a8\u5728['./samples/question', './samples/answer']\u4e2d\u76841000\u4e2a\u5bf9\u8bdd\u6837\u672c\u6765\u8bad\u7ec3\uff0c\u4f7f\u5f97loss\u8f93\u51fa\u6536\u655b\u5230\u4e00\u5b9a\u7a0b\u5ea6(\u6bd4\u59821.0)\u4ee5\u4e0b\uff1a  1 python demo.py train   \u52301.0\u4ee5\u4e0b\u540e\u53ef\u4ee5\u624b\u5de5ctrl+c\u505c\u6b62\uff0c\u56e0\u4e3a\u6211\u4eec\u6bcf\u969410\u4e2astep\u90fd\u4f1astore\u4e00\u6b21\u6a21\u578b  \u8bad\u7ec3\u60c5\u51b5\u5982\u4e0b\uff1a   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15 [ root@localhost $ ]  python demo.py train\nBuilding prefix dict from the default dictionary ...\nLoading model from cache /var/folders/tq/c0kp5y857x138x5vf8bzxfc80000gp/T/jieba.cache\nLoading model cost  0 .442 seconds.\nPrefix dict has been built succesfully. step =   0   loss =   7 .57641 step =   10   loss =   7 .51317 step =   20   loss =   7 .4462 step =   30   loss =   7 .37086 step =   40   loss =   7 .28131 step =   50   loss =   7 .1697 step =   60   loss =   7 .02524 step =   70   loss =   6 .83556 step =   80   loss =   6 .60554 step =   90   loss =   6 .41139   \u6211\u4eec\u53d1\u73b0\u6a21\u578b\u6536\u655b\u7684\u975e\u5e38\u6162\uff0c\u56e0\u4e3a\u6211\u4eec\u8bbe\u7f6e\u7684\u5b66\u4e60\u7387\u662f0.1\uff0c\u6211\u4eec\u5e0c\u671b\u9996\u5148\u5b66\u4e60\u7387\u5927\u4e00\u4e9b\uff0c\u6bcf\u5f53\u4e0b\u4e00\u6b65\u7684loss\u548c\u4e0a\u4e00\u6b65\u76f8\u6bd4\u53cd\u5f39(\u53cd\u800c\u589e\u5927)\u7684\u65f6\u5019\u6211\u4eec\u518d\u5c1d\u8bd5\u964d\u4f4e\u5b66\u4e60\u7387\uff0c\u65b9\u6cd5\u5982\u4e0b\uff0c\u9996\u5148\u6211\u4eec\u4e0d\u518d\u76f4\u63a5\u7528learning_rate\uff0c\u800c\u662f\u521d\u59cb\u5316\u4e00\u4e2a\u5b66\u4e60\u7387\uff1a  1 init_learning_rate = 1   \u7136\u540e\u5728get_model\u4e2d\u521b\u5efa\u4e00\u4e2a\u53d8\u91cf\uff0c\u5e76\u7528init_learning_rate\u521d\u59cb\u5316\uff1a  1 learning_rate = tf.Variable(float(init_learning_rate), trainable=False, dtype=tf.float32)   \u4e4b\u540e\u518d\u521b\u5efa\u4e00\u4e2a\u64cd\u4f5c\uff0c\u76ee\u7684\u662f\u518d\u9002\u5f53\u7684\u65f6\u5019\u628a\u5b66\u4e60\u7387\u62539\u6298\uff1a  1 learning_rate_decay_op = learning_rate.assign(learning_rate * 0.9)   \u4e4b\u540e\u5728\u8bad\u7ec3\u4ee3\u7801\u4e2d\u8fd9\u6837\u8c03\u6574\uff1a   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14          # \u8bad\u7ec3\u5f88\u591a\u6b21\u8fed\u4ee3\uff0c\u6bcf\u969410\u6b21\u6253\u5370\u4e00\u6b21loss\uff0c\u53ef\u4ee5\u770b\u60c5\u51b5\u76f4\u63a5ctrl+c\u505c\u6b62 \n         previous_losses   =   [] \n         for   step   in   xrange ( 100000 ): \n             [ loss_ret ,   _ ]   =   sess . run ([ loss ,   update ],   input_feed ) \n             if   step   %   10   ==   0 : \n                 print   step= ,   step ,   loss= ,  \n                         loss_ret ,   learning_rate= ,   learning_rate . eval () \n\n                 if   loss_ret     max ( previous_losses [ - 5 :]): \n                     sess . run ( learning_rate_decay_op ) \n                 previous_losses . append ( loss_ret ) \n\n                 # \u6a21\u578b\u6301\u4e45\u5316 \n                 saver . save ( sess ,   ./model/demo )    \u8fd9\u6837\u5728\u8bad\u7ec3\u65f6\u53ef\u4ee5\u5b9e\u73b0\u5feb\u901f\u6536\u655b\uff1a   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21 [ root@localhost $ ]  python demo.py train\nBuilding prefix dict from the default dictionary ...\nLoading model from cache /var/folders/tq/c0kp5y857x138x5vf8bzxfc80000gp/T/jieba.cache\nLoading model cost  0 .465 seconds.\nPrefix dict has been built succesfully. step =   0   loss =   7 .5769  learning_rate =   1 .0 step =   10   loss =   6 .32053  learning_rate =   1 .0 step =   20   loss =   5 .73492  learning_rate =   1 .0 step =   30   loss =   5 .59705  learning_rate =   1 .0 step =   40   loss =   5 .5177  learning_rate =   1 .0 step =   50   loss =   5 .47604  learning_rate =   1 .0 step =   60   loss =   5 .39912  learning_rate =   1 .0 step =   70   loss =   5 .29099  learning_rate =   1 .0 step =   80   loss =   5 .60937  learning_rate =   1 .0 step =   90   loss =   5 .10457  learning_rate =   0 .9 step =   100   loss =   5 .07913  learning_rate =   0 .9 step =   110   loss =   5 .03715  learning_rate =   0 .9 step =   120   loss =   5 .14339  learning_rate =   0 .9 step =   130   loss =   5 .29311  learning_rate =   0 .9 step =   140   loss =   5 .04177  learning_rate =   0 .9 step =   150   loss =   4 .98884  learning_rate =   0 .9   \u5728\u6211\u7684mac\u673a\u5668\u5386\u65f610\u4e2a\u5c0f\u65f6\uff0c\u7ec8\u4e8e\u4fee\u6210\u6b63\u679c\uff0c\u4e00\u51711000\u6761\u6837\u672c\uff0c\u5171\u8fdb\u884c\u4e8620700\u6b21\u8fed\u4ee3\uff0c\u6700\u7ec8loss\u6536\u655b\u52301.11342\uff1a  1 step= 20700 loss= 1.11342 learning_rate= 0.0471012   \u9884\u6d4b\u6548\u679c\u5982\u4e0b\uff1a   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23 [ root@localhost $ ]  python demo.py predict\nBuilding prefix dict from the default dictionary ...\nLoading model from cache /var/folders/tq/c0kp5y857x138x5vf8bzxfc80000gp/T/jieba.cache\nLoading model cost  0 .969 seconds.\nPrefix dict has been built succesfully.  \u4f60\u597d\n\u4f60 \u4e5f\u597d ~  \u5475\u5475\n\u50bb \u903c \u5475\u5475  \u54c8\u54c8\n\u7b11 \u5c41  \u4f60\u662f\u8c01\n\u6211 \u662f \u5c0f\u7334\u5b50  \u65e9\nWARN\uff1a\u8bcd\u6c47\u4e0d\u5728\u670d\u52a1\u533a  \u65e9\u4e0a\u597d\n\u54c8\u54c8  \u5c41\n\u4f60 \u5c41 \u4f1a  \u6eda\u86cb\nWARN\uff1a\u8bcd\u6c47\u4e0d\u5728\u670d\u52a1\u533a  \u50bb\u903c\n\u4ed6\u5988 \u903c \u7684   \u770b\u8d77\u6765\u6548\u679c\u8fd8\u662f\u6709\u70b9\u9760\u8c31\u7684\uff0c\u6700\u7ec8\u7248\u4ee3\u7801\u5206\u4eab\u5728 \u8fd9\u91cc", 
            "title": "\u7528tensorflow\u7684seq2seq\u5236\u4f5c\u4f60\u81ea\u5df1\u7684\u804a\u5929\u673a\u5668\u4eba"
        }, 
        {
            "location": "/42.practice/#_2", 
            "text": "\u672c\u6587\u4ece\u7406\u8bba\u5230\u5b9e\u8df5\u8bb2\u89e3\u4e86\u600e\u4e48\u4e00\u6b65\u4e00\u6b65\u5b9e\u73b0\u4e00\u4e2a\u81ea\u52a8\u804a\u5929\u673a\u5668\u4eba\u6a21\u578b\uff0c\u5e76\u57fa\u4e8e1000\u6761\u6837\u672c\uff0c\u7528\u4e8610\u4e2a\u5c0f\u65f6\u8bad\u7ec3\u4e86\u4e00\u4e2a\u804a\u5929\u6a21\u578b\uff0c\u8bd5\u9a8c\u6548\u679c\u6bd4\u8f83\u597d\uff0c\u6838\u5fc3\u903b\u8f91\u662f\u8c03\u7528\u4e86tensorflow\u7684embedding_attention_seq2seq\uff0c\u4e5f\u5c31\u662f\u5e26\u6ce8\u610f\u529b\u7684seq2seq\u6a21\u578b\uff0c\u5176\u4e2d\u795e\u7ecf\u7f51\u7edc\u5355\u5143\u662fLSTM\u3002  \u7531\u4e8e\u8bed\u6599\u6709\u9650\uff0c\u8bbe\u5907\u6709\u9650\uff0c\u53ea\u9a8c\u8bc1\u4e86\u5c0f\u89c4\u6a21\u6837\u672c\uff0c\u5982\u679c\u4f60\u5e0c\u671b\u8bad\u7ec3\u4e00\u4e2a\u5f3a\u5927\u7684\u804a\u5929\u673a\u5668\u4eba\u53ef\u4ee5\u81ea\u5df1\u6765\u641e\u5230\u9ad8\u8d28\u91cf\u7684\u5bf9\u8bdd\u8bed\u6599\uff0c\u4e5f\u6b22\u8fce\u8bd5\u7528\u6211\u6574\u7406\u76843\u5343\u4e07\u5f71\u89c6\u5267\u5b57\u5e55\u8bed\u6599\u5e93\uff0c\u83b7\u53d6\u65b9\u5f0f\uff1a\u300a\u81ea\u5df1\u52a8\u624b\u505a\u804a\u5929\u673a\u5668\u4eba \u4e8c\u5341\u4e5d-\u91cd\u78c5\uff1a\u8fd11GB\u7684\u4e09\u5343\u4e07\u804a\u5929\u8bed\u6599\u4f9b\u51fa\u300b\u3002  \u66f4\u6b22\u8fce\u804a\u5929\u673a\u5668\u4eba\u7231\u597d\u8005\u52a0\u5165\u6211\u4eec\u7684\u201c\u81ea\u5df1\u52a8\u624b\u505a\u804a\u5929\u673a\u5668\u4eba\u5fae\u4fe1\u4ea4\u6d41\u7fa4\u201d\uff0c\u52a0\u7fa4\u65b9\u5f0f\uff1a\u52a0\u6211\u5fae\u4fe1(warmheartli)\u5e76\u8bf4\u660e\u201c\u52a0\u804a\u5929\u673a\u5668\u4eba\u7fa4\u201d\u5373\u53ef\u3002", 
            "title": "\u603b\u7ed3"
        }, 
        {
            "location": "/42.practice/#_3", 
            "text": "http://colah.github.io/posts/2015-08-Understanding-LSTMs/  http://suriyadeepan.github.io/2016-06-28-easy-seq2seq/  http://www.wildml.com/2016/01/attention-and-memory-in-deep-learning-and-nlp/  https://arxiv.org/abs/1406.1078  https://arxiv.org/abs/1409.3215  https://arxiv.org/abs/1409.0473", 
            "title": "\u53c2\u8003\u6587\u732e"
        }, 
        {
            "location": "/43.practice2/", 
            "text": "\u4e0a\u4e00\u7bc7\u6587\u7ae0\u5b9e\u73b0\u4e86\u4e00\u4e2a\u80fd\u591f\u8bad\u7ec31000\u4e2a\u6837\u672c\u7684\u804a\u5929\u673a\u5668\u4eba\uff0c\u5e76\u4e14\u6548\u679c\u8fd8\u53ef\u4ee5\uff0c\u4f46\u662f\u56e0\u4e3a\u5bf9\u6837\u672c\u5168\u91cf\u52a0\u8f7d\uff0c\u6240\u4ee5\u5f53\u7528\u5927\u91cf\u6837\u672c\u6765\u505a\u8bad\u7ec3\u65f6\uff0c\u5185\u5b58\u5c31\u6491\u4e0d\u4f4f\u4e86\uff0c\u603b\u662fOut of memory\uff0c\u672c\u7bc7\u6587\u7ae0\u89e3\u51b3\u4e86\u8fd9\u4e2a\u95ee\u9898\uff0c\u65b9\u6cd5\u662f\u628a\u5168\u91cf\u52a0\u8f7d\u6837\u672c\u6539\u6210\u4e86\u6279\u91cf\u52a0\u8f7d\uff0c\u8fd9\u6837\u6837\u672c\u91cf\u518d\u5927\uff0c\u5185\u5b58\u4e5f\u4e0d\u4f1a\u65e0\u9650\u589e\u52a0\u4e86 \n\n\n\u4e0a\u7bc7\u56de\u987e\n\n\n\u4e0a\u7bc7\u6587\u7ae0\u300a\u81ea\u5df1\u52a8\u624b\u505a\u804a\u5929\u673a\u5668\u4eba \u56db\u5341\u4e8c-(\u91cd\u91cf\u7ea7\u957f\u6587)\u4ece\u7406\u8bba\u5230\u5b9e\u8df5\u5f00\u53d1\u81ea\u5df1\u7684\u804a\u5929\u673a\u5668\u4eba\u300b\u4f7f\u7528\u5e26attention\u7684seq2seq\u6a21\u578b\u5b9e\u73b0\u4e00\u822c\u804a\u5929\u673a\u5668\u4eba\uff0c\u7ecf\u8fc710\u4e2a\u5c0f\u65f6\u5bf91000\u6761\u6837\u672c\u7684\u8bad\u7ec3\uff0c\u8fbe\u5230\u4e86\u6bd4\u8f83\u597d\u7684\u6548\u679c\uff0c\u4ee3\u7801\u5206\u4eab\u5728\n\u8fd9\u91cc\n\n\n\u4f46\u662f\u5b58\u5728\u4e00\u4e2a\u95ee\u9898\uff0c\u5f53\u628a\u6837\u672c\u91cf\u52a0\u5927\u7684\u65f6\u5019\u5185\u5b58\u968f\u4e4b\u589e\u957f\uff0c\u5982\u679c\u6837\u672c\u91cf\u8fbe\u5230\u4e07\u7ea7\u522b\uff0c\u5185\u5b58\u5360\u7528\u5df2\u7ecf\u8fbe\u5230\u4e8610G\uff0c\u6837\u672c\u91cf\u5982\u679c\u5230\u51e0\u5341\u4e07\u51e0\u767e\u4e07\uff0c\u5185\u5b58\u5df2\u7ecf\u4e0d\u77e5\u9053\u80fd\u5230\u591a\u5c11\u4e86\uff0c\u8fd9\u4e2a\u4e3b\u8981\u95ee\u9898\u662f\u6bcf\u6b21\u8fed\u4ee3\u90fd\u662f\u628a\u6837\u672c\u5168\u91cf\u52a0\u8f7d\u5230\u5185\u5b58\u5e76\u4e00\u6b21\u6027\u8bad\u7ec3\u5b8c\u518d\u66f4\u65b0\u6a21\u578b\uff0c\u53e6\u5916\u8fd8\u6709\u4e00\u4e2a\u95ee\u9898\u5c31\u662f\u8bcd\u8868\u662f\u57fa\u4e8e\u6837\u672c\u751f\u6210\u7684\uff0c\u6ca1\u6709\u505a\u4efb\u4f55\u9650\u5236\uff0c\u5bfc\u81f4\u6837\u672c\u5927\u8bcd\u8868\u5c31\u5927\uff0c\u90a3\u4e48\u6a21\u578b\u5c31\u5f88\u5927\uff0c\u6240\u4ee5\u5360\u636e\u5185\u5b58\u4e5f\u66f4\u5927\uff0c\u6240\u4ee5\u6211\u505a\u4e86\u4e00\u7248\u4f18\u5316\uff0c\u5728\u81ea\u5df1\u673a\u5668\u4e0a\u5c1d\u8bd5\u8bad\u7ec320w\u7684\u6837\u672c\u5185\u5b58\u5360\u7528\u4e0d\u52301G\uff0c\u5e0c\u671b\u5927\u5bb6\u80fd\u627e\u5230\u66f4\u5927\u91cf\u7684\u6837\u672c\u6765\u5e2e\u6211\u5145\u5206\u6d4b\u8bd5\uff0c\u6211\u8fd9\u91cc\u6709\u4e09\u5343\u4e07\u7684\u804a\u5929\u8bed\u6599\u53ef\u4ee5\u4f7f\u7528\uff0c\u6b22\u8fce\u5927\u5bb6\u5c1d\u8bd5\uff0c\u83b7\u53d6\u65b9\u5f0f\u8bf7\u89c1\u300a\u81ea\u5df1\u52a8\u624b\u505a\u804a\u5929\u673a\u5668\u4eba \u4e8c\u5341\u4e5d-\u91cd\u78c5\uff1a\u8fd11GB\u7684\u4e09\u5343\u4e07\u804a\u5929\u8bed\u6599\u4f9b\u51fa\u300b\u3002\n\n\n\u4f18\u5316\u65b9\u6848\n\n\n\u9996\u5148\u6211\u4eec\u628a\u5168\u91cf\u52a0\u8f7d\u6837\u672c\u6539\u6210\u6279\u91cf\u52a0\u8f7d\uff0c\u4fee\u6539\u539f\u6765\u7684train()\u51fd\u6570\uff0c\u6838\u5fc3\u90e8\u5206\u5982\u4e0b\uff1a\n\n\n 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n# \u8bad\u7ec3\u5f88\u591a\u6b21\u8fed\u4ee3\uff0c\u6bcf\u969410\u6b21\u6253\u5370\u4e00\u6b21loss\uff0c\u53ef\u4ee5\u770b\u60c5\u51b5\u76f4\u63a5ctrl+c\u505c\u6b62\n\n\nprevious_losses\n \n=\n \n[]\n\n\nfor\n \nstep\n \nin\n \nxrange\n(\n20000\n):\n\n    \nsample_encoder_inputs\n,\n \nsample_decoder_inputs\n,\n \nsample_target_weights\n \n=\n \nget_samples\n(\ntrain_set\n,\n \n1000\n)\n\n    \ninput_feed\n \n=\n \n{}\n\n    \nfor\n \nl\n \nin\n \nxrange\n(\ninput_seq_len\n):\n\n        \ninput_feed\n[\nencoder_inputs\n[\nl\n]\n.\nname\n]\n \n=\n \nsample_encoder_inputs\n[\nl\n]\n\n    \nfor\n \nl\n \nin\n \nxrange\n(\noutput_seq_len\n):\n\n        \ninput_feed\n[\ndecoder_inputs\n[\nl\n]\n.\nname\n]\n \n=\n \nsample_decoder_inputs\n[\nl\n]\n\n        \ninput_feed\n[\ntarget_weights\n[\nl\n]\n.\nname\n]\n \n=\n \nsample_target_weights\n[\nl\n]\n\n    \ninput_feed\n[\ndecoder_inputs\n[\noutput_seq_len\n]\n.\nname\n]\n \n=\n \nnp\n.\nzeros\n([\nlen\n(\nsample_decoder_inputs\n[\n0\n])],\n \ndtype\n=\nnp\n.\nint32\n)\n\n    \n[\nloss_ret\n,\n \n_\n]\n \n=\n \nsess\n.\nrun\n([\nloss\n,\n \nupdate\n],\n \ninput_feed\n)\n\n    \nif\n \nstep\n \n%\n \n10\n \n==\n \n0\n:\n\n        \nprint\n \nstep=\n,\n \nstep\n,\n \nloss=\n,\n \nloss_ret\n,\n \nlearning_rate=\n,\n \nlearning_rate\n.\neval\n()\n\n\n        \nif\n \nlen\n(\nprevious_losses\n)\n \n \n5\n \nand\n \nloss_ret\n \n \nmax\n(\nprevious_losses\n[\n-\n5\n:]):\n\n            \nsess\n.\nrun\n(\nlearning_rate_decay_op\n)\n\n        \nprevious_losses\n.\nappend\n(\nloss_ret\n)\n\n\n        \n# \u6a21\u578b\u6301\u4e45\u5316\n\n        \nsaver\n.\nsave\n(\nsess\n,\n \n./model/demo\n)\n\n\n\n\n\n\n\n\u8fd9\u91cc\u7684get_samples(train_set, 1000)\u662f\u6279\u91cf\u83b7\u53d6\u6837\u672c\uff0c\u5176\u4e2d1000\u662f\u6bcf\u6b21\u83b7\u53d6\u7684\u6837\u672c\u91cf\uff0c\u8fd9\u4e2a\u51fd\u6570\u589e\u52a0\u4e86\u5982\u4e0b\u903b\u8f91\uff1a\n\n\n1\n2\n3\n4\n5\n6\n7\n8\nif\n \nbatch_num\n \n=\n \nlen\n(\ntrain_set\n):\n\n    \nbatch_train_set\n \n=\n \ntrain_set\n\n\nelse\n:\n\n    \nrandom_start\n \n=\n \nrandom\n.\nrandint\n(\n0\n,\n \nlen\n(\ntrain_set\n)\n-\nbatch_num\n)\n\n    \nbatch_train_set\n \n=\n \ntrain_set\n[\nrandom_start\n:\nrandom_start\n+\nbatch_num\n]\n\n\nfor\n \nsample\n \nin\n \nbatch_train_set\n:\n\n    \nraw_encoder_input\n.\nappend\n([\nPAD_ID\n]\n \n*\n \n(\ninput_seq_len\n \n-\n \nlen\n(\nsample\n[\n0\n]))\n \n+\n \nsample\n[\n0\n])\n\n    \nraw_decoder_input\n.\nappend\n([\nGO_ID\n]\n \n+\n \nsample\n[\n1\n]\n \n+\n \n[\nPAD_ID\n]\n \n*\n \n(\noutput_seq_len\n \n-\n \nlen\n(\nsample\n[\n1\n])\n \n-\n \n1\n))\n\n\n\n\n\n\n\n\u4e5f\u5c31\u662f\u8bf4\u6bcf\u6b21\u90fd\u5728\u5168\u91cf\u6837\u672c\u4e2d\u968f\u673a\u4f4d\u7f6e\u62bd\u53d6\u8fde\u7eed\u76841000\u6761\u6837\u672c\n\n\n\u53e6\u5916\uff0c\u5728\u52a0\u8f7d\u6837\u672c\u8bcd\u8868\u65f6\u505a\u4e86\u8bcd\u7684\u6700\u5c0f\u9891\u7387\u7684\u9650\u5236\uff0c\u5982\u4e0b\uff1a\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\ndef\n \nload_file_list\n(\nself\n,\n \nfile_list\n,\n \nmin_freq\n):\n\n\n......\n\n    \nfor\n \nindex\n,\n \nitem\n \nin\n \nenumerate\n(\nsorted_list\n):\n\n        \nword\n \n=\n \nitem\n[\n1\n]\n\n        \nif\n \nitem\n[\n0\n]\n \n \nmin_freq\n:\n\n            \nbreak\n\n        \nself\n.\nword2id_dict\n[\nword\n]\n \n=\n \nself\n.\nSTART_ID\n \n+\n \nindex\n\n        \nself\n.\nid2word_dict\n[\nself\n.\nSTART_ID\n \n+\n \nindex\n]\n \n=\n \nword\n\n    \nreturn\n \nindex\n\n\n\n\n\n\n\n\u8bd5\u9a8c\u6548\u679c\n\n\n\u7ecf\u8fc7\u5982\u4e0a\u6539\u9020\uff0c\u6211\u628a\u6837\u672c\u91cf\u6269\u5c55\u523021w\uff0c\u8fd0\u884c\u8d77\u6765\u5185\u5b58\u5360\u7528\u4e0d\u52301G\uff0c\u6700\u65b0\u7684\u4ee3\u7801\u8bf7\u89c1\n\u6700\u65b0\u66f4\u65b0\n\u7684\uff1a", 
            "title": "\u56db\u5341\u4e09-\u4ece\u7406\u8bba\u5230\u5b9e\u8df5\u5f00\u53d1\u804a\u5929\u673a\u5668\u4eba2"
        }, 
        {
            "location": "/43.practice2/#_1", 
            "text": "\u4e0a\u7bc7\u6587\u7ae0\u300a\u81ea\u5df1\u52a8\u624b\u505a\u804a\u5929\u673a\u5668\u4eba \u56db\u5341\u4e8c-(\u91cd\u91cf\u7ea7\u957f\u6587)\u4ece\u7406\u8bba\u5230\u5b9e\u8df5\u5f00\u53d1\u81ea\u5df1\u7684\u804a\u5929\u673a\u5668\u4eba\u300b\u4f7f\u7528\u5e26attention\u7684seq2seq\u6a21\u578b\u5b9e\u73b0\u4e00\u822c\u804a\u5929\u673a\u5668\u4eba\uff0c\u7ecf\u8fc710\u4e2a\u5c0f\u65f6\u5bf91000\u6761\u6837\u672c\u7684\u8bad\u7ec3\uff0c\u8fbe\u5230\u4e86\u6bd4\u8f83\u597d\u7684\u6548\u679c\uff0c\u4ee3\u7801\u5206\u4eab\u5728 \u8fd9\u91cc  \u4f46\u662f\u5b58\u5728\u4e00\u4e2a\u95ee\u9898\uff0c\u5f53\u628a\u6837\u672c\u91cf\u52a0\u5927\u7684\u65f6\u5019\u5185\u5b58\u968f\u4e4b\u589e\u957f\uff0c\u5982\u679c\u6837\u672c\u91cf\u8fbe\u5230\u4e07\u7ea7\u522b\uff0c\u5185\u5b58\u5360\u7528\u5df2\u7ecf\u8fbe\u5230\u4e8610G\uff0c\u6837\u672c\u91cf\u5982\u679c\u5230\u51e0\u5341\u4e07\u51e0\u767e\u4e07\uff0c\u5185\u5b58\u5df2\u7ecf\u4e0d\u77e5\u9053\u80fd\u5230\u591a\u5c11\u4e86\uff0c\u8fd9\u4e2a\u4e3b\u8981\u95ee\u9898\u662f\u6bcf\u6b21\u8fed\u4ee3\u90fd\u662f\u628a\u6837\u672c\u5168\u91cf\u52a0\u8f7d\u5230\u5185\u5b58\u5e76\u4e00\u6b21\u6027\u8bad\u7ec3\u5b8c\u518d\u66f4\u65b0\u6a21\u578b\uff0c\u53e6\u5916\u8fd8\u6709\u4e00\u4e2a\u95ee\u9898\u5c31\u662f\u8bcd\u8868\u662f\u57fa\u4e8e\u6837\u672c\u751f\u6210\u7684\uff0c\u6ca1\u6709\u505a\u4efb\u4f55\u9650\u5236\uff0c\u5bfc\u81f4\u6837\u672c\u5927\u8bcd\u8868\u5c31\u5927\uff0c\u90a3\u4e48\u6a21\u578b\u5c31\u5f88\u5927\uff0c\u6240\u4ee5\u5360\u636e\u5185\u5b58\u4e5f\u66f4\u5927\uff0c\u6240\u4ee5\u6211\u505a\u4e86\u4e00\u7248\u4f18\u5316\uff0c\u5728\u81ea\u5df1\u673a\u5668\u4e0a\u5c1d\u8bd5\u8bad\u7ec320w\u7684\u6837\u672c\u5185\u5b58\u5360\u7528\u4e0d\u52301G\uff0c\u5e0c\u671b\u5927\u5bb6\u80fd\u627e\u5230\u66f4\u5927\u91cf\u7684\u6837\u672c\u6765\u5e2e\u6211\u5145\u5206\u6d4b\u8bd5\uff0c\u6211\u8fd9\u91cc\u6709\u4e09\u5343\u4e07\u7684\u804a\u5929\u8bed\u6599\u53ef\u4ee5\u4f7f\u7528\uff0c\u6b22\u8fce\u5927\u5bb6\u5c1d\u8bd5\uff0c\u83b7\u53d6\u65b9\u5f0f\u8bf7\u89c1\u300a\u81ea\u5df1\u52a8\u624b\u505a\u804a\u5929\u673a\u5668\u4eba \u4e8c\u5341\u4e5d-\u91cd\u78c5\uff1a\u8fd11GB\u7684\u4e09\u5343\u4e07\u804a\u5929\u8bed\u6599\u4f9b\u51fa\u300b\u3002", 
            "title": "\u4e0a\u7bc7\u56de\u987e"
        }, 
        {
            "location": "/43.practice2/#_2", 
            "text": "\u9996\u5148\u6211\u4eec\u628a\u5168\u91cf\u52a0\u8f7d\u6837\u672c\u6539\u6210\u6279\u91cf\u52a0\u8f7d\uff0c\u4fee\u6539\u539f\u6765\u7684train()\u51fd\u6570\uff0c\u6838\u5fc3\u90e8\u5206\u5982\u4e0b\uff1a   1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21 # \u8bad\u7ec3\u5f88\u591a\u6b21\u8fed\u4ee3\uff0c\u6bcf\u969410\u6b21\u6253\u5370\u4e00\u6b21loss\uff0c\u53ef\u4ee5\u770b\u60c5\u51b5\u76f4\u63a5ctrl+c\u505c\u6b62  previous_losses   =   []  for   step   in   xrange ( 20000 ): \n     sample_encoder_inputs ,   sample_decoder_inputs ,   sample_target_weights   =   get_samples ( train_set ,   1000 ) \n     input_feed   =   {} \n     for   l   in   xrange ( input_seq_len ): \n         input_feed [ encoder_inputs [ l ] . name ]   =   sample_encoder_inputs [ l ] \n     for   l   in   xrange ( output_seq_len ): \n         input_feed [ decoder_inputs [ l ] . name ]   =   sample_decoder_inputs [ l ] \n         input_feed [ target_weights [ l ] . name ]   =   sample_target_weights [ l ] \n     input_feed [ decoder_inputs [ output_seq_len ] . name ]   =   np . zeros ([ len ( sample_decoder_inputs [ 0 ])],   dtype = np . int32 ) \n     [ loss_ret ,   _ ]   =   sess . run ([ loss ,   update ],   input_feed ) \n     if   step   %   10   ==   0 : \n         print   step= ,   step ,   loss= ,   loss_ret ,   learning_rate= ,   learning_rate . eval () \n\n         if   len ( previous_losses )     5   and   loss_ret     max ( previous_losses [ - 5 :]): \n             sess . run ( learning_rate_decay_op ) \n         previous_losses . append ( loss_ret ) \n\n         # \u6a21\u578b\u6301\u4e45\u5316 \n         saver . save ( sess ,   ./model/demo )    \u8fd9\u91cc\u7684get_samples(train_set, 1000)\u662f\u6279\u91cf\u83b7\u53d6\u6837\u672c\uff0c\u5176\u4e2d1000\u662f\u6bcf\u6b21\u83b7\u53d6\u7684\u6837\u672c\u91cf\uff0c\u8fd9\u4e2a\u51fd\u6570\u589e\u52a0\u4e86\u5982\u4e0b\u903b\u8f91\uff1a  1\n2\n3\n4\n5\n6\n7\n8 if   batch_num   =   len ( train_set ): \n     batch_train_set   =   train_set  else : \n     random_start   =   random . randint ( 0 ,   len ( train_set ) - batch_num ) \n     batch_train_set   =   train_set [ random_start : random_start + batch_num ]  for   sample   in   batch_train_set : \n     raw_encoder_input . append ([ PAD_ID ]   *   ( input_seq_len   -   len ( sample [ 0 ]))   +   sample [ 0 ]) \n     raw_decoder_input . append ([ GO_ID ]   +   sample [ 1 ]   +   [ PAD_ID ]   *   ( output_seq_len   -   len ( sample [ 1 ])   -   1 ))    \u4e5f\u5c31\u662f\u8bf4\u6bcf\u6b21\u90fd\u5728\u5168\u91cf\u6837\u672c\u4e2d\u968f\u673a\u4f4d\u7f6e\u62bd\u53d6\u8fde\u7eed\u76841000\u6761\u6837\u672c  \u53e6\u5916\uff0c\u5728\u52a0\u8f7d\u6837\u672c\u8bcd\u8868\u65f6\u505a\u4e86\u8bcd\u7684\u6700\u5c0f\u9891\u7387\u7684\u9650\u5236\uff0c\u5982\u4e0b\uff1a  1\n2\n3\n4\n5\n6\n7\n8\n9 def   load_file_list ( self ,   file_list ,   min_freq ):  ...... \n     for   index ,   item   in   enumerate ( sorted_list ): \n         word   =   item [ 1 ] \n         if   item [ 0 ]     min_freq : \n             break \n         self . word2id_dict [ word ]   =   self . START_ID   +   index \n         self . id2word_dict [ self . START_ID   +   index ]   =   word \n     return   index", 
            "title": "\u4f18\u5316\u65b9\u6848"
        }, 
        {
            "location": "/43.practice2/#_3", 
            "text": "\u7ecf\u8fc7\u5982\u4e0a\u6539\u9020\uff0c\u6211\u628a\u6837\u672c\u91cf\u6269\u5c55\u523021w\uff0c\u8fd0\u884c\u8d77\u6765\u5185\u5b58\u5360\u7528\u4e0d\u52301G\uff0c\u6700\u65b0\u7684\u4ee3\u7801\u8bf7\u89c1 \u6700\u65b0\u66f4\u65b0 \u7684\uff1a", 
            "title": "\u8bd5\u9a8c\u6548\u679c"
        }
    ]
}